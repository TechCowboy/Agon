Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED11-Dec-22     17:27:14     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\game.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "sokobanlevel",1207
                           A     9    .DEFINE "xpos"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "ypos"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "width"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "height"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "goals"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "goalstaken"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "crates"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "data"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .DIM 30
                           A    48    .DIM 40
                           A    49    .TYPE 876
                           A    50    .ENDEF
                           A    51    .ENDREC "sokobanlevel"
                           A    52    .BEGREC "NONAME0",2
                           A    53    .DEFINE "ch"
                           A    54    .VALUE 0
                           A    55    .CLASS 8
                           A    56    .TYPE 2
                           A    57    .ENDEF
                           A    58    .DEFINE "tile_id"
                           A    59    .VALUE 1
                           A    60    .CLASS 8
                           A    61    .TYPE 12
                           A    62    .ENDEF
                           A    63    .ENDREC "NONAME0"
                           A    64    .BEGREC "fmt_type",19
                           A    65    .DEFINE "status"
                           A    66    .VALUE 0
                           A    67    .CLASS 8
                           A    68    .TYPE 12
                           A    69    .ENDEF
                           A    70    .DEFINE "flags"
                           A    71    .VALUE 1
                           A    72    .CLASS 8
                           A    73    .TYPE 12
                           A    74    .ENDEF
                           A    75    .DEFINE "size"
                           A    76    .VALUE 2
                           A    77    .CLASS 8
                           A    78    .TYPE 2
                           A    79    .ENDEF
                           A    80    .DEFINE "chr"
                           A    81    .VALUE 3
                           A    82    .CLASS 8
                           A    83    .TYPE 2
                           A    84    .ENDEF
                           A    85    .DEFINE "type"
                           A    86    .VALUE 4
                           A    87    .CLASS 8
                           A    88    .TYPE 2
                           A    89    .ENDEF
                           A    90    .DEFINE "field_width"
                           A    91    .VALUE 5
                           A    92    .CLASS 8
                           A    93    .TYPE 2
                           A    94    .ENDEF
                           A    95    .DEFINE "precision"
                           A    96    .VALUE 6
                           A    97    .CLASS 8
                           A    98    .TYPE 2
                           A    99    .ENDEF
                           A   100    .DEFINE "set_begin"
                           A   101    .VALUE 7
                           A   102    .CLASS 8
                           A   103    .TYPE 34
                           A   104    .ENDEF
                           A   105    .DEFINE "set_end"
                           A   106    .VALUE 10
                           A   107    .CLASS 8
                           A   108    .TYPE 34
                           A   109    .ENDEF
                           A   110    .DEFINE "pad_whole"
                           A   111    .VALUE 13
                           A   112    .CLASS 8
                           A   113    .TYPE 12
                           A   114    .ENDEF
                           A   115    .DEFINE "pad_pre_fract"
                           A   116    .VALUE 14
                           A   117    .CLASS 8
                           A   118    .TYPE 12
                           A   119    .ENDEF
                           A   120    .DEFINE "pad_post_fract"
                           A   121    .VALUE 15
                           A   122    .CLASS 8
                           A   123    .TYPE 12
                           A   124    .ENDEF
                           A   125    .DEFINE "pad_at"
                           A   126    .VALUE 16
                           A   127    .CLASS 8
                           A   128    .TYPE 34
                           A   129    .ENDEF
                           A   130    .ENDREC "fmt_type"
                           A   131    .BEGREC "flt_info",12
                           A   132    .DEFINE "flags"
                           A   133    .VALUE 0
                           A   134    .CLASS 8
                           A   135    .TYPE 12
                           A   136    .ENDEF
                           A   137    .DEFINE "exp"
                           A   138    .VALUE 1
                           A   139    .CLASS 8
                           A   140    .TYPE 2
                           A   141    .ENDEF
                           A   142    .DEFINE "digits"
                           A   143    .VALUE 2
                           A   144    .CLASS 8
                           A   145    .DIM 10
                           A   146    .TYPE 108
                           A   147    .ENDEF
                           A   148    .ENDREC "flt_info"
                           A   149    ;    1	#include "game.h"
                           A   150    ;    2	#include "sokobanprep.h"
                           A   151    ;    3	#include "vdp.h"
                           A   152    ;    4	#include <ctype.h>
                           A   153    ;    5	#include <stdio.h>
                           A   154    ;    6	#include <string.h>
                           A   155    ;    7	
                           A   156    ;    8	struct undoitem
                           A   157    ;    9	{
                           A   158    ;   10		UINT8 movekey;	// the key pressed 
                           A   159    ;   11		BOOL  pushed;	// an item was push
                           A   160    ;   12	};
                           A   161    .BEGREC "undoitem",2
                           A   162    .DEFINE "movekey"
                           A   163    .VALUE 0
                           A   164    .CLASS 8
                           A   165    .TYPE 12
                           A   166    .ENDEF
                           A   167    .DEFINE "pushed"
                           A   168    .VALUE 1
                           A   169    .CLASS 8
                           A   170    .TYPE 12
                           A   171    .ENDEF
                           A   172    .ENDREC "undoitem"
                           A   173    	SEGMENT BSS
044EC8                     A   174    _undomove:
044EC8                     A   175    	DS	2
                           A   176    .DEFINE "undomove"
                           A   177    .ALIAS "_undomove"
                           A   178    .CLASS 83
                           A   179    .VALUE _undomove
                           A   180    .TAG "undoitem"
                           A   181    .TYPE 8
                           A   182    .ENDEF
044ECA                     A   183    _num_undomoves:
044ECA                     A   184    	DS	1
                           A   185    .DEFINE "num_undomoves"
                           A   186    .ALIAS "_num_undomoves"
                           A   187    .CLASS 83
                           A   188    .VALUE _num_undomoves
                           A   189    .TYPE 12
                           A   190    .ENDEF
044ECB                     A   191    _bitmapbuffer:
044ECB                     A   192    	DS	1024
                           A   193    .DEFINE "bitmapbuffer"
                           A   194    .ALIAS "_bitmapbuffer"
                           A   195    .CLASS 83
                           A   196    .VALUE _bitmapbuffer
                           A   197    .DIM 256
                           A   198    .TYPE 111
                           A   199    .ENDEF
0452CB                     A   200    _sprites:
0452CB                     A   201    	DS	1200
                           A   202    .DEFINE "sprites"
                           A   203    .ALIAS "_sprites"
                           A   204    .CLASS 83
                           A   205    .VALUE _sprites
                           A   206    .DIM 30
                           A   207    .DIM 40
                           A   208    .TYPE 876
                           A   209    .ENDEF
04577B                     A   210    _currentlevel:
04577B                     A   211    	DS	1207
                           A   212    .DEFINE "currentlevel"
                           A   213    .ALIAS "_currentlevel"
                           A   214    .CLASS 83
                           A   215    .VALUE _currentlevel
                           A   216    .TAG "sokobanlevel"
                           A   217    .TYPE 8
                           A   218    .ENDEF
045C32                     A   219    _spritenumber:
045C32                     A   220    	DS	1
                           A   221    .DEFINE "spritenumber"
                           A   222    .ALIAS "_spritenumber"
                           A   223    .CLASS 83
                           A   224    .VALUE _spritenumber
                           A   225    .TYPE 12
                           A   226    .ENDEF
                           A   227    	SEGMENT DATA
04323C                     A   228    _wall_data:
04323C 808000FF            A   229    	DL	-16744320
043240 808000FF            A   230    	DL	-16744320
043244 808000FF            A   231    	DL	-16744320
043248 808000FF            A   232    	DL	-16744320
04324C 808000FF            A   233    	DL	-16744320
043250 808000FF            A   234    	DL	-16744320
043254 808000FF            A   235    	DL	-16744320
043258 404040FF            A   236    	DL	-12566464
04325C 808000FF            A   237    	DL	-16744320
043260 808000FF            A   238    	DL	-16744320
043264 808000FF            A   239    	DL	-16744320
043268 808000FF            A   240    	DL	-16744320
04326C 808000FF            A   241    	DL	-16744320
043270 808000FF            A   242    	DL	-16744320
043274 808000FF            A   243    	DL	-16744320
043278 808000FF            A   244    	DL	-16744320
04327C 800000FF            A   245    	DL	-16777088
043280 800000FF            A   246    	DL	-16777088
043284 800000FF            A   247    	DL	-16777088
043288 800000FF            A   248    	DL	-16777088
04328C 800000FF            A   249    	DL	-16777088
043290 800000FF            A   250    	DL	-16777088
043294 808080FF            A   251    	DL	-8355712
043298 404040FF            A   252    	DL	-12566464
04329C 808000FF            A   253    	DL	-16744320
0432A0 800000FF            A   254    	DL	-16777088
0432A4 800000FF            A   255    	DL	-16777088
0432A8 800000FF            A   256    	DL	-16777088
0432AC 800000FF            A   257    	DL	-16777088
0432B0 800000FF            A   258    	DL	-16777088
0432B4 800000FF            A   259    	DL	-16777088
0432B8 800000FF            A   260    	DL	-16777088
0432BC 800000FF            A   261    	DL	-16777088
0432C0 800000FF            A   262    	DL	-16777088
0432C4 800000FF            A   263    	DL	-16777088
0432C8 800000FF            A   264    	DL	-16777088
0432CC 800000FF            A   265    	DL	-16777088
0432D0 800000FF            A   266    	DL	-16777088
0432D4 808080FF            A   267    	DL	-8355712
0432D8 404040FF            A   268    	DL	-12566464
0432DC 808000FF            A   269    	DL	-16744320
0432E0 800000FF            A   270    	DL	-16777088
0432E4 808080FF            A   271    	DL	-8355712
0432E8 800000FF            A   272    	DL	-16777088
0432EC 800000FF            A   273    	DL	-16777088
0432F0 800000FF            A   274    	DL	-16777088
0432F4 800000FF            A   275    	DL	-16777088
0432F8 800000FF            A   276    	DL	-16777088
0432FC 800000FF            A   277    	DL	-16777088
043300 800000FF            A   278    	DL	-16777088
043304 808080FF            A   279    	DL	-8355712
043308 808080FF            A   280    	DL	-8355712
04330C 800000FF            A   281    	DL	-16777088
043310 800000FF            A   282    	DL	-16777088
043314 808080FF            A   283    	DL	-8355712
043318 404040FF            A   284    	DL	-12566464
04331C 808000FF            A   285    	DL	-16744320
043320 800000FF            A   286    	DL	-16777088
043324 800000FF            A   287    	DL	-16777088
043328 800000FF            A   288    	DL	-16777088
04332C 800000FF            A   289    	DL	-16777088
043330 800000FF            A   290    	DL	-16777088
043334 800000FF            A   291    	DL	-16777088
043338 800000FF            A   292    	DL	-16777088
04333C 800000FF            A   293    	DL	-16777088
043340 800000FF            A   294    	DL	-16777088
043344 800000FF            A   295    	DL	-16777088
043348 800000FF            A   296    	DL	-16777088
04334C 800000FF            A   297    	DL	-16777088
043350 800000FF            A   298    	DL	-16777088
043354 808080FF            A   299    	DL	-8355712
043358 404040FF            A   300    	DL	-12566464
04335C 808000FF            A   301    	DL	-16744320
043360 800000FF            A   302    	DL	-16777088
043364 800000FF            A   303    	DL	-16777088
043368 800000FF            A   304    	DL	-16777088
04336C 800000FF            A   305    	DL	-16777088
043370 800000FF            A   306    	DL	-16777088
043374 800000FF            A   307    	DL	-16777088
043378 800000FF            A   308    	DL	-16777088
04337C 800000FF            A   309    	DL	-16777088
043380 800000FF            A   310    	DL	-16777088
043384 800000FF            A   311    	DL	-16777088
043388 800000FF            A   312    	DL	-16777088
04338C 800000FF            A   313    	DL	-16777088
043390 800000FF            A   314    	DL	-16777088
043394 808080FF            A   315    	DL	-8355712
043398 404040FF            A   316    	DL	-12566464
04339C 808000FF            A   317    	DL	-16744320
0433A0 800000FF            A   318    	DL	-16777088
0433A4 800000FF            A   319    	DL	-16777088
0433A8 800000FF            A   320    	DL	-16777088
0433AC 800000FF            A   321    	DL	-16777088
0433B0 808080FF            A   322    	DL	-8355712
0433B4 808080FF            A   323    	DL	-8355712
0433B8 800000FF            A   324    	DL	-16777088
0433BC 808080FF            A   325    	DL	-8355712
0433C0 808080FF            A   326    	DL	-8355712
0433C4 808080FF            A   327    	DL	-8355712
0433C8 808080FF            A   328    	DL	-8355712
0433CC 808080FF            A   329    	DL	-8355712
0433D0 808080FF            A   330    	DL	-8355712
0433D4 808080FF            A   331    	DL	-8355712
0433D8 404040FF            A   332    	DL	-12566464
0433DC 808000FF            A   333    	DL	-16744320
0433E0 808080FF            A   334    	DL	-8355712
0433E4 808080FF            A   335    	DL	-8355712
0433E8 808080FF            A   336    	DL	-8355712
0433EC 808080FF            A   337    	DL	-8355712
0433F0 808080FF            A   338    	DL	-8355712
0433F4 808080FF            A   339    	DL	-8355712
0433F8 808080FF            A   340    	DL	-8355712
0433FC 404040FF            A   341    	DL	-12566464
043400 404040FF            A   342    	DL	-12566464
043404 404040FF            A   343    	DL	-12566464
043408 404040FF            A   344    	DL	-12566464
04340C 404040FF            A   345    	DL	-12566464
043410 404040FF            A   346    	DL	-12566464
043414 404040FF            A   347    	DL	-12566464
043418 404040FF            A   348    	DL	-12566464
04341C 404040FF            A   349    	DL	-12566464
043420 404040FF            A   350    	DL	-12566464
043424 404040FF            A   351    	DL	-12566464
043428 404040FF            A   352    	DL	-12566464
04342C 404040FF            A   353    	DL	-12566464
043430 404040FF            A   354    	DL	-12566464
043434 404040FF            A   355    	DL	-12566464
043438 404040FF            A   356    	DL	-12566464
04343C 404040FF            A   357    	DL	-12566464
043440 808000FF            A   358    	DL	-16744320
043444 808000FF            A   359    	DL	-16744320
043448 808000FF            A   360    	DL	-16744320
04344C 808000FF            A   361    	DL	-16744320
043450 808000FF            A   362    	DL	-16744320
043454 808000FF            A   363    	DL	-16744320
043458 808000FF            A   364    	DL	-16744320
04345C 808000FF            A   365    	DL	-16744320
043460 808000FF            A   366    	DL	-16744320
043464 808000FF            A   367    	DL	-16744320
043468 808000FF            A   368    	DL	-16744320
04346C 808000FF            A   369    	DL	-16744320
043470 808000FF            A   370    	DL	-16744320
043474 808000FF            A   371    	DL	-16744320
043478 808000FF            A   372    	DL	-16744320
04347C 404040FF            A   373    	DL	-12566464
043480 808000FF            A   374    	DL	-16744320
043484 808000FF            A   375    	DL	-16744320
043488 800000FF            A   376    	DL	-16777088
04348C 808080FF            A   377    	DL	-8355712
043490 808080FF            A   378    	DL	-8355712
043494 800000FF            A   379    	DL	-16777088
043498 800000FF            A   380    	DL	-16777088
04349C 800000FF            A   381    	DL	-16777088
0434A0 800000FF            A   382    	DL	-16777088
0434A4 800000FF            A   383    	DL	-16777088
0434A8 800000FF            A   384    	DL	-16777088
0434AC 800000FF            A   385    	DL	-16777088
0434B0 800000FF            A   386    	DL	-16777088
0434B4 800000FF            A   387    	DL	-16777088
0434B8 808080FF            A   388    	DL	-8355712
0434BC 404040FF            A   389    	DL	-12566464
0434C0 808000FF            A   390    	DL	-16744320
0434C4 800000FF            A   391    	DL	-16777088
0434C8 800000FF            A   392    	DL	-16777088
0434CC 800000FF            A   393    	DL	-16777088
0434D0 800000FF            A   394    	DL	-16777088
0434D4 800000FF            A   395    	DL	-16777088
0434D8 800000FF            A   396    	DL	-16777088
0434DC 800000FF            A   397    	DL	-16777088
0434E0 800000FF            A   398    	DL	-16777088
0434E4 800000FF            A   399    	DL	-16777088
0434E8 800000FF            A   400    	DL	-16777088
0434EC 800000FF            A   401    	DL	-16777088
0434F0 800000FF            A   402    	DL	-16777088
0434F4 800000FF            A   403    	DL	-16777088
0434F8 808080FF            A   404    	DL	-8355712
0434FC 404040FF            A   405    	DL	-12566464
043500 808000FF            A   406    	DL	-16744320
043504 800000FF            A   407    	DL	-16777088
043508 800000FF            A   408    	DL	-16777088
04350C 800000FF            A   409    	DL	-16777088
043510 800000FF            A   410    	DL	-16777088
043514 808080FF            A   411    	DL	-8355712
043518 808080FF            A   412    	DL	-8355712
04351C 800000FF            A   413    	DL	-16777088
043520 800000FF            A   414    	DL	-16777088
043524 800000FF            A   415    	DL	-16777088
043528 800000FF            A   416    	DL	-16777088
04352C 800000FF            A   417    	DL	-16777088
043530 800000FF            A   418    	DL	-16777088
043534 800000FF            A   419    	DL	-16777088
043538 808080FF            A   420    	DL	-8355712
04353C 404040FF            A   421    	DL	-12566464
043540 808000FF            A   422    	DL	-16744320
043544 800000FF            A   423    	DL	-16777088
043548 800000FF            A   424    	DL	-16777088
04354C 800000FF            A   425    	DL	-16777088
043550 800000FF            A   426    	DL	-16777088
043554 800000FF            A   427    	DL	-16777088
043558 800000FF            A   428    	DL	-16777088
04355C 800000FF            A   429    	DL	-16777088
043560 800000FF            A   430    	DL	-16777088
043564 800000FF            A   431    	DL	-16777088
043568 800000FF            A   432    	DL	-16777088
04356C 800000FF            A   433    	DL	-16777088
043570 808080FF            A   434    	DL	-8355712
043574 800000FF            A   435    	DL	-16777088
043578 808080FF            A   436    	DL	-8355712
04357C 404040FF            A   437    	DL	-12566464
043580 808000FF            A   438    	DL	-16744320
043584 800000FF            A   439    	DL	-16777088
043588 800000FF            A   440    	DL	-16777088
04358C 800000FF            A   441    	DL	-16777088
043590 800000FF            A   442    	DL	-16777088
043594 800000FF            A   443    	DL	-16777088
043598 800000FF            A   444    	DL	-16777088
04359C 800000FF            A   445    	DL	-16777088
0435A0 800000FF            A   446    	DL	-16777088
0435A4 800000FF            A   447    	DL	-16777088
0435A8 800000FF            A   448    	DL	-16777088
0435AC 800000FF            A   449    	DL	-16777088
0435B0 800000FF            A   450    	DL	-16777088
0435B4 800000FF            A   451    	DL	-16777088
0435B8 808080FF            A   452    	DL	-8355712
0435BC 404040FF            A   453    	DL	-12566464
0435C0 808000FF            A   454    	DL	-16744320
0435C4 808080FF            A   455    	DL	-8355712
0435C8 808080FF            A   456    	DL	-8355712
0435CC 808080FF            A   457    	DL	-8355712
0435D0 808080FF            A   458    	DL	-8355712
0435D4 808080FF            A   459    	DL	-8355712
0435D8 808080FF            A   460    	DL	-8355712
0435DC 808080FF            A   461    	DL	-8355712
0435E0 808080FF            A   462    	DL	-8355712
0435E4 808080FF            A   463    	DL	-8355712
0435E8 808080FF            A   464    	DL	-8355712
0435EC 808080FF            A   465    	DL	-8355712
0435F0 808080FF            A   466    	DL	-8355712
0435F4 808080FF            A   467    	DL	-8355712
0435F8 808080FF            A   468    	DL	-8355712
0435FC 404040FF            A   469    	DL	-12566464
043600 404040FF            A   470    	DL	-12566464
043604 404040FF            A   471    	DL	-12566464
043608 404040FF            A   472    	DL	-12566464
04360C 404040FF            A   473    	DL	-12566464
043610 404040FF            A   474    	DL	-12566464
043614 404040FF            A   475    	DL	-12566464
043618 404040FF            A   476    	DL	-12566464
04361C 404040FF            A   477    	DL	-12566464
043620 404040FF            A   478    	DL	-12566464
043624 404040FF            A   479    	DL	-12566464
043628 404040FF            A   480    	DL	-12566464
04362C 404040FF            A   481    	DL	-12566464
043630 404040FF            A   482    	DL	-12566464
043634 404040FF            A   483    	DL	-12566464
043638 404040FF            A   484    	DL	-12566464
                           A   485    .DEFINE "wall_data"
                           A   486    .ALIAS "_wall_data"
                           A   487    .CLASS 69
                           A   488    .VALUE _wall_data
                           A   489    .DIM 1
                           A   490    .DIM 256
                           A   491    .TYPE 879
                           A   492    .ENDEF
04363C                     A   493    _player_data:
04363C 00000000            A   494    	DL	0
043640 00000000            A   495    	DL	0
043644 00000000            A   496    	DL	0
043648 00000000            A   497    	DL	0
04364C 00000000            A   498    	DL	0
043650 000000FF            A   499    	DL	-16777216
043654 000000FF            A   500    	DL	-16777216
043658 000000FF            A   501    	DL	-16777216
04365C 000000FF            A   502    	DL	-16777216
043660 404040FF            A   503    	DL	-12566464
043664 00000000            A   504    	DL	0
043668 00000000            A   505    	DL	0
04366C 00000000            A   506    	DL	0
043670 00000000            A   507    	DL	0
043674 00000000            A   508    	DL	0
043678 00000000            A   509    	DL	0
04367C 00000000            A   510    	DL	0
043680 00000000            A   511    	DL	0
043684 00000000            A   512    	DL	0
043688 00000000            A   513    	DL	0
04368C 000000FF            A   514    	DL	-16777216
043690 000000FF            A   515    	DL	-16777216
043694 000000FF            A   516    	DL	-16777216
043698 000000FF            A   517    	DL	-16777216
04369C 000000FF            A   518    	DL	-16777216
0436A0 000000FF            A   519    	DL	-16777216
0436A4 000000FF            A   520    	DL	-16777216
0436A8 00000000            A   521    	DL	0
0436AC 00000000            A   522    	DL	0
0436B0 00000000            A   523    	DL	0
0436B4 00000000            A   524    	DL	0
0436B8 00000000            A   525    	DL	0
0436BC 00000000            A   526    	DL	0
0436C0 00000000            A   527    	DL	0
0436C4 00000000            A   528    	DL	0
0436C8 404040FF            A   529    	DL	-12566464
0436CC 000000FF            A   530    	DL	-16777216
0436D0 404040FF            A   531    	DL	-12566464
0436D4 808000FF            A   532    	DL	-16744320
0436D8 808000FF            A   533    	DL	-16744320
0436DC 808000FF            A   534    	DL	-16744320
0436E0 404040FF            A   535    	DL	-12566464
0436E4 000000FF            A   536    	DL	-16777216
0436E8 404040FF            A   537    	DL	-12566464
0436EC 00000000            A   538    	DL	0
0436F0 00000000            A   539    	DL	0
0436F4 00000000            A   540    	DL	0
0436F8 00000000            A   541    	DL	0
0436FC 00000000            A   542    	DL	0
043700 00000000            A   543    	DL	0
043704 00000000            A   544    	DL	0
043708 000000FF            A   545    	DL	-16777216
04370C 404040FF            A   546    	DL	-12566464
043710 808000FF            A   547    	DL	-16744320
043714 808000FF            A   548    	DL	-16744320
043718 808000FF            A   549    	DL	-16744320
04371C 808000FF            A   550    	DL	-16744320
043720 808000FF            A   551    	DL	-16744320
043724 404040FF            A   552    	DL	-12566464
043728 000000FF            A   553    	DL	-16777216
04372C 00000000            A   554    	DL	0
043730 00000000            A   555    	DL	0
043734 00000000            A   556    	DL	0
043738 00000000            A   557    	DL	0
04373C 00000000            A   558    	DL	0
043740 00000000            A   559    	DL	0
043744 00000000            A   560    	DL	0
043748 404040FF            A   561    	DL	-12566464
04374C 808080FF            A   562    	DL	-8355712
043750 000000FF            A   563    	DL	-16777216
043754 000000FF            A   564    	DL	-16777216
043758 808000FF            A   565    	DL	-16744320
04375C 000000FF            A   566    	DL	-16777216
043760 000000FF            A   567    	DL	-16777216
043764 808080FF            A   568    	DL	-8355712
043768 404040FF            A   569    	DL	-12566464
04376C 00000000            A   570    	DL	0
043770 00000000            A   571    	DL	0
043774 00000000            A   572    	DL	0
043778 00000000            A   573    	DL	0
04377C 00000000            A   574    	DL	0
043780 00000000            A   575    	DL	0
043784 00000000            A   576    	DL	0
043788 00000000            A   577    	DL	0
04378C 000000FF            A   578    	DL	-16777216
043790 808000FF            A   579    	DL	-16744320
043794 808000FF            A   580    	DL	-16744320
043798 808000FF            A   581    	DL	-16744320
04379C 808000FF            A   582    	DL	-16744320
0437A0 808000FF            A   583    	DL	-16744320
0437A4 000000FF            A   584    	DL	-16777216
0437A8 00000000            A   585    	DL	0
0437AC 00000000            A   586    	DL	0
0437B0 00000000            A   587    	DL	0
0437B4 00000000            A   588    	DL	0
0437B8 00000000            A   589    	DL	0
0437BC 00000000            A   590    	DL	0
0437C0 00000000            A   591    	DL	0
0437C4 00000000            A   592    	DL	0
0437C8 00000000            A   593    	DL	0
0437CC 00000000            A   594    	DL	0
0437D0 000000FF            A   595    	DL	-16777216
0437D4 808080FF            A   596    	DL	-8355712
0437D8 808080FF            A   597    	DL	-8355712
0437DC 808080FF            A   598    	DL	-8355712
0437E0 000000FF            A   599    	DL	-16777216
0437E4 00000000            A   600    	DL	0
0437E8 00000000            A   601    	DL	0
0437EC 00000000            A   602    	DL	0
0437F0 00000000            A   603    	DL	0
0437F4 00000000            A   604    	DL	0
0437F8 00000000            A   605    	DL	0
0437FC 00000000            A   606    	DL	0
043800 00000000            A   607    	DL	0
043804 00000000            A   608    	DL	0
043808 00000000            A   609    	DL	0
04380C 000000FF            A   610    	DL	-16777216
043810 800000FF            A   611    	DL	-16777088
043814 000000FF            A   612    	DL	-16777216
043818 000000FF            A   613    	DL	-16777216
04381C 000000FF            A   614    	DL	-16777216
043820 800000FF            A   615    	DL	-16777088
043824 000000FF            A   616    	DL	-16777216
043828 00000000            A   617    	DL	0
04382C 00000000            A   618    	DL	0
043830 00000000            A   619    	DL	0
043834 00000000            A   620    	DL	0
043838 00000000            A   621    	DL	0
04383C 00000000            A   622    	DL	0
043840 00000000            A   623    	DL	0
043844 00000000            A   624    	DL	0
043848 000000FF            A   625    	DL	-16777216
04384C 800000FF            A   626    	DL	-16777088
043850 FF0000FF            A   627    	DL	-16776961
043854 FF0000FF            A   628    	DL	-16776961
043858 FF0000FF            A   629    	DL	-16776961
04385C FF0000FF            A   630    	DL	-16776961
043860 FF0000FF            A   631    	DL	-16776961
043864 800000FF            A   632    	DL	-16777088
043868 000000FF            A   633    	DL	-16777216
04386C 00000000            A   634    	DL	0
043870 00000000            A   635    	DL	0
043874 00000000            A   636    	DL	0
043878 00000000            A   637    	DL	0
04387C 00000000            A   638    	DL	0
043880 00000000            A   639    	DL	0
043884 000000FF            A   640    	DL	-16777216
043888 FF0000FF            A   641    	DL	-16776961
04388C FF0000FF            A   642    	DL	-16776961
043890 FF0000FF            A   643    	DL	-16776961
043894 FF0000FF            A   644    	DL	-16776961
043898 FF0000FF            A   645    	DL	-16776961
04389C FF0000FF            A   646    	DL	-16776961
0438A0 FF0000FF            A   647    	DL	-16776961
0438A4 FF0000FF            A   648    	DL	-16776961
0438A8 FF0000FF            A   649    	DL	-16776961
0438AC 000000FF            A   650    	DL	-16777216
0438B0 00000000            A   651    	DL	0
0438B4 00000000            A   652    	DL	0
0438B8 00000000            A   653    	DL	0
0438BC 00000000            A   654    	DL	0
0438C0 00000000            A   655    	DL	0
0438C4 404040FF            A   656    	DL	-12566464
0438C8 800000FF            A   657    	DL	-16777088
0438CC FF0000FF            A   658    	DL	-16776961
0438D0 800000FF            A   659    	DL	-16777088
0438D4 FF0000FF            A   660    	DL	-16776961
0438D8 FF0000FF            A   661    	DL	-16776961
0438DC FF0000FF            A   662    	DL	-16776961
0438E0 800000FF            A   663    	DL	-16777088
0438E4 FF0000FF            A   664    	DL	-16776961
0438E8 800000FF            A   665    	DL	-16777088
0438EC 404040FF            A   666    	DL	-12566464
0438F0 00000000            A   667    	DL	0
0438F4 00000000            A   668    	DL	0
0438F8 00000000            A   669    	DL	0
0438FC 00000000            A   670    	DL	0
043900 000000FF            A   671    	DL	-16777216
043904 808000FF            A   672    	DL	-16744320
043908 808000FF            A   673    	DL	-16744320
04390C 800000FF            A   674    	DL	-16777088
043910 800000FF            A   675    	DL	-16777088
043914 FF0000FF            A   676    	DL	-16776961
043918 FF0000FF            A   677    	DL	-16776961
04391C FF0000FF            A   678    	DL	-16776961
043920 800000FF            A   679    	DL	-16777088
043924 800000FF            A   680    	DL	-16777088
043928 808000FF            A   681    	DL	-16744320
04392C 808000FF            A   682    	DL	-16744320
043930 000000FF            A   683    	DL	-16777216
043934 00000000            A   684    	DL	0
043938 00000000            A   685    	DL	0
04393C 00000000            A   686    	DL	0
043940 000000FF            A   687    	DL	-16777216
043944 808000FF            A   688    	DL	-16744320
043948 808000FF            A   689    	DL	-16744320
04394C 000000FF            A   690    	DL	-16777216
043950 000080FF            A   691    	DL	-8388608
043954 000080FF            A   692    	DL	-8388608
043958 000080FF            A   693    	DL	-8388608
04395C 000080FF            A   694    	DL	-8388608
043960 000080FF            A   695    	DL	-8388608
043964 000000FF            A   696    	DL	-16777216
043968 808000FF            A   697    	DL	-16744320
04396C 808000FF            A   698    	DL	-16744320
043970 000000FF            A   699    	DL	-16777216
043974 00000000            A   700    	DL	0
043978 00000000            A   701    	DL	0
04397C 00000000            A   702    	DL	0
043980 00000000            A   703    	DL	0
043984 000000FF            A   704    	DL	-16777216
043988 000000FF            A   705    	DL	-16777216
04398C 000080FF            A   706    	DL	-8388608
043990 0000FFFF            A   707    	DL	-65536
043994 0000FFFF            A   708    	DL	-65536
043998 0000FFFF            A   709    	DL	-65536
04399C 0000FFFF            A   710    	DL	-65536
0439A0 0000FFFF            A   711    	DL	-65536
0439A4 000080FF            A   712    	DL	-8388608
0439A8 000000FF            A   713    	DL	-16777216
0439AC 000000FF            A   714    	DL	-16777216
0439B0 00000000            A   715    	DL	0
0439B4 00000000            A   716    	DL	0
0439B8 00000000            A   717    	DL	0
0439BC 00000000            A   718    	DL	0
0439C0 00000000            A   719    	DL	0
0439C4 00000000            A   720    	DL	0
0439C8 000000FF            A   721    	DL	-16777216
0439CC 000080FF            A   722    	DL	-8388608
0439D0 0000FFFF            A   723    	DL	-65536
0439D4 0000FFFF            A   724    	DL	-65536
0439D8 000080FF            A   725    	DL	-8388608
0439DC 0000FFFF            A   726    	DL	-65536
0439E0 0000FFFF            A   727    	DL	-65536
0439E4 000080FF            A   728    	DL	-8388608
0439E8 000000FF            A   729    	DL	-16777216
0439EC 00000000            A   730    	DL	0
0439F0 00000000            A   731    	DL	0
0439F4 00000000            A   732    	DL	0
0439F8 00000000            A   733    	DL	0
0439FC 00000000            A   734    	DL	0
043A00 00000000            A   735    	DL	0
043A04 00000000            A   736    	DL	0
043A08 000000FF            A   737    	DL	-16777216
043A0C 0000FFFF            A   738    	DL	-65536
043A10 0000FFFF            A   739    	DL	-65536
043A14 000080FF            A   740    	DL	-8388608
043A18 000000FF            A   741    	DL	-16777216
043A1C 0000FFFF            A   742    	DL	-65536
043A20 0000FFFF            A   743    	DL	-65536
043A24 0000FFFF            A   744    	DL	-65536
043A28 000000FF            A   745    	DL	-16777216
043A2C 00000000            A   746    	DL	0
043A30 00000000            A   747    	DL	0
043A34 00000000            A   748    	DL	0
043A38 00000000            A   749    	DL	0
                           A   750    .DEFINE "player_data"
                           A   751    .ALIAS "_player_data"
                           A   752    .CLASS 69
                           A   753    .VALUE _player_data
                           A   754    .DIM 1
                           A   755    .DIM 256
                           A   756    .TYPE 879
                           A   757    .ENDEF
043A3C                     A   758    _goal_data:
043A3C 00000000            A   759    	DL	0
043A40 00000000            A   760    	DL	0
043A44 00000000            A   761    	DL	0
043A48 00000000            A   762    	DL	0
043A4C 00000000            A   763    	DL	0
043A50 00000000            A   764    	DL	0
043A54 00000000            A   765    	DL	0
043A58 00000000            A   766    	DL	0
043A5C 00000000            A   767    	DL	0
043A60 00000000            A   768    	DL	0
043A64 00000000            A   769    	DL	0
043A68 00000000            A   770    	DL	0
043A6C 00000000            A   771    	DL	0
043A70 00000000            A   772    	DL	0
043A74 00000000            A   773    	DL	0
043A78 00000000            A   774    	DL	0
043A7C 00000000            A   775    	DL	0
043A80 00000000            A   776    	DL	0
043A84 00000000            A   777    	DL	0
043A88 00000000            A   778    	DL	0
043A8C 00000000            A   779    	DL	0
043A90 00000000            A   780    	DL	0
043A94 00000000            A   781    	DL	0
043A98 00000000            A   782    	DL	0
043A9C 00000000            A   783    	DL	0
043AA0 00000000            A   784    	DL	0
043AA4 00000000            A   785    	DL	0
043AA8 00000000            A   786    	DL	0
043AAC 00000000            A   787    	DL	0
043AB0 00000000            A   788    	DL	0
043AB4 00000000            A   789    	DL	0
043AB8 00000000            A   790    	DL	0
043ABC 00000000            A   791    	DL	0
043AC0 00000000            A   792    	DL	0
043AC4 00000000            A   793    	DL	0
043AC8 00000000            A   794    	DL	0
043ACC 00000000            A   795    	DL	0
043AD0 00000000            A   796    	DL	0
043AD4 00000000            A   797    	DL	0
043AD8 00000000            A   798    	DL	0
043ADC 00000000            A   799    	DL	0
043AE0 00000000            A   800    	DL	0
043AE4 00000000            A   801    	DL	0
043AE8 00000000            A   802    	DL	0
043AEC 00000000            A   803    	DL	0
043AF0 00000000            A   804    	DL	0
043AF4 00000000            A   805    	DL	0
043AF8 00000000            A   806    	DL	0
043AFC 00000000            A   807    	DL	0
043B00 00000000            A   808    	DL	0
043B04 00000000            A   809    	DL	0
043B08 00000000            A   810    	DL	0
043B0C 00000000            A   811    	DL	0
043B10 00000000            A   812    	DL	0
043B14 008000FF            A   813    	DL	-16744448
043B18 00000000            A   814    	DL	0
043B1C 00000000            A   815    	DL	0
043B20 008000FF            A   816    	DL	-16744448
043B24 00000000            A   817    	DL	0
043B28 00000000            A   818    	DL	0
043B2C 00000000            A   819    	DL	0
043B30 00000000            A   820    	DL	0
043B34 00000000            A   821    	DL	0
043B38 00000000            A   822    	DL	0
043B3C 00000000            A   823    	DL	0
043B40 00000000            A   824    	DL	0
043B44 00000000            A   825    	DL	0
043B48 00000000            A   826    	DL	0
043B4C 00000000            A   827    	DL	0
043B50 00000000            A   828    	DL	0
043B54 00000000            A   829    	DL	0
043B58 008000FF            A   830    	DL	-16744448
043B5C 008000FF            A   831    	DL	-16744448
043B60 00000000            A   832    	DL	0
043B64 00000000            A   833    	DL	0
043B68 00000000            A   834    	DL	0
043B6C 00000000            A   835    	DL	0
043B70 00000000            A   836    	DL	0
043B74 00000000            A   837    	DL	0
043B78 00000000            A   838    	DL	0
043B7C 00000000            A   839    	DL	0
043B80 00000000            A   840    	DL	0
043B84 00000000            A   841    	DL	0
043B88 00000000            A   842    	DL	0
043B8C 00000000            A   843    	DL	0
043B90 00000000            A   844    	DL	0
043B94 00000000            A   845    	DL	0
043B98 00000000            A   846    	DL	0
043B9C 00000000            A   847    	DL	0
043BA0 00000000            A   848    	DL	0
043BA4 00000000            A   849    	DL	0
043BA8 00000000            A   850    	DL	0
043BAC 00000000            A   851    	DL	0
043BB0 00000000            A   852    	DL	0
043BB4 00000000            A   853    	DL	0
043BB8 00000000            A   854    	DL	0
043BBC 00000000            A   855    	DL	0
043BC0 00000000            A   856    	DL	0
043BC4 00000000            A   857    	DL	0
043BC8 008000FF            A   858    	DL	-16744448
043BCC 00000000            A   859    	DL	0
043BD0 00000000            A   860    	DL	0
043BD4 00000000            A   861    	DL	0
043BD8 00000000            A   862    	DL	0
043BDC 00000000            A   863    	DL	0
043BE0 00000000            A   864    	DL	0
043BE4 00000000            A   865    	DL	0
043BE8 00000000            A   866    	DL	0
043BEC 008000FF            A   867    	DL	-16744448
043BF0 00000000            A   868    	DL	0
043BF4 00000000            A   869    	DL	0
043BF8 00000000            A   870    	DL	0
043BFC 00000000            A   871    	DL	0
043C00 00000000            A   872    	DL	0
043C04 00000000            A   873    	DL	0
043C08 00000000            A   874    	DL	0
043C0C 008000FF            A   875    	DL	-16744448
043C10 00000000            A   876    	DL	0
043C14 00000000            A   877    	DL	0
043C18 00FF00FF            A   878    	DL	-16711936
043C1C 00FF00FF            A   879    	DL	-16711936
043C20 00000000            A   880    	DL	0
043C24 00000000            A   881    	DL	0
043C28 008000FF            A   882    	DL	-16744448
043C2C 00000000            A   883    	DL	0
043C30 00000000            A   884    	DL	0
043C34 00000000            A   885    	DL	0
043C38 00000000            A   886    	DL	0
043C3C 00000000            A   887    	DL	0
043C40 00000000            A   888    	DL	0
043C44 00000000            A   889    	DL	0
043C48 00000000            A   890    	DL	0
043C4C 008000FF            A   891    	DL	-16744448
043C50 00000000            A   892    	DL	0
043C54 00000000            A   893    	DL	0
043C58 00FF00FF            A   894    	DL	-16711936
043C5C 00FF00FF            A   895    	DL	-16711936
043C60 00000000            A   896    	DL	0
043C64 00000000            A   897    	DL	0
043C68 008000FF            A   898    	DL	-16744448
043C6C 00000000            A   899    	DL	0
043C70 00000000            A   900    	DL	0
043C74 00000000            A   901    	DL	0
043C78 00000000            A   902    	DL	0
043C7C 00000000            A   903    	DL	0
043C80 00000000            A   904    	DL	0
043C84 00000000            A   905    	DL	0
043C88 008000FF            A   906    	DL	-16744448
043C8C 00000000            A   907    	DL	0
043C90 00000000            A   908    	DL	0
043C94 00000000            A   909    	DL	0
043C98 00000000            A   910    	DL	0
043C9C 00000000            A   911    	DL	0
043CA0 00000000            A   912    	DL	0
043CA4 00000000            A   913    	DL	0
043CA8 00000000            A   914    	DL	0
043CAC 008000FF            A   915    	DL	-16744448
043CB0 00000000            A   916    	DL	0
043CB4 00000000            A   917    	DL	0
043CB8 00000000            A   918    	DL	0
043CBC 00000000            A   919    	DL	0
043CC0 00000000            A   920    	DL	0
043CC4 00000000            A   921    	DL	0
043CC8 00000000            A   922    	DL	0
043CCC 00000000            A   923    	DL	0
043CD0 00000000            A   924    	DL	0
043CD4 00000000            A   925    	DL	0
043CD8 00000000            A   926    	DL	0
043CDC 00000000            A   927    	DL	0
043CE0 00000000            A   928    	DL	0
043CE4 00000000            A   929    	DL	0
043CE8 00000000            A   930    	DL	0
043CEC 00000000            A   931    	DL	0
043CF0 00000000            A   932    	DL	0
043CF4 00000000            A   933    	DL	0
043CF8 00000000            A   934    	DL	0
043CFC 00000000            A   935    	DL	0
043D00 00000000            A   936    	DL	0
043D04 00000000            A   937    	DL	0
043D08 00000000            A   938    	DL	0
043D0C 00000000            A   939    	DL	0
043D10 00000000            A   940    	DL	0
043D14 00000000            A   941    	DL	0
043D18 008000FF            A   942    	DL	-16744448
043D1C 008000FF            A   943    	DL	-16744448
043D20 00000000            A   944    	DL	0
043D24 00000000            A   945    	DL	0
043D28 00000000            A   946    	DL	0
043D2C 00000000            A   947    	DL	0
043D30 00000000            A   948    	DL	0
043D34 00000000            A   949    	DL	0
043D38 00000000            A   950    	DL	0
043D3C 00000000            A   951    	DL	0
043D40 00000000            A   952    	DL	0
043D44 00000000            A   953    	DL	0
043D48 00000000            A   954    	DL	0
043D4C 00000000            A   955    	DL	0
043D50 00000000            A   956    	DL	0
043D54 008000FF            A   957    	DL	-16744448
043D58 00000000            A   958    	DL	0
043D5C 00000000            A   959    	DL	0
043D60 008000FF            A   960    	DL	-16744448
043D64 00000000            A   961    	DL	0
043D68 00000000            A   962    	DL	0
043D6C 00000000            A   963    	DL	0
043D70 00000000            A   964    	DL	0
043D74 00000000            A   965    	DL	0
043D78 00000000            A   966    	DL	0
043D7C 00000000            A   967    	DL	0
043D80 00000000            A   968    	DL	0
043D84 00000000            A   969    	DL	0
043D88 00000000            A   970    	DL	0
043D8C 00000000            A   971    	DL	0
043D90 00000000            A   972    	DL	0
043D94 00000000            A   973    	DL	0
043D98 00000000            A   974    	DL	0
043D9C 00000000            A   975    	DL	0
043DA0 00000000            A   976    	DL	0
043DA4 00000000            A   977    	DL	0
043DA8 00000000            A   978    	DL	0
043DAC 00000000            A   979    	DL	0
043DB0 00000000            A   980    	DL	0
043DB4 00000000            A   981    	DL	0
043DB8 00000000            A   982    	DL	0
043DBC 00000000            A   983    	DL	0
043DC0 00000000            A   984    	DL	0
043DC4 00000000            A   985    	DL	0
043DC8 00000000            A   986    	DL	0
043DCC 00000000            A   987    	DL	0
043DD0 00000000            A   988    	DL	0
043DD4 00000000            A   989    	DL	0
043DD8 00000000            A   990    	DL	0
043DDC 00000000            A   991    	DL	0
043DE0 00000000            A   992    	DL	0
043DE4 00000000            A   993    	DL	0
043DE8 00000000            A   994    	DL	0
043DEC 00000000            A   995    	DL	0
043DF0 00000000            A   996    	DL	0
043DF4 00000000            A   997    	DL	0
043DF8 00000000            A   998    	DL	0
043DFC 00000000            A   999    	DL	0
043E00 00000000            A  1000    	DL	0
043E04 00000000            A  1001    	DL	0
043E08 00000000            A  1002    	DL	0
043E0C 00000000            A  1003    	DL	0
043E10 00000000            A  1004    	DL	0
043E14 00000000            A  1005    	DL	0
043E18 00000000            A  1006    	DL	0
043E1C 00000000            A  1007    	DL	0
043E20 00000000            A  1008    	DL	0
043E24 00000000            A  1009    	DL	0
043E28 00000000            A  1010    	DL	0
043E2C 00000000            A  1011    	DL	0
043E30 00000000            A  1012    	DL	0
043E34 00000000            A  1013    	DL	0
043E38 00000000            A  1014    	DL	0
                           A  1015    .DEFINE "goal_data"
                           A  1016    .ALIAS "_goal_data"
                           A  1017    .CLASS 69
                           A  1018    .VALUE _goal_data
                           A  1019    .DIM 1
                           A  1020    .DIM 256
                           A  1021    .TYPE 879
                           A  1022    .ENDEF
043E3C                     A  1023    _box_data:
043E3C FFFF00FF            A  1024    	DL	-16711681
043E40 FFFF00FF            A  1025    	DL	-16711681
043E44 FFFF00FF            A  1026    	DL	-16711681
043E48 FFFF00FF            A  1027    	DL	-16711681
043E4C FFFF00FF            A  1028    	DL	-16711681
043E50 FFFF00FF            A  1029    	DL	-16711681
043E54 FFFF00FF            A  1030    	DL	-16711681
043E58 FFFF00FF            A  1031    	DL	-16711681
043E5C FFFF00FF            A  1032    	DL	-16711681
043E60 FFFF00FF            A  1033    	DL	-16711681
043E64 FFFF00FF            A  1034    	DL	-16711681
043E68 FFFF00FF            A  1035    	DL	-16711681
043E6C FFFF00FF            A  1036    	DL	-16711681
043E70 FFFF00FF            A  1037    	DL	-16711681
043E74 FFFF00FF            A  1038    	DL	-16711681
043E78 FFFF00FF            A  1039    	DL	-16711681
043E7C FFFF00FF            A  1040    	DL	-16711681
043E80 808000FF            A  1041    	DL	-16744320
043E84 808000FF            A  1042    	DL	-16744320
043E88 808000FF            A  1043    	DL	-16744320
043E8C 808000FF            A  1044    	DL	-16744320
043E90 808000FF            A  1045    	DL	-16744320
043E94 808000FF            A  1046    	DL	-16744320
043E98 808000FF            A  1047    	DL	-16744320
043E9C 808000FF            A  1048    	DL	-16744320
043EA0 808000FF            A  1049    	DL	-16744320
043EA4 808000FF            A  1050    	DL	-16744320
043EA8 808000FF            A  1051    	DL	-16744320
043EAC 808000FF            A  1052    	DL	-16744320
043EB0 808000FF            A  1053    	DL	-16744320
043EB4 FFFF00FF            A  1054    	DL	-16711681
043EB8 808000FF            A  1055    	DL	-16744320
043EBC FFFF00FF            A  1056    	DL	-16711681
043EC0 808000FF            A  1057    	DL	-16744320
043EC4 000000FF            A  1058    	DL	-16777216
043EC8 000000FF            A  1059    	DL	-16777216
043ECC 000000FF            A  1060    	DL	-16777216
043ED0 000000FF            A  1061    	DL	-16777216
043ED4 000000FF            A  1062    	DL	-16777216
043ED8 000000FF            A  1063    	DL	-16777216
043EDC 000000FF            A  1064    	DL	-16777216
043EE0 000000FF            A  1065    	DL	-16777216
043EE4 000000FF            A  1066    	DL	-16777216
043EE8 000000FF            A  1067    	DL	-16777216
043EEC 000000FF            A  1068    	DL	-16777216
043EF0 000000FF            A  1069    	DL	-16777216
043EF4 FFFF00FF            A  1070    	DL	-16711681
043EF8 808000FF            A  1071    	DL	-16744320
043EFC FFFF00FF            A  1072    	DL	-16711681
043F00 808000FF            A  1073    	DL	-16744320
043F04 000000FF            A  1074    	DL	-16777216
043F08 808000FF            A  1075    	DL	-16744320
043F0C 808000FF            A  1076    	DL	-16744320
043F10 000000FF            A  1077    	DL	-16777216
043F14 808000FF            A  1078    	DL	-16744320
043F18 808000FF            A  1079    	DL	-16744320
043F1C 808000FF            A  1080    	DL	-16744320
043F20 808000FF            A  1081    	DL	-16744320
043F24 000000FF            A  1082    	DL	-16777216
043F28 808000FF            A  1083    	DL	-16744320
043F2C 808000FF            A  1084    	DL	-16744320
043F30 000000FF            A  1085    	DL	-16777216
043F34 FFFF00FF            A  1086    	DL	-16711681
043F38 808000FF            A  1087    	DL	-16744320
043F3C FFFF00FF            A  1088    	DL	-16711681
043F40 808000FF            A  1089    	DL	-16744320
043F44 000000FF            A  1090    	DL	-16777216
043F48 808000FF            A  1091    	DL	-16744320
043F4C FFFF00FF            A  1092    	DL	-16711681
043F50 808000FF            A  1093    	DL	-16744320
043F54 000000FF            A  1094    	DL	-16777216
043F58 FFFF00FF            A  1095    	DL	-16711681
043F5C FFFF00FF            A  1096    	DL	-16711681
043F60 000000FF            A  1097    	DL	-16777216
043F64 808000FF            A  1098    	DL	-16744320
043F68 FFFF00FF            A  1099    	DL	-16711681
043F6C 808000FF            A  1100    	DL	-16744320
043F70 000000FF            A  1101    	DL	-16777216
043F74 FFFF00FF            A  1102    	DL	-16711681
043F78 808000FF            A  1103    	DL	-16744320
043F7C FFFF00FF            A  1104    	DL	-16711681
043F80 808000FF            A  1105    	DL	-16744320
043F84 000000FF            A  1106    	DL	-16777216
043F88 000000FF            A  1107    	DL	-16777216
043F8C 808000FF            A  1108    	DL	-16744320
043F90 FFFF00FF            A  1109    	DL	-16711681
043F94 808000FF            A  1110    	DL	-16744320
043F98 000000FF            A  1111    	DL	-16777216
043F9C 000000FF            A  1112    	DL	-16777216
043FA0 808000FF            A  1113    	DL	-16744320
043FA4 FFFF00FF            A  1114    	DL	-16711681
043FA8 808000FF            A  1115    	DL	-16744320
043FAC 000000FF            A  1116    	DL	-16777216
043FB0 000000FF            A  1117    	DL	-16777216
043FB4 FFFF00FF            A  1118    	DL	-16711681
043FB8 808000FF            A  1119    	DL	-16744320
043FBC FFFF00FF            A  1120    	DL	-16711681
043FC0 808000FF            A  1121    	DL	-16744320
043FC4 000000FF            A  1122    	DL	-16777216
043FC8 808000FF            A  1123    	DL	-16744320
043FCC 000000FF            A  1124    	DL	-16777216
043FD0 808000FF            A  1125    	DL	-16744320
043FD4 FFFF00FF            A  1126    	DL	-16711681
043FD8 808000FF            A  1127    	DL	-16744320
043FDC FFFF00FF            A  1128    	DL	-16711681
043FE0 FFFF00FF            A  1129    	DL	-16711681
043FE4 808000FF            A  1130    	DL	-16744320
043FE8 000000FF            A  1131    	DL	-16777216
043FEC 808000FF            A  1132    	DL	-16744320
043FF0 000000FF            A  1133    	DL	-16777216
043FF4 FFFF00FF            A  1134    	DL	-16711681
043FF8 808000FF            A  1135    	DL	-16744320
043FFC FFFF00FF            A  1136    	DL	-16711681
044000 808000FF            A  1137    	DL	-16744320
044004 000000FF            A  1138    	DL	-16777216
044008 808000FF            A  1139    	DL	-16744320
04400C FFFF00FF            A  1140    	DL	-16711681
044010 000000FF            A  1141    	DL	-16777216
044014 808000FF            A  1142    	DL	-16744320
044018 FFFF00FF            A  1143    	DL	-16711681
04401C FFFF00FF            A  1144    	DL	-16711681
044020 808000FF            A  1145    	DL	-16744320
044024 000000FF            A  1146    	DL	-16777216
044028 808000FF            A  1147    	DL	-16744320
04402C FFFF00FF            A  1148    	DL	-16711681
044030 000000FF            A  1149    	DL	-16777216
044034 FFFF00FF            A  1150    	DL	-16711681
044038 808000FF            A  1151    	DL	-16744320
04403C FFFF00FF            A  1152    	DL	-16711681
044040 808000FF            A  1153    	DL	-16744320
044044 000000FF            A  1154    	DL	-16777216
044048 808000FF            A  1155    	DL	-16744320
04404C 808000FF            A  1156    	DL	-16744320
044050 000000FF            A  1157    	DL	-16777216
044054 FFFF00FF            A  1158    	DL	-16711681
044058 FFFF00FF            A  1159    	DL	-16711681
04405C FFFF00FF            A  1160    	DL	-16711681
044060 FFFF00FF            A  1161    	DL	-16711681
044064 000000FF            A  1162    	DL	-16777216
044068 808000FF            A  1163    	DL	-16744320
04406C FFFF00FF            A  1164    	DL	-16711681
044070 000000FF            A  1165    	DL	-16777216
044074 FFFF00FF            A  1166    	DL	-16711681
044078 808000FF            A  1167    	DL	-16744320
04407C FFFF00FF            A  1168    	DL	-16711681
044080 808000FF            A  1169    	DL	-16744320
044084 000000FF            A  1170    	DL	-16777216
044088 808000FF            A  1171    	DL	-16744320
04408C 000000FF            A  1172    	DL	-16777216
044090 808000FF            A  1173    	DL	-16744320
044094 FFFF00FF            A  1174    	DL	-16711681
044098 808000FF            A  1175    	DL	-16744320
04409C FFFF00FF            A  1176    	DL	-16711681
0440A0 FFFF00FF            A  1177    	DL	-16711681
0440A4 808000FF            A  1178    	DL	-16744320
0440A8 000000FF            A  1179    	DL	-16777216
0440AC FFFF00FF            A  1180    	DL	-16711681
0440B0 000000FF            A  1181    	DL	-16777216
0440B4 FFFF00FF            A  1182    	DL	-16711681
0440B8 808000FF            A  1183    	DL	-16744320
0440BC FFFF00FF            A  1184    	DL	-16711681
0440C0 808000FF            A  1185    	DL	-16744320
0440C4 000000FF            A  1186    	DL	-16777216
0440C8 000000FF            A  1187    	DL	-16777216
0440CC 808000FF            A  1188    	DL	-16744320
0440D0 FFFF00FF            A  1189    	DL	-16711681
0440D4 808000FF            A  1190    	DL	-16744320
0440D8 000000FF            A  1191    	DL	-16777216
0440DC 000000FF            A  1192    	DL	-16777216
0440E0 808000FF            A  1193    	DL	-16744320
0440E4 FFFF00FF            A  1194    	DL	-16711681
0440E8 808000FF            A  1195    	DL	-16744320
0440EC 000000FF            A  1196    	DL	-16777216
0440F0 000000FF            A  1197    	DL	-16777216
0440F4 FFFF00FF            A  1198    	DL	-16711681
0440F8 808000FF            A  1199    	DL	-16744320
0440FC FFFF00FF            A  1200    	DL	-16711681
044100 808000FF            A  1201    	DL	-16744320
044104 000000FF            A  1202    	DL	-16777216
044108 808000FF            A  1203    	DL	-16744320
04410C FFFF00FF            A  1204    	DL	-16711681
044110 808000FF            A  1205    	DL	-16744320
044114 000000FF            A  1206    	DL	-16777216
044118 808000FF            A  1207    	DL	-16744320
04411C FFFF00FF            A  1208    	DL	-16711681
044120 000000FF            A  1209    	DL	-16777216
044124 808000FF            A  1210    	DL	-16744320
044128 FFFF00FF            A  1211    	DL	-16711681
04412C 808000FF            A  1212    	DL	-16744320
044130 000000FF            A  1213    	DL	-16777216
044134 FFFF00FF            A  1214    	DL	-16711681
044138 808000FF            A  1215    	DL	-16744320
04413C FFFF00FF            A  1216    	DL	-16711681
044140 808000FF            A  1217    	DL	-16744320
044144 000000FF            A  1218    	DL	-16777216
044148 808000FF            A  1219    	DL	-16744320
04414C 808000FF            A  1220    	DL	-16744320
044150 000000FF            A  1221    	DL	-16777216
044154 808000FF            A  1222    	DL	-16744320
044158 FFFF00FF            A  1223    	DL	-16711681
04415C FFFF00FF            A  1224    	DL	-16711681
044160 FFFF00FF            A  1225    	DL	-16711681
044164 000000FF            A  1226    	DL	-16777216
044168 808000FF            A  1227    	DL	-16744320
04416C 808000FF            A  1228    	DL	-16744320
044170 000000FF            A  1229    	DL	-16777216
044174 FFFF00FF            A  1230    	DL	-16711681
044178 808000FF            A  1231    	DL	-16744320
04417C FFFF00FF            A  1232    	DL	-16711681
044180 808000FF            A  1233    	DL	-16744320
044184 000000FF            A  1234    	DL	-16777216
044188 000000FF            A  1235    	DL	-16777216
04418C 000000FF            A  1236    	DL	-16777216
044190 000000FF            A  1237    	DL	-16777216
044194 000000FF            A  1238    	DL	-16777216
044198 000000FF            A  1239    	DL	-16777216
04419C 000000FF            A  1240    	DL	-16777216
0441A0 000000FF            A  1241    	DL	-16777216
0441A4 000000FF            A  1242    	DL	-16777216
0441A8 000000FF            A  1243    	DL	-16777216
0441AC 000000FF            A  1244    	DL	-16777216
0441B0 000000FF            A  1245    	DL	-16777216
0441B4 FFFF00FF            A  1246    	DL	-16711681
0441B8 808000FF            A  1247    	DL	-16744320
0441BC FFFF00FF            A  1248    	DL	-16711681
0441C0 FFFF00FF            A  1249    	DL	-16711681
0441C4 FFFF00FF            A  1250    	DL	-16711681
0441C8 FFFF00FF            A  1251    	DL	-16711681
0441CC FFFF00FF            A  1252    	DL	-16711681
0441D0 FFFF00FF            A  1253    	DL	-16711681
0441D4 FFFF00FF            A  1254    	DL	-16711681
0441D8 FFFF00FF            A  1255    	DL	-16711681
0441DC FFFF00FF            A  1256    	DL	-16711681
0441E0 FFFF00FF            A  1257    	DL	-16711681
0441E4 FFFF00FF            A  1258    	DL	-16711681
0441E8 FFFF00FF            A  1259    	DL	-16711681
0441EC FFFF00FF            A  1260    	DL	-16711681
0441F0 FFFF00FF            A  1261    	DL	-16711681
0441F4 FFFF00FF            A  1262    	DL	-16711681
0441F8 808000FF            A  1263    	DL	-16744320
0441FC FFFF00FF            A  1264    	DL	-16711681
044200 808000FF            A  1265    	DL	-16744320
044204 808000FF            A  1266    	DL	-16744320
044208 808000FF            A  1267    	DL	-16744320
04420C 808000FF            A  1268    	DL	-16744320
044210 808000FF            A  1269    	DL	-16744320
044214 808000FF            A  1270    	DL	-16744320
044218 808000FF            A  1271    	DL	-16744320
04421C 808000FF            A  1272    	DL	-16744320
044220 808000FF            A  1273    	DL	-16744320
044224 808000FF            A  1274    	DL	-16744320
044228 808000FF            A  1275    	DL	-16744320
04422C 808000FF            A  1276    	DL	-16744320
044230 808000FF            A  1277    	DL	-16744320
044234 808000FF            A  1278    	DL	-16744320
044238 808000FF            A  1279    	DL	-16744320
                           A  1280    .DEFINE "box_data"
                           A  1281    .ALIAS "_box_data"
                           A  1282    .CLASS 69
                           A  1283    .VALUE _box_data
                           A  1284    .DIM 1
                           A  1285    .DIM 256
                           A  1286    .TYPE 879
                           A  1287    .ENDEF
04423C                     A  1288    _boxongoal_data:
04423C FFFF00FF            A  1289    	DL	-16711681
044240 FFFF00FF            A  1290    	DL	-16711681
044244 FFFF00FF            A  1291    	DL	-16711681
044248 FFFF00FF            A  1292    	DL	-16711681
04424C FFFF00FF            A  1293    	DL	-16711681
044250 FFFF00FF            A  1294    	DL	-16711681
044254 FFFF00FF            A  1295    	DL	-16711681
044258 FFFF00FF            A  1296    	DL	-16711681
04425C FFFF00FF            A  1297    	DL	-16711681
044260 FFFF00FF            A  1298    	DL	-16711681
044264 FFFF00FF            A  1299    	DL	-16711681
044268 FFFF00FF            A  1300    	DL	-16711681
04426C FFFF00FF            A  1301    	DL	-16711681
044270 FFFF00FF            A  1302    	DL	-16711681
044274 FFFF00FF            A  1303    	DL	-16711681
044278 FFFF00FF            A  1304    	DL	-16711681
04427C FFFF00FF            A  1305    	DL	-16711681
044280 808000FF            A  1306    	DL	-16744320
044284 808000FF            A  1307    	DL	-16744320
044288 808000FF            A  1308    	DL	-16744320
04428C 808000FF            A  1309    	DL	-16744320
044290 808000FF            A  1310    	DL	-16744320
044294 808000FF            A  1311    	DL	-16744320
044298 808000FF            A  1312    	DL	-16744320
04429C 808000FF            A  1313    	DL	-16744320
0442A0 808000FF            A  1314    	DL	-16744320
0442A4 808000FF            A  1315    	DL	-16744320
0442A8 808000FF            A  1316    	DL	-16744320
0442AC 808000FF            A  1317    	DL	-16744320
0442B0 808000FF            A  1318    	DL	-16744320
0442B4 FFFF00FF            A  1319    	DL	-16711681
0442B8 808000FF            A  1320    	DL	-16744320
0442BC FFFF00FF            A  1321    	DL	-16711681
0442C0 808000FF            A  1322    	DL	-16744320
0442C4 000000FF            A  1323    	DL	-16777216
0442C8 000000FF            A  1324    	DL	-16777216
0442CC 000000FF            A  1325    	DL	-16777216
0442D0 000000FF            A  1326    	DL	-16777216
0442D4 000000FF            A  1327    	DL	-16777216
0442D8 000000FF            A  1328    	DL	-16777216
0442DC 000000FF            A  1329    	DL	-16777216
0442E0 000000FF            A  1330    	DL	-16777216
0442E4 000000FF            A  1331    	DL	-16777216
0442E8 000000FF            A  1332    	DL	-16777216
0442EC 000000FF            A  1333    	DL	-16777216
0442F0 000000FF            A  1334    	DL	-16777216
0442F4 FFFF00FF            A  1335    	DL	-16711681
0442F8 808000FF            A  1336    	DL	-16744320
0442FC FFFF00FF            A  1337    	DL	-16711681
044300 808000FF            A  1338    	DL	-16744320
044304 000000FF            A  1339    	DL	-16777216
044308 808000FF            A  1340    	DL	-16744320
04430C 808000FF            A  1341    	DL	-16744320
044310 000000FF            A  1342    	DL	-16777216
044314 008000FF            A  1343    	DL	-16744448
044318 008000FF            A  1344    	DL	-16744448
04431C 008000FF            A  1345    	DL	-16744448
044320 008000FF            A  1346    	DL	-16744448
044324 000000FF            A  1347    	DL	-16777216
044328 808000FF            A  1348    	DL	-16744320
04432C 808000FF            A  1349    	DL	-16744320
044330 000000FF            A  1350    	DL	-16777216
044334 FFFF00FF            A  1351    	DL	-16711681
044338 808000FF            A  1352    	DL	-16744320
04433C FFFF00FF            A  1353    	DL	-16711681
044340 808000FF            A  1354    	DL	-16744320
044344 000000FF            A  1355    	DL	-16777216
044348 808000FF            A  1356    	DL	-16744320
04434C FFFF00FF            A  1357    	DL	-16711681
044350 808000FF            A  1358    	DL	-16744320
044354 000000FF            A  1359    	DL	-16777216
044358 00FF00FF            A  1360    	DL	-16711936
04435C 00FF00FF            A  1361    	DL	-16711936
044360 000000FF            A  1362    	DL	-16777216
044364 808000FF            A  1363    	DL	-16744320
044368 FFFF00FF            A  1364    	DL	-16711681
04436C 808000FF            A  1365    	DL	-16744320
044370 000000FF            A  1366    	DL	-16777216
044374 FFFF00FF            A  1367    	DL	-16711681
044378 808000FF            A  1368    	DL	-16744320
04437C FFFF00FF            A  1369    	DL	-16711681
044380 808000FF            A  1370    	DL	-16744320
044384 000000FF            A  1371    	DL	-16777216
044388 000000FF            A  1372    	DL	-16777216
04438C 808000FF            A  1373    	DL	-16744320
044390 FFFF00FF            A  1374    	DL	-16711681
044394 808000FF            A  1375    	DL	-16744320
044398 000000FF            A  1376    	DL	-16777216
04439C 000000FF            A  1377    	DL	-16777216
0443A0 808000FF            A  1378    	DL	-16744320
0443A4 FFFF00FF            A  1379    	DL	-16711681
0443A8 808000FF            A  1380    	DL	-16744320
0443AC 000000FF            A  1381    	DL	-16777216
0443B0 000000FF            A  1382    	DL	-16777216
0443B4 FFFF00FF            A  1383    	DL	-16711681
0443B8 808000FF            A  1384    	DL	-16744320
0443BC FFFF00FF            A  1385    	DL	-16711681
0443C0 808000FF            A  1386    	DL	-16744320
0443C4 000000FF            A  1387    	DL	-16777216
0443C8 008000FF            A  1388    	DL	-16744448
0443CC 000000FF            A  1389    	DL	-16777216
0443D0 808000FF            A  1390    	DL	-16744320
0443D4 FFFF00FF            A  1391    	DL	-16711681
0443D8 808000FF            A  1392    	DL	-16744320
0443DC FFFF00FF            A  1393    	DL	-16711681
0443E0 FFFF00FF            A  1394    	DL	-16711681
0443E4 808000FF            A  1395    	DL	-16744320
0443E8 000000FF            A  1396    	DL	-16777216
0443EC 008000FF            A  1397    	DL	-16744448
0443F0 000000FF            A  1398    	DL	-16777216
0443F4 FFFF00FF            A  1399    	DL	-16711681
0443F8 808000FF            A  1400    	DL	-16744320
0443FC FFFF00FF            A  1401    	DL	-16711681
044400 808000FF            A  1402    	DL	-16744320
044404 000000FF            A  1403    	DL	-16777216
044408 008000FF            A  1404    	DL	-16744448
04440C 00FF00FF            A  1405    	DL	-16711936
044410 000000FF            A  1406    	DL	-16777216
044414 808000FF            A  1407    	DL	-16744320
044418 00FF00FF            A  1408    	DL	-16711936
04441C 00FF00FF            A  1409    	DL	-16711936
044420 808000FF            A  1410    	DL	-16744320
044424 000000FF            A  1411    	DL	-16777216
044428 00FF00FF            A  1412    	DL	-16711936
04442C 008000FF            A  1413    	DL	-16744448
044430 000000FF            A  1414    	DL	-16777216
044434 FFFF00FF            A  1415    	DL	-16711681
044438 808000FF            A  1416    	DL	-16744320
04443C FFFF00FF            A  1417    	DL	-16711681
044440 808000FF            A  1418    	DL	-16744320
044444 000000FF            A  1419    	DL	-16777216
044448 008000FF            A  1420    	DL	-16744448
04444C 00FF00FF            A  1421    	DL	-16711936
044450 000000FF            A  1422    	DL	-16777216
044454 FFFF00FF            A  1423    	DL	-16711681
044458 00FF00FF            A  1424    	DL	-16711936
04445C 00FF00FF            A  1425    	DL	-16711936
044460 FFFF00FF            A  1426    	DL	-16711681
044464 000000FF            A  1427    	DL	-16777216
044468 00FF00FF            A  1428    	DL	-16711936
04446C 008000FF            A  1429    	DL	-16744448
044470 000000FF            A  1430    	DL	-16777216
044474 FFFF00FF            A  1431    	DL	-16711681
044478 808000FF            A  1432    	DL	-16744320
04447C FFFF00FF            A  1433    	DL	-16711681
044480 808000FF            A  1434    	DL	-16744320
044484 000000FF            A  1435    	DL	-16777216
044488 008000FF            A  1436    	DL	-16744448
04448C 000000FF            A  1437    	DL	-16777216
044490 808000FF            A  1438    	DL	-16744320
044494 FFFF00FF            A  1439    	DL	-16711681
044498 808000FF            A  1440    	DL	-16744320
04449C FFFF00FF            A  1441    	DL	-16711681
0444A0 FFFF00FF            A  1442    	DL	-16711681
0444A4 808000FF            A  1443    	DL	-16744320
0444A8 000000FF            A  1444    	DL	-16777216
0444AC 008000FF            A  1445    	DL	-16744448
0444B0 000000FF            A  1446    	DL	-16777216
0444B4 FFFF00FF            A  1447    	DL	-16711681
0444B8 808000FF            A  1448    	DL	-16744320
0444BC FFFF00FF            A  1449    	DL	-16711681
0444C0 808000FF            A  1450    	DL	-16744320
0444C4 000000FF            A  1451    	DL	-16777216
0444C8 000000FF            A  1452    	DL	-16777216
0444CC 808000FF            A  1453    	DL	-16744320
0444D0 FFFF00FF            A  1454    	DL	-16711681
0444D4 808000FF            A  1455    	DL	-16744320
0444D8 000000FF            A  1456    	DL	-16777216
0444DC 000000FF            A  1457    	DL	-16777216
0444E0 808000FF            A  1458    	DL	-16744320
0444E4 FFFF00FF            A  1459    	DL	-16711681
0444E8 808000FF            A  1460    	DL	-16744320
0444EC 000000FF            A  1461    	DL	-16777216
0444F0 000000FF            A  1462    	DL	-16777216
0444F4 FFFF00FF            A  1463    	DL	-16711681
0444F8 808000FF            A  1464    	DL	-16744320
0444FC FFFF00FF            A  1465    	DL	-16711681
044500 808000FF            A  1466    	DL	-16744320
044504 000000FF            A  1467    	DL	-16777216
044508 808000FF            A  1468    	DL	-16744320
04450C FFFF00FF            A  1469    	DL	-16711681
044510 808000FF            A  1470    	DL	-16744320
044514 000000FF            A  1471    	DL	-16777216
044518 00FF00FF            A  1472    	DL	-16711936
04451C 00FF00FF            A  1473    	DL	-16711936
044520 000000FF            A  1474    	DL	-16777216
044524 808000FF            A  1475    	DL	-16744320
044528 FFFF00FF            A  1476    	DL	-16711681
04452C 808000FF            A  1477    	DL	-16744320
044530 000000FF            A  1478    	DL	-16777216
044534 FFFF00FF            A  1479    	DL	-16711681
044538 808000FF            A  1480    	DL	-16744320
04453C FFFF00FF            A  1481    	DL	-16711681
044540 808000FF            A  1482    	DL	-16744320
044544 000000FF            A  1483    	DL	-16777216
044548 808000FF            A  1484    	DL	-16744320
04454C 808000FF            A  1485    	DL	-16744320
044550 000000FF            A  1486    	DL	-16777216
044554 008000FF            A  1487    	DL	-16744448
044558 008000FF            A  1488    	DL	-16744448
04455C 008000FF            A  1489    	DL	-16744448
044560 008000FF            A  1490    	DL	-16744448
044564 000000FF            A  1491    	DL	-16777216
044568 808000FF            A  1492    	DL	-16744320
04456C 808000FF            A  1493    	DL	-16744320
044570 000000FF            A  1494    	DL	-16777216
044574 FFFF00FF            A  1495    	DL	-16711681
044578 808000FF            A  1496    	DL	-16744320
04457C FFFF00FF            A  1497    	DL	-16711681
044580 808000FF            A  1498    	DL	-16744320
044584 000000FF            A  1499    	DL	-16777216
044588 000000FF            A  1500    	DL	-16777216
04458C 000000FF            A  1501    	DL	-16777216
044590 000000FF            A  1502    	DL	-16777216
044594 000000FF            A  1503    	DL	-16777216
044598 000000FF            A  1504    	DL	-16777216
04459C 000000FF            A  1505    	DL	-16777216
0445A0 000000FF            A  1506    	DL	-16777216
0445A4 000000FF            A  1507    	DL	-16777216
0445A8 000000FF            A  1508    	DL	-16777216
0445AC 000000FF            A  1509    	DL	-16777216
0445B0 000000FF            A  1510    	DL	-16777216
0445B4 FFFF00FF            A  1511    	DL	-16711681
0445B8 808000FF            A  1512    	DL	-16744320
0445BC FFFF00FF            A  1513    	DL	-16711681
0445C0 FFFF00FF            A  1514    	DL	-16711681
0445C4 FFFF00FF            A  1515    	DL	-16711681
0445C8 FFFF00FF            A  1516    	DL	-16711681
0445CC FFFF00FF            A  1517    	DL	-16711681
0445D0 FFFF00FF            A  1518    	DL	-16711681
0445D4 FFFF00FF            A  1519    	DL	-16711681
0445D8 FFFF00FF            A  1520    	DL	-16711681
0445DC FFFF00FF            A  1521    	DL	-16711681
0445E0 FFFF00FF            A  1522    	DL	-16711681
0445E4 FFFF00FF            A  1523    	DL	-16711681
0445E8 FFFF00FF            A  1524    	DL	-16711681
0445EC FFFF00FF            A  1525    	DL	-16711681
0445F0 FFFF00FF            A  1526    	DL	-16711681
0445F4 FFFF00FF            A  1527    	DL	-16711681
0445F8 808000FF            A  1528    	DL	-16744320
0445FC FFFF00FF            A  1529    	DL	-16711681
044600 808000FF            A  1530    	DL	-16744320
044604 808000FF            A  1531    	DL	-16744320
044608 808000FF            A  1532    	DL	-16744320
04460C 808000FF            A  1533    	DL	-16744320
044610 808000FF            A  1534    	DL	-16744320
044614 808000FF            A  1535    	DL	-16744320
044618 808000FF            A  1536    	DL	-16744320
04461C 808000FF            A  1537    	DL	-16744320
044620 808000FF            A  1538    	DL	-16744320
044624 808000FF            A  1539    	DL	-16744320
044628 808000FF            A  1540    	DL	-16744320
04462C 808000FF            A  1541    	DL	-16744320
044630 808000FF            A  1542    	DL	-16744320
044634 808000FF            A  1543    	DL	-16744320
044638 808000FF            A  1544    	DL	-16744320
                           A  1545    .DEFINE "boxongoal_data"
                           A  1546    .ALIAS "_boxongoal_data"
                           A  1547    .CLASS 69
                           A  1548    .VALUE _boxongoal_data
                           A  1549    .DIM 1
                           A  1550    .DIM 256
                           A  1551    .TYPE 879
                           A  1552    .ENDEF
04463C                     A  1553    _boxmini_data:
04463C 000000FF            A  1554    	DL	-16777216
044640 000000FF            A  1555    	DL	-16777216
044644 000000FF            A  1556    	DL	-16777216
044648 000000FF            A  1557    	DL	-16777216
04464C 000000FF            A  1558    	DL	-16777216
044650 000000FF            A  1559    	DL	-16777216
044654 000000FF            A  1560    	DL	-16777216
044658 000000FF            A  1561    	DL	-16777216
04465C 000000FF            A  1562    	DL	-16777216
044660 808000FF            A  1563    	DL	-16744320
044664 FFFF00FF            A  1564    	DL	-16711681
044668 FFFF00FF            A  1565    	DL	-16711681
04466C FFFF00FF            A  1566    	DL	-16711681
044670 FFFF00FF            A  1567    	DL	-16711681
044674 808000FF            A  1568    	DL	-16744320
044678 000000FF            A  1569    	DL	-16777216
04467C 000000FF            A  1570    	DL	-16777216
044680 FFFF00FF            A  1571    	DL	-16711681
044684 000000FF            A  1572    	DL	-16777216
044688 808000FF            A  1573    	DL	-16744320
04468C 808000FF            A  1574    	DL	-16744320
044690 000000FF            A  1575    	DL	-16777216
044694 FFFF00FF            A  1576    	DL	-16711681
044698 000000FF            A  1577    	DL	-16777216
04469C 000000FF            A  1578    	DL	-16777216
0446A0 FFFF00FF            A  1579    	DL	-16711681
0446A4 808000FF            A  1580    	DL	-16744320
0446A8 000000FF            A  1581    	DL	-16777216
0446AC 000000FF            A  1582    	DL	-16777216
0446B0 808000FF            A  1583    	DL	-16744320
0446B4 FFFF00FF            A  1584    	DL	-16711681
0446B8 000000FF            A  1585    	DL	-16777216
0446BC 000000FF            A  1586    	DL	-16777216
0446C0 FFFF00FF            A  1587    	DL	-16711681
0446C4 808000FF            A  1588    	DL	-16744320
0446C8 000000FF            A  1589    	DL	-16777216
0446CC 000000FF            A  1590    	DL	-16777216
0446D0 808000FF            A  1591    	DL	-16744320
0446D4 FFFF00FF            A  1592    	DL	-16711681
0446D8 000000FF            A  1593    	DL	-16777216
0446DC 000000FF            A  1594    	DL	-16777216
0446E0 FFFF00FF            A  1595    	DL	-16711681
0446E4 000000FF            A  1596    	DL	-16777216
0446E8 808000FF            A  1597    	DL	-16744320
0446EC 808000FF            A  1598    	DL	-16744320
0446F0 000000FF            A  1599    	DL	-16777216
0446F4 FFFF00FF            A  1600    	DL	-16711681
0446F8 000000FF            A  1601    	DL	-16777216
0446FC 000000FF            A  1602    	DL	-16777216
044700 808000FF            A  1603    	DL	-16744320
044704 FFFF00FF            A  1604    	DL	-16711681
044708 FFFF00FF            A  1605    	DL	-16711681
04470C FFFF00FF            A  1606    	DL	-16711681
044710 FFFF00FF            A  1607    	DL	-16711681
044714 808000FF            A  1608    	DL	-16744320
044718 000000FF            A  1609    	DL	-16777216
04471C 000000FF            A  1610    	DL	-16777216
044720 000000FF            A  1611    	DL	-16777216
044724 000000FF            A  1612    	DL	-16777216
044728 000000FF            A  1613    	DL	-16777216
04472C 000000FF            A  1614    	DL	-16777216
044730 000000FF            A  1615    	DL	-16777216
044734 000000FF            A  1616    	DL	-16777216
044738 000000FF            A  1617    	DL	-16777216
                           A  1618    .DEFINE "boxmini_data"
                           A  1619    .ALIAS "_boxmini_data"
                           A  1620    .CLASS 69
                           A  1621    .VALUE _boxmini_data
                           A  1622    .DIM 1
                           A  1623    .DIM 64
                           A  1624    .TYPE 879
                           A  1625    .ENDEF
04473C                     A  1626    _wallmini_data:
04473C 808000FF            A  1627    	DL	-16744320
044740 808000FF            A  1628    	DL	-16744320
044744 808000FF            A  1629    	DL	-16744320
044748 404040FF            A  1630    	DL	-12566464
04474C 808000FF            A  1631    	DL	-16744320
044750 808000FF            A  1632    	DL	-16744320
044754 808000FF            A  1633    	DL	-16744320
044758 808000FF            A  1634    	DL	-16744320
04475C 800000FF            A  1635    	DL	-16777088
044760 800000FF            A  1636    	DL	-16777088
044764 800000FF            A  1637    	DL	-16777088
044768 404040FF            A  1638    	DL	-12566464
04476C 808000FF            A  1639    	DL	-16744320
044770 800000FF            A  1640    	DL	-16777088
044774 800000FF            A  1641    	DL	-16777088
044778 808080FF            A  1642    	DL	-8355712
04477C 800000FF            A  1643    	DL	-16777088
044780 800000FF            A  1644    	DL	-16777088
044784 800000FF            A  1645    	DL	-16777088
044788 404040FF            A  1646    	DL	-12566464
04478C 808000FF            A  1647    	DL	-16744320
044790 800000FF            A  1648    	DL	-16777088
044794 800000FF            A  1649    	DL	-16777088
044798 800000FF            A  1650    	DL	-16777088
04479C 404040FF            A  1651    	DL	-12566464
0447A0 404040FF            A  1652    	DL	-12566464
0447A4 404040FF            A  1653    	DL	-12566464
0447A8 404040FF            A  1654    	DL	-12566464
0447AC 404040FF            A  1655    	DL	-12566464
0447B0 404040FF            A  1656    	DL	-12566464
0447B4 404040FF            A  1657    	DL	-12566464
0447B8 404040FF            A  1658    	DL	-12566464
0447BC 404040FF            A  1659    	DL	-12566464
0447C0 808000FF            A  1660    	DL	-16744320
0447C4 808000FF            A  1661    	DL	-16744320
0447C8 808000FF            A  1662    	DL	-16744320
0447CC 808000FF            A  1663    	DL	-16744320
0447D0 808000FF            A  1664    	DL	-16744320
0447D4 808000FF            A  1665    	DL	-16744320
0447D8 808000FF            A  1666    	DL	-16744320
0447DC 404040FF            A  1667    	DL	-12566464
0447E0 808000FF            A  1668    	DL	-16744320
0447E4 800000FF            A  1669    	DL	-16777088
0447E8 800000FF            A  1670    	DL	-16777088
0447EC 808080FF            A  1671    	DL	-8355712
0447F0 800000FF            A  1672    	DL	-16777088
0447F4 800000FF            A  1673    	DL	-16777088
0447F8 800000FF            A  1674    	DL	-16777088
0447FC 404040FF            A  1675    	DL	-12566464
044800 808000FF            A  1676    	DL	-16744320
044804 800000FF            A  1677    	DL	-16777088
044808 800000FF            A  1678    	DL	-16777088
04480C 800000FF            A  1679    	DL	-16777088
044810 800000FF            A  1680    	DL	-16777088
044814 800000FF            A  1681    	DL	-16777088
044818 800000FF            A  1682    	DL	-16777088
04481C 404040FF            A  1683    	DL	-12566464
044820 404040FF            A  1684    	DL	-12566464
044824 404040FF            A  1685    	DL	-12566464
044828 404040FF            A  1686    	DL	-12566464
04482C 404040FF            A  1687    	DL	-12566464
044830 404040FF            A  1688    	DL	-12566464
044834 404040FF            A  1689    	DL	-12566464
044838 404040FF            A  1690    	DL	-12566464
                           A  1691    .DEFINE "wallmini_data"
                           A  1692    .ALIAS "_wallmini_data"
                           A  1693    .CLASS 69
                           A  1694    .VALUE _wallmini_data
                           A  1695    .DIM 1
                           A  1696    .DIM 64
                           A  1697    .TYPE 879
                           A  1698    .ENDEF
04483C                     A  1699    _goalmini_data:
04483C 000000FF            A  1700    	DL	-16777216
044840 000000FF            A  1701    	DL	-16777216
044844 000000FF            A  1702    	DL	-16777216
044848 000000FF            A  1703    	DL	-16777216
04484C 000000FF            A  1704    	DL	-16777216
044850 000000FF            A  1705    	DL	-16777216
044854 000000FF            A  1706    	DL	-16777216
044858 000000FF            A  1707    	DL	-16777216
04485C 000000FF            A  1708    	DL	-16777216
044860 000000FF            A  1709    	DL	-16777216
044864 000000FF            A  1710    	DL	-16777216
044868 000000FF            A  1711    	DL	-16777216
04486C 000000FF            A  1712    	DL	-16777216
044870 000000FF            A  1713    	DL	-16777216
044874 000000FF            A  1714    	DL	-16777216
044878 000000FF            A  1715    	DL	-16777216
04487C 000000FF            A  1716    	DL	-16777216
044880 000000FF            A  1717    	DL	-16777216
044884 00FF00FF            A  1718    	DL	-16711936
044888 000000FF            A  1719    	DL	-16777216
04488C 000000FF            A  1720    	DL	-16777216
044890 00FF00FF            A  1721    	DL	-16711936
044894 000000FF            A  1722    	DL	-16777216
044898 000000FF            A  1723    	DL	-16777216
04489C 000000FF            A  1724    	DL	-16777216
0448A0 000000FF            A  1725    	DL	-16777216
0448A4 000000FF            A  1726    	DL	-16777216
0448A8 00FF00FF            A  1727    	DL	-16711936
0448AC 00FF00FF            A  1728    	DL	-16711936
0448B0 000000FF            A  1729    	DL	-16777216
0448B4 000000FF            A  1730    	DL	-16777216
0448B8 000000FF            A  1731    	DL	-16777216
0448BC 000000FF            A  1732    	DL	-16777216
0448C0 000000FF            A  1733    	DL	-16777216
0448C4 000000FF            A  1734    	DL	-16777216
0448C8 00FF00FF            A  1735    	DL	-16711936
0448CC 00FF00FF            A  1736    	DL	-16711936
0448D0 000000FF            A  1737    	DL	-16777216
0448D4 000000FF            A  1738    	DL	-16777216
0448D8 000000FF            A  1739    	DL	-16777216
0448DC 000000FF            A  1740    	DL	-16777216
0448E0 000000FF            A  1741    	DL	-16777216
0448E4 00FF00FF            A  1742    	DL	-16711936
0448E8 000000FF            A  1743    	DL	-16777216
0448EC 000000FF            A  1744    	DL	-16777216
0448F0 00FF00FF            A  1745    	DL	-16711936
0448F4 000000FF            A  1746    	DL	-16777216
0448F8 000000FF            A  1747    	DL	-16777216
0448FC 000000FF            A  1748    	DL	-16777216
044900 000000FF            A  1749    	DL	-16777216
044904 000000FF            A  1750    	DL	-16777216
044908 000000FF            A  1751    	DL	-16777216
04490C 000000FF            A  1752    	DL	-16777216
044910 000000FF            A  1753    	DL	-16777216
044914 000000FF            A  1754    	DL	-16777216
044918 000000FF            A  1755    	DL	-16777216
04491C 000000FF            A  1756    	DL	-16777216
044920 000000FF            A  1757    	DL	-16777216
044924 000000FF            A  1758    	DL	-16777216
044928 000000FF            A  1759    	DL	-16777216
04492C 000000FF            A  1760    	DL	-16777216
044930 000000FF            A  1761    	DL	-16777216
044934 000000FF            A  1762    	DL	-16777216
044938 000000FF            A  1763    	DL	-16777216
                           A  1764    .DEFINE "goalmini_data"
                           A  1765    .ALIAS "_goalmini_data"
                           A  1766    .CLASS 69
                           A  1767    .VALUE _goalmini_data
                           A  1768    .DIM 1
                           A  1769    .DIM 64
                           A  1770    .TYPE 879
                           A  1771    .ENDEF
04493C                     A  1772    _boxongoalmini_data:
04493C 000000FF            A  1773    	DL	-16777216
044940 000000FF            A  1774    	DL	-16777216
044944 000000FF            A  1775    	DL	-16777216
044948 000000FF            A  1776    	DL	-16777216
04494C 000000FF            A  1777    	DL	-16777216
044950 000000FF            A  1778    	DL	-16777216
044954 000000FF            A  1779    	DL	-16777216
044958 000000FF            A  1780    	DL	-16777216
04495C 000000FF            A  1781    	DL	-16777216
044960 808000FF            A  1782    	DL	-16744320
044964 FFFF00FF            A  1783    	DL	-16711681
044968 FFFF00FF            A  1784    	DL	-16711681
04496C FFFF00FF            A  1785    	DL	-16711681
044970 FFFF00FF            A  1786    	DL	-16711681
044974 808000FF            A  1787    	DL	-16744320
044978 000000FF            A  1788    	DL	-16777216
04497C 000000FF            A  1789    	DL	-16777216
044980 FFFF00FF            A  1790    	DL	-16711681
044984 000000FF            A  1791    	DL	-16777216
044988 808000FF            A  1792    	DL	-16744320
04498C 808000FF            A  1793    	DL	-16744320
044990 000000FF            A  1794    	DL	-16777216
044994 FFFF00FF            A  1795    	DL	-16711681
044998 000000FF            A  1796    	DL	-16777216
04499C 000000FF            A  1797    	DL	-16777216
0449A0 FFFF00FF            A  1798    	DL	-16711681
0449A4 808000FF            A  1799    	DL	-16744320
0449A8 00FF00FF            A  1800    	DL	-16711936
0449AC 00FF00FF            A  1801    	DL	-16711936
0449B0 808000FF            A  1802    	DL	-16744320
0449B4 FFFF00FF            A  1803    	DL	-16711681
0449B8 000000FF            A  1804    	DL	-16777216
0449BC 000000FF            A  1805    	DL	-16777216
0449C0 FFFF00FF            A  1806    	DL	-16711681
0449C4 808000FF            A  1807    	DL	-16744320
0449C8 00FF00FF            A  1808    	DL	-16711936
0449CC 00FF00FF            A  1809    	DL	-16711936
0449D0 808000FF            A  1810    	DL	-16744320
0449D4 FFFF00FF            A  1811    	DL	-16711681
0449D8 000000FF            A  1812    	DL	-16777216
0449DC 000000FF            A  1813    	DL	-16777216
0449E0 FFFF00FF            A  1814    	DL	-16711681
0449E4 000000FF            A  1815    	DL	-16777216
0449E8 808000FF            A  1816    	DL	-16744320
0449EC 808000FF            A  1817    	DL	-16744320
0449F0 000000FF            A  1818    	DL	-16777216
0449F4 FFFF00FF            A  1819    	DL	-16711681
0449F8 000000FF            A  1820    	DL	-16777216
0449FC 000000FF            A  1821    	DL	-16777216
044A00 808000FF            A  1822    	DL	-16744320
044A04 FFFF00FF            A  1823    	DL	-16711681
044A08 FFFF00FF            A  1824    	DL	-16711681
044A0C FFFF00FF            A  1825    	DL	-16711681
044A10 FFFF00FF            A  1826    	DL	-16711681
044A14 808000FF            A  1827    	DL	-16744320
044A18 000000FF            A  1828    	DL	-16777216
044A1C 000000FF            A  1829    	DL	-16777216
044A20 000000FF            A  1830    	DL	-16777216
044A24 000000FF            A  1831    	DL	-16777216
044A28 000000FF            A  1832    	DL	-16777216
044A2C 000000FF            A  1833    	DL	-16777216
044A30 000000FF            A  1834    	DL	-16777216
044A34 000000FF            A  1835    	DL	-16777216
044A38 000000FF            A  1836    	DL	-16777216
                           A  1837    .DEFINE "boxongoalmini_data"
                           A  1838    .ALIAS "_boxongoalmini_data"
                           A  1839    .CLASS 69
                           A  1840    .VALUE _boxongoalmini_data
                           A  1841    .DIM 1
                           A  1842    .DIM 64
                           A  1843    .TYPE 879
                           A  1844    .ENDEF
044A3C                     A  1845    _playermini_data:
044A3C 000000FF            A  1846    	DL	-16777216
044A40 000000FF            A  1847    	DL	-16777216
044A44 404040FF            A  1848    	DL	-12566464
044A48 404040FF            A  1849    	DL	-12566464
044A4C 404040FF            A  1850    	DL	-12566464
044A50 404040FF            A  1851    	DL	-12566464
044A54 404040FF            A  1852    	DL	-12566464
044A58 000000FF            A  1853    	DL	-16777216
044A5C 000000FF            A  1854    	DL	-16777216
044A60 000000FF            A  1855    	DL	-16777216
044A64 404040FF            A  1856    	DL	-12566464
044A68 808000FF            A  1857    	DL	-16744320
044A6C 808000FF            A  1858    	DL	-16744320
044A70 808000FF            A  1859    	DL	-16744320
044A74 404040FF            A  1860    	DL	-12566464
044A78 000000FF            A  1861    	DL	-16777216
044A7C 000000FF            A  1862    	DL	-16777216
044A80 000000FF            A  1863    	DL	-16777216
044A84 000000FF            A  1864    	DL	-16777216
044A88 808000FF            A  1865    	DL	-16744320
044A8C 808000FF            A  1866    	DL	-16744320
044A90 808000FF            A  1867    	DL	-16744320
044A94 000000FF            A  1868    	DL	-16777216
044A98 000000FF            A  1869    	DL	-16777216
044A9C 000000FF            A  1870    	DL	-16777216
044AA0 000000FF            A  1871    	DL	-16777216
044AA4 000000FF            A  1872    	DL	-16777216
044AA8 404040FF            A  1873    	DL	-12566464
044AAC 800000FF            A  1874    	DL	-16777088
044AB0 404040FF            A  1875    	DL	-12566464
044AB4 000000FF            A  1876    	DL	-16777216
044AB8 000000FF            A  1877    	DL	-16777216
044ABC 000000FF            A  1878    	DL	-16777216
044AC0 000000FF            A  1879    	DL	-16777216
044AC4 808000FF            A  1880    	DL	-16744320
044AC8 FF0000FF            A  1881    	DL	-16776961
044ACC FF0000FF            A  1882    	DL	-16776961
044AD0 FF0000FF            A  1883    	DL	-16776961
044AD4 808000FF            A  1884    	DL	-16744320
044AD8 000000FF            A  1885    	DL	-16777216
044ADC 000000FF            A  1886    	DL	-16777216
044AE0 000000FF            A  1887    	DL	-16777216
044AE4 000000FF            A  1888    	DL	-16777216
044AE8 FF0000FF            A  1889    	DL	-16776961
044AEC FF0000FF            A  1890    	DL	-16776961
044AF0 FF0000FF            A  1891    	DL	-16776961
044AF4 000000FF            A  1892    	DL	-16777216
044AF8 000000FF            A  1893    	DL	-16777216
044AFC 000000FF            A  1894    	DL	-16777216
044B00 000000FF            A  1895    	DL	-16777216
044B04 000000FF            A  1896    	DL	-16777216
044B08 0000FFFF            A  1897    	DL	-65536
044B0C 000080FF            A  1898    	DL	-8388608
044B10 0000FFFF            A  1899    	DL	-65536
044B14 000000FF            A  1900    	DL	-16777216
044B18 000000FF            A  1901    	DL	-16777216
044B1C 000000FF            A  1902    	DL	-16777216
044B20 000000FF            A  1903    	DL	-16777216
044B24 0000FFFF            A  1904    	DL	-65536
044B28 0000FFFF            A  1905    	DL	-65536
044B2C 000000FF            A  1906    	DL	-16777216
044B30 0000FFFF            A  1907    	DL	-65536
044B34 0000FFFF            A  1908    	DL	-65536
044B38 000000FF            A  1909    	DL	-16777216
                           A  1910    .DEFINE "playermini_data"
                           A  1911    .ALIAS "_playermini_data"
                           A  1912    .CLASS 69
                           A  1913    .VALUE _playermini_data
                           A  1914    .DIM 1
                           A  1915    .DIM 64
                           A  1916    .TYPE 879
                           A  1917    .ENDEF
                           A  1918    ;   13	
                           A  1919    ;   14	struct undoitem undomove;			// 
                           A  1920    ;   15	UINT8 num_undomoves;
                           A  1921    ;   16	
                           A  1922    ;   17	UINT32 bitmapbuffer[BITMAPSIZE];	// 
                           A  1923    ;   18	UINT8 sprites[MAXHEIGHT][MAXWIDTH]; // 
                           A  1924    ;   19	struct sokobanlevel currentlevel;	// 
                           A  1925    ;   20	UINT8 spritenumber;					// 
                           A  1926    ;   21	
                           A  1927    ;   22	UINT32 wall_data[1][256] = {
                           A  1928    ;   23	{
                           A  1929    ;   24	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  1930    ;   25	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1931    ;   26	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1932    ;   27	0xff000080, 0xff000080, 0xff808080, 0xf
                           A  1933    ;   28	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1934    ;   29	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1935    ;   30	0xff808080, 0xff808080, 0xff808080, 0xf
                           A  1936    ;   31	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1937    ;   32	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1938    ;   33	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1939    ;   34	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1940    ;   35	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1941    ;   36	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1942    ;   37	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1943    ;   38	0xff404040, 0xff008080, 0xff808080, 0xf
                           A  1944    ;   39	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1945    ;   40	}
                           A  1946    ;   41	};
                           A  1947    ;   42	
                           A  1948    ;   43	UINT32 player_data[1][256] = {
                           A  1949    ;   44	{
                           A  1950    ;   45	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1951    ;   46	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1952    ;   47	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1953    ;   48	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1954    ;   49	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1955    ;   50	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1956    ;   51	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1957    ;   52	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1958    ;   53	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1959    ;   54	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1960    ;   55	0x00000000, 0x00000000, 0xff404040, 0xf
                           A  1961    ;   56	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1962    ;   57	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1963    ;   58	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1964    ;   59	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1965    ;   60	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1966    ;   61	}
                           A  1967    ;   62	};
                           A  1968    ;   63	
                           A  1969    ;   64	UINT32 goal_data[1][256] = {
                           A  1970    ;   65	{
                           A  1971    ;   66	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1972    ;   67	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1973    ;   68	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1974    ;   69	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1975    ;   70	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1976    ;   71	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1977    ;   72	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1978    ;   73	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1979    ;   74	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1980    ;   75	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1981    ;   76	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1982    ;   77	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1983    ;   78	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1984    ;   79	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1985    ;   80	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1986    ;   81	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1987    ;   82	}
                           A  1988    ;   83	};
                           A  1989    ;   84	
                           A  1990    ;   85	UINT32 box_data[1][256] = {
                           A  1991    ;   86	{
                           A  1992    ;   87	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1993    ;   88	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1994    ;   89	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1995    ;   90	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1996    ;   91	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1997    ;   92	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1998    ;   93	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1999    ;   94	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2000    ;   95	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2001    ;   96	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2002    ;   97	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2003    ;   98	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2004    ;   99	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2005    ;  100	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2006    ;  101	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2007    ;  102	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2008    ;  103	}
                           A  2009    ;  104	};
                           A  2010    ;  105	
                           A  2011    ;  106	UINT32 boxongoal_data[1][256] = {
                           A  2012    ;  107	{
                           A  2013    ;  108	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2014    ;  109	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2015    ;  110	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2016    ;  111	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2017    ;  112	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2018    ;  113	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2019    ;  114	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2020    ;  115	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2021    ;  116	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2022    ;  117	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2023    ;  118	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2024    ;  119	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2025    ;  120	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2026    ;  121	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2027    ;  122	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2028    ;  123	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2029    ;  124	}
                           A  2030    ;  125	};
                           A  2031    ;  126	
                           A  2032    ;  127	UINT32 boxmini_data[1][64] = {
                           A  2033    ;  128	{
                           A  2034    ;  129	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2035    ;  130	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2036    ;  131	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2037    ;  132	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2038    ;  133	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2039    ;  134	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2040    ;  135	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2041    ;  136	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2042    ;  137	}
                           A  2043    ;  138	};
                           A  2044    ;  139	
                           A  2045    ;  140	UINT32 wallmini_data[1][64] = {
                           A  2046    ;  141	{
                           A  2047    ;  142	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  2048    ;  143	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2049    ;  144	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2050    ;  145	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2051    ;  146	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  2052    ;  147	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2053    ;  148	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2054    ;  149	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2055    ;  150	}
                           A  2056    ;  151	};
                           A  2057    ;  152	
                           A  2058    ;  153	UINT32 goalmini_data[1][64] = {
                           A  2059    ;  154	{
                           A  2060    ;  155	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2061    ;  156	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2062    ;  157	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2063    ;  158	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2064    ;  159	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2065    ;  160	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2066    ;  161	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2067    ;  162	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2068    ;  163	}
                           A  2069    ;  164	};
                           A  2070    ;  165	
                           A  2071    ;  166	UINT32 boxongoalmini_data[1][64] = {
                           A  2072    ;  167	{
                           A  2073    ;  168	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2074    ;  169	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2075    ;  170	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2076    ;  171	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2077    ;  172	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2078    ;  173	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2079    ;  174	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2080    ;  175	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2081    ;  176	}
                           A  2082    ;  177	};
                           A  2083    ;  178	
                           A  2084    ;  179	UINT32 playermini_data[1][64] = {
                           A  2085    	SEGMENT CODE
                           A  2086    ;  180	{
                           A  2087    ;  181	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2088    ;  182	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2089    ;  183	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2090    ;  184	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2091    ;  185	0xff000000, 0xff000000, 0xff008080, 0xf
                           A  2092    ;  186	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2093    ;  187	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2094    ;  188	0xff000000, 0xff000000, 0xffff0000, 0xf
                           A  2095    ;  189	}
                           A  2096    ;  190	};
                           A  2097    ;  191	
                           A  2098    ;  192	void debug_print_playfieldText(void)
                           A  2099    ;  193	{
040EE3                     A  2100    _debug_print_playfieldText:
                           A  2101    .DEFINE "_debug_print_playfieldText"
                           A  2102    
                           A  2103    .VALUE _debug_print_playfieldText
                           A  2104    
                           A  2105    .CLASS 2
                           A  2106    
                           A  2107    .TYPE 65
                           A  2108    
                           A  2109    .ENDEF
                           A  2110    
                           A  2111    .BEGFUNC "debug_print_playfieldText",193,"_debu
                           A  2112    
                           A  2113    .LINE 193
                           A  2114    
                           A  2115    .DEFINE "width"
                           A  2116    
                           A  2117    .CLASS 65
                           A  2118    
                           A  2119    .VALUE -2
                           A  2120    
                           A  2121    .TYPE 13
                           A  2122    
                           A  2123    .ENDEF
                           A  2124    
                           A  2125    .DEFINE "c"
                           A  2126    
                           A  2127    .CLASS 65
                           A  2128    
                           A  2129    .VALUE -3
                           A  2130    
                           A  2131    .TYPE 2
                           A  2132    
                           A  2133    .ENDEF
                           A  2134    
                           A  2135    .DEFINE "height"
                           A  2136    
                           A  2137    .CLASS 65
                           A  2138    
                           A  2139    .VALUE -5
                           A  2140    
                           A  2141    .TYPE 13
                           A  2142    
                           A  2143    .ENDEF
                           A  2144    
040EE3 DDE5                A  2145    	PUSH	IX
040EE5 DD210000 00         A  2146    	LD	IX,0
040EEA DD39                A  2147    	ADD	IX,SP
040EEC C5                  A  2148    	PUSH	BC
040EED C5                  A  2149    	PUSH	BC
040EEE 3B                  A  2150    	DEC	SP
040EEF 3B                  A  2151    	DEC	SP
                           A  2152    ;  194		UINT16 width, height;
                           A  2153    ;  195		char c;
                           A  2154    ;  196		
                           A  2155    ;  197		for(height = 0; height < currentlev
                           A  2156    .LINE 197
                           A  2157    
040EF0 DD36FB00            A  2158    	LD	(IX+%FFFFFFFB),%0
040EF4 DD36FC00            A  2159    	LD	(IX+%FFFFFFFC),%0
040EF8 C3 04 10 04         A  2160    	JR	L_19
040EFC                     A  2161    L_17:
                           A  2162    ;  198		{
                           A  2163    ;  199			for(width = 0; width < currentl
                           A  2164    .LINE 199
                           A  2165    
040EFC DD36FE00            A  2166    	LD	(IX+%FFFFFFFE),%0
040F00 DD36FF00            A  2167    	LD	(IX+%FFFFFFFF),%0
040F04 18 56               A  2168    	JR	L_8
040F06                     A  2169    L_6:
                           A  2170    ;  200			{
                           A  2171    ;  201				c = currentlevel.data[heigh
                           A  2172    .LINE 201
                           A  2173    
040F06 DD07FB              A  2174    	LD	BC,(IX+%FFFFFFFB)
040F09 CD 39 2A 04         A  2175    	CALL	__stoiu
040F0D 3E28                A  2176    	LD	A,%28
040F0F CD B8 30 04         A  2177    	CALL	__imul_b
040F13 01 82 57 04         A  2178    	LD	BC,_currentlevel+7
040F17 09                  A  2179    	ADD	HL,BC
040F18 E5D1                A  2180    	LD	DE,HL
040F1A DD07FE              A  2181    	LD	BC,(IX+%FFFFFFFE)
040F1D CD 39 2A 04         A  2182    	CALL	__stoiu
040F21 19                  A  2183    	ADD	HL,DE
040F22 7E                  A  2184    	LD	A,(HL)
040F23 DD77FD              A  2185    	LD	(IX+%FFFFFFFD),A
                           A  2186    ;  202				printf("%c",c?c:' ');
                           A  2187    .LINE 202
                           A  2188    
040F26 B7                  A  2189    	OR	A,A
040F27 28 0E               A  2190    	JR	Z,L_4
040F29 DD7EFD              A  2191    	LD	A,(IX+%FFFFFFFD)
040F2C 17ED62              A  2192    	SEXT	HL
040F2F DD6EFD              A  2193    	LD	L,(IX+%FFFFFFFD)
040F32 DD2FF8              A  2194    	LD	(IX+%FFFFFFF8),HL
040F35 18 07               A  2195    	JR	L_5
040F37                     A  2196    L_4:
040F37 01200000            A  2197    	LD	BC,32
040F3B DD0FF8              A  2198    	LD	(IX+%FFFFFFF8),BC
040F3E                     A  2199    L_5:
040F3E 01 3F 2A 04         A  2200    	LD	BC,___print_uputch
040F42 ED43 3C 4B 04       A  2201    	LD	(___print_xputch),BC
040F47 DD4EF8              A  2202    	LD	C,(IX+%FFFFFFF8)
040F4A 0600                A  2203    	LD	B,%0
040F4C C5                  A  2204    	PUSH	BC
040F4D CD 3F 2A 04         A  2205    	CALL	___print_uputch
040F51 C1                  A  2206    	POP	BC
040F52 DD27FE              A  2207    	LD	HL,(IX+%FFFFFFFE)
040F55 23                  A  2208    	INC	HL
040F56 DD75FE              A  2209    	LD	(IX+%FFFFFFFE),L
040F59 DD74FF              A  2210    	LD	(IX+%FFFFFFFF),H
                           A  2211    ;  203			}
040F5C                     A  2212    L_8:
                           A  2213    .LINE 203
                           A  2214    
040F5C 3A 7D 57 04         A  2215    	LD	A,(_currentlevel+2)
040F60 4F                  A  2216    	LD	C,A
040F61 0600                A  2217    	LD	B,%0
040F63 DD27FE              A  2218    	LD	HL,(IX+%FFFFFFFE)
040F66 B7                  A  2219    	OR	A,A
040F67 40ED42              A  2220    	SBC.SIS	HL,BC
040F6A 38 9A               A  2221    	JR	C,L_6
                           A  2222    ;  204			printf(" ");
                           A  2223    .LINE 204
                           A  2224    
040F6C 01 3F 2A 04         A  2225    	LD	BC,___print_uputch
040F70 ED43 3C 4B 04       A  2226    	LD	(___print_xputch),BC
040F75 01200000            A  2227    	LD	BC,32
040F79 C5                  A  2228    	PUSH	BC
040F7A CD 3F 2A 04         A  2229    	CALL	___print_uputch
040F7E C1                  A  2230    	POP	BC
                           A  2231    ;  205			for(width = 0; width < currentl
                           A  2232    .LINE 205
                           A  2233    
040F7F DD36FE00            A  2234    	LD	(IX+%FFFFFFFE),%0
040F83 DD36FF00            A  2235    	LD	(IX+%FFFFFFFF),%0
040F87 18 4E               A  2236    	JR	L_15
040F89                     A  2237    L_13:
                           A  2238    ;  206			{
                           A  2239    ;  207				c = sprites[height][width] 
                           A  2240    .LINE 207
                           A  2241    
040F89 DD07FB              A  2242    	LD	BC,(IX+%FFFFFFFB)
040F8C CD 39 2A 04         A  2243    	CALL	__stoiu
040F90 3E28                A  2244    	LD	A,%28
040F92 CD B8 30 04         A  2245    	CALL	__imul_b
040F96 01 CB 52 04         A  2246    	LD	BC,_sprites
040F9A 09                  A  2247    	ADD	HL,BC
040F9B E5D1                A  2248    	LD	DE,HL
040F9D DD07FE              A  2249    	LD	BC,(IX+%FFFFFFFE)
040FA0 CD 39 2A 04         A  2250    	CALL	__stoiu
040FA4 19                  A  2251    	ADD	HL,DE
040FA5 7E                  A  2252    	LD	A,(HL)
040FA6 C630                A  2253    	ADD	A,%30
040FA8 DD77FD              A  2254    	LD	(IX+%FFFFFFFD),A
                           A  2255    ;  208				if(c > '9') c = 'X';
                           A  2256    .LINE 208
                           A  2257    
040FAB 3E39                A  2258    	LD	A,%39
040FAD DDBEFD              A  2259    	CP	A,(IX+%FFFFFFFD)
040FB0 F2 B8 0F 04         A  2260    	JP	P,L_12
040FB4 DD36FD58            A  2261    	LD	(IX+%FFFFFFFD),%58
040FB8                     A  2262    L_12:
                           A  2263    ;  209				printf("%c",c);
                           A  2264    .LINE 209
                           A  2265    
040FB8 01 3F 2A 04         A  2266    	LD	BC,___print_uputch
040FBC ED43 3C 4B 04       A  2267    	LD	(___print_xputch),BC
040FC1 DD6EFD              A  2268    	LD	L,(IX+%FFFFFFFD)
040FC4 4D                  A  2269    	LD	C,L
040FC5 0600                A  2270    	LD	B,%0
040FC7 C5                  A  2271    	PUSH	BC
040FC8 CD 3F 2A 04         A  2272    	CALL	___print_uputch
040FCC C1                  A  2273    	POP	BC
040FCD DD27FE              A  2274    	LD	HL,(IX+%FFFFFFFE)
040FD0 23                  A  2275    	INC	HL
040FD1 DD75FE              A  2276    	LD	(IX+%FFFFFFFE),L
040FD4 DD74FF              A  2277    	LD	(IX+%FFFFFFFF),H
                           A  2278    ;  210			}
040FD7                     A  2279    L_15:
                           A  2280    .LINE 210
                           A  2281    
040FD7 3A 7D 57 04         A  2282    	LD	A,(_currentlevel+2)
040FDB 4F                  A  2283    	LD	C,A
040FDC 0600                A  2284    	LD	B,%0
040FDE DD27FE              A  2285    	LD	HL,(IX+%FFFFFFFE)
040FE1 B7                  A  2286    	OR	A,A
040FE2 40ED42              A  2287    	SBC.SIS	HL,BC
040FE5 38 A2               A  2288    	JR	C,L_13
                           A  2289    ;  211			printf("\n\r");
                           A  2290    .LINE 211
                           A  2291    
040FE7 01 3F 2A 04         A  2292    	LD	BC,___print_uputch
040FEB ED43 3C 4B 04       A  2293    	LD	(___print_xputch),BC
040FF0 01 96 4D 04         A  2294    	LD	BC,L__4
040FF4 C5                  A  2295    	PUSH	BC
040FF5 CD CE 28 04         A  2296    	CALL	___print_sendstring
040FF9 C1                  A  2297    	POP	BC
040FFA DD27FB              A  2298    	LD	HL,(IX+%FFFFFFFB)
040FFD 23                  A  2299    	INC	HL
040FFE DD75FB              A  2300    	LD	(IX+%FFFFFFFB),L
041001 DD74FC              A  2301    	LD	(IX+%FFFFFFFC),H
                           A  2302    ;  212		}
041004                     A  2303    L_19:
                           A  2304    .LINE 212
                           A  2305    
041004 3A 7E 57 04         A  2306    	LD	A,(_currentlevel+3)
041008 4F                  A  2307    	LD	C,A
041009 0600                A  2308    	LD	B,%0
04100B DD27FB              A  2309    	LD	HL,(IX+%FFFFFFFB)
04100E B7                  A  2310    	OR	A,A
04100F 40ED42              A  2311    	SBC.SIS	HL,BC
041012 DA FC 0E 04         A  2312    	JR	C,L_17
                           A  2313    ;  213	}
                           A  2314    .LINE 213
                           A  2315    
041016 DDF9                A  2316    	LD	SP,IX
041018 DDE1                A  2317    	POP	IX
04101A C9                  A  2318    	RET	
                           A  2319    
                           A  2320    
                           A  2321    ;**************************** _debug_print_play
                           A  2322    ;Name                         Addr/Register   S
                           A  2323    ;___print_sendstring                 IMPORT  --
                           A  2324    ;_sprites                            STATIC   1
                           A  2325    ;___print_xputch                     IMPORT    
                           A  2326    ;___print_uputch                     IMPORT  --
                           A  2327    ;_currentlevel                       STATIC   1
                           A  2328    ;temp2                                 IX-8    
                           A  2329    ;height                                IX-5    
                           A  2330    ;c                                     IX-3    
                           A  2331    ;width                                 IX-2    
                           A  2332    
                           A  2333    
                           A  2334    ; Stack Frame Size: 14 (bytes)
                           A  2335    ;       Spill Code: 0 (instruction)
                           A  2336    
                           A  2337    
                           A  2338    .ENDFUNC "debug_print_playfieldText",213,"_debu
                           A  2339    	SEGMENT STRSECT
044D96                     A  2340    L__4:
044D96 0A0D00              A  2341    	DB	10,13,0
                           A  2342    	SEGMENT CODE
                           A  2343    ;  214	
                           A  2344    ;  215	
                           A  2345    ;  216	void game_sendSpriteData(void)
                           A  2346    ;  217	{
04101B                     A  2347    _game_sendSpriteData:
                           A  2348    .DEFINE "_game_sendSpriteData"
                           A  2349    
                           A  2350    .VALUE _game_sendSpriteData
                           A  2351    
                           A  2352    .CLASS 2
                           A  2353    
                           A  2354    .TYPE 65
                           A  2355    
                           A  2356    .ENDEF
                           A  2357    
                           A  2358    .BEGFUNC "game_sendSpriteData",217,"_game_sendS
                           A  2359    
04101B DDE5                A  2360    	PUSH	IX
04101D DD210000 00         A  2361    	LD	IX,0
041022 DD39                A  2362    	ADD	IX,SP
                           A  2363    ;  218		// needs to be called once, to load
                           A  2364    ;  219		
                           A  2365    ;  220		vdp_bitmapSendData(TILE_WALL, BITMA
                           A  2366    .LINE 220
                           A  2367    
041024 01 3C 32 04         A  2368    	LD	BC,_wall_data
041028 C5                  A  2369    	PUSH	BC
041029 01100000            A  2370    	LD	BC,16
04102D C5                  A  2371    	PUSH	BC
04102E C5                  A  2372    	PUSH	BC
04102F 01000000            A  2373    	LD	BC,0
041033 C5                  A  2374    	PUSH	BC
041034 CD 8A 08 04         A  2375    	CALL	_vdp_bitmapSendData
041038 C1                  A  2376    	POP	BC
041039 C1                  A  2377    	POP	BC
04103A C1                  A  2378    	POP	BC
04103B C1                  A  2379    	POP	BC
                           A  2380    ;  221		vdp_bitmapSendData(TILE_PLAYER, BIT
                           A  2381    .LINE 221
                           A  2382    
04103C 01 3C 36 04         A  2383    	LD	BC,_player_data
041040 C5                  A  2384    	PUSH	BC
041041 01100000            A  2385    	LD	BC,16
041045 C5                  A  2386    	PUSH	BC
041046 C5                  A  2387    	PUSH	BC
041047 01010000            A  2388    	LD	BC,1
04104B C5                  A  2389    	PUSH	BC
04104C CD 8A 08 04         A  2390    	CALL	_vdp_bitmapSendData
041050 C1                  A  2391    	POP	BC
041051 C1                  A  2392    	POP	BC
041052 C1                  A  2393    	POP	BC
041053 C1                  A  2394    	POP	BC
                           A  2395    ;  222		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2396    .LINE 222
                           A  2397    
041054 01 3C 36 04         A  2398    	LD	BC,_player_data
041058 C5                  A  2399    	PUSH	BC
041059 01100000            A  2400    	LD	BC,16
04105D C5                  A  2401    	PUSH	BC
04105E C5                  A  2402    	PUSH	BC
04105F 01020000            A  2403    	LD	BC,2
041063 C5                  A  2404    	PUSH	BC
041064 CD 8A 08 04         A  2405    	CALL	_vdp_bitmapSendData
041068 C1                  A  2406    	POP	BC
041069 C1                  A  2407    	POP	BC
04106A C1                  A  2408    	POP	BC
04106B C1                  A  2409    	POP	BC
                           A  2410    ;  223		vdp_bitmapSendData(TILE_BOX, BITMAP
                           A  2411    .LINE 223
                           A  2412    
04106C 01 3C 3E 04         A  2413    	LD	BC,_box_data
041070 C5                  A  2414    	PUSH	BC
041071 01100000            A  2415    	LD	BC,16
041075 C5                  A  2416    	PUSH	BC
041076 C5                  A  2417    	PUSH	BC
041077 01030000            A  2418    	LD	BC,3
04107B C5                  A  2419    	PUSH	BC
04107C CD 8A 08 04         A  2420    	CALL	_vdp_bitmapSendData
041080 C1                  A  2421    	POP	BC
041081 C1                  A  2422    	POP	BC
041082 C1                  A  2423    	POP	BC
041083 C1                  A  2424    	POP	BC
                           A  2425    ;  224		vdp_bitmapSendData(TILE_BOXONGOAL, 
                           A  2426    .LINE 224
                           A  2427    
041084 01 3C 42 04         A  2428    	LD	BC,_boxongoal_data
041088 C5                  A  2429    	PUSH	BC
041089 01100000            A  2430    	LD	BC,16
04108D C5                  A  2431    	PUSH	BC
04108E C5                  A  2432    	PUSH	BC
04108F 01040000            A  2433    	LD	BC,4
041093 C5                  A  2434    	PUSH	BC
041094 CD 8A 08 04         A  2435    	CALL	_vdp_bitmapSendData
041098 C1                  A  2436    	POP	BC
041099 C1                  A  2437    	POP	BC
04109A C1                  A  2438    	POP	BC
04109B C1                  A  2439    	POP	BC
                           A  2440    ;  225		vdp_bitmapSendData(TILE_GOAL, BITMA
                           A  2441    .LINE 225
                           A  2442    
04109C 01 3C 3A 04         A  2443    	LD	BC,_goal_data
0410A0 C5                  A  2444    	PUSH	BC
0410A1 01100000            A  2445    	LD	BC,16
0410A5 C5                  A  2446    	PUSH	BC
0410A6 C5                  A  2447    	PUSH	BC
0410A7 01050000            A  2448    	LD	BC,5
0410AB C5                  A  2449    	PUSH	BC
0410AC CD 8A 08 04         A  2450    	CALL	_vdp_bitmapSendData
0410B0 C1                  A  2451    	POP	BC
0410B1 C1                  A  2452    	POP	BC
0410B2 C1                  A  2453    	POP	BC
0410B3 C1                  A  2454    	POP	BC
                           A  2455    ;  226		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2456    .LINE 226
                           A  2457    
0410B4 01FF0000            A  2458    	LD	BC,255
0410B8 C5                  A  2459    	PUSH	BC
0410B9 01000000            A  2460    	LD	BC,0
0410BD C5                  A  2461    	PUSH	BC
0410BE 01100000            A  2462    	LD	BC,16
0410C2 C5                  A  2463    	PUSH	BC
0410C3 C5                  A  2464    	PUSH	BC
0410C4 01060000            A  2465    	LD	BC,6
0410C8 C5                  A  2466    	PUSH	BC
0410C9 CD 69 09 04         A  2467    	CALL	_vdp_bitmapCreateSolidColor
0410CD C1                  A  2468    	POP	BC
0410CE C1                  A  2469    	POP	BC
0410CF C1                  A  2470    	POP	BC
0410D0 C1                  A  2471    	POP	BC
0410D1 C1                  A  2472    	POP	BC
                           A  2473    ;  227		
                           A  2474    ;  228		vdp_bitmapSendData(TILE_WALL_MINI, 
                           A  2475    .LINE 228
                           A  2476    
0410D2 01 3C 47 04         A  2477    	LD	BC,_wallmini_data
0410D6 C5                  A  2478    	PUSH	BC
0410D7 01080000            A  2479    	LD	BC,8
0410DB C5                  A  2480    	PUSH	BC
0410DC C5                  A  2481    	PUSH	BC
0410DD 01070000            A  2482    	LD	BC,7
0410E1 C5                  A  2483    	PUSH	BC
0410E2 CD 8A 08 04         A  2484    	CALL	_vdp_bitmapSendData
0410E6 C1                  A  2485    	POP	BC
0410E7 C1                  A  2486    	POP	BC
0410E8 C1                  A  2487    	POP	BC
0410E9 C1                  A  2488    	POP	BC
                           A  2489    ;  229		vdp_bitmapSendData(TILE_PLAYER_MINI
                           A  2490    .LINE 229
                           A  2491    
0410EA 01 3C 4A 04         A  2492    	LD	BC,_playermini_data
0410EE C5                  A  2493    	PUSH	BC
0410EF 01080000            A  2494    	LD	BC,8
0410F3 C5                  A  2495    	PUSH	BC
0410F4 C5                  A  2496    	PUSH	BC
0410F5 C5                  A  2497    	PUSH	BC
0410F6 CD 8A 08 04         A  2498    	CALL	_vdp_bitmapSendData
0410FA C1                  A  2499    	POP	BC
0410FB C1                  A  2500    	POP	BC
0410FC C1                  A  2501    	POP	BC
0410FD C1                  A  2502    	POP	BC
                           A  2503    ;  230		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2504    .LINE 230
                           A  2505    
0410FE 01 3C 4A 04         A  2506    	LD	BC,_playermini_data
041102 C5                  A  2507    	PUSH	BC
041103 01080000            A  2508    	LD	BC,8
041107 C5                  A  2509    	PUSH	BC
041108 C5                  A  2510    	PUSH	BC
041109 01090000            A  2511    	LD	BC,9
04110D C5                  A  2512    	PUSH	BC
04110E CD 8A 08 04         A  2513    	CALL	_vdp_bitmapSendData
041112 C1                  A  2514    	POP	BC
041113 C1                  A  2515    	POP	BC
041114 C1                  A  2516    	POP	BC
041115 C1                  A  2517    	POP	BC
                           A  2518    ;  231		vdp_bitmapSendData(TILE_BOX_MINI, M
                           A  2519    .LINE 231
                           A  2520    
041116 01 3C 46 04         A  2521    	LD	BC,_boxmini_data
04111A C5                  A  2522    	PUSH	BC
04111B 01080000            A  2523    	LD	BC,8
04111F C5                  A  2524    	PUSH	BC
041120 C5                  A  2525    	PUSH	BC
041121 010A0000            A  2526    	LD	BC,10
041125 C5                  A  2527    	PUSH	BC
041126 CD 8A 08 04         A  2528    	CALL	_vdp_bitmapSendData
04112A C1                  A  2529    	POP	BC
04112B C1                  A  2530    	POP	BC
04112C C1                  A  2531    	POP	BC
04112D C1                  A  2532    	POP	BC
                           A  2533    ;  232		vdp_bitmapSendData(TILE_BOXONGOAL_M
                           A  2534    .LINE 232
                           A  2535    
04112E 01 3C 49 04         A  2536    	LD	BC,_boxongoalmini_data
041132 C5                  A  2537    	PUSH	BC
041133 01080000            A  2538    	LD	BC,8
041137 C5                  A  2539    	PUSH	BC
041138 C5                  A  2540    	PUSH	BC
041139 010B0000            A  2541    	LD	BC,11
04113D C5                  A  2542    	PUSH	BC
04113E CD 8A 08 04         A  2543    	CALL	_vdp_bitmapSendData
041142 C1                  A  2544    	POP	BC
041143 C1                  A  2545    	POP	BC
041144 C1                  A  2546    	POP	BC
041145 C1                  A  2547    	POP	BC
                           A  2548    ;  233		vdp_bitmapSendData(TILE_GOAL_MINI, 
                           A  2549    .LINE 233
                           A  2550    
041146 01 3C 48 04         A  2551    	LD	BC,_goalmini_data
04114A C5                  A  2552    	PUSH	BC
04114B 01080000            A  2553    	LD	BC,8
04114F C5                  A  2554    	PUSH	BC
041150 C5                  A  2555    	PUSH	BC
041151 010C0000            A  2556    	LD	BC,12
041155 C5                  A  2557    	PUSH	BC
041156 CD 8A 08 04         A  2558    	CALL	_vdp_bitmapSendData
04115A C1                  A  2559    	POP	BC
04115B C1                  A  2560    	POP	BC
04115C C1                  A  2561    	POP	BC
04115D C1                  A  2562    	POP	BC
                           A  2563    ;  234		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2564    .LINE 234
                           A  2565    
04115E 01FF0000            A  2566    	LD	BC,255
041162 C5                  A  2567    	PUSH	BC
041163 01000000            A  2568    	LD	BC,0
041167 C5                  A  2569    	PUSH	BC
041168 01080000            A  2570    	LD	BC,8
04116C C5                  A  2571    	PUSH	BC
04116D C5                  A  2572    	PUSH	BC
04116E 010D0000            A  2573    	LD	BC,13
041172 C5                  A  2574    	PUSH	BC
041173 CD 69 09 04         A  2575    	CALL	_vdp_bitmapCreateSolidColor
041177 C1                  A  2576    	POP	BC
041178 C1                  A  2577    	POP	BC
041179 C1                  A  2578    	POP	BC
04117A C1                  A  2579    	POP	BC
04117B C1                  A  2580    	POP	BC
                           A  2581    ;  235		vdp_bitmapCreateSolidColor(TILE_MIN
                           A  2582    .LINE 235
                           A  2583    
04117C 01FF0000            A  2584    	LD	BC,255
041180 C5                  A  2585    	PUSH	BC
041181 01000000            A  2586    	LD	BC,0
041185 C5                  A  2587    	PUSH	BC
041186 01080000            A  2588    	LD	BC,8
04118A C5                  A  2589    	PUSH	BC
04118B C5                  A  2590    	PUSH	BC
04118C 010E0000            A  2591    	LD	BC,14
041190 C5                  A  2592    	PUSH	BC
041191 CD 69 09 04         A  2593    	CALL	_vdp_bitmapCreateSolidColor
041195 C1                  A  2594    	POP	BC
041196 C1                  A  2595    	POP	BC
041197 C1                  A  2596    	POP	BC
041198 C1                  A  2597    	POP	BC
041199 C1                  A  2598    	POP	BC
                           A  2599    ;  236		
                           A  2600    ;  237		return;
                           A  2601    ;  238	}
                           A  2602    .LINE 238
                           A  2603    
04119A DDF9                A  2604    	LD	SP,IX
04119C DDE1                A  2605    	POP	IX
04119E C9                  A  2606    	RET	
                           A  2607    
                           A  2608    
                           A  2609    ;**************************** _game_sendSpriteD
                           A  2610    ;Name                         Addr/Register   S
                           A  2611    ;_goalmini_data                      STATIC    
                           A  2612    ;_boxongoalmini_data                 STATIC    
                           A  2613    ;_boxmini_data                       STATIC    
                           A  2614    ;_playermini_data                    STATIC    
                           A  2615    ;_wallmini_data                      STATIC    
                           A  2616    ;_vdp_bitmapCreateSolidColor         IMPORT  --
                           A  2617    ;_goal_data                          STATIC   1
                           A  2618    ;_boxongoal_data                     STATIC   1
                           A  2619    ;_box_data                           STATIC   1
                           A  2620    ;_player_data                        STATIC   1
                           A  2621    ;_wall_data                          STATIC   1
                           A  2622    ;_vdp_bitmapSendData                 IMPORT  --
                           A  2623    
                           A  2624    
                           A  2625    ; Stack Frame Size: 6 (bytes)
                           A  2626    ;       Spill Code: 0 (instruction)
                           A  2627    
                           A  2628    
                           A  2629    .ENDFUNC "game_sendSpriteData",238,"_game_sendS
                           A  2630    ;  239	
                           A  2631    ;  240	void game_resetSprites(void)
                           A  2632    ;  241	{
04119F                     A  2633    _game_resetSprites:
                           A  2634    .DEFINE "_game_resetSprites"
                           A  2635    
                           A  2636    .VALUE _game_resetSprites
                           A  2637    
                           A  2638    .CLASS 2
                           A  2639    
                           A  2640    .TYPE 65
                           A  2641    
                           A  2642    .ENDEF
                           A  2643    
                           A  2644    .BEGFUNC "game_resetSprites",241,"_game_resetSp
                           A  2645    
                           A  2646    .LINE 241
                           A  2647    
                           A  2648    .DEFINE "n"
                           A  2649    
                           A  2650    .CLASS 65
                           A  2651    
                           A  2652    .VALUE -1
                           A  2653    
                           A  2654    .TYPE 12
                           A  2655    
                           A  2656    .ENDEF
                           A  2657    
04119F DDE5                A  2658    	PUSH	IX
0411A1 DD210000 00         A  2659    	LD	IX,0
0411A6 DD39                A  2660    	ADD	IX,SP
0411A8 3B                  A  2661    	DEC	SP
                           A  2662    ;  242		UINT8 n;
                           A  2663    ;  243		
                           A  2664    ;  244		// disable all sprites
                           A  2665    ;  245		for(n = 0; n < spritenumber; n++)
                           A  2666    .LINE 245
                           A  2667    
0411A9 DD36FF00            A  2668    	LD	(IX+%FFFFFFFF),%0
0411AD 18 2E               A  2669    	JR	L_25
0411AF                     A  2670    L_23:
                           A  2671    ;  246		{
                           A  2672    ;  247			vdp_spriteSelect(n);
                           A  2673    .LINE 247
                           A  2674    
0411AF DD4EFF              A  2675    	LD	C,(IX+%FFFFFFFF)
0411B2 0600                A  2676    	LD	B,%0
0411B4 C5                  A  2677    	PUSH	BC
0411B5 CD 9C 09 04         A  2678    	CALL	_vdp_spriteSelect
0411B9 C1                  A  2679    	POP	BC
                           A  2680    ;  248			vdp_spriteHide(n);
                           A  2681    .LINE 248
                           A  2682    
0411BA DD4EFF              A  2683    	LD	C,(IX+%FFFFFFFF)
0411BD 0600                A  2684    	LD	B,%0
0411BF C5                  A  2685    	PUSH	BC
0411C0 CD D8 0B 04         A  2686    	CALL	_vdp_spriteHide
0411C4 C1                  A  2687    	POP	BC
                           A  2688    ;  249			vdp_spriteSetFrame(n,0);
                           A  2689    .LINE 249
                           A  2690    
0411C5 01000000            A  2691    	LD	BC,0
0411C9 C5                  A  2692    	PUSH	BC
0411CA DD4EFF              A  2693    	LD	C,(IX+%FFFFFFFF)
0411CD 0600                A  2694    	LD	B,%0
0411CF C5                  A  2695    	PUSH	BC
0411D0 CD 46 0B 04         A  2696    	CALL	_vdp_spriteSetFrame
0411D4 C1                  A  2697    	POP	BC
0411D5 C1                  A  2698    	POP	BC
                           A  2699    ;  250			vdp_spriteClearFramesSelected()
                           A  2700    .LINE 250
                           A  2701    
0411D6 CD D5 09 04         A  2702    	CALL	_vdp_spriteClearFramesSelected
0411DA DD34FF              A  2703    	INC	(IX+%FFFFFFFF)
                           A  2704    ;  251		}
0411DD                     A  2705    L_25:
                           A  2706    .LINE 251
                           A  2707    
0411DD DD7EFF              A  2708    	LD	A,(IX+%FFFFFFFF)
0411E0 21 32 5C 04         A  2709    	LD	HL,_spritenumber
0411E4 BE                  A  2710    	CP	A,(HL)
0411E5 38 C8               A  2711    	JR	C,L_23
                           A  2712    ;  252		vdp_spriteActivateTotal(0);
                           A  2713    .LINE 252
                           A  2714    
0411E7 01000000            A  2715    	LD	BC,0
0411EB C5                  A  2716    	PUSH	BC
0411EC CD BF 0C 04         A  2717    	CALL	_vdp_spriteActivateTotal
0411F0 C1                  A  2718    	POP	BC
                           A  2719    ;  253		spritenumber = 0;
                           A  2720    .LINE 253
                           A  2721    
0411F1 AF                  A  2722    	XOR	A,A
0411F2 32 32 5C 04         A  2723    	LD	(_spritenumber),A
                           A  2724    ;  254	
                           A  2725    ;  255		// reset all sprite positions and c
                           A  2726    ;  256		memset(sprites, 255, MAXHEIGHT*MAXW
                           A  2727    .LINE 256
                           A  2728    
0411F6 01B00400            A  2729    	LD	BC,1200
0411FA C5                  A  2730    	PUSH	BC
0411FB 01FF0000            A  2731    	LD	BC,255
0411FF C5                  A  2732    	PUSH	BC
041200 01 CB 52 04         A  2733    	LD	BC,_sprites
041204 C5                  A  2734    	PUSH	BC
041205 CD E3 31 04         A  2735    	CALL	_memset
041209 C1                  A  2736    	POP	BC
04120A C1                  A  2737    	POP	BC
04120B C1                  A  2738    	POP	BC
                           A  2739    ;  257	
                           A  2740    ;  258		vdp_spriteRefresh();
                           A  2741    .LINE 258
                           A  2742    
04120C CD F8 0C 04         A  2743    	CALL	_vdp_spriteRefresh
                           A  2744    ;  259		return;
                           A  2745    ;  260	}
                           A  2746    .LINE 260
                           A  2747    
041210 DDF9                A  2748    	LD	SP,IX
041212 DDE1                A  2749    	POP	IX
041214 C9                  A  2750    	RET	
                           A  2751    
                           A  2752    
                           A  2753    ;**************************** _game_resetSprite
                           A  2754    ;Name                         Addr/Register   S
                           A  2755    ;_vdp_spriteRefresh                  IMPORT  --
                           A  2756    ;_sprites                            STATIC   1
                           A  2757    ;_memset                             IMPORT  --
                           A  2758    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  2759    ;_spritenumber                       STATIC    
                           A  2760    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2761    ;_vdp_spriteSetFrame                 IMPORT  --
                           A  2762    ;_vdp_spriteHide                     IMPORT  --
                           A  2763    ;_vdp_spriteSelect                   IMPORT  --
                           A  2764    ;n                                     IX-1    
                           A  2765    
                           A  2766    
                           A  2767    ; Stack Frame Size: 7 (bytes)
                           A  2768    ;       Spill Code: 0 (instruction)
                           A  2769    
                           A  2770    
                           A  2771    .ENDFUNC "game_resetSprites",260,"_game_resetSp
                           A  2772    ;  261	
                           A  2773    ;  262	BOOL canmove(UINT16 xn1, UINT16 yn1, UI
                           A  2774    ;  263	{
041215                     A  2775    _canmove:
                           A  2776    .DEFINE "_canmove"
                           A  2777    
                           A  2778    .VALUE _canmove
                           A  2779    
                           A  2780    .CLASS 2
                           A  2781    
                           A  2782    .TYPE 76
                           A  2783    
                           A  2784    .ENDEF
                           A  2785    
                           A  2786    .BEGFUNC "canmove",263,"_canmove"
                           A  2787    
                           A  2788    .LINE 263
                           A  2789    
                           A  2790    .DEFINE "xn1"
                           A  2791    
                           A  2792    .CLASS 65
                           A  2793    
                           A  2794    .VALUE 6
                           A  2795    
                           A  2796    .TYPE 13
                           A  2797    
                           A  2798    .ENDEF
                           A  2799    
                           A  2800    .DEFINE "yn1"
                           A  2801    
                           A  2802    .CLASS 65
                           A  2803    
                           A  2804    .VALUE 9
                           A  2805    
                           A  2806    .TYPE 13
                           A  2807    
                           A  2808    .ENDEF
                           A  2809    
                           A  2810    .DEFINE "xn2"
                           A  2811    
                           A  2812    .CLASS 65
                           A  2813    
                           A  2814    .VALUE 12
                           A  2815    
                           A  2816    .TYPE 13
                           A  2817    
                           A  2818    .ENDEF
                           A  2819    
                           A  2820    .DEFINE "yn2"
                           A  2821    
                           A  2822    .CLASS 65
                           A  2823    
                           A  2824    .VALUE 15
                           A  2825    
                           A  2826    .TYPE 13
                           A  2827    
                           A  2828    .ENDEF
                           A  2829    
                           A  2830    .DEFINE "n1"
                           A  2831    
                           A  2832    .CLASS 65
                           A  2833    
                           A  2834    .VALUE -1
                           A  2835    
                           A  2836    .TYPE 12
                           A  2837    
                           A  2838    .ENDEF
                           A  2839    
                           A  2840    .DEFINE "n2"
                           A  2841    
                           A  2842    .CLASS 65
                           A  2843    
                           A  2844    .VALUE -2
                           A  2845    
                           A  2846    .TYPE 12
                           A  2847    
                           A  2848    .ENDEF
                           A  2849    
041215 DDE5                A  2850    	PUSH	IX
041217 DD210000 00         A  2851    	LD	IX,0
04121C DD39                A  2852    	ADD	IX,SP
04121E 3B                  A  2853    	DEC	SP
04121F 3B                  A  2854    	DEC	SP
                           A  2855    ;  264		BOOL can = FALSE;
                           A  2856    ;  265		UINT8 n1, n2;
                           A  2857    ;  266		
                           A  2858    ;  267		n1 = currentlevel.data[yn1][xn1];
                           A  2859    .LINE 267
                           A  2860    
041220 DD0709              A  2861    	LD	BC,(IX+%9)
041223 CD 39 2A 04         A  2862    	CALL	__stoiu
041227 3E28                A  2863    	LD	A,%28
041229 CD B8 30 04         A  2864    	CALL	__imul_b
04122D 01 82 57 04         A  2865    	LD	BC,_currentlevel+7
041231 09                  A  2866    	ADD	HL,BC
041232 E5D1                A  2867    	LD	DE,HL
041234 DD0706              A  2868    	LD	BC,(IX+%6)
041237 CD 39 2A 04         A  2869    	CALL	__stoiu
04123B 19                  A  2870    	ADD	HL,DE
04123C 7E                  A  2871    	LD	A,(HL)
04123D DD77FF              A  2872    	LD	(IX+%FFFFFFFF),A
                           A  2873    ;  268		n2 = currentlevel.data[yn2][xn2];
                           A  2874    .LINE 268
                           A  2875    
041240 DD070F              A  2876    	LD	BC,(IX+%F)
041243 CD 39 2A 04         A  2877    	CALL	__stoiu
041247 3E28                A  2878    	LD	A,%28
041249 CD B8 30 04         A  2879    	CALL	__imul_b
04124D 01 82 57 04         A  2880    	LD	BC,_currentlevel+7
041251 09                  A  2881    	ADD	HL,BC
041252 E5D1                A  2882    	LD	DE,HL
041254 DD070C              A  2883    	LD	BC,(IX+%C)
041257 CD 39 2A 04         A  2884    	CALL	__stoiu
04125B 19                  A  2885    	ADD	HL,DE
04125C 7E                  A  2886    	LD	A,(HL)
04125D DD77FE              A  2887    	LD	(IX+%FFFFFFFE),A
                           A  2888    ;  269		
                           A  2889    ;  270		switch(n1)
                           A  2890    .LINE 270
                           A  2891    
041260 DD7EFF              A  2892    	LD	A,(IX+%FFFFFFFF)
041263 B7ED62              A  2893    	UEXT	HL
041266 6F                  A  2894    	LD	L,A
041267 CD 4D 31 04         A  2895    	CALL	__case8D
04126B E9                  A  2896    	JP	(HL)
04126C                     A  2897    L__10:
04126C 0300                A  2898    	DW	3
04126E 20                  A  2899    	DB	32
04126F 801204              A  2900    	DW24	L_29	
                           A  2901    
041272 23                  A  2902    	DB	35
041273 7D1204              A  2903    	DW24	L_28	
                           A  2904    
041276 2E                  A  2905    	DB	46
041277 801204              A  2906    	DW24	L_30	
                           A  2907    
04127A 841204              A  2908    	DW24	L_34	
                           A  2909    
                           A  2910    ;  271		{
                           A  2911    ;  272			case CHAR_WALL:
04127D                     A  2912    L_28:
                           A  2913    .LINE 272
                           A  2914    
                           A  2915    ;  273				return FALSE;
                           A  2916    .LINE 273
                           A  2917    
04127D AF                  A  2918    	XOR	A,A
04127E 18 29               A  2919    	JR	L_36
                           A  2920    ;  274				break;
                           A  2921    ;  275			case CHAR_FLOOR:
041280                     A  2922    L_29:
                           A  2923    .LINE 275
                           A  2924    
                           A  2925    ;  276			case CHAR_GOAL:
041280                     A  2926    L_30:
                           A  2927    .LINE 276
                           A  2928    
                           A  2929    ;  277				return TRUE;
                           A  2930    .LINE 277
                           A  2931    
041280 3E01                A  2932    	LD	A,%1
041282 18 25               A  2933    	JR	L_36
                           A  2934    ;  278				break;
                           A  2935    ;  279		}
041284                     A  2936    L_34:
                           A  2937    .LINE 279
                           A  2938    
                           A  2939    ;  280		// either BOX or BOXONGOAL next to 
                           A  2940    ;  281		switch(n2)
                           A  2941    .LINE 281
                           A  2942    
041284 DD7EFE              A  2943    	LD	A,(IX+%FFFFFFFE)
041287 B7ED62              A  2944    	UEXT	HL
04128A 6F                  A  2945    	LD	L,A
04128B CD 4D 31 04         A  2946    	CALL	__case8D
04128F E9                  A  2947    	JP	(HL)
041290                     A  2948    L__11:
041290 0300                A  2949    	DW	3
041292 23                  A  2950    	DB	35
041293 A11204              A  2951    	DW24	L_31	
                           A  2952    
041296 24                  A  2953    	DB	36
041297 A41204              A  2954    	DW24	L_32	
                           A  2955    
04129A 2A                  A  2956    	DB	42
04129B A41204              A  2957    	DW24	L_33	
                           A  2958    
04129E A71204              A  2959    	DW24	L_35	
                           A  2960    
                           A  2961    ;  282		{
                           A  2962    ;  283			case CHAR_WALL:
0412A1                     A  2963    L_31:
                           A  2964    .LINE 283
                           A  2965    
                           A  2966    ;  284				return FALSE;
                           A  2967    .LINE 284
                           A  2968    
0412A1 AF                  A  2969    	XOR	A,A
0412A2 18 05               A  2970    	JR	L_36
                           A  2971    ;  285				break;
                           A  2972    ;  286			case CHAR_BOX:
0412A4                     A  2973    L_32:
                           A  2974    .LINE 286
                           A  2975    
                           A  2976    ;  287			case CHAR_BOXONGOAL:
0412A4                     A  2977    L_33:
                           A  2978    .LINE 287
                           A  2979    
                           A  2980    ;  288				return FALSE;
                           A  2981    .LINE 288
                           A  2982    
0412A4 AF                  A  2983    	XOR	A,A
0412A5 18 02               A  2984    	JR	L_36
                           A  2985    ;  289				break;
                           A  2986    ;  290		}
0412A7                     A  2987    L_35:
                           A  2988    .LINE 290
                           A  2989    
                           A  2990    ;  291		// only FLOOR or empty GOAL remaini
                           A  2991    ;  292		return TRUE;
                           A  2992    .LINE 292
                           A  2993    
0412A7 3E01                A  2994    	LD	A,%1
                           A  2995    ;  293	}
0412A9                     A  2996    L_36:
                           A  2997    .LINE 293
                           A  2998    
0412A9 DDF9                A  2999    	LD	SP,IX
0412AB DDE1                A  3000    	POP	IX
0412AD C9                  A  3001    	RET	
                           A  3002    
                           A  3003    
                           A  3004    ;**************************** _canmove ********
                           A  3005    ;Name                         Addr/Register   S
                           A  3006    ;_currentlevel                       STATIC   1
                           A  3007    ;n2                                    IX-2    
                           A  3008    ;n1                                    IX-1    
                           A  3009    ;yn2                                  IX+15    
                           A  3010    ;xn2                                  IX+12    
                           A  3011    ;yn1                                   IX+9    
                           A  3012    ;xn1                                   IX+6    
                           A  3013    
                           A  3014    
                           A  3015    ; Stack Frame Size: 20 (bytes)
                           A  3016    ;       Spill Code: 0 (instruction)
                           A  3017    
                           A  3018    
                           A  3019    .ENDFUNC "canmove",293,"_canmove"
                           A  3020    ;  294	
                           A  3021    ;  295	void move_sprites(UINT16 xn1, UINT16 yn
                           A  3022    ;  296	{
0412AE                     A  3023    _move_sprites:
                           A  3024    .DEFINE "_move_sprites"
                           A  3025    
                           A  3026    .VALUE _move_sprites
                           A  3027    
                           A  3028    .CLASS 2
                           A  3029    
                           A  3030    .TYPE 65
                           A  3031    
                           A  3032    .ENDEF
                           A  3033    
                           A  3034    .BEGFUNC "move_sprites",296,"_move_sprites"
                           A  3035    
                           A  3036    .LINE 296
                           A  3037    
                           A  3038    .DEFINE "xn1"
                           A  3039    
                           A  3040    .CLASS 65
                           A  3041    
                           A  3042    .VALUE 6
                           A  3043    
                           A  3044    .TYPE 13
                           A  3045    
                           A  3046    .ENDEF
                           A  3047    
                           A  3048    .DEFINE "yn1"
                           A  3049    
                           A  3050    .CLASS 65
                           A  3051    
                           A  3052    .VALUE 9
                           A  3053    
                           A  3054    .TYPE 13
                           A  3055    
                           A  3056    .ENDEF
                           A  3057    
                           A  3058    .DEFINE "xn2"
                           A  3059    
                           A  3060    .CLASS 65
                           A  3061    
                           A  3062    .VALUE 12
                           A  3063    
                           A  3064    .TYPE 13
                           A  3065    
                           A  3066    .ENDEF
                           A  3067    
                           A  3068    .DEFINE "yn2"
                           A  3069    
                           A  3070    .CLASS 65
                           A  3071    
                           A  3072    .VALUE 15
                           A  3073    
                           A  3074    .TYPE 13
                           A  3075    
                           A  3076    .ENDEF
                           A  3077    
                           A  3078    .DEFINE "spriteid"
                           A  3079    
                           A  3080    .CLASS 65
                           A  3081    
                           A  3082    .VALUE -1
                           A  3083    
                           A  3084    .TYPE 12
                           A  3085    
                           A  3086    .ENDEF
                           A  3087    
                           A  3088    .DEFINE "n"
                           A  3089    
                           A  3090    .CLASS 65
                           A  3091    
                           A  3092    .VALUE -2
                           A  3093    
                           A  3094    .TYPE 12
                           A  3095    
                           A  3096    .ENDEF
                           A  3097    
                           A  3098    .DEFINE "dx"
                           A  3099    
                           A  3100    .CLASS 65
                           A  3101    
                           A  3102    .VALUE -4
                           A  3103    
                           A  3104    .TYPE 3
                           A  3105    
                           A  3106    .ENDEF
                           A  3107    
                           A  3108    .DEFINE "dy"
                           A  3109    
                           A  3110    .CLASS 65
                           A  3111    
                           A  3112    .VALUE -6
                           A  3113    
                           A  3114    .TYPE 3
                           A  3115    
                           A  3116    .ENDEF
                           A  3117    
                           A  3118    .DEFINE "n2"
                           A  3119    
                           A  3120    .CLASS 65
                           A  3121    
                           A  3122    .VALUE -7
                           A  3123    
                           A  3124    .TYPE 12
                           A  3125    
                           A  3126    .ENDEF
                           A  3127    
0412AE DDE5                A  3128    	PUSH	IX
0412B0 DD210000 00         A  3129    	LD	IX,0
0412B5 DD39                A  3130    	ADD	IX,SP
0412B7 C5                  A  3131    	PUSH	BC
0412B8 C5                  A  3132    	PUSH	BC
0412B9 3B                  A  3133    	DEC	SP
                           A  3134    ;  297		// move can happen, no need to chec
                           A  3135    ;  298		UINT8 spriteid = sprites[yn1][xn1];
                           A  3136    .LINE 298
                           A  3137    
0412BA DD0709              A  3138    	LD	BC,(IX+%9)
0412BD CD 39 2A 04         A  3139    	CALL	__stoiu
0412C1 3E28                A  3140    	LD	A,%28
0412C3 CD B8 30 04         A  3141    	CALL	__imul_b
0412C7 01 CB 52 04         A  3142    	LD	BC,_sprites
0412CB 09                  A  3143    	ADD	HL,BC
0412CC E5D1                A  3144    	LD	DE,HL
0412CE DD0706              A  3145    	LD	BC,(IX+%6)
0412D1 CD 39 2A 04         A  3146    	CALL	__stoiu
0412D5 19                  A  3147    	ADD	HL,DE
0412D6 7E                  A  3148    	LD	A,(HL)
0412D7 DD77FF              A  3149    	LD	(IX+%FFFFFFFF),A
                           A  3150    ;  299		UINT8 n;
                           A  3151    ;  300		INT16 dx, dy;
                           A  3152    ;  301		UINT8 n2;
                           A  3153    ;  302			
                           A  3154    ;  303		dx = xn2 - xn1;
                           A  3155    .LINE 303
                           A  3156    
0412DA DD0706              A  3157    	LD	BC,(IX+%6)
0412DD DD270C              A  3158    	LD	HL,(IX+%C)
0412E0 B7                  A  3159    	OR	A,A
0412E1 40ED42              A  3160    	SBC.SIS	HL,BC
0412E4 DD75FC              A  3161    	LD	(IX+%FFFFFFFC),L
0412E7 DD74FD              A  3162    	LD	(IX+%FFFFFFFD),H
                           A  3163    ;  304		dy = yn2 - yn1;
                           A  3164    .LINE 304
                           A  3165    
0412EA DD0709              A  3166    	LD	BC,(IX+%9)
0412ED DD270F              A  3167    	LD	HL,(IX+%F)
0412F0 B7                  A  3168    	OR	A,A
0412F1 40ED42              A  3169    	SBC.SIS	HL,BC
0412F4 DD75FA              A  3170    	LD	(IX+%FFFFFFFA),L
0412F7 DD74FB              A  3171    	LD	(IX+%FFFFFFFB),H
                           A  3172    ;  305		
                           A  3173    ;  306		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3174    .LINE 306
                           A  3175    
0412FA DD36FE00            A  3176    	LD	(IX+%FFFFFFFE),%0
0412FE 18 3B               A  3177    	JR	L_42
041300                     A  3178    L_40:
                           A  3179    ;  307		{
                           A  3180    ;  308			if(spriteid != NOSPRITE)
                           A  3181    .LINE 308
                           A  3182    
041300 DD7EFF              A  3183    	LD	A,(IX+%FFFFFFFF)
041303 FEFF                A  3184    	CP	A,%FF
041305 28 19               A  3185    	JR	Z,L_39
                           A  3186    ;  309			{
                           A  3187    ;  310				vdp_spriteSelect(spriteid);
                           A  3188    .LINE 310
                           A  3189    
041307 DD4EFF              A  3190    	LD	C,(IX+%FFFFFFFF)
04130A 0600                A  3191    	LD	B,%0
04130C C5                  A  3192    	PUSH	BC
04130D CD 9C 09 04         A  3193    	CALL	_vdp_spriteSelect
041311 C1                  A  3194    	POP	BC
                           A  3195    ;  311				vdp_spriteMoveBySelected(dx
                           A  3196    .LINE 311
                           A  3197    
041312 DD07FA              A  3198    	LD	BC,(IX+%FFFFFFFA)
041315 C5                  A  3199    	PUSH	BC
041316 DD07FC              A  3200    	LD	BC,(IX+%FFFFFFFC)
041319 C5                  A  3201    	PUSH	BC
04131A CD 5A 0C 04         A  3202    	CALL	_vdp_spriteMoveBySelected
04131E C1                  A  3203    	POP	BC
04131F C1                  A  3204    	POP	BC
                           A  3205    ;  312			}
041320                     A  3206    L_39:
                           A  3207    .LINE 312
                           A  3208    
                           A  3209    ;  313			vdp_spriteSelect(0); // player
                           A  3210    .LINE 313
                           A  3211    
041320 01000000            A  3212    	LD	BC,0
041324 C5                  A  3213    	PUSH	BC
041325 CD 9C 09 04         A  3214    	CALL	_vdp_spriteSelect
041329 C1                  A  3215    	POP	BC
                           A  3216    ;  314			vdp_spriteMoveBySelected(dx, dy
                           A  3217    .LINE 314
                           A  3218    
04132A DD07FA              A  3219    	LD	BC,(IX+%FFFFFFFA)
04132D C5                  A  3220    	PUSH	BC
04132E DD07FC              A  3221    	LD	BC,(IX+%FFFFFFFC)
041331 C5                  A  3222    	PUSH	BC
041332 CD 5A 0C 04         A  3223    	CALL	_vdp_spriteMoveBySelected
041336 C1                  A  3224    	POP	BC
041337 C1                  A  3225    	POP	BC
041338 DD34FE              A  3226    	INC	(IX+%FFFFFFFE)
                           A  3227    ;  315		}
04133B                     A  3228    L_42:
                           A  3229    .LINE 315
                           A  3230    
04133B DD7EFE              A  3231    	LD	A,(IX+%FFFFFFFE)
04133E FE10                A  3232    	CP	A,%10
041340 38 BE               A  3233    	JR	C,L_40
                           A  3234    ;  316	
                           A  3235    ;  317		// set destination sprite frame
                           A  3236    ;  318		if(spriteid != NOSPRITE)
                           A  3237    .LINE 318
                           A  3238    
041342 DD7EFF              A  3239    	LD	A,(IX+%FFFFFFFF)
041345 FEFF                A  3240    	CP	A,%FF
041347 28 57               A  3241    	JR	Z,L_48
                           A  3242    ;  319		{
                           A  3243    ;  320			vdp_spriteSelect(spriteid);
                           A  3244    .LINE 320
                           A  3245    
041349 DD4EFF              A  3246    	LD	C,(IX+%FFFFFFFF)
04134C 0600                A  3247    	LD	B,%0
04134E C5                  A  3248    	PUSH	BC
04134F CD 9C 09 04         A  3249    	CALL	_vdp_spriteSelect
041353 C1                  A  3250    	POP	BC
                           A  3251    ;  321			// Check if the sprite moved to
                           A  3252    ;  322			n2 = currentlevel.data[yn2][xn2
                           A  3253    .LINE 322
                           A  3254    
041354 DD070F              A  3255    	LD	BC,(IX+%F)
041357 CD 39 2A 04         A  3256    	CALL	__stoiu
04135B 3E28                A  3257    	LD	A,%28
04135D CD B8 30 04         A  3258    	CALL	__imul_b
041361 01 82 57 04         A  3259    	LD	BC,_currentlevel+7
041365 09                  A  3260    	ADD	HL,BC
041366 E5D1                A  3261    	LD	DE,HL
041368 DD070C              A  3262    	LD	BC,(IX+%C)
04136B CD 39 2A 04         A  3263    	CALL	__stoiu
04136F 19                  A  3264    	ADD	HL,DE
041370 7E                  A  3265    	LD	A,(HL)
041371 DD77F9              A  3266    	LD	(IX+%FFFFFFF9),A
                           A  3267    ;  323			switch(n2)
                           A  3268    .LINE 323
                           A  3269    
041374 B7ED62              A  3270    	UEXT	HL
041377 6F                  A  3271    	LD	L,A
041378 CD 4D 31 04         A  3272    	CALL	__case8D
04137C E9                  A  3273    	JP	(HL)
04137D                     A  3274    L__16:
04137D 0200                A  3275    	DW	2
04137F 20                  A  3276    	DB	32
041380 8A1304              A  3277    	DW24	L_43	
                           A  3278    
041383 2E                  A  3279    	DB	46
041384 961304              A  3280    	DW24	L_44	
                           A  3281    
041387 A01304              A  3282    	DW24	L_48	
                           A  3283    
                           A  3284    ;  324			{
                           A  3285    ;  325				case CHAR_FLOOR:
04138A                     A  3286    L_43:
                           A  3287    .LINE 325
                           A  3288    
                           A  3289    ;  326					vdp_spriteSetFrameSelec
                           A  3290    .LINE 326
                           A  3291    
04138A 01000000            A  3292    	LD	BC,0
04138E C5                  A  3293    	PUSH	BC
04138F CD 0D 0B 04         A  3294    	CALL	_vdp_spriteSetFrameSelected
041393 C1                  A  3295    	POP	BC
                           A  3296    ;  327					break;
                           A  3297    .LINE 327
                           A  3298    
041394 18 0A               A  3299    	JR	L_48
                           A  3300    ;  328				case CHAR_GOAL:
041396                     A  3301    L_44:
                           A  3302    .LINE 328
                           A  3303    
                           A  3304    ;  329					vdp_spriteSetFrameSelec
                           A  3305    .LINE 329
                           A  3306    
041396 01010000            A  3307    	LD	BC,1
04139A C5                  A  3308    	PUSH	BC
04139B CD 0D 0B 04         A  3309    	CALL	_vdp_spriteSetFrameSelected
04139F C1                  A  3310    	POP	BC
                           A  3311    ;  330					break;
                           A  3312    ;  331			}
                           A  3313    ;  332		}
0413A0                     A  3314    L_48:
                           A  3315    .LINE 332
                           A  3316    
                           A  3317    ;  333		// update sprite number matrix
                           A  3318    ;  334		if(spriteid != NOSPRITE)
                           A  3319    .LINE 334
                           A  3320    
0413A0 DD7EFF              A  3321    	LD	A,(IX+%FFFFFFFF)
0413A3 FEFF                A  3322    	CP	A,%FF
0413A5 28 3F               A  3323    	JR	Z,L_49
                           A  3324    ;  335		{
                           A  3325    ;  336			// player shoves a box here
                           A  3326    ;  337			sprites[yn2][xn2] = sprites[yn1
                           A  3327    .LINE 337
                           A  3328    
0413A7 DD0709              A  3329    	LD	BC,(IX+%9)
0413AA CD 39 2A 04         A  3330    	CALL	__stoiu
0413AE 3E28                A  3331    	LD	A,%28
0413B0 CD B8 30 04         A  3332    	CALL	__imul_b
0413B4 01 CB 52 04         A  3333    	LD	BC,_sprites
0413B8 09                  A  3334    	ADD	HL,BC
0413B9 E5D1                A  3335    	LD	DE,HL
0413BB DD0706              A  3336    	LD	BC,(IX+%6)
0413BE CD 39 2A 04         A  3337    	CALL	__stoiu
0413C2 19                  A  3338    	ADD	HL,DE
0413C3 E5FDE1              A  3339    	LD	IY,HL
0413C6 DD070F              A  3340    	LD	BC,(IX+%F)
0413C9 CD 39 2A 04         A  3341    	CALL	__stoiu
0413CD 3E28                A  3342    	LD	A,%28
0413CF CD B8 30 04         A  3343    	CALL	__imul_b
0413D3 01 CB 52 04         A  3344    	LD	BC,_sprites
0413D7 09                  A  3345    	ADD	HL,BC
0413D8 E5D1                A  3346    	LD	DE,HL
0413DA DD070C              A  3347    	LD	BC,(IX+%C)
0413DD CD 39 2A 04         A  3348    	CALL	__stoiu
0413E1 19                  A  3349    	ADD	HL,DE
0413E2 FD7E00              A  3350    	LD	A,(IY)
0413E5 77                  A  3351    	LD	(HL),A
                           A  3352    ;  338		}
0413E6                     A  3353    L_49:
                           A  3354    .LINE 338
                           A  3355    
                           A  3356    ;  339		sprites[yn1][xn1] = NOSPRITE; // pl
                           A  3357    .LINE 339
                           A  3358    
0413E6 DD0709              A  3359    	LD	BC,(IX+%9)
0413E9 CD 39 2A 04         A  3360    	CALL	__stoiu
0413ED 3E28                A  3361    	LD	A,%28
0413EF CD B8 30 04         A  3362    	CALL	__imul_b
0413F3 01 CB 52 04         A  3363    	LD	BC,_sprites
0413F7 09                  A  3364    	ADD	HL,BC
0413F8 E5D1                A  3365    	LD	DE,HL
0413FA DD0706              A  3366    	LD	BC,(IX+%6)
0413FD CD 39 2A 04         A  3367    	CALL	__stoiu
041401 19                  A  3368    	ADD	HL,DE
041402 36FF                A  3369    	LD	(HL),%FF
                           A  3370    ;  340		sprites[currentlevel.ypos][currentl
                           A  3371    .LINE 340
                           A  3372    
041404 3A 7C 57 04         A  3373    	LD	A,(_currentlevel+1)
041408 B7ED62              A  3374    	UEXT	HL
04140B 6F                  A  3375    	LD	L,A
04140C 3E28                A  3376    	LD	A,%28
04140E CD B8 30 04         A  3377    	CALL	__imul_b
041412 01 CB 52 04         A  3378    	LD	BC,_sprites
041416 09                  A  3379    	ADD	HL,BC
041417 E5C1                A  3380    	LD	BC,HL
041419 3A 7B 57 04         A  3381    	LD	A,(_currentlevel)
04141D B7ED62              A  3382    	UEXT	HL
041420 6F                  A  3383    	LD	L,A
041421 09                  A  3384    	ADD	HL,BC
041422 36FF                A  3385    	LD	(HL),%FF
                           A  3386    ;  341		
                           A  3387    ;  342		vdp_spriteRefresh();
                           A  3388    .LINE 342
                           A  3389    
041424 CD F8 0C 04         A  3390    	CALL	_vdp_spriteRefresh
                           A  3391    ;  343	}
                           A  3392    .LINE 343
                           A  3393    
041428 DDF9                A  3394    	LD	SP,IX
04142A DDE1                A  3395    	POP	IX
04142C C9                  A  3396    	RET	
                           A  3397    
                           A  3398    
                           A  3399    ;**************************** _move_sprites ***
                           A  3400    ;Name                         Addr/Register   S
                           A  3401    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3402    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3403    ;_currentlevel                       STATIC   1
                           A  3404    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3405    ;_vdp_spriteSelect                   IMPORT  --
                           A  3406    ;_sprites                            STATIC   1
                           A  3407    ;n2                                    IX-7    
                           A  3408    ;dy                                    IX-6    
                           A  3409    ;dx                                    IX-4    
                           A  3410    ;n                                     IX-2    
                           A  3411    ;spriteid                              IX-1    
                           A  3412    ;yn2                                  IX+15    
                           A  3413    ;xn2                                  IX+12    
                           A  3414    ;yn1                                   IX+9    
                           A  3415    ;xn1                                   IX+6    
                           A  3416    
                           A  3417    
                           A  3418    ; Stack Frame Size: 25 (bytes)
                           A  3419    ;       Spill Code: 0 (instruction)
                           A  3420    
                           A  3421    
                           A  3422    .ENDFUNC "move_sprites",343,"_move_sprites"
                           A  3423    ;  344	
                           A  3424    ;  345	void undomove_sprites(UINT16 xn1, UINT1
                           A  3425    ;  346	{
04142D                     A  3426    _undomove_sprites:
                           A  3427    .DEFINE "_undomove_sprites"
                           A  3428    
                           A  3429    .VALUE _undomove_sprites
                           A  3430    
                           A  3431    .CLASS 2
                           A  3432    
                           A  3433    .TYPE 65
                           A  3434    
                           A  3435    .ENDEF
                           A  3436    
                           A  3437    .BEGFUNC "undomove_sprites",346,"_undomove_spri
                           A  3438    
                           A  3439    .LINE 346
                           A  3440    
                           A  3441    .DEFINE "xn1"
                           A  3442    
                           A  3443    .CLASS 65
                           A  3444    
                           A  3445    .VALUE 6
                           A  3446    
                           A  3447    .TYPE 13
                           A  3448    
                           A  3449    .ENDEF
                           A  3450    
                           A  3451    .DEFINE "yn1"
                           A  3452    
                           A  3453    .CLASS 65
                           A  3454    
                           A  3455    .VALUE 9
                           A  3456    
                           A  3457    .TYPE 13
                           A  3458    
                           A  3459    .ENDEF
                           A  3460    
                           A  3461    .DEFINE "xn2"
                           A  3462    
                           A  3463    .CLASS 65
                           A  3464    
                           A  3465    .VALUE 12
                           A  3466    
                           A  3467    .TYPE 13
                           A  3468    
                           A  3469    .ENDEF
                           A  3470    
                           A  3471    .DEFINE "yn2"
                           A  3472    
                           A  3473    .CLASS 65
                           A  3474    
                           A  3475    .VALUE 15
                           A  3476    
                           A  3477    .TYPE 13
                           A  3478    
                           A  3479    .ENDEF
                           A  3480    
                           A  3481    .DEFINE "spriteid"
                           A  3482    
                           A  3483    .CLASS 65
                           A  3484    
                           A  3485    .VALUE -1
                           A  3486    
                           A  3487    .TYPE 12
                           A  3488    
                           A  3489    .ENDEF
                           A  3490    
                           A  3491    .DEFINE "n"
                           A  3492    
                           A  3493    .CLASS 65
                           A  3494    
                           A  3495    .VALUE -2
                           A  3496    
                           A  3497    .TYPE 12
                           A  3498    
                           A  3499    .ENDEF
                           A  3500    
                           A  3501    .DEFINE "dx"
                           A  3502    
                           A  3503    .CLASS 65
                           A  3504    
                           A  3505    .VALUE -4
                           A  3506    
                           A  3507    .TYPE 3
                           A  3508    
                           A  3509    .ENDEF
                           A  3510    
                           A  3511    .DEFINE "dy"
                           A  3512    
                           A  3513    .CLASS 65
                           A  3514    
                           A  3515    .VALUE -6
                           A  3516    
                           A  3517    .TYPE 3
                           A  3518    
                           A  3519    .ENDEF
                           A  3520    
                           A  3521    .DEFINE "n2"
                           A  3522    
                           A  3523    .CLASS 65
                           A  3524    
                           A  3525    .VALUE -7
                           A  3526    
                           A  3527    .TYPE 12
                           A  3528    
                           A  3529    .ENDEF
                           A  3530    
04142D DDE5                A  3531    	PUSH	IX
04142F DD210000 00         A  3532    	LD	IX,0
041434 DD39                A  3533    	ADD	IX,SP
041436 C5                  A  3534    	PUSH	BC
041437 C5                  A  3535    	PUSH	BC
041438 3B                  A  3536    	DEC	SP
                           A  3537    ;  347		// move can happen, no need to chec
                           A  3538    ;  348		UINT8 spriteid = sprites[yn1][xn1];
                           A  3539    .LINE 348
                           A  3540    
041439 DD0709              A  3541    	LD	BC,(IX+%9)
04143C CD 39 2A 04         A  3542    	CALL	__stoiu
041440 3E28                A  3543    	LD	A,%28
041442 CD B8 30 04         A  3544    	CALL	__imul_b
041446 01 CB 52 04         A  3545    	LD	BC,_sprites
04144A 09                  A  3546    	ADD	HL,BC
04144B E5D1                A  3547    	LD	DE,HL
04144D DD0706              A  3548    	LD	BC,(IX+%6)
041450 CD 39 2A 04         A  3549    	CALL	__stoiu
041454 19                  A  3550    	ADD	HL,DE
041455 7E                  A  3551    	LD	A,(HL)
041456 DD77FF              A  3552    	LD	(IX+%FFFFFFFF),A
                           A  3553    ;  349		UINT8 n;
                           A  3554    ;  350		INT16 dx, dy;
                           A  3555    ;  351		UINT8 n2;
                           A  3556    ;  352			
                           A  3557    ;  353		dx = xn2 - xn1;
                           A  3558    .LINE 353
                           A  3559    
041459 DD0706              A  3560    	LD	BC,(IX+%6)
04145C DD270C              A  3561    	LD	HL,(IX+%C)
04145F B7                  A  3562    	OR	A,A
041460 40ED42              A  3563    	SBC.SIS	HL,BC
041463 DD75FC              A  3564    	LD	(IX+%FFFFFFFC),L
041466 DD74FD              A  3565    	LD	(IX+%FFFFFFFD),H
                           A  3566    ;  354		dy = yn2 - yn1;
                           A  3567    .LINE 354
                           A  3568    
041469 DD0709              A  3569    	LD	BC,(IX+%9)
04146C DD270F              A  3570    	LD	HL,(IX+%F)
04146F B7                  A  3571    	OR	A,A
041470 40ED42              A  3572    	SBC.SIS	HL,BC
041473 DD75FA              A  3573    	LD	(IX+%FFFFFFFA),L
041476 DD74FB              A  3574    	LD	(IX+%FFFFFFFB),H
                           A  3575    ;  355		
                           A  3576    ;  356		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3577    .LINE 356
                           A  3578    
041479 DD36FE00            A  3579    	LD	(IX+%FFFFFFFE),%0
04147D 18 42               A  3580    	JR	L_57
04147F                     A  3581    L_55:
                           A  3582    ;  357		{
                           A  3583    ;  358			if((undomove.pushed) && (sprite
                           A  3584    .LINE 358
                           A  3585    
04147F 3A C9 4E 04         A  3586    	LD	A,(_undomove+1)
041483 B7                  A  3587    	OR	A,A
041484 28 20               A  3588    	JR	Z,L_54
041486 DD7EFF              A  3589    	LD	A,(IX+%FFFFFFFF)
041489 FEFF                A  3590    	CP	A,%FF
04148B 28 19               A  3591    	JR	Z,L_54
                           A  3592    ;  359			{
                           A  3593    ;  360				vdp_spriteSelect(spriteid);
                           A  3594    .LINE 360
                           A  3595    
04148D DD4EFF              A  3596    	LD	C,(IX+%FFFFFFFF)
041490 0600                A  3597    	LD	B,%0
041492 C5                  A  3598    	PUSH	BC
041493 CD 9C 09 04         A  3599    	CALL	_vdp_spriteSelect
041497 C1                  A  3600    	POP	BC
                           A  3601    ;  361				vdp_spriteMoveBySelected(dx
                           A  3602    .LINE 361
                           A  3603    
041498 DD07FA              A  3604    	LD	BC,(IX+%FFFFFFFA)
04149B C5                  A  3605    	PUSH	BC
04149C DD07FC              A  3606    	LD	BC,(IX+%FFFFFFFC)
04149F C5                  A  3607    	PUSH	BC
0414A0 CD 5A 0C 04         A  3608    	CALL	_vdp_spriteMoveBySelected
0414A4 C1                  A  3609    	POP	BC
0414A5 C1                  A  3610    	POP	BC
                           A  3611    ;  362			}
0414A6                     A  3612    L_54:
                           A  3613    .LINE 362
                           A  3614    
                           A  3615    ;  363			vdp_spriteSelect(0); // player
                           A  3616    .LINE 363
                           A  3617    
0414A6 01000000            A  3618    	LD	BC,0
0414AA C5                  A  3619    	PUSH	BC
0414AB CD 9C 09 04         A  3620    	CALL	_vdp_spriteSelect
0414AF C1                  A  3621    	POP	BC
                           A  3622    ;  364			vdp_spriteMoveBySelected(dx, dy
                           A  3623    .LINE 364
                           A  3624    
0414B0 DD07FA              A  3625    	LD	BC,(IX+%FFFFFFFA)
0414B3 C5                  A  3626    	PUSH	BC
0414B4 DD07FC              A  3627    	LD	BC,(IX+%FFFFFFFC)
0414B7 C5                  A  3628    	PUSH	BC
0414B8 CD 5A 0C 04         A  3629    	CALL	_vdp_spriteMoveBySelected
0414BC C1                  A  3630    	POP	BC
0414BD C1                  A  3631    	POP	BC
0414BE DD34FE              A  3632    	INC	(IX+%FFFFFFFE)
                           A  3633    ;  365		}
0414C1                     A  3634    L_57:
                           A  3635    .LINE 365
                           A  3636    
0414C1 DD7EFE              A  3637    	LD	A,(IX+%FFFFFFFE)
0414C4 FE10                A  3638    	CP	A,%10
0414C6 38 B7               A  3639    	JR	C,L_55
                           A  3640    ;  366	
                           A  3641    ;  367		// set destination sprite frame
                           A  3642    ;  368		if((undomove.pushed) && (spriteid !
                           A  3643    .LINE 368
                           A  3644    
0414C8 3A C9 4E 04         A  3645    	LD	A,(_undomove+1)
0414CC B7                  A  3646    	OR	A,A
0414CD 28 5E               A  3647    	JR	Z,L_66
0414CF DD7EFF              A  3648    	LD	A,(IX+%FFFFFFFF)
0414D2 FEFF                A  3649    	CP	A,%FF
0414D4 28 57               A  3650    	JR	Z,L_66
                           A  3651    ;  369		{
                           A  3652    ;  370			vdp_spriteSelect(spriteid);
                           A  3653    .LINE 370
                           A  3654    
0414D6 DD4EFF              A  3655    	LD	C,(IX+%FFFFFFFF)
0414D9 0600                A  3656    	LD	B,%0
0414DB C5                  A  3657    	PUSH	BC
0414DC CD 9C 09 04         A  3658    	CALL	_vdp_spriteSelect
0414E0 C1                  A  3659    	POP	BC
                           A  3660    ;  371			// Check if the sprite moved to
                           A  3661    ;  372			n2 = currentlevel.data[yn2][xn2
                           A  3662    .LINE 372
                           A  3663    
0414E1 DD070F              A  3664    	LD	BC,(IX+%F)
0414E4 CD 39 2A 04         A  3665    	CALL	__stoiu
0414E8 3E28                A  3666    	LD	A,%28
0414EA CD B8 30 04         A  3667    	CALL	__imul_b
0414EE 01 82 57 04         A  3668    	LD	BC,_currentlevel+7
0414F2 09                  A  3669    	ADD	HL,BC
0414F3 E5D1                A  3670    	LD	DE,HL
0414F5 DD070C              A  3671    	LD	BC,(IX+%C)
0414F8 CD 39 2A 04         A  3672    	CALL	__stoiu
0414FC 19                  A  3673    	ADD	HL,DE
0414FD 7E                  A  3674    	LD	A,(HL)
0414FE DD77F9              A  3675    	LD	(IX+%FFFFFFF9),A
                           A  3676    ;  373			switch(n2)
                           A  3677    .LINE 373
                           A  3678    
041501 B7ED62              A  3679    	UEXT	HL
041504 6F                  A  3680    	LD	L,A
041505 CD 4D 31 04         A  3681    	CALL	__case8D
041509 E9                  A  3682    	JP	(HL)
04150A                     A  3683    L__24:
04150A 0200                A  3684    	DW	2
04150C 2B                  A  3685    	DB	43
04150D 231504              A  3686    	DW24	L_60	
                           A  3687    
041510 40                  A  3688    	DB	64
041511 171504              A  3689    	DW24	L_59	
                           A  3690    
041514 2D1504              A  3691    	DW24	L_66	
                           A  3692    
                           A  3693    ;  374			{
                           A  3694    ;  375				case CHAR_PLAYER:
041517                     A  3695    L_59:
                           A  3696    .LINE 375
                           A  3697    
                           A  3698    ;  376					vdp_spriteSetFrameSelec
                           A  3699    .LINE 376
                           A  3700    
041517 01000000            A  3701    	LD	BC,0
04151B C5                  A  3702    	PUSH	BC
04151C CD 0D 0B 04         A  3703    	CALL	_vdp_spriteSetFrameSelected
041520 C1                  A  3704    	POP	BC
                           A  3705    ;  377					break;
                           A  3706    .LINE 377
                           A  3707    
041521 18 0A               A  3708    	JR	L_66
                           A  3709    ;  378				case CHAR_PLAYERONGOAL:
041523                     A  3710    L_60:
                           A  3711    .LINE 378
                           A  3712    
                           A  3713    ;  379					vdp_spriteSetFrameSelec
                           A  3714    .LINE 379
                           A  3715    
041523 01010000            A  3716    	LD	BC,1
041527 C5                  A  3717    	PUSH	BC
041528 CD 0D 0B 04         A  3718    	CALL	_vdp_spriteSetFrameSelected
04152C C1                  A  3719    	POP	BC
                           A  3720    ;  380					break;
                           A  3721    ;  381			}
                           A  3722    ;  382		}
04152D                     A  3723    L_66:
                           A  3724    .LINE 382
                           A  3725    
                           A  3726    ;  383		// update sprite number matrix
                           A  3727    ;  384		if(undomove.pushed)
                           A  3728    .LINE 384
                           A  3729    
04152D 3A C9 4E 04         A  3730    	LD	A,(_undomove+1)
041531 B7                  A  3731    	OR	A,A
041532 28 64               A  3732    	JR	Z,L_67
                           A  3733    ;  385		{
                           A  3734    ;  386			if(spriteid != NOSPRITE)
                           A  3735    .LINE 386
                           A  3736    
041534 DD7EFF              A  3737    	LD	A,(IX+%FFFFFFFF)
041537 FEFF                A  3738    	CP	A,%FF
041539 28 3F               A  3739    	JR	Z,L_64
                           A  3740    ;  387			{
                           A  3741    ;  388				// player shoved a box here
                           A  3742    ;  389				sprites[yn2][xn2] = sprites
                           A  3743    .LINE 389
                           A  3744    
04153B DD0709              A  3745    	LD	BC,(IX+%9)
04153E CD 39 2A 04         A  3746    	CALL	__stoiu
041542 3E28                A  3747    	LD	A,%28
041544 CD B8 30 04         A  3748    	CALL	__imul_b
041548 01 CB 52 04         A  3749    	LD	BC,_sprites
04154C 09                  A  3750    	ADD	HL,BC
04154D E5D1                A  3751    	LD	DE,HL
04154F DD0706              A  3752    	LD	BC,(IX+%6)
041552 CD 39 2A 04         A  3753    	CALL	__stoiu
041556 19                  A  3754    	ADD	HL,DE
041557 E5FDE1              A  3755    	LD	IY,HL
04155A DD070F              A  3756    	LD	BC,(IX+%F)
04155D CD 39 2A 04         A  3757    	CALL	__stoiu
041561 3E28                A  3758    	LD	A,%28
041563 CD B8 30 04         A  3759    	CALL	__imul_b
041567 01 CB 52 04         A  3760    	LD	BC,_sprites
04156B 09                  A  3761    	ADD	HL,BC
04156C E5D1                A  3762    	LD	DE,HL
04156E DD070C              A  3763    	LD	BC,(IX+%C)
041571 CD 39 2A 04         A  3764    	CALL	__stoiu
041575 19                  A  3765    	ADD	HL,DE
041576 FD7E00              A  3766    	LD	A,(IY)
041579 77                  A  3767    	LD	(HL),A
                           A  3768    ;  390			}
04157A                     A  3769    L_64:
                           A  3770    .LINE 390
                           A  3771    
                           A  3772    ;  391			sprites[yn1][xn1] = NOSPRITE; /
                           A  3773    .LINE 391
                           A  3774    
04157A DD0709              A  3775    	LD	BC,(IX+%9)
04157D CD 39 2A 04         A  3776    	CALL	__stoiu
041581 3E28                A  3777    	LD	A,%28
041583 CD B8 30 04         A  3778    	CALL	__imul_b
041587 01 CB 52 04         A  3779    	LD	BC,_sprites
04158B 09                  A  3780    	ADD	HL,BC
04158C E5D1                A  3781    	LD	DE,HL
04158E DD0706              A  3782    	LD	BC,(IX+%6)
041591 CD 39 2A 04         A  3783    	CALL	__stoiu
041595 19                  A  3784    	ADD	HL,DE
041596 36FF                A  3785    	LD	(HL),%FF
                           A  3786    ;  392		}
041598                     A  3787    L_67:
                           A  3788    .LINE 392
                           A  3789    
                           A  3790    ;  393		
                           A  3791    ;  394		vdp_spriteRefresh();
                           A  3792    .LINE 394
                           A  3793    
041598 CD F8 0C 04         A  3794    	CALL	_vdp_spriteRefresh
                           A  3795    ;  395	}
                           A  3796    .LINE 395
                           A  3797    
04159C DDF9                A  3798    	LD	SP,IX
04159E DDE1                A  3799    	POP	IX
0415A0 C9                  A  3800    	RET	
                           A  3801    
                           A  3802    
                           A  3803    ;**************************** _undomove_sprites
                           A  3804    ;Name                         Addr/Register   S
                           A  3805    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3806    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3807    ;_currentlevel                       STATIC   1
                           A  3808    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3809    ;_vdp_spriteSelect                   IMPORT  --
                           A  3810    ;_undomove                           STATIC    
                           A  3811    ;_sprites                            STATIC   1
                           A  3812    ;n2                                    IX-7    
                           A  3813    ;dy                                    IX-6    
                           A  3814    ;dx                                    IX-4    
                           A  3815    ;n                                     IX-2    
                           A  3816    ;spriteid                              IX-1    
                           A  3817    ;yn2                                  IX+15    
                           A  3818    ;xn2                                  IX+12    
                           A  3819    ;yn1                                   IX+9    
                           A  3820    ;xn1                                   IX+6    
                           A  3821    
                           A  3822    
                           A  3823    ; Stack Frame Size: 25 (bytes)
                           A  3824    ;       Spill Code: 0 (instruction)
                           A  3825    
                           A  3826    
                           A  3827    .ENDFUNC "undomove_sprites",395,"_undomove_spri
                           A  3828    ;  396	
                           A  3829    ;  397	void move_updatelevel(UINT16 xn1, UINT1
                           A  3830    ;  398	{
0415A1                     A  3831    _move_updatelevel:
                           A  3832    .DEFINE "_move_updatelevel"
                           A  3833    
                           A  3834    .VALUE _move_updatelevel
                           A  3835    
                           A  3836    .CLASS 2
                           A  3837    
                           A  3838    .TYPE 65
                           A  3839    
                           A  3840    .ENDEF
                           A  3841    
                           A  3842    .BEGFUNC "move_updatelevel",398,"_move_updatele
                           A  3843    
                           A  3844    .LINE 398
                           A  3845    
                           A  3846    .DEFINE "xn1"
                           A  3847    
                           A  3848    .CLASS 65
                           A  3849    
                           A  3850    .VALUE 6
                           A  3851    
                           A  3852    .TYPE 13
                           A  3853    
                           A  3854    .ENDEF
                           A  3855    
                           A  3856    .DEFINE "yn1"
                           A  3857    
                           A  3858    .CLASS 65
                           A  3859    
                           A  3860    .VALUE 9
                           A  3861    
                           A  3862    .TYPE 13
                           A  3863    
                           A  3864    .ENDEF
                           A  3865    
                           A  3866    .DEFINE "xn2"
                           A  3867    
                           A  3868    .CLASS 65
                           A  3869    
                           A  3870    .VALUE 12
                           A  3871    
                           A  3872    .TYPE 13
                           A  3873    
                           A  3874    .ENDEF
                           A  3875    
                           A  3876    .DEFINE "yn2"
                           A  3877    
                           A  3878    .CLASS 65
                           A  3879    
                           A  3880    .VALUE 15
                           A  3881    
                           A  3882    .TYPE 13
                           A  3883    
                           A  3884    .ENDEF
                           A  3885    
                           A  3886    .DEFINE "onlyplayermoves"
                           A  3887    
                           A  3888    .CLASS 65
                           A  3889    
                           A  3890    .VALUE -4
                           A  3891    
                           A  3892    .TYPE 12
                           A  3893    
                           A  3894    .ENDEF
                           A  3895    
                           A  3896    .DEFINE "n1"
                           A  3897    
                           A  3898    .CLASS 65
                           A  3899    
                           A  3900    .VALUE -5
                           A  3901    
                           A  3902    .TYPE 12
                           A  3903    
                           A  3904    .ENDEF
                           A  3905    
                           A  3906    .DEFINE "n2"
                           A  3907    
                           A  3908    .CLASS 65
                           A  3909    
                           A  3910    .VALUE -21
                           A  3911    
                           A  3912    .TYPE 12
                           A  3913    
                           A  3914    .ENDEF
                           A  3915    
0415A1 DDE5                A  3916    	PUSH	IX
0415A3 DD210000 00         A  3917    	LD	IX,0
0415A8 DD39                A  3918    	ADD	IX,SP
0415AA ED22E5              A  3919    	LEA	HL,IX+%FFFFFFE5
0415AD F9                  A  3920    	LD	SP,HL
                           A  3921    ;  399		// move can happen, no need to chec
                           A  3922    ;  400		UINT8 n1, n2;
                           A  3923    ;  401		BOOL onlyplayermoves;
                           A  3924    ;  402		
                           A  3925    ;  403		// move n1 => n2
                           A  3926    ;  404		n1 = currentlevel.data[yn1][xn1];
                           A  3927    .LINE 404
                           A  3928    
0415AE 01 82 57 04         A  3929    	LD	BC,_currentlevel+7
0415B2 DD0FE5              A  3930    	LD	(IX+%FFFFFFE5),BC
0415B5 DD0FEC              A  3931    	LD	(IX+%FFFFFFEC),BC
0415B8 DD0709              A  3932    	LD	BC,(IX+%9)
0415BB CD 39 2A 04         A  3933    	CALL	__stoiu
0415BF 3E28                A  3934    	LD	A,%28
0415C1 CD B8 30 04         A  3935    	CALL	__imul_b
0415C5 DD2FFD              A  3936    	LD	(IX+%FFFFFFFD),HL
0415C8 DD2FEF              A  3937    	LD	(IX+%FFFFFFEF),HL
0415CB DD2FF2              A  3938    	LD	(IX+%FFFFFFF2),HL
0415CE DD2FE8              A  3939    	LD	(IX+%FFFFFFE8),HL
0415D1 01 82 57 04         A  3940    	LD	BC,_currentlevel+7
0415D5 DD27FD              A  3941    	LD	HL,(IX+%FFFFFFFD)
0415D8 09                  A  3942    	ADD	HL,BC
0415D9 E5D1                A  3943    	LD	DE,HL
0415DB DD0706              A  3944    	LD	BC,(IX+%6)
0415DE CD 39 2A 04         A  3945    	CALL	__stoiu
0415E2 19                  A  3946    	ADD	HL,DE
0415E3 7E                  A  3947    	LD	A,(HL)
0415E4 DD77FB              A  3948    	LD	(IX+%FFFFFFFB),A
                           A  3949    ;  405		n2 = currentlevel.data[yn2][xn2];
                           A  3950    .LINE 405
                           A  3951    
0415E7 DD070F              A  3952    	LD	BC,(IX+%F)
0415EA CD 39 2A 04         A  3953    	CALL	__stoiu
0415EE 3E28                A  3954    	LD	A,%28
0415F0 CD B8 30 04         A  3955    	CALL	__imul_b
0415F4 DD2FF8              A  3956    	LD	(IX+%FFFFFFF8),HL
0415F7 01 82 57 04         A  3957    	LD	BC,_currentlevel+7
0415FB DD27F8              A  3958    	LD	HL,(IX+%FFFFFFF8)
0415FE 09                  A  3959    	ADD	HL,BC
0415FF E5D1                A  3960    	LD	DE,HL
041601 DD070C              A  3961    	LD	BC,(IX+%C)
041604 CD 39 2A 04         A  3962    	CALL	__stoiu
041608 19                  A  3963    	ADD	HL,DE
041609 7E                  A  3964    	LD	A,(HL)
04160A DD77EB              A  3965    	LD	(IX+%FFFFFFEB),A
                           A  3966    ;  406	
                           A  3967    ;  407		
                           A  3968    ;  408		switch(n1)
                           A  3969    .LINE 408
                           A  3970    
04160D DD7EFB              A  3971    	LD	A,(IX+%FFFFFFFB)
041610 B7ED62              A  3972    	UEXT	HL
041613 6F                  A  3973    	LD	L,A
041614 CD 4D 31 04         A  3974    	CALL	__case8D
041618 E9                  A  3975    	JP	(HL)
041619                     A  3976    L__28:
041619 0200                A  3977    	DW	2
04161B 20                  A  3978    	DB	32
04161C 261604              A  3979    	DW24	L_69	
                           A  3980    
04161F 2E                  A  3981    	DB	46
041620 5C1604              A  3982    	DW24	L_70	
                           A  3983    
041623 921604              A  3984    	DW24	L_71	
                           A  3985    
                           A  3986    ;  409		{
                           A  3987    ;  410			case CHAR_FLOOR:
041626                     A  3988    L_69:
                           A  3989    .LINE 410
                           A  3990    
                           A  3991    ;  411				onlyplayermoves = TRUE;
                           A  3992    .LINE 411
                           A  3993    
041626 DD36FC01            A  3994    	LD	(IX+%FFFFFFFC),%1
                           A  3995    ;  412				currentlevel.data[yn1][xn1]
                           A  3996    .LINE 412
                           A  3997    
04162A 01 82 57 04         A  3998    	LD	BC,_currentlevel+7
04162E DD0FE5              A  3999    	LD	(IX+%FFFFFFE5),BC
041631 DD0FEC              A  4000    	LD	(IX+%FFFFFFEC),BC
041634 DD07FD              A  4001    	LD	BC,(IX+%FFFFFFFD)
041637 DD0FEF              A  4002    	LD	(IX+%FFFFFFEF),BC
04163A DD07FD              A  4003    	LD	BC,(IX+%FFFFFFFD)
04163D DD0FF2              A  4004    	LD	(IX+%FFFFFFF2),BC
041640 DD07FD              A  4005    	LD	BC,(IX+%FFFFFFFD)
041643 DD0FE8              A  4006    	LD	(IX+%FFFFFFE8),BC
041646 01 82 57 04         A  4007    	LD	BC,_currentlevel+7
04164A DD27FD              A  4008    	LD	HL,(IX+%FFFFFFFD)
04164D 09                  A  4009    	ADD	HL,BC
04164E E5D1                A  4010    	LD	DE,HL
041650 DD0706              A  4011    	LD	BC,(IX+%6)
041653 CD 39 2A 04         A  4012    	CALL	__stoiu
041657 19                  A  4013    	ADD	HL,DE
041658 3640                A  4014    	LD	(HL),%40
                           A  4015    ;  413				break;
                           A  4016    .LINE 413
                           A  4017    
04165A 18 3A               A  4018    	JR	L_82
                           A  4019    ;  414			case CHAR_GOAL:
04165C                     A  4020    L_70:
                           A  4021    .LINE 414
                           A  4022    
                           A  4023    ;  415				onlyplayermoves = TRUE;
                           A  4024    .LINE 415
                           A  4025    
04165C DD36FC01            A  4026    	LD	(IX+%FFFFFFFC),%1
                           A  4027    ;  416				currentlevel.data[yn1][xn1]
                           A  4028    .LINE 416
                           A  4029    
041660 01 82 57 04         A  4030    	LD	BC,_currentlevel+7
041664 DD0FE5              A  4031    	LD	(IX+%FFFFFFE5),BC
041667 DD0FEC              A  4032    	LD	(IX+%FFFFFFEC),BC
04166A DD07FD              A  4033    	LD	BC,(IX+%FFFFFFFD)
04166D DD0FEF              A  4034    	LD	(IX+%FFFFFFEF),BC
041670 DD07FD              A  4035    	LD	BC,(IX+%FFFFFFFD)
041673 DD0FF2              A  4036    	LD	(IX+%FFFFFFF2),BC
041676 DD07FD              A  4037    	LD	BC,(IX+%FFFFFFFD)
041679 DD0FE8              A  4038    	LD	(IX+%FFFFFFE8),BC
04167C 01 82 57 04         A  4039    	LD	BC,_currentlevel+7
041680 DD27FD              A  4040    	LD	HL,(IX+%FFFFFFFD)
041683 09                  A  4041    	ADD	HL,BC
041684 E5D1                A  4042    	LD	DE,HL
041686 DD0706              A  4043    	LD	BC,(IX+%6)
041689 CD 39 2A 04         A  4044    	CALL	__stoiu
04168D 19                  A  4045    	ADD	HL,DE
04168E 362B                A  4046    	LD	(HL),%2B
                           A  4047    ;  417				break;
                           A  4048    .LINE 417
                           A  4049    
041690 18 04               A  4050    	JR	L_82
                           A  4051    ;  418			default:
041692                     A  4052    L_71:
                           A  4053    .LINE 418
                           A  4054    
                           A  4055    ;  419				onlyplayermoves = FALSE;
                           A  4056    .LINE 419
                           A  4057    
041692 DD36FC00            A  4058    	LD	(IX+%FFFFFFFC),%0
                           A  4059    ;  420				break;
                           A  4060    ;  421		}
041696                     A  4061    L_82:
                           A  4062    .LINE 421
                           A  4063    
                           A  4064    ;  422		if(!onlyplayermoves)
                           A  4065    .LINE 422
                           A  4066    
041696 DD7EFC              A  4067    	LD	A,(IX+%FFFFFFFC)
041699 B7                  A  4068    	OR	A,A
04169A C2 4E 17 04         A  4069    	JR	NZ,L_85
                           A  4070    ;  423		{
                           A  4071    ;  424			switch(n2)
                           A  4072    .LINE 424
                           A  4073    
04169E DD7EEB              A  4074    	LD	A,(IX+%FFFFFFEB)
0416A1 B7ED62              A  4075    	UEXT	HL
0416A4 6F                  A  4076    	LD	L,A
0416A5 CD 4D 31 04         A  4077    	CALL	__case8D
0416A9 E9                  A  4078    	JP	(HL)
0416AA                     A  4079    L__30:
0416AA 0200                A  4080    	DW	2
0416AC 20                  A  4081    	DB	32
0416AD B71604              A  4082    	DW24	L_72	
                           A  4083    
0416B0 2E                  A  4084    	DB	46
0416B1 CC1604              A  4085    	DW24	L_73	
                           A  4086    
0416B4 E81604              A  4087    	DW24	L_80	
                           A  4088    
                           A  4089    ;  425			{
                           A  4090    ;  426				case CHAR_FLOOR:
0416B7                     A  4091    L_72:
                           A  4092    .LINE 426
                           A  4093    
                           A  4094    ;  427					currentlevel.data[yn2][
                           A  4095    .LINE 427
                           A  4096    
0416B7 DD07F8              A  4097    	LD	BC,(IX+%FFFFFFF8)
0416BA DD27E5              A  4098    	LD	HL,(IX+%FFFFFFE5)
0416BD 09                  A  4099    	ADD	HL,BC
0416BE E5D1                A  4100    	LD	DE,HL
0416C0 DD070C              A  4101    	LD	BC,(IX+%C)
0416C3 CD 39 2A 04         A  4102    	CALL	__stoiu
0416C7 19                  A  4103    	ADD	HL,DE
0416C8 3624                A  4104    	LD	(HL),%24
                           A  4105    ;  428					break;
                           A  4106    .LINE 428
                           A  4107    
0416CA 18 1C               A  4108    	JR	L_80
                           A  4109    ;  429				case CHAR_GOAL:
0416CC                     A  4110    L_73:
                           A  4111    .LINE 429
                           A  4112    
                           A  4113    ;  430					currentlevel.data[yn2][
                           A  4114    .LINE 430
                           A  4115    
0416CC DD07F8              A  4116    	LD	BC,(IX+%FFFFFFF8)
0416CF DD27EC              A  4117    	LD	HL,(IX+%FFFFFFEC)
0416D2 09                  A  4118    	ADD	HL,BC
0416D3 E5D1                A  4119    	LD	DE,HL
0416D5 DD070C              A  4120    	LD	BC,(IX+%C)
0416D8 CD 39 2A 04         A  4121    	CALL	__stoiu
0416DC 19                  A  4122    	ADD	HL,DE
0416DD 362A                A  4123    	LD	(HL),%2A
                           A  4124    ;  431					currentlevel.goalstaken
                           A  4125    .LINE 431
                           A  4126    
0416DF 3A 80 57 04         A  4127    	LD	A,(_currentlevel+5)
0416E3 3C                  A  4128    	INC	A
0416E4 32 80 57 04         A  4129    	LD	(_currentlevel+5),A
                           A  4130    ;  432					break;
                           A  4131    ;  433				default:
                           A  4132    ;  434					break; // ignore the re
                           A  4133    ;  435			}
0416E8                     A  4134    L_80:
                           A  4135    .LINE 435
                           A  4136    
                           A  4137    ;  436			switch(n1)
                           A  4138    .LINE 436
                           A  4139    
0416E8 DD7EFB              A  4140    	LD	A,(IX+%FFFFFFFB)
0416EB B7ED62              A  4141    	UEXT	HL
0416EE 6F                  A  4142    	LD	L,A
0416EF CD 4D 31 04         A  4143    	CALL	__case8D
0416F3 E9                  A  4144    	JP	(HL)
0416F4                     A  4145    L__31:
0416F4 0300                A  4146    	DW	3
0416F6 24                  A  4147    	DB	36
0416F7 051704              A  4148    	DW24	L_76	
                           A  4149    
0416FA 2A                  A  4150    	DB	42
0416FB 1B1704              A  4151    	DW24	L_77	
                           A  4152    
0416FE 2E                  A  4153    	DB	46
0416FF 3A1704              A  4154    	DW24	L_79	
                           A  4155    
041702 4E1704              A  4156    	DW24	L_85	
                           A  4157    
                           A  4158    ;  437			{
                           A  4159    ;  438				case CHAR_BOX:
041705                     A  4160    L_76:
                           A  4161    .LINE 438
                           A  4162    
                           A  4163    ;  439					currentlevel.data[yn1][
                           A  4164    .LINE 439
                           A  4165    
041705 01 82 57 04         A  4166    	LD	BC,_currentlevel+7
041709 DD27EF              A  4167    	LD	HL,(IX+%FFFFFFEF)
04170C 09                  A  4168    	ADD	HL,BC
04170D E5D1                A  4169    	LD	DE,HL
04170F DD0706              A  4170    	LD	BC,(IX+%6)
041712 CD 39 2A 04         A  4171    	CALL	__stoiu
041716 19                  A  4172    	ADD	HL,DE
041717 3640                A  4173    	LD	(HL),%40
                           A  4174    ;  440					break;
                           A  4175    .LINE 440
                           A  4176    
041719 18 33               A  4177    	JR	L_85
                           A  4178    ;  441				case CHAR_BOXONGOAL:
04171B                     A  4179    L_77:
                           A  4180    .LINE 441
                           A  4181    
                           A  4182    ;  442					currentlevel.data[yn1][
                           A  4183    .LINE 442
                           A  4184    
04171B 01 82 57 04         A  4185    	LD	BC,_currentlevel+7
04171F DD27F2              A  4186    	LD	HL,(IX+%FFFFFFF2)
041722 09                  A  4187    	ADD	HL,BC
041723 E5D1                A  4188    	LD	DE,HL
041725 DD0706              A  4189    	LD	BC,(IX+%6)
041728 CD 39 2A 04         A  4190    	CALL	__stoiu
04172C 19                  A  4191    	ADD	HL,DE
04172D 362B                A  4192    	LD	(HL),%2B
                           A  4193    ;  443					currentlevel.goalstaken
                           A  4194    .LINE 443
                           A  4195    
04172F 3A 80 57 04         A  4196    	LD	A,(_currentlevel+5)
041733 3D                  A  4197    	DEC	A
041734 32 80 57 04         A  4198    	LD	(_currentlevel+5),A
                           A  4199    ;  444					break;
                           A  4200    .LINE 444
                           A  4201    
041738 18 14               A  4202    	JR	L_85
                           A  4203    ;  445				case CHAR_GOAL:
04173A                     A  4204    L_79:
                           A  4205    .LINE 445
                           A  4206    
                           A  4207    ;  446					currentlevel.data[yn1][
                           A  4208    .LINE 446
                           A  4209    
04173A 01 82 57 04         A  4210    	LD	BC,_currentlevel+7
04173E DD27E8              A  4211    	LD	HL,(IX+%FFFFFFE8)
041741 09                  A  4212    	ADD	HL,BC
041742 E5D1                A  4213    	LD	DE,HL
041744 DD0706              A  4214    	LD	BC,(IX+%6)
041747 CD 39 2A 04         A  4215    	CALL	__stoiu
04174B 19                  A  4216    	ADD	HL,DE
04174C 362B                A  4217    	LD	(HL),%2B
                           A  4218    ;  447					break;
                           A  4219    ;  448			}
                           A  4220    ;  449		}
04174E                     A  4221    L_85:
                           A  4222    .LINE 449
                           A  4223    
                           A  4224    ;  450		
                           A  4225    ;  451		
                           A  4226    ;  452		// check where the player was stand
                           A  4227    ;  453		if(currentlevel.data[currentlevel.y
                           A  4228    .LINE 453
                           A  4229    
04174E 01 82 57 04         A  4230    	LD	BC,_currentlevel+7
041752 DD0FF5              A  4231    	LD	(IX+%FFFFFFF5),BC
041755 3A 7C 57 04         A  4232    	LD	A,(_currentlevel+1)
041759 B7ED62              A  4233    	UEXT	HL
04175C 6F                  A  4234    	LD	L,A
04175D 3E28                A  4235    	LD	A,%28
04175F CD B8 30 04         A  4236    	CALL	__imul_b
041763 DD07F5              A  4237    	LD	BC,(IX+%FFFFFFF5)
041766 09                  A  4238    	ADD	HL,BC
041767 E5C1                A  4239    	LD	BC,HL
041769 3A 7B 57 04         A  4240    	LD	A,(_currentlevel)
04176D B7ED62              A  4241    	UEXT	HL
041770 6F                  A  4242    	LD	L,A
041771 09                  A  4243    	ADD	HL,BC
041772 7E                  A  4244    	LD	A,(HL)
041773 B7ED62              A  4245    	UEXT	HL
041776 6F                  A  4246    	LD	L,A
041777 012B0000            A  4247    	LD	BC,43
04177B B7                  A  4248    	OR	A,A
04177C ED42                A  4249    	SBC	HL,BC
04177E 20 21               A  4250    	JR	NZ,L_84
041780 3A 7C 57 04         A  4251    	LD	A,(_currentlevel+1)
041784 B7ED62              A  4252    	UEXT	HL
041787 6F                  A  4253    	LD	L,A
041788 3E28                A  4254    	LD	A,%28
04178A CD B8 30 04         A  4255    	CALL	__imul_b
04178E DD07F5              A  4256    	LD	BC,(IX+%FFFFFFF5)
041791 09                  A  4257    	ADD	HL,BC
041792 E5C1                A  4258    	LD	BC,HL
041794 3A 7B 57 04         A  4259    	LD	A,(_currentlevel)
041798 B7ED62              A  4260    	UEXT	HL
04179B 6F                  A  4261    	LD	L,A
04179C 09                  A  4262    	ADD	HL,BC
04179D 362E                A  4263    	LD	(HL),%2E
                           A  4264    ;  454		else currentlevel.data[currentlevel
                           A  4265    .LINE 454
                           A  4266    
04179F 18 1F               A  4267    	JR	L_86
0417A1                     A  4268    L_84:
0417A1 3A 7C 57 04         A  4269    	LD	A,(_currentlevel+1)
0417A5 B7ED62              A  4270    	UEXT	HL
0417A8 6F                  A  4271    	LD	L,A
0417A9 3E28                A  4272    	LD	A,%28
0417AB CD B8 30 04         A  4273    	CALL	__imul_b
0417AF DD07F5              A  4274    	LD	BC,(IX+%FFFFFFF5)
0417B2 09                  A  4275    	ADD	HL,BC
0417B3 E5C1                A  4276    	LD	BC,HL
0417B5 3A 7B 57 04         A  4277    	LD	A,(_currentlevel)
0417B9 B7ED62              A  4278    	UEXT	HL
0417BC 6F                  A  4279    	LD	L,A
0417BD 09                  A  4280    	ADD	HL,BC
0417BE 3620                A  4281    	LD	(HL),%20
0417C0                     A  4282    L_86:
                           A  4283    ;  455		
                           A  4284    ;  456		// update player position
                           A  4285    ;  457		currentlevel.xpos = xn1;
                           A  4286    .LINE 457
                           A  4287    
0417C0 DD7E06              A  4288    	LD	A,(IX+%6)
0417C3 32 7B 57 04         A  4289    	LD	(_currentlevel),A
                           A  4290    ;  458		currentlevel.ypos = yn1;
                           A  4291    .LINE 458
                           A  4292    
0417C7 DD7E09              A  4293    	LD	A,(IX+%9)
0417CA 32 7C 57 04         A  4294    	LD	(_currentlevel+1),A
                           A  4295    ;  459	}
                           A  4296    .LINE 459
                           A  4297    
0417CE DDF9                A  4298    	LD	SP,IX
0417D0 DDE1                A  4299    	POP	IX
0417D2 C9                  A  4300    	RET	
                           A  4301    
                           A  4302    
                           A  4303    ;**************************** _move_updatelevel
                           A  4304    ;Name                         Addr/Register   S
                           A  4305    ;_currentlevel                       STATIC   1
                           A  4306    ;G_4                                  IX-27    
                           A  4307    ;G_10                                 IX-24    
                           A  4308    ;n2                                   IX-21    
                           A  4309    ;G_6                                  IX-20    
                           A  4310    ;G_8                                  IX-17    
                           A  4311    ;G_9                                  IX-14    
                           A  4312    ;G_11                                 IX-11    
                           A  4313    ;G_5                                   IX-8    
                           A  4314    ;n1                                    IX-5    
                           A  4315    ;onlyplayermoves                       IX-4    
                           A  4316    ;G_1                                   IX-3    
                           A  4317    ;yn2                                  IX+15    
                           A  4318    ;xn2                                  IX+12    
                           A  4319    ;yn1                                   IX+9    
                           A  4320    ;xn1                                   IX+6    
                           A  4321    
                           A  4322    
                           A  4323    ; Stack Frame Size: 45 (bytes)
                           A  4324    ;       Spill Code: 0 (instruction)
                           A  4325    
                           A  4326    
                           A  4327    .ENDFUNC "move_updatelevel",459,"_move_updatele
                           A  4328    ;  460	
                           A  4329    ;  461	void undomove_updatelevel(UINT16 xn1, U
                           A  4330    ;  462	{
0417D3                     A  4331    _undomove_updatelevel:
                           A  4332    .DEFINE "_undomove_updatelevel"
                           A  4333    
                           A  4334    .VALUE _undomove_updatelevel
                           A  4335    
                           A  4336    .CLASS 2
                           A  4337    
                           A  4338    .TYPE 65
                           A  4339    
                           A  4340    .ENDEF
                           A  4341    
                           A  4342    .BEGFUNC "undomove_updatelevel",462,"_undomove_
                           A  4343    
                           A  4344    .LINE 462
                           A  4345    
                           A  4346    .DEFINE "xn1"
                           A  4347    
                           A  4348    .CLASS 65
                           A  4349    
                           A  4350    .VALUE 6
                           A  4351    
                           A  4352    .TYPE 13
                           A  4353    
                           A  4354    .ENDEF
                           A  4355    
                           A  4356    .DEFINE "yn1"
                           A  4357    
                           A  4358    .CLASS 65
                           A  4359    
                           A  4360    .VALUE 9
                           A  4361    
                           A  4362    .TYPE 13
                           A  4363    
                           A  4364    .ENDEF
                           A  4365    
                           A  4366    .DEFINE "xn2"
                           A  4367    
                           A  4368    .CLASS 65
                           A  4369    
                           A  4370    .VALUE 12
                           A  4371    
                           A  4372    .TYPE 13
                           A  4373    
                           A  4374    .ENDEF
                           A  4375    
                           A  4376    .DEFINE "yn2"
                           A  4377    
                           A  4378    .CLASS 65
                           A  4379    
                           A  4380    .VALUE 15
                           A  4381    
                           A  4382    .TYPE 13
                           A  4383    
                           A  4384    .ENDEF
                           A  4385    
                           A  4386    .DEFINE "xn3"
                           A  4387    
                           A  4388    .CLASS 65
                           A  4389    
                           A  4390    .VALUE 18
                           A  4391    
                           A  4392    .TYPE 13
                           A  4393    
                           A  4394    .ENDEF
                           A  4395    
                           A  4396    .DEFINE "yn3"
                           A  4397    
                           A  4398    .CLASS 65
                           A  4399    
                           A  4400    .VALUE 21
                           A  4401    
                           A  4402    .TYPE 13
                           A  4403    
                           A  4404    .ENDEF
                           A  4405    
                           A  4406    .DEFINE "n2"
                           A  4407    
                           A  4408    .CLASS 65
                           A  4409    
                           A  4410    .VALUE -13
                           A  4411    
                           A  4412    .TYPE 12
                           A  4413    
                           A  4414    .ENDEF
                           A  4415    
                           A  4416    .DEFINE "n1"
                           A  4417    
                           A  4418    .CLASS 65
                           A  4419    
                           A  4420    .VALUE -23
                           A  4421    
                           A  4422    .TYPE 12
                           A  4423    
                           A  4424    .ENDEF
                           A  4425    
                           A  4426    .DEFINE "n3"
                           A  4427    
                           A  4428    .CLASS 65
                           A  4429    
                           A  4430    .VALUE -27
                           A  4431    
                           A  4432    .TYPE 12
                           A  4433    
                           A  4434    .ENDEF
                           A  4435    
0417D3 DDE5                A  4436    	PUSH	IX
0417D5 DD210000 00         A  4437    	LD	IX,0
0417DA DD39                A  4438    	ADD	IX,SP
0417DC ED22E5              A  4439    	LEA	HL,IX+%FFFFFFE5
0417DF F9                  A  4440    	LD	SP,HL
                           A  4441    ;  463		UINT8 n1, n2, n3;
                           A  4442    ;  464		
                           A  4443    ;  465		// move n1 => n2 => n3
                           A  4444    ;  466		n1 = currentlevel.data[yn1][xn1]; /
                           A  4445    .LINE 466
                           A  4446    
0417E0 01 82 57 04         A  4447    	LD	BC,_currentlevel+7
0417E4 DD0FE6              A  4448    	LD	(IX+%FFFFFFE6),BC
0417E7 DD0FED              A  4449    	LD	(IX+%FFFFFFED),BC
0417EA DD0FEA              A  4450    	LD	(IX+%FFFFFFEA),BC
0417ED DD0FF0              A  4451    	LD	(IX+%FFFFFFF0),BC
0417F0 DD0FFD              A  4452    	LD	(IX+%FFFFFFFD),BC
0417F3 DD0709              A  4453    	LD	BC,(IX+%9)
0417F6 CD 39 2A 04         A  4454    	CALL	__stoiu
0417FA 3E28                A  4455    	LD	A,%28
0417FC CD B8 30 04         A  4456    	CALL	__imul_b
041800 DD2FF4              A  4457    	LD	(IX+%FFFFFFF4),HL
041803 DD07FD              A  4458    	LD	BC,(IX+%FFFFFFFD)
041806 09                  A  4459    	ADD	HL,BC
041807 E5D1                A  4460    	LD	DE,HL
041809 DD0706              A  4461    	LD	BC,(IX+%6)
04180C CD 39 2A 04         A  4462    	CALL	__stoiu
041810 19                  A  4463    	ADD	HL,DE
041811 7E                  A  4464    	LD	A,(HL)
041812 DD77E9              A  4465    	LD	(IX+%FFFFFFE9),A
                           A  4466    ;  467		n2 = currentlevel.data[yn2][xn2]; /
                           A  4467    .LINE 467
                           A  4468    
041815 DD070F              A  4469    	LD	BC,(IX+%F)
041818 CD 39 2A 04         A  4470    	CALL	__stoiu
04181C 3E28                A  4471    	LD	A,%28
04181E CD B8 30 04         A  4472    	CALL	__imul_b
041822 DD2FFA              A  4473    	LD	(IX+%FFFFFFFA),HL
041825 DD07FD              A  4474    	LD	BC,(IX+%FFFFFFFD)
041828 09                  A  4475    	ADD	HL,BC
041829 E5D1                A  4476    	LD	DE,HL
04182B DD070C              A  4477    	LD	BC,(IX+%C)
04182E CD 39 2A 04         A  4478    	CALL	__stoiu
041832 19                  A  4479    	ADD	HL,DE
041833 7E                  A  4480    	LD	A,(HL)
041834 DD77F3              A  4481    	LD	(IX+%FFFFFFF3),A
                           A  4482    ;  468		n3 = currentlevel.data[yn3][xn3]; /
                           A  4483    .LINE 468
                           A  4484    
041837 DD0715              A  4485    	LD	BC,(IX+%15)
04183A CD 39 2A 04         A  4486    	CALL	__stoiu
04183E 3E28                A  4487    	LD	A,%28
041840 CD B8 30 04         A  4488    	CALL	__imul_b
041844 DD2FF7              A  4489    	LD	(IX+%FFFFFFF7),HL
041847 DD07FD              A  4490    	LD	BC,(IX+%FFFFFFFD)
04184A 09                  A  4491    	ADD	HL,BC
04184B E5D1                A  4492    	LD	DE,HL
04184D DD0712              A  4493    	LD	BC,(IX+%12)
041850 CD 39 2A 04         A  4494    	CALL	__stoiu
041854 19                  A  4495    	ADD	HL,DE
041855 7E                  A  4496    	LD	A,(HL)
041856 DD77E5              A  4497    	LD	(IX+%FFFFFFE5),A
                           A  4498    ;  469		
                           A  4499    ;  470		switch(n3)
                           A  4500    .LINE 470
                           A  4501    
041859 B7ED62              A  4502    	UEXT	HL
04185C 6F                  A  4503    	LD	L,A
04185D CD 4D 31 04         A  4504    	CALL	__case8D
041861 E9                  A  4505    	JP	(HL)
041862                     A  4506    L__34:
041862 0200                A  4507    	DW	2
041864 20                  A  4508    	DB	32
041865 6F1804              A  4509    	DW24	L_88	
                           A  4510    
041868 2E                  A  4511    	DB	46
041869 911804              A  4512    	DW24	L_89	
                           A  4513    
04186C B11804              A  4514    	DW24	L_103	
                           A  4515    
                           A  4516    ;  471		{
                           A  4517    ;  472			case CHAR_FLOOR:
04186F                     A  4518    L_88:
                           A  4519    .LINE 472
                           A  4520    
                           A  4521    ;  473				currentlevel.data[yn3][xn3]
                           A  4522    .LINE 473
                           A  4523    
04186F 01 82 57 04         A  4524    	LD	BC,_currentlevel+7
041873 DD0FE6              A  4525    	LD	(IX+%FFFFFFE6),BC
041876 DD0FED              A  4526    	LD	(IX+%FFFFFFED),BC
041879 DD0FEA              A  4527    	LD	(IX+%FFFFFFEA),BC
04187C DD0FF0              A  4528    	LD	(IX+%FFFFFFF0),BC
04187F DD27F7              A  4529    	LD	HL,(IX+%FFFFFFF7)
041882 09                  A  4530    	ADD	HL,BC
041883 E5D1                A  4531    	LD	DE,HL
041885 DD0712              A  4532    	LD	BC,(IX+%12)
041888 CD 39 2A 04         A  4533    	CALL	__stoiu
04188C 19                  A  4534    	ADD	HL,DE
04188D 3640                A  4535    	LD	(HL),%40
                           A  4536    ;  474				break;
                           A  4537    .LINE 474
                           A  4538    
04188F 18 20               A  4539    	JR	L_103
                           A  4540    ;  475			case CHAR_GOAL:
041891                     A  4541    L_89:
                           A  4542    .LINE 475
                           A  4543    
                           A  4544    ;  476				currentlevel.data[yn3][xn3]
                           A  4545    .LINE 476
                           A  4546    
041891 01 82 57 04         A  4547    	LD	BC,_currentlevel+7
041895 DD0FE6              A  4548    	LD	(IX+%FFFFFFE6),BC
041898 DD0FED              A  4549    	LD	(IX+%FFFFFFED),BC
04189B DD0FEA              A  4550    	LD	(IX+%FFFFFFEA),BC
04189E DD0FF0              A  4551    	LD	(IX+%FFFFFFF0),BC
0418A1 DD27F7              A  4552    	LD	HL,(IX+%FFFFFFF7)
0418A4 09                  A  4553    	ADD	HL,BC
0418A5 E5D1                A  4554    	LD	DE,HL
0418A7 DD0712              A  4555    	LD	BC,(IX+%12)
0418AA CD 39 2A 04         A  4556    	CALL	__stoiu
0418AE 19                  A  4557    	ADD	HL,DE
0418AF 362B                A  4558    	LD	(HL),%2B
                           A  4559    ;  477				break;
                           A  4560    ;  478			default:
                           A  4561    ;  479				break;
                           A  4562    ;  480		}
0418B1                     A  4563    L_103:
                           A  4564    .LINE 480
                           A  4565    
                           A  4566    ;  481		
                           A  4567    ;  482		if(undomove.pushed)
                           A  4568    .LINE 482
                           A  4569    
0418B1 3A C9 4E 04         A  4570    	LD	A,(_undomove+1)
0418B5 B7                  A  4571    	OR	A,A
0418B6 CA 49 19 04         A  4572    	JR	Z,L_102
                           A  4573    ;  483		{
                           A  4574    ;  484			switch(n1)
                           A  4575    .LINE 484
                           A  4576    
0418BA DD7EE9              A  4577    	LD	A,(IX+%FFFFFFE9)
0418BD B7ED62              A  4578    	UEXT	HL
0418C0 6F                  A  4579    	LD	L,A
0418C1 CD 4D 31 04         A  4580    	CALL	__case8D
0418C5 E9                  A  4581    	JP	(HL)
0418C6                     A  4582    L__36:
0418C6 0200                A  4583    	DW	2
0418C8 24                  A  4584    	DB	36
0418C9 D31804              A  4585    	DW24	L_91	
                           A  4586    
0418CC 2A                  A  4587    	DB	42
0418CD E81804              A  4588    	DW24	L_92	
                           A  4589    
0418D0 041904              A  4590    	DW24	L_98	
                           A  4591    
                           A  4592    ;  485			{
                           A  4593    ;  486				case CHAR_BOX:
0418D3                     A  4594    L_91:
                           A  4595    .LINE 486
                           A  4596    
                           A  4597    ;  487					currentlevel.data[yn1][
                           A  4598    .LINE 487
                           A  4599    
0418D3 DD07F4              A  4600    	LD	BC,(IX+%FFFFFFF4)
0418D6 DD27E6              A  4601    	LD	HL,(IX+%FFFFFFE6)
0418D9 09                  A  4602    	ADD	HL,BC
0418DA E5D1                A  4603    	LD	DE,HL
0418DC DD0706              A  4604    	LD	BC,(IX+%6)
0418DF CD 39 2A 04         A  4605    	CALL	__stoiu
0418E3 19                  A  4606    	ADD	HL,DE
0418E4 3620                A  4607    	LD	(HL),%20
                           A  4608    ;  488					break;
                           A  4609    .LINE 488
                           A  4610    
0418E6 18 1C               A  4611    	JR	L_98
                           A  4612    ;  489				case CHAR_BOXONGOAL:
0418E8                     A  4613    L_92:
                           A  4614    .LINE 489
                           A  4615    
                           A  4616    ;  490					currentlevel.data[yn1][
                           A  4617    .LINE 490
                           A  4618    
0418E8 DD07F4              A  4619    	LD	BC,(IX+%FFFFFFF4)
0418EB DD27ED              A  4620    	LD	HL,(IX+%FFFFFFED)
0418EE 09                  A  4621    	ADD	HL,BC
0418EF E5D1                A  4622    	LD	DE,HL
0418F1 DD0706              A  4623    	LD	BC,(IX+%6)
0418F4 CD 39 2A 04         A  4624    	CALL	__stoiu
0418F8 19                  A  4625    	ADD	HL,DE
0418F9 362E                A  4626    	LD	(HL),%2E
                           A  4627    ;  491					currentlevel.goalstaken
                           A  4628    .LINE 491
                           A  4629    
0418FB 3A 80 57 04         A  4630    	LD	A,(_currentlevel+5)
0418FF 3D                  A  4631    	DEC	A
041900 32 80 57 04         A  4632    	LD	(_currentlevel+5),A
                           A  4633    ;  492					break;
                           A  4634    ;  493				default:
                           A  4635    ;  494					break;
                           A  4636    ;  495			}
041904                     A  4637    L_98:
                           A  4638    .LINE 495
                           A  4639    
                           A  4640    ;  496			switch(n2) // revert push to bo
                           A  4641    .LINE 496
                           A  4642    
041904 DD7EF3              A  4643    	LD	A,(IX+%FFFFFFF3)
041907 B7ED62              A  4644    	UEXT	HL
04190A 6F                  A  4645    	LD	L,A
04190B 012B0000            A  4646    	LD	BC,43
04190F B7                  A  4647    	OR	A,A
041910 ED42                A  4648    	SBC	HL,BC
041912 20 1F               A  4649    	JR	NZ,L_97
                           A  4650    ;  497			{
                           A  4651    ;  498				case CHAR_PLAYERONGOAL:
                           A  4652    .LINE 498
                           A  4653    
                           A  4654    ;  499					currentlevel.data[yn2][
                           A  4655    .LINE 499
                           A  4656    
041914 01 82 57 04         A  4657    	LD	BC,_currentlevel+7
041918 DD27FA              A  4658    	LD	HL,(IX+%FFFFFFFA)
04191B 09                  A  4659    	ADD	HL,BC
04191C E5D1                A  4660    	LD	DE,HL
04191E DD070C              A  4661    	LD	BC,(IX+%C)
041921 CD 39 2A 04         A  4662    	CALL	__stoiu
041925 19                  A  4663    	ADD	HL,DE
041926 362A                A  4664    	LD	(HL),%2A
                           A  4665    ;  500					currentlevel.goalstaken
                           A  4666    .LINE 500
                           A  4667    
041928 3A 80 57 04         A  4668    	LD	A,(_currentlevel+5)
04192C 3C                  A  4669    	INC	A
04192D 32 80 57 04         A  4670    	LD	(_currentlevel+5),A
                           A  4671    ;  501					break;
                           A  4672    .LINE 501
                           A  4673    
041931 18 4E               A  4674    	JR	L_104
                           A  4675    ;  502				default:
041933                     A  4676    L_97:
                           A  4677    .LINE 502
                           A  4678    
                           A  4679    ;  503					currentlevel.data[yn2][
                           A  4680    .LINE 503
                           A  4681    
041933 01 82 57 04         A  4682    	LD	BC,_currentlevel+7
041937 DD27FA              A  4683    	LD	HL,(IX+%FFFFFFFA)
04193A 09                  A  4684    	ADD	HL,BC
04193B E5D1                A  4685    	LD	DE,HL
04193D DD070C              A  4686    	LD	BC,(IX+%C)
041940 CD 39 2A 04         A  4687    	CALL	__stoiu
041944 19                  A  4688    	ADD	HL,DE
041945 3624                A  4689    	LD	(HL),%24
                           A  4690    ;  504					break;
                           A  4691    .LINE 504
                           A  4692    
041947 18 38               A  4693    	JR	L_104
                           A  4694    ;  505			}
                           A  4695    ;  506		}
                           A  4696    ;  507		else // only the player switched po
041949                     A  4697    L_102:
                           A  4698    .LINE 507
                           A  4699    
                           A  4700    ;  508		{
                           A  4701    ;  509			switch(n2)
                           A  4702    .LINE 509
                           A  4703    
041949 DD7EF3              A  4704    	LD	A,(IX+%FFFFFFF3)
04194C B7ED62              A  4705    	UEXT	HL
04194F 6F                  A  4706    	LD	L,A
041950 012B0000            A  4707    	LD	BC,43
041954 B7                  A  4708    	OR	A,A
041955 ED42                A  4709    	SBC	HL,BC
041957 20 15               A  4710    	JR	NZ,L_100
                           A  4711    ;  510			{
                           A  4712    ;  511				case CHAR_PLAYERONGOAL:
                           A  4713    .LINE 511
                           A  4714    
                           A  4715    ;  512					currentlevel.data[yn2][
                           A  4716    .LINE 512
                           A  4717    
041959 DD07FA              A  4718    	LD	BC,(IX+%FFFFFFFA)
04195C DD27EA              A  4719    	LD	HL,(IX+%FFFFFFEA)
04195F 09                  A  4720    	ADD	HL,BC
041960 E5D1                A  4721    	LD	DE,HL
041962 DD070C              A  4722    	LD	BC,(IX+%C)
041965 CD 39 2A 04         A  4723    	CALL	__stoiu
041969 19                  A  4724    	ADD	HL,DE
04196A 362E                A  4725    	LD	(HL),%2E
                           A  4726    ;  513					break;
                           A  4727    .LINE 513
                           A  4728    
04196C 18 13               A  4729    	JR	L_104
                           A  4730    ;  514				default:
04196E                     A  4731    L_100:
                           A  4732    .LINE 514
                           A  4733    
                           A  4734    ;  515					currentlevel.data[yn2][
                           A  4735    .LINE 515
                           A  4736    
04196E DD07FA              A  4737    	LD	BC,(IX+%FFFFFFFA)
041971 DD27F0              A  4738    	LD	HL,(IX+%FFFFFFF0)
041974 09                  A  4739    	ADD	HL,BC
041975 E5D1                A  4740    	LD	DE,HL
041977 DD070C              A  4741    	LD	BC,(IX+%C)
04197A CD 39 2A 04         A  4742    	CALL	__stoiu
04197E 19                  A  4743    	ADD	HL,DE
04197F 3620                A  4744    	LD	(HL),%20
                           A  4745    ;  516					break;
                           A  4746    ;  517			}
                           A  4747    ;  518		}
041981                     A  4748    L_104:
                           A  4749    .LINE 518
                           A  4750    
                           A  4751    ;  519		
                           A  4752    ;  520		// update player position
                           A  4753    ;  521		currentlevel.xpos = xn3;
                           A  4754    .LINE 521
                           A  4755    
041981 DD7E12              A  4756    	LD	A,(IX+%12)
041984 32 7B 57 04         A  4757    	LD	(_currentlevel),A
                           A  4758    ;  522		currentlevel.ypos = yn3;
                           A  4759    .LINE 522
                           A  4760    
041988 DD7E15              A  4761    	LD	A,(IX+%15)
04198B 32 7C 57 04         A  4762    	LD	(_currentlevel+1),A
                           A  4763    ;  523	}
                           A  4764    .LINE 523
                           A  4765    
04198F DDF9                A  4766    	LD	SP,IX
041991 DDE1                A  4767    	POP	IX
041993 C9                  A  4768    	RET	
                           A  4769    
                           A  4770    
                           A  4771    ;**************************** _undomove_updatel
                           A  4772    ;Name                         Addr/Register   S
                           A  4773    ;_undomove                           STATIC    
                           A  4774    ;_currentlevel                       STATIC   1
                           A  4775    ;n3                                   IX-27    
                           A  4776    ;G_17                                 IX-26    
                           A  4777    ;n1                                   IX-23    
                           A  4778    ;G_23                                 IX-22    
                           A  4779    ;G_19                                 IX-19    
                           A  4780    ;G_25                                 IX-16    
                           A  4781    ;n2                                   IX-13    
                           A  4782    ;G_18                                 IX-12    
                           A  4783    ;G_14                                  IX-9    
                           A  4784    ;G_21                                  IX-6    
                           A  4785    ;yn3                                  IX+21    
                           A  4786    ;xn3                                  IX+18    
                           A  4787    ;yn2                                  IX+15    
                           A  4788    ;xn2                                  IX+12    
                           A  4789    ;yn1                                   IX+9    
                           A  4790    ;xn1                                   IX+6    
                           A  4791    
                           A  4792    
                           A  4793    ; Stack Frame Size: 51 (bytes)
                           A  4794    ;       Spill Code: 0 (instruction)
                           A  4795    
                           A  4796    
                           A  4797    .ENDFUNC "undomove_updatelevel",523,"_undomove_
                           A  4798    ;  524	
                           A  4799    ;  525	void game_handleUndoMove(void)
                           A  4800    ;  526	{
041994                     A  4801    _game_handleUndoMove:
                           A  4802    .DEFINE "_game_handleUndoMove"
                           A  4803    
                           A  4804    .VALUE _game_handleUndoMove
                           A  4805    
                           A  4806    .CLASS 2
                           A  4807    
                           A  4808    .TYPE 65
                           A  4809    
                           A  4810    .ENDEF
                           A  4811    
                           A  4812    .BEGFUNC "game_handleUndoMove",526,"_game_handl
                           A  4813    
                           A  4814    .LINE 526
                           A  4815    
                           A  4816    .DEFINE "xn2"
                           A  4817    
                           A  4818    .CLASS 65
                           A  4819    
                           A  4820    .VALUE -2
                           A  4821    
                           A  4822    .TYPE 3
                           A  4823    
                           A  4824    .ENDEF
                           A  4825    
                           A  4826    .DEFINE "yn2"
                           A  4827    
                           A  4828    .CLASS 65
                           A  4829    
                           A  4830    .VALUE -4
                           A  4831    
                           A  4832    .TYPE 3
                           A  4833    
                           A  4834    .ENDEF
                           A  4835    
                           A  4836    .DEFINE "yn1"
                           A  4837    
                           A  4838    .CLASS 65
                           A  4839    
                           A  4840    .VALUE -6
                           A  4841    
                           A  4842    .TYPE 3
                           A  4843    
                           A  4844    .ENDEF
                           A  4845    
                           A  4846    .DEFINE "xn1"
                           A  4847    
                           A  4848    .CLASS 65
                           A  4849    
                           A  4850    .VALUE -8
                           A  4851    
                           A  4852    .TYPE 3
                           A  4853    
                           A  4854    .ENDEF
                           A  4855    
                           A  4856    .DEFINE "xn3"
                           A  4857    
                           A  4858    .CLASS 65
                           A  4859    
                           A  4860    .VALUE -10
                           A  4861    
                           A  4862    .TYPE 3
                           A  4863    
                           A  4864    .ENDEF
                           A  4865    
                           A  4866    .DEFINE "yn3"
                           A  4867    
                           A  4868    .CLASS 65
                           A  4869    
                           A  4870    .VALUE -12
                           A  4871    
                           A  4872    .TYPE 3
                           A  4873    
                           A  4874    .ENDEF
                           A  4875    
041994 DDE5                A  4876    	PUSH	IX
041996 DD210000 00         A  4877    	LD	IX,0
04199B DD39                A  4878    	ADD	IX,SP
04199D ED22F4              A  4879    	LEA	HL,IX+%FFFFFFF4
0419A0 F9                  A  4880    	LD	SP,HL
                           A  4881    ;  527		INT16 xn1 = 0, xn2 = 0, yn1 = 0, yn
                           A  4882    .LINE 527
                           A  4883    
0419A1 DD36F800            A  4884    	LD	(IX+%FFFFFFF8),%0
0419A5 DD36F900            A  4885    	LD	(IX+%FFFFFFF9),%0
0419A9 DD36FA00            A  4886    	LD	(IX+%FFFFFFFA),%0
0419AD DD36FB00            A  4887    	LD	(IX+%FFFFFFFB),%0
0419B1 DD36F600            A  4888    	LD	(IX+%FFFFFFF6),%0
0419B5 DD36F700            A  4889    	LD	(IX+%FFFFFFF7),%0
0419B9 DD36F400            A  4890    	LD	(IX+%FFFFFFF4),%0
0419BD DD36F500            A  4891    	LD	(IX+%FFFFFFF5),%0
                           A  4892    ;  528		
                           A  4893    ;  529		if(num_undomoves)
                           A  4894    .LINE 529
                           A  4895    
0419C1 3A CA 4E 04         A  4896    	LD	A,(_num_undomoves)
0419C5 B7                  A  4897    	OR	A,A
0419C6 CA E5 1A 04         A  4898    	JR	Z,L_112
                           A  4899    ;  530		{
                           A  4900    ;  531			xn2 = currentlevel.xpos;
                           A  4901    .LINE 531
                           A  4902    
0419CA 3A 7B 57 04         A  4903    	LD	A,(_currentlevel)
0419CE 4F                  A  4904    	LD	C,A
0419CF 0600                A  4905    	LD	B,%0
0419D1 C5E1                A  4906    	LD	HL,BC
0419D3 DD75FE              A  4907    	LD	(IX+%FFFFFFFE),L
0419D6 DD74FF              A  4908    	LD	(IX+%FFFFFFFF),H
                           A  4909    ;  532			yn2 = currentlevel.ypos;
                           A  4910    .LINE 532
                           A  4911    
0419D9 3A 7C 57 04         A  4912    	LD	A,(_currentlevel+1)
0419DD 4F                  A  4913    	LD	C,A
0419DE C5E1                A  4914    	LD	HL,BC
0419E0 DD75FC              A  4915    	LD	(IX+%FFFFFFFC),L
0419E3 DD74FD              A  4916    	LD	(IX+%FFFFFFFD),H
                           A  4917    ;  533			
                           A  4918    ;  534			switch(undomove.movekey)
                           A  4919    .LINE 534
                           A  4920    
0419E6 3A C8 4E 04         A  4921    	LD	A,(_undomove)
0419EA B7ED62              A  4922    	UEXT	HL
0419ED 6F                  A  4923    	LD	L,A
0419EE CD 4D 31 04         A  4924    	CALL	__case8D
0419F2 E9                  A  4925    	JP	(HL)
0419F3                     A  4926    L__39:
0419F3 0400                A  4927    	DW	4
0419F5 08                  A  4928    	DB	8
0419F6 081A04              A  4929    	DW24	L_106	
                           A  4930    
0419F9 0A                  A  4931    	DB	10
0419FA 581A04              A  4932    	DW24	L_108	
                           A  4933    
0419FD 0B                  A  4934    	DB	11
0419FE 301A04              A  4935    	DW24	L_107	
                           A  4936    
041A01 15                  A  4937    	DB	21
041A02 801A04              A  4938    	DW24	L_109	
                           A  4939    
041A05 A61A04              A  4940    	DW24	L_110	
                           A  4941    
                           A  4942    ;  535			{
                           A  4943    ;  536				case 0x8: // undo LEFT
041A08                     A  4944    L_106:
                           A  4945    .LINE 536
                           A  4946    
                           A  4947    ;  537					yn1 = yn2;
                           A  4948    .LINE 537
                           A  4949    
041A08 DD07FC              A  4950    	LD	BC,(IX+%FFFFFFFC)
041A0B DD71FA              A  4951    	LD	(IX+%FFFFFFFA),C
041A0E DD70FB              A  4952    	LD	(IX+%FFFFFFFB),B
                           A  4953    ;  538					yn3 = yn2;
                           A  4954    .LINE 538
                           A  4955    
041A11 DD07FC              A  4956    	LD	BC,(IX+%FFFFFFFC)
041A14 DD71F4              A  4957    	LD	(IX+%FFFFFFF4),C
041A17 DD70F5              A  4958    	LD	(IX+%FFFFFFF5),B
                           A  4959    ;  539					xn1 = xn2 - 1;
                           A  4960    .LINE 539
                           A  4961    
041A1A DD27FE              A  4962    	LD	HL,(IX+%FFFFFFFE)
041A1D 2B                  A  4963    	DEC	HL
041A1E DD75F8              A  4964    	LD	(IX+%FFFFFFF8),L
041A21 DD74F9              A  4965    	LD	(IX+%FFFFFFF9),H
                           A  4966    ;  540					xn3 = xn2 + 1;
                           A  4967    .LINE 540
                           A  4968    
041A24 DD27FE              A  4969    	LD	HL,(IX+%FFFFFFFE)
041A27 23                  A  4970    	INC	HL
041A28 DD75F6              A  4971    	LD	(IX+%FFFFFFF6),L
041A2B DD74F7              A  4972    	LD	(IX+%FFFFFFF7),H
                           A  4973    ;  541					break;
                           A  4974    .LINE 541
                           A  4975    
041A2E 18 76               A  4976    	JR	L_110
                           A  4977    ;  542				case 0xb: // undo UP
041A30                     A  4978    L_107:
                           A  4979    .LINE 542
                           A  4980    
                           A  4981    ;  543					xn1 = xn2;
                           A  4982    .LINE 543
                           A  4983    
041A30 DD07FE              A  4984    	LD	BC,(IX+%FFFFFFFE)
041A33 DD71F8              A  4985    	LD	(IX+%FFFFFFF8),C
041A36 DD70F9              A  4986    	LD	(IX+%FFFFFFF9),B
                           A  4987    ;  544					xn3 = xn2;
                           A  4988    .LINE 544
                           A  4989    
041A39 DD07FE              A  4990    	LD	BC,(IX+%FFFFFFFE)
041A3C DD71F6              A  4991    	LD	(IX+%FFFFFFF6),C
041A3F DD70F7              A  4992    	LD	(IX+%FFFFFFF7),B
                           A  4993    ;  545					yn1 = yn2 - 1;
                           A  4994    .LINE 545
                           A  4995    
041A42 DD27FC              A  4996    	LD	HL,(IX+%FFFFFFFC)
041A45 2B                  A  4997    	DEC	HL
041A46 DD75FA              A  4998    	LD	(IX+%FFFFFFFA),L
041A49 DD74FB              A  4999    	LD	(IX+%FFFFFFFB),H
                           A  5000    ;  546					yn3 = yn2 + 1;
                           A  5001    .LINE 546
                           A  5002    
041A4C DD27FC              A  5003    	LD	HL,(IX+%FFFFFFFC)
041A4F 23                  A  5004    	INC	HL
041A50 DD75F4              A  5005    	LD	(IX+%FFFFFFF4),L
041A53 DD74F5              A  5006    	LD	(IX+%FFFFFFF5),H
                           A  5007    ;  547					break;
                           A  5008    .LINE 547
                           A  5009    
041A56 18 4E               A  5010    	JR	L_110
                           A  5011    ;  548				case 0xa: // undo DOWN
041A58                     A  5012    L_108:
                           A  5013    .LINE 548
                           A  5014    
                           A  5015    ;  549					xn1 = xn2;
                           A  5016    .LINE 549
                           A  5017    
041A58 DD07FE              A  5018    	LD	BC,(IX+%FFFFFFFE)
041A5B DD71F8              A  5019    	LD	(IX+%FFFFFFF8),C
041A5E DD70F9              A  5020    	LD	(IX+%FFFFFFF9),B
                           A  5021    ;  550					xn3 = xn2;
                           A  5022    .LINE 550
                           A  5023    
041A61 DD07FE              A  5024    	LD	BC,(IX+%FFFFFFFE)
041A64 DD71F6              A  5025    	LD	(IX+%FFFFFFF6),C
041A67 DD70F7              A  5026    	LD	(IX+%FFFFFFF7),B
                           A  5027    ;  551					yn1 = yn2 + 1;
                           A  5028    .LINE 551
                           A  5029    
041A6A DD27FC              A  5030    	LD	HL,(IX+%FFFFFFFC)
041A6D 23                  A  5031    	INC	HL
041A6E DD75FA              A  5032    	LD	(IX+%FFFFFFFA),L
041A71 DD74FB              A  5033    	LD	(IX+%FFFFFFFB),H
                           A  5034    ;  552					yn3 = yn2 - 1;
                           A  5035    .LINE 552
                           A  5036    
041A74 DD27FC              A  5037    	LD	HL,(IX+%FFFFFFFC)
041A77 2B                  A  5038    	DEC	HL
041A78 DD75F4              A  5039    	LD	(IX+%FFFFFFF4),L
041A7B DD74F5              A  5040    	LD	(IX+%FFFFFFF5),H
                           A  5041    ;  553					break;
                           A  5042    .LINE 553
                           A  5043    
041A7E 18 26               A  5044    	JR	L_110
                           A  5045    ;  554				case 0x15: // undo RIGHT
041A80                     A  5046    L_109:
                           A  5047    .LINE 554
                           A  5048    
                           A  5049    ;  555					yn1 = yn2;
                           A  5050    .LINE 555
                           A  5051    
041A80 DD07FC              A  5052    	LD	BC,(IX+%FFFFFFFC)
041A83 DD71FA              A  5053    	LD	(IX+%FFFFFFFA),C
041A86 DD70FB              A  5054    	LD	(IX+%FFFFFFFB),B
                           A  5055    ;  556					yn3 = yn2;
                           A  5056    .LINE 556
                           A  5057    
041A89 DD07FC              A  5058    	LD	BC,(IX+%FFFFFFFC)
041A8C DD71F4              A  5059    	LD	(IX+%FFFFFFF4),C
041A8F DD70F5              A  5060    	LD	(IX+%FFFFFFF5),B
                           A  5061    ;  557					xn1 = xn2 + 1;
                           A  5062    .LINE 557
                           A  5063    
041A92 DD27FE              A  5064    	LD	HL,(IX+%FFFFFFFE)
041A95 23                  A  5065    	INC	HL
041A96 DD75F8              A  5066    	LD	(IX+%FFFFFFF8),L
041A99 DD74F9              A  5067    	LD	(IX+%FFFFFFF9),H
                           A  5068    ;  558					xn3 = xn2 - 1;
                           A  5069    .LINE 558
                           A  5070    
041A9C DD27FE              A  5071    	LD	HL,(IX+%FFFFFFFE)
041A9F 2B                  A  5072    	DEC	HL
041AA0 DD75F6              A  5073    	LD	(IX+%FFFFFFF6),L
041AA3 DD74F7              A  5074    	LD	(IX+%FFFFFFF7),H
                           A  5075    ;  559					break;
                           A  5076    ;  560			}
041AA6                     A  5077    L_110:
                           A  5078    .LINE 560
                           A  5079    
                           A  5080    ;  561			undomove_sprites(xn1,yn1,xn2,yn
                           A  5081    .LINE 561
                           A  5082    
041AA6 DD07FC              A  5083    	LD	BC,(IX+%FFFFFFFC)
041AA9 C5                  A  5084    	PUSH	BC
041AAA DD07FE              A  5085    	LD	BC,(IX+%FFFFFFFE)
041AAD C5                  A  5086    	PUSH	BC
041AAE DD07FA              A  5087    	LD	BC,(IX+%FFFFFFFA)
041AB1 C5                  A  5088    	PUSH	BC
041AB2 DD07F8              A  5089    	LD	BC,(IX+%FFFFFFF8)
041AB5 C5                  A  5090    	PUSH	BC
041AB6 CD 2D 14 04         A  5091    	CALL	_undomove_sprites
041ABA C1                  A  5092    	POP	BC
041ABB C1                  A  5093    	POP	BC
041ABC C1                  A  5094    	POP	BC
041ABD C1                  A  5095    	POP	BC
                           A  5096    ;  562			undomove_updatelevel(xn1, yn1, 
                           A  5097    .LINE 562
                           A  5098    
041ABE DD07F4              A  5099    	LD	BC,(IX+%FFFFFFF4)
041AC1 C5                  A  5100    	PUSH	BC
041AC2 DD07F6              A  5101    	LD	BC,(IX+%FFFFFFF6)
041AC5 C5                  A  5102    	PUSH	BC
041AC6 DD07FC              A  5103    	LD	BC,(IX+%FFFFFFFC)
041AC9 C5                  A  5104    	PUSH	BC
041ACA DD07FE              A  5105    	LD	BC,(IX+%FFFFFFFE)
041ACD C5                  A  5106    	PUSH	BC
041ACE DD07FA              A  5107    	LD	BC,(IX+%FFFFFFFA)
041AD1 C5                  A  5108    	PUSH	BC
041AD2 DD07F8              A  5109    	LD	BC,(IX+%FFFFFFF8)
041AD5 C5                  A  5110    	PUSH	BC
041AD6 CD D3 17 04         A  5111    	CALL	_undomove_updatelevel
041ADA C1                  A  5112    	POP	BC
041ADB C1                  A  5113    	POP	BC
041ADC C1                  A  5114    	POP	BC
041ADD C1                  A  5115    	POP	BC
041ADE C1                  A  5116    	POP	BC
041ADF C1                  A  5117    	POP	BC
                           A  5118    ;  563			num_undomoves = 0;
                           A  5119    .LINE 563
                           A  5120    
041AE0 AF                  A  5121    	XOR	A,A
041AE1 32 CA 4E 04         A  5122    	LD	(_num_undomoves),A
                           A  5123    ;  564		}
                           A  5124    ;  565	}
041AE5                     A  5125    L_112:
                           A  5126    .LINE 565
                           A  5127    
041AE5 DDF9                A  5128    	LD	SP,IX
041AE7 DDE1                A  5129    	POP	IX
041AE9 C9                  A  5130    	RET	
                           A  5131    
                           A  5132    
                           A  5133    ;**************************** _game_handleUndoM
                           A  5134    ;Name                         Addr/Register   S
                           A  5135    ;_undomove                           STATIC    
                           A  5136    ;_currentlevel                       STATIC   1
                           A  5137    ;_num_undomoves                      STATIC    
                           A  5138    ;yn3                                  IX-12    
                           A  5139    ;xn3                                  IX-10    
                           A  5140    ;xn1                                   IX-8    
                           A  5141    ;yn1                                   IX-6    
                           A  5142    ;yn2                                   IX-4    
                           A  5143    ;xn2                                   IX-2    
                           A  5144    
                           A  5145    
                           A  5146    ; Stack Frame Size: 18 (bytes)
                           A  5147    ;       Spill Code: 0 (instruction)
                           A  5148    
                           A  5149    
                           A  5150    .ENDFUNC "game_handleUndoMove",565,"_game_handl
                           A  5151    ;  566	
                           A  5152    ;  567	BOOL game_handleKey(char key)
                           A  5153    ;  568	{
041AEA                     A  5154    _game_handleKey:
                           A  5155    .DEFINE "_game_handleKey"
                           A  5156    
                           A  5157    .VALUE _game_handleKey
                           A  5158    
                           A  5159    .CLASS 2
                           A  5160    
                           A  5161    .TYPE 76
                           A  5162    
                           A  5163    .ENDEF
                           A  5164    
                           A  5165    .BEGFUNC "game_handleKey",568,"_game_handleKey"
                           A  5166    
                           A  5167    .LINE 568
                           A  5168    
                           A  5169    .DEFINE "key"
                           A  5170    
                           A  5171    .CLASS 65
                           A  5172    
                           A  5173    .VALUE 6
                           A  5174    
                           A  5175    .TYPE 2
                           A  5176    
                           A  5177    .ENDEF
                           A  5178    
                           A  5179    .DEFINE "xn1"
                           A  5180    
                           A  5181    .CLASS 65
                           A  5182    
                           A  5183    .VALUE -2
                           A  5184    
                           A  5185    .TYPE 3
                           A  5186    
                           A  5187    .ENDEF
                           A  5188    
                           A  5189    .DEFINE "yn1"
                           A  5190    
                           A  5191    .CLASS 65
                           A  5192    
                           A  5193    .VALUE -4
                           A  5194    
                           A  5195    .TYPE 3
                           A  5196    
                           A  5197    .ENDEF
                           A  5198    
                           A  5199    .DEFINE "xn2"
                           A  5200    
                           A  5201    .CLASS 65
                           A  5202    
                           A  5203    .VALUE -6
                           A  5204    
                           A  5205    .TYPE 3
                           A  5206    
                           A  5207    .ENDEF
                           A  5208    
                           A  5209    .DEFINE "move"
                           A  5210    
                           A  5211    .CLASS 65
                           A  5212    
                           A  5213    .VALUE -7
                           A  5214    
                           A  5215    .TYPE 12
                           A  5216    
                           A  5217    .ENDEF
                           A  5218    
                           A  5219    .DEFINE "yn2"
                           A  5220    
                           A  5221    .CLASS 65
                           A  5222    
                           A  5223    .VALUE -9
                           A  5224    
                           A  5225    .TYPE 3
                           A  5226    
                           A  5227    .ENDEF
                           A  5228    
                           A  5229    .DEFINE "done"
                           A  5230    
                           A  5231    .CLASS 65
                           A  5232    
                           A  5233    .VALUE -10
                           A  5234    
                           A  5235    .TYPE 12
                           A  5236    
                           A  5237    .ENDEF
                           A  5238    
041AEA DDE5                A  5239    	PUSH	IX
041AEC DD210000 00         A  5240    	LD	IX,0
041AF1 DD39                A  5241    	ADD	IX,SP
041AF3 ED22ED              A  5242    	LEA	HL,IX+%FFFFFFED
041AF6 F9                  A  5243    	LD	SP,HL
                           A  5244    ;  569		BOOL done = FALSE;
                           A  5245    .LINE 569
                           A  5246    
041AF7 DD36F600            A  5247    	LD	(IX+%FFFFFFF6),%0
                           A  5248    ;  570		BOOL move = FALSE;
                           A  5249    .LINE 570
                           A  5250    
041AFB DD36F900            A  5251    	LD	(IX+%FFFFFFF9),%0
                           A  5252    ;  571		INT16	xn1 = 0,xn2 = 0,yn1 = 0,yn2
                           A  5253    .LINE 571
                           A  5254    
041AFF DD36FE00            A  5255    	LD	(IX+%FFFFFFFE),%0
041B03 DD36FF00            A  5256    	LD	(IX+%FFFFFFFF),%0
041B07 DD36FA00            A  5257    	LD	(IX+%FFFFFFFA),%0
041B0B DD36FB00            A  5258    	LD	(IX+%FFFFFFFB),%0
041B0F DD36FC00            A  5259    	LD	(IX+%FFFFFFFC),%0
041B13 DD36FD00            A  5260    	LD	(IX+%FFFFFFFD),%0
041B17 DD36F700            A  5261    	LD	(IX+%FFFFFFF7),%0
041B1B DD36F800            A  5262    	LD	(IX+%FFFFFFF8),%0
                           A  5263    ;  572		
                           A  5264    ;  573		switch(key)
                           A  5265    .LINE 573
                           A  5266    
041B1F DD7E06              A  5267    	LD	A,(IX+%6)
041B22 17ED62              A  5268    	SEXT	HL
041B25 DD6E06              A  5269    	LD	L,(IX+%6)
041B28 CD 4D 31 04         A  5270    	CALL	__case8D
041B2C E9                  A  5271    	JP	(HL)
041B2D                     A  5272    L__41:
041B2D 0500                A  5273    	DW	5
041B2F 08                  A  5274    	DB	8
041B30 461B04              A  5275    	DW24	L_113	
                           A  5276    
041B33 0A                  A  5277    	DB	10
041B34 CE1B04              A  5278    	DW24	L_115	
                           A  5279    
041B37 0B                  A  5280    	DB	11
041B38 8B1B04              A  5281    	DW24	L_114	
                           A  5282    
041B3B 15                  A  5283    	DB	21
041B3C 0F1C04              A  5284    	DW24	L_116	
                           A  5285    
041B3F 75                  A  5286    	DB	117
041B40 521C04              A  5287    	DW24	L_117	
                           A  5288    
041B43 581C04              A  5289    	DW24	L_118	
                           A  5290    
                           A  5291    ;  574		{
                           A  5292    ;  575			case 0x8: // LEFT
041B46                     A  5293    L_113:
                           A  5294    .LINE 575
                           A  5295    
                           A  5296    ;  576				xn1 = currentlevel.xpos - 1
                           A  5297    .LINE 576
                           A  5298    
041B46 3A 7B 57 04         A  5299    	LD	A,(_currentlevel)
041B4A 4F                  A  5300    	LD	C,A
041B4B 0600                A  5301    	LD	B,%0
041B4D 0B                  A  5302    	DEC	BC
041B4E C5E1                A  5303    	LD	HL,BC
041B50 DD75FE              A  5304    	LD	(IX+%FFFFFFFE),L
041B53 DD74FF              A  5305    	LD	(IX+%FFFFFFFF),H
                           A  5306    ;  577				yn1 = currentlevel.ypos;
                           A  5307    .LINE 577
                           A  5308    
041B56 3A 7C 57 04         A  5309    	LD	A,(_currentlevel+1)
041B5A 4F                  A  5310    	LD	C,A
041B5B 0600                A  5311    	LD	B,%0
041B5D C5E1                A  5312    	LD	HL,BC
041B5F DD75FC              A  5313    	LD	(IX+%FFFFFFFC),L
041B62 DD74FD              A  5314    	LD	(IX+%FFFFFFFD),H
                           A  5315    ;  578				xn2 = currentlevel.xpos - 2
                           A  5316    .LINE 578
                           A  5317    
041B65 3A 7B 57 04         A  5318    	LD	A,(_currentlevel)
041B69 4F                  A  5319    	LD	C,A
041B6A 0B                  A  5320    	DEC	BC
041B6B 0B                  A  5321    	DEC	BC
041B6C C5E1                A  5322    	LD	HL,BC
041B6E DD75FA              A  5323    	LD	(IX+%FFFFFFFA),L
041B71 DD74FB              A  5324    	LD	(IX+%FFFFFFFB),H
                           A  5325    ;  579				yn2 = currentlevel.ypos;
                           A  5326    .LINE 579
                           A  5327    
041B74 3A 7C 57 04         A  5328    	LD	A,(_currentlevel+1)
041B78 4F                  A  5329    	LD	C,A
041B79 0600                A  5330    	LD	B,%0
041B7B C5E1                A  5331    	LD	HL,BC
041B7D DD75F7              A  5332    	LD	(IX+%FFFFFFF7),L
041B80 DD74F8              A  5333    	LD	(IX+%FFFFFFF8),H
                           A  5334    ;  580				move = TRUE;
                           A  5335    .LINE 580
                           A  5336    
041B83 DD36F901            A  5337    	LD	(IX+%FFFFFFF9),%1
                           A  5338    ;  581				break;
                           A  5339    .LINE 581
                           A  5340    
041B87 C3 5C 1C 04         A  5341    	JR	L_126
                           A  5342    ;  582			case 0xb:
041B8B                     A  5343    L_114:
                           A  5344    .LINE 582
                           A  5345    
                           A  5346    ;  583				xn1 = currentlevel.xpos;
                           A  5347    .LINE 583
                           A  5348    
041B8B 3A 7B 57 04         A  5349    	LD	A,(_currentlevel)
041B8F 4F                  A  5350    	LD	C,A
041B90 0600                A  5351    	LD	B,%0
041B92 C5E1                A  5352    	LD	HL,BC
041B94 DD75FE              A  5353    	LD	(IX+%FFFFFFFE),L
041B97 DD74FF              A  5354    	LD	(IX+%FFFFFFFF),H
                           A  5355    ;  584				yn1 = currentlevel.ypos - 1
                           A  5356    .LINE 584
                           A  5357    
041B9A 3A 7C 57 04         A  5358    	LD	A,(_currentlevel+1)
041B9E 4F                  A  5359    	LD	C,A
041B9F 0B                  A  5360    	DEC	BC
041BA0 C5E1                A  5361    	LD	HL,BC
041BA2 DD75FC              A  5362    	LD	(IX+%FFFFFFFC),L
041BA5 DD74FD              A  5363    	LD	(IX+%FFFFFFFD),H
                           A  5364    ;  585				xn2 = currentlevel.xpos;
                           A  5365    .LINE 585
                           A  5366    
041BA8 3A 7B 57 04         A  5367    	LD	A,(_currentlevel)
041BAC 4F                  A  5368    	LD	C,A
041BAD 0600                A  5369    	LD	B,%0
041BAF C5E1                A  5370    	LD	HL,BC
041BB1 DD75FA              A  5371    	LD	(IX+%FFFFFFFA),L
041BB4 DD74FB              A  5372    	LD	(IX+%FFFFFFFB),H
                           A  5373    ;  586				yn2 = currentlevel.ypos - 2
                           A  5374    .LINE 586
                           A  5375    
041BB7 3A 7C 57 04         A  5376    	LD	A,(_currentlevel+1)
041BBB 4F                  A  5377    	LD	C,A
041BBC 0B                  A  5378    	DEC	BC
041BBD 0B                  A  5379    	DEC	BC
041BBE C5E1                A  5380    	LD	HL,BC
041BC0 DD75F7              A  5381    	LD	(IX+%FFFFFFF7),L
041BC3 DD74F8              A  5382    	LD	(IX+%FFFFFFF8),H
                           A  5383    ;  587				move = TRUE;
                           A  5384    .LINE 587
                           A  5385    
041BC6 DD36F901            A  5386    	LD	(IX+%FFFFFFF9),%1
                           A  5387    ;  588				break;
                           A  5388    .LINE 588
                           A  5389    
041BCA C3 5C 1C 04         A  5390    	JR	L_126
                           A  5391    ;  589			case 0xa:
041BCE                     A  5392    L_115:
                           A  5393    .LINE 589
                           A  5394    
                           A  5395    ;  590				xn1 = currentlevel.xpos;
                           A  5396    .LINE 590
                           A  5397    
041BCE 3A 7B 57 04         A  5398    	LD	A,(_currentlevel)
041BD2 4F                  A  5399    	LD	C,A
041BD3 0600                A  5400    	LD	B,%0
041BD5 C5E1                A  5401    	LD	HL,BC
041BD7 DD75FE              A  5402    	LD	(IX+%FFFFFFFE),L
041BDA DD74FF              A  5403    	LD	(IX+%FFFFFFFF),H
                           A  5404    ;  591				yn1 = currentlevel.ypos + 1
                           A  5405    .LINE 591
                           A  5406    
041BDD 3A 7C 57 04         A  5407    	LD	A,(_currentlevel+1)
041BE1 4F                  A  5408    	LD	C,A
041BE2 03                  A  5409    	INC	BC
041BE3 C5E1                A  5410    	LD	HL,BC
041BE5 DD75FC              A  5411    	LD	(IX+%FFFFFFFC),L
041BE8 DD74FD              A  5412    	LD	(IX+%FFFFFFFD),H
                           A  5413    ;  592				xn2 = currentlevel.xpos;
                           A  5414    .LINE 592
                           A  5415    
041BEB 3A 7B 57 04         A  5416    	LD	A,(_currentlevel)
041BEF 4F                  A  5417    	LD	C,A
041BF0 0600                A  5418    	LD	B,%0
041BF2 C5E1                A  5419    	LD	HL,BC
041BF4 DD75FA              A  5420    	LD	(IX+%FFFFFFFA),L
041BF7 DD74FB              A  5421    	LD	(IX+%FFFFFFFB),H
                           A  5422    ;  593				yn2 = currentlevel.ypos + 2
                           A  5423    .LINE 593
                           A  5424    
041BFA 3A 7C 57 04         A  5425    	LD	A,(_currentlevel+1)
041BFE 4F                  A  5426    	LD	C,A
041BFF 03                  A  5427    	INC	BC
041C00 03                  A  5428    	INC	BC
041C01 C5E1                A  5429    	LD	HL,BC
041C03 DD75F7              A  5430    	LD	(IX+%FFFFFFF7),L
041C06 DD74F8              A  5431    	LD	(IX+%FFFFFFF8),H
                           A  5432    ;  594				move = TRUE;
                           A  5433    .LINE 594
                           A  5434    
041C09 DD36F901            A  5435    	LD	(IX+%FFFFFFF9),%1
                           A  5436    ;  595				break;
                           A  5437    .LINE 595
                           A  5438    
041C0D 18 4D               A  5439    	JR	L_126
                           A  5440    ;  596			case 0x15: // RIGHT
041C0F                     A  5441    L_116:
                           A  5442    .LINE 596
                           A  5443    
                           A  5444    ;  597				xn1 = currentlevel.xpos + 1
                           A  5445    .LINE 597
                           A  5446    
041C0F 3A 7B 57 04         A  5447    	LD	A,(_currentlevel)
041C13 4F                  A  5448    	LD	C,A
041C14 0600                A  5449    	LD	B,%0
041C16 03                  A  5450    	INC	BC
041C17 C5E1                A  5451    	LD	HL,BC
041C19 DD75FE              A  5452    	LD	(IX+%FFFFFFFE),L
041C1C DD74FF              A  5453    	LD	(IX+%FFFFFFFF),H
                           A  5454    ;  598				yn1 = currentlevel.ypos;
                           A  5455    .LINE 598
                           A  5456    
041C1F 3A 7C 57 04         A  5457    	LD	A,(_currentlevel+1)
041C23 4F                  A  5458    	LD	C,A
041C24 0600                A  5459    	LD	B,%0
041C26 C5E1                A  5460    	LD	HL,BC
041C28 DD75FC              A  5461    	LD	(IX+%FFFFFFFC),L
041C2B DD74FD              A  5462    	LD	(IX+%FFFFFFFD),H
                           A  5463    ;  599				xn2 = currentlevel.xpos + 2
                           A  5464    .LINE 599
                           A  5465    
041C2E 3A 7B 57 04         A  5466    	LD	A,(_currentlevel)
041C32 4F                  A  5467    	LD	C,A
041C33 03                  A  5468    	INC	BC
041C34 03                  A  5469    	INC	BC
041C35 C5E1                A  5470    	LD	HL,BC
041C37 DD75FA              A  5471    	LD	(IX+%FFFFFFFA),L
041C3A DD74FB              A  5472    	LD	(IX+%FFFFFFFB),H
                           A  5473    ;  600				yn2 = currentlevel.ypos;
                           A  5474    .LINE 600
                           A  5475    
041C3D 3A 7C 57 04         A  5476    	LD	A,(_currentlevel+1)
041C41 4F                  A  5477    	LD	C,A
041C42 0600                A  5478    	LD	B,%0
041C44 C5E1                A  5479    	LD	HL,BC
041C46 DD75F7              A  5480    	LD	(IX+%FFFFFFF7),L
041C49 DD74F8              A  5481    	LD	(IX+%FFFFFFF8),H
                           A  5482    ;  601				move = TRUE;
                           A  5483    .LINE 601
                           A  5484    
041C4C DD36F901            A  5485    	LD	(IX+%FFFFFFF9),%1
                           A  5486    ;  602				break;
                           A  5487    .LINE 602
                           A  5488    
041C50 18 0A               A  5489    	JR	L_126
                           A  5490    ;  603			case 'u': // undo move
041C52                     A  5491    L_117:
                           A  5492    .LINE 603
                           A  5493    
                           A  5494    ;  604				game_handleUndoMove();
                           A  5495    .LINE 604
                           A  5496    
041C52 CD 94 19 04         A  5497    	CALL	_game_handleUndoMove
                           A  5498    ;  605				break;
                           A  5499    .LINE 605
                           A  5500    
041C56 18 04               A  5501    	JR	L_126
                           A  5502    ;  606			default:
041C58                     A  5503    L_118:
                           A  5504    .LINE 606
                           A  5505    
                           A  5506    ;  607				move = FALSE;
                           A  5507    .LINE 607
                           A  5508    
041C58 DD36F900            A  5509    	LD	(IX+%FFFFFFF9),%0
                           A  5510    ;  608				break;
                           A  5511    ;  609		}
041C5C                     A  5512    L_126:
                           A  5513    .LINE 609
                           A  5514    
                           A  5515    ;  610		if(move)
                           A  5516    .LINE 610
                           A  5517    
041C5C DD7EF9              A  5518    	LD	A,(IX+%FFFFFFF9)
041C5F B7                  A  5519    	OR	A,A
041C60 CA 2A 1D 04         A  5520    	JR	Z,L_127
                           A  5521    ;  611		{
                           A  5522    ;  612			if(canmove(xn1,yn1,xn2,yn2))
                           A  5523    .LINE 612
                           A  5524    
041C64 DD07F7              A  5525    	LD	BC,(IX+%FFFFFFF7)
041C67 C5                  A  5526    	PUSH	BC
041C68 DD07FA              A  5527    	LD	BC,(IX+%FFFFFFFA)
041C6B C5                  A  5528    	PUSH	BC
041C6C DD07FC              A  5529    	LD	BC,(IX+%FFFFFFFC)
041C6F C5                  A  5530    	PUSH	BC
041C70 DD07FE              A  5531    	LD	BC,(IX+%FFFFFFFE)
041C73 C5                  A  5532    	PUSH	BC
041C74 CD 15 12 04         A  5533    	CALL	_canmove
041C78 C1                  A  5534    	POP	BC
041C79 C1                  A  5535    	POP	BC
041C7A C1                  A  5536    	POP	BC
041C7B C1                  A  5537    	POP	BC
041C7C B7                  A  5538    	OR	A,A
041C7D CA 2A 1D 04         A  5539    	JR	Z,L_127
                           A  5540    ;  613			{
                           A  5541    ;  614				undomove.movekey = key;
                           A  5542    .LINE 614
                           A  5543    
041C81 DD7E06              A  5544    	LD	A,(IX+%6)
041C84 32 C8 4E 04         A  5545    	LD	(_undomove),A
                           A  5546    ;  615				undomove.pushed = (currentl
                           A  5547    .LINE 615
                           A  5548    
041C88 DD07FC              A  5549    	LD	BC,(IX+%FFFFFFFC)
041C8B CD 04 32 04         A  5550    	CALL	__stoi
041C8F 3E28                A  5551    	LD	A,%28
041C91 CD B8 30 04         A  5552    	CALL	__imul_b
041C95 01 82 57 04         A  5553    	LD	BC,_currentlevel+7
041C99 09                  A  5554    	ADD	HL,BC
041C9A DD2FED              A  5555    	LD	(IX+%FFFFFFED),HL
041C9D DD07FE              A  5556    	LD	BC,(IX+%FFFFFFFE)
041CA0 CD 04 32 04         A  5557    	CALL	__stoi
041CA4 DD07ED              A  5558    	LD	BC,(IX+%FFFFFFED)
041CA7 09                  A  5559    	ADD	HL,BC
041CA8 DD2FF0              A  5560    	LD	(IX+%FFFFFFF0),HL
041CAB 7E                  A  5561    	LD	A,(HL)
041CAC B7ED62              A  5562    	UEXT	HL
041CAF 6F                  A  5563    	LD	L,A
041CB0 01240000            A  5564    	LD	BC,36
041CB4 B7                  A  5565    	OR	A,A
041CB5 ED42                A  5566    	SBC	HL,BC
041CB7 28 11               A  5567    	JR	Z,L_120
041CB9 DD27F0              A  5568    	LD	HL,(IX+%FFFFFFF0)
041CBC 7E                  A  5569    	LD	A,(HL)
041CBD B7ED62              A  5570    	UEXT	HL
041CC0 6F                  A  5571    	LD	L,A
041CC1 012A0000            A  5572    	LD	BC,42
041CC5 B7                  A  5573    	OR	A,A
041CC6 ED42                A  5574    	SBC	HL,BC
041CC8 20 09               A  5575    	JR	NZ,L_121
041CCA                     A  5576    L_120:
041CCA 01010000            A  5577    	LD	BC,1
041CCE DD0FF3              A  5578    	LD	(IX+%FFFFFFF3),BC
041CD1 18 07               A  5579    	JR	L_122
041CD3                     A  5580    L_121:
041CD3 01000000            A  5581    	LD	BC,0
041CD7 DD0FF3              A  5582    	LD	(IX+%FFFFFFF3),BC
041CDA                     A  5583    L_122:
041CDA DD7EF3              A  5584    	LD	A,(IX+%FFFFFFF3)
041CDD 32 C9 4E 04         A  5585    	LD	(_undomove+1),A
                           A  5586    ;  616				num_undomoves = 1;
                           A  5587    .LINE 616
                           A  5588    
041CE1 3E01                A  5589    	LD	A,%1
041CE3 32 CA 4E 04         A  5590    	LD	(_num_undomoves),A
                           A  5591    ;  617				
                           A  5592    ;  618				move_sprites(xn1,yn1,xn2,yn
                           A  5593    .LINE 618
                           A  5594    
041CE7 DD07F7              A  5595    	LD	BC,(IX+%FFFFFFF7)
041CEA C5                  A  5596    	PUSH	BC
041CEB DD07FA              A  5597    	LD	BC,(IX+%FFFFFFFA)
041CEE C5                  A  5598    	PUSH	BC
041CEF DD07FC              A  5599    	LD	BC,(IX+%FFFFFFFC)
041CF2 C5                  A  5600    	PUSH	BC
041CF3 DD07FE              A  5601    	LD	BC,(IX+%FFFFFFFE)
041CF6 C5                  A  5602    	PUSH	BC
041CF7 CD AE 12 04         A  5603    	CALL	_move_sprites
041CFB C1                  A  5604    	POP	BC
041CFC C1                  A  5605    	POP	BC
041CFD C1                  A  5606    	POP	BC
041CFE C1                  A  5607    	POP	BC
                           A  5608    ;  619				move_updatelevel(xn1,yn1,xn
                           A  5609    .LINE 619
                           A  5610    
041CFF DD07F7              A  5611    	LD	BC,(IX+%FFFFFFF7)
041D02 C5                  A  5612    	PUSH	BC
041D03 DD07FA              A  5613    	LD	BC,(IX+%FFFFFFFA)
041D06 C5                  A  5614    	PUSH	BC
041D07 DD07FC              A  5615    	LD	BC,(IX+%FFFFFFFC)
041D0A C5                  A  5616    	PUSH	BC
041D0B DD07FE              A  5617    	LD	BC,(IX+%FFFFFFFE)
041D0E C5                  A  5618    	PUSH	BC
041D0F CD A1 15 04         A  5619    	CALL	_move_updatelevel
041D13 C1                  A  5620    	POP	BC
041D14 C1                  A  5621    	POP	BC
041D15 C1                  A  5622    	POP	BC
041D16 C1                  A  5623    	POP	BC
                           A  5624    ;  620				done = (currentlevel.goals 
                           A  5625    .LINE 620
                           A  5626    
041D17 3A 7F 57 04         A  5627    	LD	A,(_currentlevel+4)
041D1B 21 80 57 04         A  5628    	LD	HL,_currentlevel+5
041D1F BE                  A  5629    	CP	A,(HL)
041D20 20 04               A  5630    	JR	NZ,L__47
041D22 3E01                A  5631    	LD	A,%1
041D24 18 01               A  5632    	JR	L__48
041D26                     A  5633    L__47:
041D26 AF                  A  5634    	XOR	A,A
041D27                     A  5635    L__48:
041D27 DD77F6              A  5636    	LD	(IX+%FFFFFFF6),A
                           A  5637    ;  621			}
                           A  5638    ;  622		}
041D2A                     A  5639    L_127:
                           A  5640    .LINE 622
                           A  5641    
                           A  5642    ;  623		vdp_cursorGoto(0,0);
                           A  5643    .LINE 623
                           A  5644    
041D2A 01000000            A  5645    	LD	BC,0
041D2E C5                  A  5646    	PUSH	BC
041D2F C5                  A  5647    	PUSH	BC
041D30 CD F2 04 04         A  5648    	CALL	_vdp_cursorGoto
041D34 C1                  A  5649    	POP	BC
041D35 C1                  A  5650    	POP	BC
                           A  5651    ;  624		//debug_print_playfieldText();
                           A  5652    ;  625		return done;
                           A  5653    .LINE 625
                           A  5654    
041D36 DD7EF6              A  5655    	LD	A,(IX+%FFFFFFF6)
                           A  5656    ;  626	}
                           A  5657    .LINE 626
                           A  5658    
041D39 DDF9                A  5659    	LD	SP,IX
041D3B DDE1                A  5660    	POP	IX
041D3D C9                  A  5661    	RET	
                           A  5662    
                           A  5663    
                           A  5664    ;**************************** _game_handleKey *
                           A  5665    ;Name                         Addr/Register   S
                           A  5666    ;_vdp_cursorGoto                     IMPORT  --
                           A  5667    ;_num_undomoves                      STATIC    
                           A  5668    ;_undomove                           STATIC    
                           A  5669    ;_currentlevel                       STATIC   1
                           A  5670    ;G_27                                 IX-19    
                           A  5671    ;G_28                                 IX-16    
                           A  5672    ;temp123                              IX-13    
                           A  5673    ;done                                 IX-10    
                           A  5674    ;yn2                                   IX-9    
                           A  5675    ;move                                  IX-7    
                           A  5676    ;xn2                                   IX-6    
                           A  5677    ;yn1                                   IX-4    
                           A  5678    ;xn1                                   IX-2    
                           A  5679    ;key                                   IX+6    
                           A  5680    
                           A  5681    
                           A  5682    ; Stack Frame Size: 28 (bytes)
                           A  5683    ;       Spill Code: 0 (instruction)
                           A  5684    
                           A  5685    
                           A  5686    .ENDFUNC "game_handleKey",626,"_game_handleKey"
                           A  5687    ;  627	
                           A  5688    ;  628	char game_getResponse(char *message, ch
                           A  5689    ;  629	{
041D3E                     A  5690    _game_getResponse:
                           A  5691    .DEFINE "_game_getResponse"
                           A  5692    
                           A  5693    .VALUE _game_getResponse
                           A  5694    
                           A  5695    .CLASS 2
                           A  5696    
                           A  5697    .TYPE 66
                           A  5698    
                           A  5699    .ENDEF
                           A  5700    
                           A  5701    .BEGFUNC "game_getResponse",629,"_game_getRespo
                           A  5702    
                           A  5703    .LINE 629
                           A  5704    
                           A  5705    .DEFINE "message"
                           A  5706    
                           A  5707    .CLASS 65
                           A  5708    
                           A  5709    .VALUE 6
                           A  5710    
                           A  5711    .TYPE 34
                           A  5712    
                           A  5713    .ENDEF
                           A  5714    
                           A  5715    .DEFINE "option1"
                           A  5716    
                           A  5717    .CLASS 65
                           A  5718    
                           A  5719    .VALUE 9
                           A  5720    
                           A  5721    .TYPE 2
                           A  5722    
                           A  5723    .ENDEF
                           A  5724    
                           A  5725    .DEFINE "option2"
                           A  5726    
                           A  5727    .CLASS 65
                           A  5728    
                           A  5729    .VALUE 12
                           A  5730    
                           A  5731    .TYPE 2
                           A  5732    
                           A  5733    .ENDEF
                           A  5734    
                           A  5735    .DEFINE "n"
                           A  5736    
                           A  5737    .CLASS 65
                           A  5738    
                           A  5739    .VALUE -1
                           A  5740    
                           A  5741    .TYPE 12
                           A  5742    
                           A  5743    .ENDEF
                           A  5744    
                           A  5745    .DEFINE "ret"
                           A  5746    
                           A  5747    .CLASS 65
                           A  5748    
                           A  5749    .VALUE -2
                           A  5750    
                           A  5751    .TYPE 2
                           A  5752    
                           A  5753    .ENDEF
                           A  5754    
                           A  5755    .DEFINE "start"
                           A  5756    
                           A  5757    .CLASS 65
                           A  5758    
                           A  5759    .VALUE -3
                           A  5760    
                           A  5761    .TYPE 12
                           A  5762    
                           A  5763    .ENDEF
                           A  5764    
                           A  5765    .DEFINE "len"
                           A  5766    
                           A  5767    .CLASS 65
                           A  5768    
                           A  5769    .VALUE -4
                           A  5770    
                           A  5771    .TYPE 12
                           A  5772    
                           A  5773    .ENDEF
                           A  5774    
041D3E DDE5                A  5775    	PUSH	IX
041D40 DD210000 00         A  5776    	LD	IX,0
041D45 DD39                A  5777    	ADD	IX,SP
041D47 C5                  A  5778    	PUSH	BC
041D48 3B                  A  5779    	DEC	SP
                           A  5780    ;  630		UINT8 n;
                           A  5781    ;  631		UINT8 len = strlen(message);
                           A  5782    .LINE 631
                           A  5783    
041D49 DD0706              A  5784    	LD	BC,(IX+%6)
041D4C C5                  A  5785    	PUSH	BC
041D4D CD B0 2A 04         A  5786    	CALL	_strlen
041D51 C1                  A  5787    	POP	BC
041D52 DD75FC              A  5788    	LD	(IX+%FFFFFFFC),L
                           A  5789    ;  632		UINT8 start = (80 - len) / 2;
                           A  5790    .LINE 632
                           A  5791    
041D55 DD7EFC              A  5792    	LD	A,(IX+%FFFFFFFC)
041D58 B7ED62              A  5793    	UEXT	HL
041D5B 6F                  A  5794    	LD	L,A
041D5C E5C1                A  5795    	LD	BC,HL
041D5E 21500000            A  5796    	LD	HL,80
041D62 B7                  A  5797    	OR	A,A
041D63 ED42                A  5798    	SBC	HL,BC
041D65 01020000            A  5799    	LD	BC,2
041D69 CD 7F 30 04         A  5800    	CALL	__idivs
041D6D DD75FD              A  5801    	LD	(IX+%FFFFFFFD),L
                           A  5802    ;  633		char ret = 0;
                           A  5803    .LINE 633
                           A  5804    
041D70 DD36FE00            A  5805    	LD	(IX+%FFFFFFFE),%0
                           A  5806    ;  634		
                           A  5807    ;  635		
                           A  5808    ;  636		// vertical spacing
                           A  5809    ;  637		for(n = start - 1; n < (start+len+1
                           A  5810    .LINE 637
                           A  5811    
041D74 DD7EFD              A  5812    	LD	A,(IX+%FFFFFFFD)
041D77 3D                  A  5813    	DEC	A
041D78 DD77FF              A  5814    	LD	(IX+%FFFFFFFF),A
041D7B 18 39               A  5815    	JR	L_132
041D7D                     A  5816    L_130:
                           A  5817    ;  638		{
                           A  5818    ;  639			vdp_cursorGoto(n,27);
                           A  5819    .LINE 639
                           A  5820    
041D7D 011B0000            A  5821    	LD	BC,27
041D81 C5                  A  5822    	PUSH	BC
041D82 DD4EFF              A  5823    	LD	C,(IX+%FFFFFFFF)
041D85 0600                A  5824    	LD	B,%0
041D87 C5                  A  5825    	PUSH	BC
041D88 CD F2 04 04         A  5826    	CALL	_vdp_cursorGoto
041D8C C1                  A  5827    	POP	BC
041D8D C1                  A  5828    	POP	BC
                           A  5829    ;  640			putch(' ');
                           A  5830    .LINE 640
                           A  5831    
041D8E 01200000            A  5832    	LD	BC,32
041D92 C5                  A  5833    	PUSH	BC
041D93 CD C0 27 04         A  5834    	CALL	_putch
041D97 C1                  A  5835    	POP	BC
                           A  5836    ;  641			vdp_cursorGoto(n,29);
                           A  5837    .LINE 641
                           A  5838    
041D98 011D0000            A  5839    	LD	BC,29
041D9C C5                  A  5840    	PUSH	BC
041D9D DD4EFF              A  5841    	LD	C,(IX+%FFFFFFFF)
041DA0 0600                A  5842    	LD	B,%0
041DA2 C5                  A  5843    	PUSH	BC
041DA3 CD F2 04 04         A  5844    	CALL	_vdp_cursorGoto
041DA7 C1                  A  5845    	POP	BC
041DA8 C1                  A  5846    	POP	BC
                           A  5847    ;  642			putch(' ');
                           A  5848    .LINE 642
                           A  5849    
041DA9 01200000            A  5850    	LD	BC,32
041DAD C5                  A  5851    	PUSH	BC
041DAE CD C0 27 04         A  5852    	CALL	_putch
041DB2 C1                  A  5853    	POP	BC
041DB3 DD34FF              A  5854    	INC	(IX+%FFFFFFFF)
                           A  5855    ;  643		}
041DB6                     A  5856    L_132:
                           A  5857    .LINE 643
                           A  5858    
041DB6 DD7EFD              A  5859    	LD	A,(IX+%FFFFFFFD)
041DB9 B7ED62              A  5860    	UEXT	HL
041DBC 6F                  A  5861    	LD	L,A
041DBD E5C1                A  5862    	LD	BC,HL
041DBF DD7EFC              A  5863    	LD	A,(IX+%FFFFFFFC)
041DC2 B7ED62              A  5864    	UEXT	HL
041DC5 6F                  A  5865    	LD	L,A
041DC6 09                  A  5866    	ADD	HL,BC
041DC7 E5C1                A  5867    	LD	BC,HL
041DC9 03                  A  5868    	INC	BC
041DCA DD7EFF              A  5869    	LD	A,(IX+%FFFFFFFF)
041DCD B7ED62              A  5870    	UEXT	HL
041DD0 6F                  A  5871    	LD	L,A
041DD1 B7                  A  5872    	OR	A,A
041DD2 ED42                A  5873    	SBC	HL,BC
041DD4 FA 7D 1D 04         A  5874    	JP	M,L_130
                           A  5875    ;  644		// horizontal spacing
                           A  5876    ;  645		vdp_cursorGoto(start-1,28);
                           A  5877    .LINE 645
                           A  5878    
041DD8 011C0000            A  5879    	LD	BC,28
041DDC C5                  A  5880    	PUSH	BC
041DDD DD4EFD              A  5881    	LD	C,(IX+%FFFFFFFD)
041DE0 0D                  A  5882    	DEC	C
041DE1 0600                A  5883    	LD	B,%0
041DE3 C5                  A  5884    	PUSH	BC
041DE4 CD F2 04 04         A  5885    	CALL	_vdp_cursorGoto
041DE8 C1                  A  5886    	POP	BC
041DE9 C1                  A  5887    	POP	BC
                           A  5888    ;  646		putch(' ');
                           A  5889    .LINE 646
                           A  5890    
041DEA 01200000            A  5891    	LD	BC,32
041DEE C5                  A  5892    	PUSH	BC
041DEF CD C0 27 04         A  5893    	CALL	_putch
041DF3 C1                  A  5894    	POP	BC
                           A  5895    ;  647		printf("%s ", message);
                           A  5896    .LINE 647
                           A  5897    
041DF4 01 3F 2A 04         A  5898    	LD	BC,___print_uputch
041DF8 ED43 3C 4B 04       A  5899    	LD	(___print_xputch),BC
041DFD DD0706              A  5900    	LD	BC,(IX+%6)
041E00 C5                  A  5901    	PUSH	BC
041E01 CD CE 28 04         A  5902    	CALL	___print_sendstring
041E05 C1                  A  5903    	POP	BC
041E06 01200000            A  5904    	LD	BC,32
041E0A C5                  A  5905    	PUSH	BC
041E0B CD 3F 2A 04         A  5906    	CALL	___print_uputch
041E0F C1                  A  5907    	POP	BC
                           A  5908    ;  648	
                           A  5909    ;  649		while((ret != option1) && (ret != o
                           A  5910    .LINE 649
                           A  5911    
041E10 18 07               A  5912    	JR	L_135
041E12                     A  5913    L_136:
041E12 CD D8 27 04         A  5914    	CALL	_getch
041E16 DD77FE              A  5915    	LD	(IX+%FFFFFFFE),A
041E19                     A  5916    L_135:
041E19 DD7EFE              A  5917    	LD	A,(IX+%FFFFFFFE)
041E1C DDBE09              A  5918    	CP	A,(IX+%9)
041E1F 28 08               A  5919    	JR	Z,L_137
041E21 DD7EFE              A  5920    	LD	A,(IX+%FFFFFFFE)
041E24 DDBE0C              A  5921    	CP	A,(IX+%C)
041E27 20 E9               A  5922    	JR	NZ,L_136
041E29                     A  5923    L_137:
                           A  5924    ;  650		
                           A  5925    ;  651		vdp_cls();
                           A  5926    .LINE 651
                           A  5927    
041E29 CD AA 04 04         A  5928    	CALL	_vdp_cls
                           A  5929    ;  652	
                           A  5930    ;  653		return ret;
                           A  5931    .LINE 653
                           A  5932    
041E2D DD7EFE              A  5933    	LD	A,(IX+%FFFFFFFE)
                           A  5934    ;  654	}
                           A  5935    .LINE 654
                           A  5936    
041E30 DDF9                A  5937    	LD	SP,IX
041E32 DDE1                A  5938    	POP	IX
041E34 C9                  A  5939    	RET	
                           A  5940    
                           A  5941    
                           A  5942    ;**************************** _game_getResponse
                           A  5943    ;Name                         Addr/Register   S
                           A  5944    ;_vdp_cls                            IMPORT  --
                           A  5945    ;_getch                              IMPORT  --
                           A  5946    ;___print_sendstring                 IMPORT  --
                           A  5947    ;___print_xputch                     IMPORT    
                           A  5948    ;___print_uputch                     IMPORT  --
                           A  5949    ;_putch                              IMPORT  --
                           A  5950    ;_vdp_cursorGoto                     IMPORT  --
                           A  5951    ;_strlen                             IMPORT  --
                           A  5952    ;len                                   IX-4    
                           A  5953    ;start                                 IX-3    
                           A  5954    ;ret                                   IX-2    
                           A  5955    ;n                                     IX-1    
                           A  5956    ;option2                              IX+12    
                           A  5957    ;option1                               IX+9    
                           A  5958    ;message                               IX+6    
                           A  5959    
                           A  5960    
                           A  5961    ; Stack Frame Size: 19 (bytes)
                           A  5962    ;       Spill Code: 0 (instruction)
                           A  5963    
                           A  5964    
                           A  5965    .ENDFUNC "game_getResponse",654,"_game_getRespo
                           A  5966    ;  655	
                           A  5967    ;  656	
                           A  5968    ;  657	INT16 game_selectLevel(UINT8 levels, UI
                           A  5969    ;  658	{
041E35                     A  5970    _game_selectLevel:
                           A  5971    .DEFINE "_game_selectLevel"
                           A  5972    
                           A  5973    .VALUE _game_selectLevel
                           A  5974    
                           A  5975    .CLASS 2
                           A  5976    
                           A  5977    .TYPE 67
                           A  5978    
                           A  5979    .ENDEF
                           A  5980    
                           A  5981    .BEGFUNC "game_selectLevel",658,"_game_selectLe
                           A  5982    
                           A  5983    .LINE 658
                           A  5984    
                           A  5985    .DEFINE "levels"
                           A  5986    
                           A  5987    .CLASS 65
                           A  5988    
                           A  5989    .VALUE 6
                           A  5990    
                           A  5991    .TYPE 12
                           A  5992    
                           A  5993    .ENDEF
                           A  5994    
                           A  5995    .DEFINE "previouslevel"
                           A  5996    
                           A  5997    .CLASS 65
                           A  5998    
                           A  5999    .VALUE 9
                           A  6000    
                           A  6001    .TYPE 13
                           A  6002    
                           A  6003    .ENDEF
                           A  6004    
                           A  6005    .DEFINE "lvl"
                           A  6006    
                           A  6007    .CLASS 65
                           A  6008    
                           A  6009    .VALUE -2
                           A  6010    
                           A  6011    .TYPE 3
                           A  6012    
                           A  6013    .ENDEF
                           A  6014    
                           A  6015    .DEFINE "selected"
                           A  6016    
                           A  6017    .CLASS 65
                           A  6018    
                           A  6019    .VALUE -3
                           A  6020    
                           A  6021    .TYPE 12
                           A  6022    
                           A  6023    .ENDEF
                           A  6024    
041E35 DDE5                A  6025    	PUSH	IX
041E37 DD210000 00         A  6026    	LD	IX,0
041E3C DD39                A  6027    	ADD	IX,SP
041E3E C5                  A  6028    	PUSH	BC
                           A  6029    ;  659		INT16 lvl;
                           A  6030    ;  660		BOOL selected = FALSE;
                           A  6031    .LINE 660
                           A  6032    
041E3F DD36FD00            A  6033    	LD	(IX+%FFFFFFFD),%0
                           A  6034    ;  661		vdp_mode(1); // standard console mo
                           A  6035    .LINE 661
                           A  6036    
041E43 01010000            A  6037    	LD	BC,1
041E47 C5                  A  6038    	PUSH	BC
041E48 CD 85 04 04         A  6039    	CALL	_vdp_mode
041E4C C1                  A  6040    	POP	BC
                           A  6041    ;  662		vdp_cls();
                           A  6042    .LINE 662
                           A  6043    
041E4D CD AA 04 04         A  6044    	CALL	_vdp_cls
                           A  6045    ;  663		vdp_cursorDisable();
                           A  6046    .LINE 663
                           A  6047    
041E51 CD 42 0E 04         A  6048    	CALL	_vdp_cursorDisable
                           A  6049    ;  664		
                           A  6050    ;  665		lvl = previouslevel + 1; // next le
                           A  6051    .LINE 665
                           A  6052    
041E55 DD2709              A  6053    	LD	HL,(IX+%9)
041E58 23                  A  6054    	INC	HL
041E59 DD75FE              A  6055    	LD	(IX+%FFFFFFFE),L
041E5C DD74FF              A  6056    	LD	(IX+%FFFFFFFF),H
                           A  6057    ;  666		if(lvl == levels) lvl = 0;
                           A  6058    .LINE 666
                           A  6059    
041E5F DD07FE              A  6060    	LD	BC,(IX+%FFFFFFFE)
041E62 CD 04 32 04         A  6061    	CALL	__stoi
041E66 E5C1                A  6062    	LD	BC,HL
041E68 DD7E06              A  6063    	LD	A,(IX+%6)
041E6B B7ED62              A  6064    	UEXT	HL
041E6E 6F                  A  6065    	LD	L,A
041E6F E5D1                A  6066    	LD	DE,HL
041E71 C5E1                A  6067    	LD	HL,BC
041E73 B7                  A  6068    	OR	A,A
041E74 ED52                A  6069    	SBC	HL,DE
041E76 20 08               A  6070    	JR	NZ,L_140
041E78 DD36FE00            A  6071    	LD	(IX+%FFFFFFFE),%0
041E7C DD36FF00            A  6072    	LD	(IX+%FFFFFFFF),%0
041E80                     A  6073    L_140:
                           A  6074    ;  667		
                           A  6075    ;  668		game_resetSprites();			// 
                           A  6076    .LINE 668
                           A  6077    
041E80 CD 9F 11 04         A  6078    	CALL	_game_resetSprites
                           A  6079    ;  669	
                           A  6080    ;  670		while(!selected)
                           A  6081    .LINE 670
                           A  6082    
041E84 C3 32 22 04         A  6083    	JR	L_154
041E88                     A  6084    L_155:
                           A  6085    ;  671		{
                           A  6086    ;  672			
                           A  6087    ;  673			game_initLevel(lvl);			
                           A  6088    .LINE 673
                           A  6089    
041E88 DD4EFE              A  6090    	LD	C,(IX+%FFFFFFFE)
041E8B 0600                A  6091    	LD	B,%0
041E8D C5                  A  6092    	PUSH	BC
041E8E CD 5B 26 04         A  6093    	CALL	_game_initLevel
041E92 C1                  A  6094    	POP	BC
                           A  6095    ;  674			vdp_clearGraphics();
                           A  6096    .LINE 674
                           A  6097    
041E93 CD D5 05 04         A  6098    	CALL	_vdp_clearGraphics
                           A  6099    ;  675			game_displayMinimap();			
                           A  6100    .LINE 675
                           A  6101    
041E97 CD 14 24 04         A  6102    	CALL	_game_displayMinimap
                           A  6103    ;  676	
                           A  6104    ;  677			vdp_cursorGoto(0,4);
                           A  6105    .LINE 677
                           A  6106    
041E9B 01040000            A  6107    	LD	BC,4
041E9F C5                  A  6108    	PUSH	BC
041EA0 01000000            A  6109    	LD	BC,0
041EA4 C5                  A  6110    	PUSH	BC
041EA5 CD F2 04 04         A  6111    	CALL	_vdp_cursorGoto
041EA9 C1                  A  6112    	POP	BC
041EAA C1                  A  6113    	POP	BC
                           A  6114    ;  678			vdp_fgcolour(255,255,255);
                           A  6115    .LINE 678
                           A  6116    
041EAB 01FF0000            A  6117    	LD	BC,255
041EAF C5                  A  6118    	PUSH	BC
041EB0 C5                  A  6119    	PUSH	BC
041EB1 C5                  A  6120    	PUSH	BC
041EB2 CD 83 05 04         A  6121    	CALL	_vdp_fgcolour
041EB6 C1                  A  6122    	POP	BC
041EB7 C1                  A  6123    	POP	BC
041EB8 C1                  A  6124    	POP	BC
                           A  6125    ;  679			printf("Level %03d",lvl);
                           A  6126    .LINE 679
                           A  6127    
041EB9 01 3F 2A 04         A  6128    	LD	BC,___print_uputch
041EBD ED43 3C 4B 04       A  6129    	LD	(___print_xputch),BC
041EC2 01 99 4D 04         A  6130    	LD	BC,L__55
041EC6 C5                  A  6131    	PUSH	BC
041EC7 CD CE 28 04         A  6132    	CALL	___print_sendstring
041ECB C1                  A  6133    	POP	BC
041ECC 3E03                A  6134    	LD	A,%3
041ECE 32 46 5C 04         A  6135    	LD	(___print_fmt+5),A
041ED2 3E40                A  6136    	LD	A,%40
041ED4 32 42 5C 04         A  6137    	LD	(___print_fmt+1),A
041ED8 DD07FE              A  6138    	LD	BC,(IX+%FFFFFFFE)
041EDB CD 04 32 04         A  6139    	CALL	__stoi
041EDF E5C1                A  6140    	LD	BC,HL
041EE1 CD 25 31 04         A  6141    	CALL	__itol
041EE5 C5D1                A  6142    	LD	DE,BC
041EE7 4F                  A  6143    	LD	C,A
041EE8 0600                A  6144    	LD	B,%0
041EEA C5                  A  6145    	PUSH	BC
041EEB D5                  A  6146    	PUSH	DE
041EEC CD C5 2A 04         A  6147    	CALL	__u_itoa
041EF0 C1                  A  6148    	POP	BC
041EF1 C1                  A  6149    	POP	BC
                           A  6150    ;  680	
                           A  6151    ;  681			vdp_cursorGoto(5,39);
                           A  6152    .LINE 681
                           A  6153    
041EF2 01270000            A  6154    	LD	BC,39
041EF6 C5                  A  6155    	PUSH	BC
041EF7 01050000            A  6156    	LD	BC,5
041EFB C5                  A  6157    	PUSH	BC
041EFC CD F2 04 04         A  6158    	CALL	_vdp_cursorGoto
041F00 C1                  A  6159    	POP	BC
041F01 C1                  A  6160    	POP	BC
                           A  6161    ;  682			puts("Select level with cursor 
                           A  6162    .LINE 682
                           A  6163    
041F02 01 A0 4D 04         A  6164    	LD	BC,L__56
041F06 C5                  A  6165    	PUSH	BC
041F07 CD D4 2F 04         A  6166    	CALL	_puts
041F0B C1                  A  6167    	POP	BC
                           A  6168    ;  683			vdp_cursorGoto(14,41);
                           A  6169    .LINE 683
                           A  6170    
041F0C 01290000            A  6171    	LD	BC,41
041F10 C5                  A  6172    	PUSH	BC
041F11 010E0000            A  6173    	LD	BC,14
041F15 C5                  A  6174    	PUSH	BC
041F16 CD F2 04 04         A  6175    	CALL	_vdp_cursorGoto
041F1A C1                  A  6176    	POP	BC
041F1B C1                  A  6177    	POP	BC
                           A  6178    ;  684			vdp_fgcolour(128,128,128);
                           A  6179    .LINE 684
                           A  6180    
041F1C 01800000            A  6181    	LD	BC,128
041F20 C5                  A  6182    	PUSH	BC
041F21 C5                  A  6183    	PUSH	BC
041F22 C5                  A  6184    	PUSH	BC
041F23 CD 83 05 04         A  6185    	CALL	_vdp_fgcolour
041F27 C1                  A  6186    	POP	BC
041F28 C1                  A  6187    	POP	BC
041F29 C1                  A  6188    	POP	BC
                           A  6189    ;  685			puts("ESC to quit");
                           A  6190    .LINE 685
                           A  6191    
041F2A 01 BE 4D 04         A  6192    	LD	BC,L__57
041F2E C5                  A  6193    	PUSH	BC
041F2F CD D4 2F 04         A  6194    	CALL	_puts
041F33 C1                  A  6195    	POP	BC
                           A  6196    ;  686	
                           A  6197    ;  687			vdp_plotMoveTo(328,48);
                           A  6198    .LINE 687
                           A  6199    
041F34 01300000            A  6200    	LD	BC,48
041F38 C5                  A  6201    	PUSH	BC
041F39 01480100            A  6202    	LD	BC,328
041F3D C5                  A  6203    	PUSH	BC
041F3E CD 93 06 04         A  6204    	CALL	_vdp_plotMoveTo
041F42 C1                  A  6205    	POP	BC
041F43 C1                  A  6206    	POP	BC
                           A  6207    ;  688			vdp_plotColour(0,128,128);
                           A  6208    .LINE 688
                           A  6209    
041F44 01800000            A  6210    	LD	BC,128
041F48 C5                  A  6211    	PUSH	BC
041F49 C5                  A  6212    	PUSH	BC
041F4A 01000000            A  6213    	LD	BC,0
041F4E C5                  A  6214    	PUSH	BC
041F4F CD ED 05 04         A  6215    	CALL	_vdp_plotColour
041F53 C1                  A  6216    	POP	BC
041F54 C1                  A  6217    	POP	BC
041F55 C1                  A  6218    	POP	BC
                           A  6219    ;  689			vdp_plotLineTo(328,328);
                           A  6220    .LINE 689
                           A  6221    
041F56 01480100            A  6222    	LD	BC,328
041F5A C5                  A  6223    	PUSH	BC
041F5B C5                  A  6224    	PUSH	BC
041F5C CD B5 06 04         A  6225    	CALL	_vdp_plotLineTo
041F60 C1                  A  6226    	POP	BC
041F61 C1                  A  6227    	POP	BC
                           A  6228    ;  690			
                           A  6229    ;  691			vdp_cursorGoto(44,10);
                           A  6230    .LINE 691
                           A  6231    
041F62 010A0000            A  6232    	LD	BC,10
041F66 C5                  A  6233    	PUSH	BC
041F67 012C0000            A  6234    	LD	BC,44
041F6B C5                  A  6235    	PUSH	BC
041F6C CD F2 04 04         A  6236    	CALL	_vdp_cursorGoto
041F70 C1                  A  6237    	POP	BC
041F71 C1                  A  6238    	POP	BC
                           A  6239    ;  692			vdp_fgcolour(255,255,255);
                           A  6240    .LINE 692
                           A  6241    
041F72 01FF0000            A  6242    	LD	BC,255
041F76 C5                  A  6243    	PUSH	BC
041F77 C5                  A  6244    	PUSH	BC
041F78 C5                  A  6245    	PUSH	BC
041F79 CD 83 05 04         A  6246    	CALL	_vdp_fgcolour
041F7D C1                  A  6247    	POP	BC
041F7E C1                  A  6248    	POP	BC
041F7F C1                  A  6249    	POP	BC
                           A  6250    ;  693			puts("Game objective");
                           A  6251    .LINE 693
                           A  6252    
041F80 01 CA 4D 04         A  6253    	LD	BC,L__58
041F84 C5                  A  6254    	PUSH	BC
041F85 CD D4 2F 04         A  6255    	CALL	_puts
041F89 C1                  A  6256    	POP	BC
                           A  6257    ;  694			vdp_cursorGoto(44,12);
                           A  6258    .LINE 694
                           A  6259    
041F8A 010C0000            A  6260    	LD	BC,12
041F8E C5                  A  6261    	PUSH	BC
041F8F 012C0000            A  6262    	LD	BC,44
041F93 C5                  A  6263    	PUSH	BC
041F94 CD F2 04 04         A  6264    	CALL	_vdp_cursorGoto
041F98 C1                  A  6265    	POP	BC
041F99 C1                  A  6266    	POP	BC
                           A  6267    ;  695			vdp_fgcolour(128,128,128);
                           A  6268    .LINE 695
                           A  6269    
041F9A 01800000            A  6270    	LD	BC,128
041F9E C5                  A  6271    	PUSH	BC
041F9F C5                  A  6272    	PUSH	BC
041FA0 C5                  A  6273    	PUSH	BC
041FA1 CD 83 05 04         A  6274    	CALL	_vdp_fgcolour
041FA5 C1                  A  6275    	POP	BC
041FA6 C1                  A  6276    	POP	BC
041FA7 C1                  A  6277    	POP	BC
                           A  6278    ;  696			puts("Push all boxes");
                           A  6279    .LINE 696
                           A  6280    
041FA8 01 D9 4D 04         A  6281    	LD	BC,L__59
041FAC C5                  A  6282    	PUSH	BC
041FAD CD D4 2F 04         A  6283    	CALL	_puts
041FB1 C1                  A  6284    	POP	BC
                           A  6285    ;  697			vdp_cursorGoto(44,13);
                           A  6286    .LINE 697
                           A  6287    
041FB2 010D0000            A  6288    	LD	BC,13
041FB6 C5                  A  6289    	PUSH	BC
041FB7 012C0000            A  6290    	LD	BC,44
041FBB C5                  A  6291    	PUSH	BC
041FBC CD F2 04 04         A  6292    	CALL	_vdp_cursorGoto
041FC0 C1                  A  6293    	POP	BC
041FC1 C1                  A  6294    	POP	BC
                           A  6295    ;  698			puts("in this warehouse");
                           A  6296    .LINE 698
                           A  6297    
041FC2 01 E8 4D 04         A  6298    	LD	BC,L__60
041FC6 C5                  A  6299    	PUSH	BC
041FC7 CD D4 2F 04         A  6300    	CALL	_puts
041FCB C1                  A  6301    	POP	BC
                           A  6302    ;  699			vdp_cursorGoto(44,14);
                           A  6303    .LINE 699
                           A  6304    
041FCC 010E0000            A  6305    	LD	BC,14
041FD0 C5                  A  6306    	PUSH	BC
041FD1 012C0000            A  6307    	LD	BC,44
041FD5 C5                  A  6308    	PUSH	BC
041FD6 CD F2 04 04         A  6309    	CALL	_vdp_cursorGoto
041FDA C1                  A  6310    	POP	BC
041FDB C1                  A  6311    	POP	BC
                           A  6312    ;  700			puts("to the target goals.");
                           A  6313    .LINE 700
                           A  6314    
041FDC 01 FA 4D 04         A  6315    	LD	BC,L__61
041FE0 C5                  A  6316    	PUSH	BC
041FE1 CD D4 2F 04         A  6317    	CALL	_puts
041FE5 C1                  A  6318    	POP	BC
                           A  6319    ;  701			
                           A  6320    ;  702			vdp_cursorGoto(44,17);
                           A  6321    .LINE 702
                           A  6322    
041FE6 01110000            A  6323    	LD	BC,17
041FEA C5                  A  6324    	PUSH	BC
041FEB 012C0000            A  6325    	LD	BC,44
041FEF C5                  A  6326    	PUSH	BC
041FF0 CD F2 04 04         A  6327    	CALL	_vdp_cursorGoto
041FF4 C1                  A  6328    	POP	BC
041FF5 C1                  A  6329    	POP	BC
                           A  6330    ;  703			vdp_fgcolour(255,255,255);
                           A  6331    .LINE 703
                           A  6332    
041FF6 01FF0000            A  6333    	LD	BC,255
041FFA C5                  A  6334    	PUSH	BC
041FFB C5                  A  6335    	PUSH	BC
041FFC C5                  A  6336    	PUSH	BC
041FFD CD 83 05 04         A  6337    	CALL	_vdp_fgcolour
042001 C1                  A  6338    	POP	BC
042002 C1                  A  6339    	POP	BC
042003 C1                  A  6340    	POP	BC
                           A  6341    ;  704			puts("Legend");
                           A  6342    .LINE 704
                           A  6343    
042004 01 0F 4E 04         A  6344    	LD	BC,L__62
042008 C5                  A  6345    	PUSH	BC
042009 CD D4 2F 04         A  6346    	CALL	_puts
04200D C1                  A  6347    	POP	BC
                           A  6348    ;  705			
                           A  6349    ;  706			vdp_bitmapDraw(TILE_PLAYER_MINI
                           A  6350    .LINE 706
                           A  6351    
04200E 01980000            A  6352    	LD	BC,152
042012 C5                  A  6353    	PUSH	BC
042013 01600100            A  6354    	LD	BC,352
042017 C5                  A  6355    	PUSH	BC
042018 01080000            A  6356    	LD	BC,8
04201C C5                  A  6357    	PUSH	BC
04201D CD F4 08 04         A  6358    	CALL	_vdp_bitmapDraw
042021 C1                  A  6359    	POP	BC
042022 C1                  A  6360    	POP	BC
042023 C1                  A  6361    	POP	BC
                           A  6362    ;  707			vdp_bitmapDraw(TILE_BOX_MINI, 3
                           A  6363    .LINE 707
                           A  6364    
042024 01A80000            A  6365    	LD	BC,168
042028 C5                  A  6366    	PUSH	BC
042029 01600100            A  6367    	LD	BC,352
04202D C5                  A  6368    	PUSH	BC
04202E 010A0000            A  6369    	LD	BC,10
042032 C5                  A  6370    	PUSH	BC
042033 CD F4 08 04         A  6371    	CALL	_vdp_bitmapDraw
042037 C1                  A  6372    	POP	BC
042038 C1                  A  6373    	POP	BC
042039 C1                  A  6374    	POP	BC
                           A  6375    ;  708			vdp_bitmapDraw(TILE_BOXONGOAL_M
                           A  6376    .LINE 708
                           A  6377    
04203A 01B80000            A  6378    	LD	BC,184
04203E C5                  A  6379    	PUSH	BC
04203F 01600100            A  6380    	LD	BC,352
042043 C5                  A  6381    	PUSH	BC
042044 010B0000            A  6382    	LD	BC,11
042048 C5                  A  6383    	PUSH	BC
042049 CD F4 08 04         A  6384    	CALL	_vdp_bitmapDraw
04204D C1                  A  6385    	POP	BC
04204E C1                  A  6386    	POP	BC
04204F C1                  A  6387    	POP	BC
                           A  6388    ;  709			vdp_bitmapDraw(TILE_GOAL_MINI, 
                           A  6389    .LINE 709
                           A  6390    
042050 01D00000            A  6391    	LD	BC,208
042054 C5                  A  6392    	PUSH	BC
042055 01600100            A  6393    	LD	BC,352
042059 C5                  A  6394    	PUSH	BC
04205A 010C0000            A  6395    	LD	BC,12
04205E C5                  A  6396    	PUSH	BC
04205F CD F4 08 04         A  6397    	CALL	_vdp_bitmapDraw
042063 C1                  A  6398    	POP	BC
042064 C1                  A  6399    	POP	BC
042065 C1                  A  6400    	POP	BC
                           A  6401    ;  710			
                           A  6402    ;  711			vdp_fgcolour(128,128,128);
                           A  6403    .LINE 711
                           A  6404    
042066 01800000            A  6405    	LD	BC,128
04206A C5                  A  6406    	PUSH	BC
04206B C5                  A  6407    	PUSH	BC
04206C C5                  A  6408    	PUSH	BC
04206D CD 83 05 04         A  6409    	CALL	_vdp_fgcolour
042071 C1                  A  6410    	POP	BC
042072 C1                  A  6411    	POP	BC
042073 C1                  A  6412    	POP	BC
                           A  6413    ;  712			vdp_cursorGoto(46,19);
                           A  6414    .LINE 712
                           A  6415    
042074 01130000            A  6416    	LD	BC,19
042078 C5                  A  6417    	PUSH	BC
042079 012E0000            A  6418    	LD	BC,46
04207D C5                  A  6419    	PUSH	BC
04207E CD F2 04 04         A  6420    	CALL	_vdp_cursorGoto
042082 C1                  A  6421    	POP	BC
042083 C1                  A  6422    	POP	BC
                           A  6423    ;  713			puts("You, hard at work");
                           A  6424    .LINE 713
                           A  6425    
042084 01 16 4E 04         A  6426    	LD	BC,L__63
042088 C5                  A  6427    	PUSH	BC
042089 CD D4 2F 04         A  6428    	CALL	_puts
04208D C1                  A  6429    	POP	BC
                           A  6430    ;  714			vdp_cursorGoto(46,21);
                           A  6431    .LINE 714
                           A  6432    
04208E 01150000            A  6433    	LD	BC,21
042092 C5                  A  6434    	PUSH	BC
042093 012E0000            A  6435    	LD	BC,46
042097 C5                  A  6436    	PUSH	BC
042098 CD F2 04 04         A  6437    	CALL	_vdp_cursorGoto
04209C C1                  A  6438    	POP	BC
04209D C1                  A  6439    	POP	BC
                           A  6440    ;  715			puts("Boxes with stuff");
                           A  6441    .LINE 715
                           A  6442    
04209E 01 28 4E 04         A  6443    	LD	BC,L__64
0420A2 C5                  A  6444    	PUSH	BC
0420A3 CD D4 2F 04         A  6445    	CALL	_puts
0420A7 C1                  A  6446    	POP	BC
                           A  6447    ;  716			vdp_cursorGoto(46,23);
                           A  6448    .LINE 716
                           A  6449    
0420A8 01170000            A  6450    	LD	BC,23
0420AC C5                  A  6451    	PUSH	BC
0420AD 012E0000            A  6452    	LD	BC,46
0420B1 C5                  A  6453    	PUSH	BC
0420B2 CD F2 04 04         A  6454    	CALL	_vdp_cursorGoto
0420B6 C1                  A  6455    	POP	BC
0420B7 C1                  A  6456    	POP	BC
                           A  6457    ;  717			puts("Boxes in shipping");
                           A  6458    .LINE 717
                           A  6459    
0420B8 01 39 4E 04         A  6460    	LD	BC,L__65
0420BC C5                  A  6461    	PUSH	BC
0420BD CD D4 2F 04         A  6462    	CALL	_puts
0420C1 C1                  A  6463    	POP	BC
                           A  6464    ;  718			vdp_cursorGoto(46,24);
                           A  6465    .LINE 718
                           A  6466    
0420C2 01180000            A  6467    	LD	BC,24
0420C6 C5                  A  6468    	PUSH	BC
0420C7 012E0000            A  6469    	LD	BC,46
0420CB C5                  A  6470    	PUSH	BC
0420CC CD F2 04 04         A  6471    	CALL	_vdp_cursorGoto
0420D0 C1                  A  6472    	POP	BC
0420D1 C1                  A  6473    	POP	BC
                           A  6474    ;  719			puts("position");
                           A  6475    .LINE 719
                           A  6476    
0420D2 01 4B 4E 04         A  6477    	LD	BC,L__66
0420D6 C5                  A  6478    	PUSH	BC
0420D7 CD D4 2F 04         A  6479    	CALL	_puts
0420DB C1                  A  6480    	POP	BC
                           A  6481    ;  720			vdp_cursorGoto(46,26);
                           A  6482    .LINE 720
                           A  6483    
0420DC 011A0000            A  6484    	LD	BC,26
0420E0 C5                  A  6485    	PUSH	BC
0420E1 012E0000            A  6486    	LD	BC,46
0420E5 C5                  A  6487    	PUSH	BC
0420E6 CD F2 04 04         A  6488    	CALL	_vdp_cursorGoto
0420EA C1                  A  6489    	POP	BC
0420EB C1                  A  6490    	POP	BC
                           A  6491    ;  721			puts("Shipping goal");
                           A  6492    .LINE 721
                           A  6493    
0420EC 01 54 4E 04         A  6494    	LD	BC,L__67
0420F0 C5                  A  6495    	PUSH	BC
0420F1 CD D4 2F 04         A  6496    	CALL	_puts
0420F5 C1                  A  6497    	POP	BC
                           A  6498    ;  722			
                           A  6499    ;  723			vdp_fgcolour(255,255,255);
                           A  6500    .LINE 723
                           A  6501    
0420F6 01FF0000            A  6502    	LD	BC,255
0420FA C5                  A  6503    	PUSH	BC
0420FB C5                  A  6504    	PUSH	BC
0420FC C5                  A  6505    	PUSH	BC
0420FD CD 83 05 04         A  6506    	CALL	_vdp_fgcolour
042101 C1                  A  6507    	POP	BC
042102 C1                  A  6508    	POP	BC
042103 C1                  A  6509    	POP	BC
                           A  6510    ;  724			vdp_cursorGoto(44,29);
                           A  6511    .LINE 724
                           A  6512    
042104 011D0000            A  6513    	LD	BC,29
042108 C5                  A  6514    	PUSH	BC
042109 012C0000            A  6515    	LD	BC,44
04210D C5                  A  6516    	PUSH	BC
04210E CD F2 04 04         A  6517    	CALL	_vdp_cursorGoto
042112 C1                  A  6518    	POP	BC
042113 C1                  A  6519    	POP	BC
                           A  6520    ;  725			puts("Game controls");
                           A  6521    .LINE 725
                           A  6522    
042114 01 62 4E 04         A  6523    	LD	BC,L__68
042118 C5                  A  6524    	PUSH	BC
042119 CD D4 2F 04         A  6525    	CALL	_puts
04211D C1                  A  6526    	POP	BC
                           A  6527    ;  726			
                           A  6528    ;  727			vdp_fgcolour(128,128,128);
                           A  6529    .LINE 727
                           A  6530    
04211E 01800000            A  6531    	LD	BC,128
042122 C5                  A  6532    	PUSH	BC
042123 C5                  A  6533    	PUSH	BC
042124 C5                  A  6534    	PUSH	BC
042125 CD 83 05 04         A  6535    	CALL	_vdp_fgcolour
042129 C1                  A  6536    	POP	BC
04212A C1                  A  6537    	POP	BC
04212B C1                  A  6538    	POP	BC
                           A  6539    ;  728			vdp_cursorGoto(44,31);
                           A  6540    .LINE 728
                           A  6541    
04212C 011F0000            A  6542    	LD	BC,31
042130 C5                  A  6543    	PUSH	BC
042131 012C0000            A  6544    	LD	BC,44
042135 C5                  A  6545    	PUSH	BC
042136 CD F2 04 04         A  6546    	CALL	_vdp_cursorGoto
04213A C1                  A  6547    	POP	BC
04213B C1                  A  6548    	POP	BC
                           A  6549    ;  729			puts("Cursor");
                           A  6550    .LINE 729
                           A  6551    
04213C 01 70 4E 04         A  6552    	LD	BC,L__69
042140 C5                  A  6553    	PUSH	BC
042141 CD D4 2F 04         A  6554    	CALL	_puts
042145 C1                  A  6555    	POP	BC
                           A  6556    ;  730			vdp_cursorGoto(44,32);
                           A  6557    .LINE 730
                           A  6558    
042146 01200000            A  6559    	LD	BC,32
04214A C5                  A  6560    	PUSH	BC
04214B 012C0000            A  6561    	LD	BC,44
04214F C5                  A  6562    	PUSH	BC
042150 CD F2 04 04         A  6563    	CALL	_vdp_cursorGoto
042154 C1                  A  6564    	POP	BC
042155 C1                  A  6565    	POP	BC
                           A  6566    ;  731			puts(" keys  - move player");
                           A  6567    .LINE 731
                           A  6568    
042156 01 77 4E 04         A  6569    	LD	BC,L__70
04215A C5                  A  6570    	PUSH	BC
04215B CD D4 2F 04         A  6571    	CALL	_puts
04215F C1                  A  6572    	POP	BC
                           A  6573    ;  732			vdp_cursorGoto(44,33);
                           A  6574    .LINE 732
                           A  6575    
042160 01210000            A  6576    	LD	BC,33
042164 C5                  A  6577    	PUSH	BC
042165 012C0000            A  6578    	LD	BC,44
042169 C5                  A  6579    	PUSH	BC
04216A CD F2 04 04         A  6580    	CALL	_vdp_cursorGoto
04216E C1                  A  6581    	POP	BC
04216F C1                  A  6582    	POP	BC
                           A  6583    ;  733			puts("    u  - undo move");
                           A  6584    .LINE 733
                           A  6585    
042170 01 8C 4E 04         A  6586    	LD	BC,L__71
042174 C5                  A  6587    	PUSH	BC
042175 CD D4 2F 04         A  6588    	CALL	_puts
042179 C1                  A  6589    	POP	BC
                           A  6590    ;  734			vdp_cursorGoto(44,34);
                           A  6591    .LINE 734
                           A  6592    
04217A 01220000            A  6593    	LD	BC,34
04217E C5                  A  6594    	PUSH	BC
04217F 012C0000            A  6595    	LD	BC,44
042183 C5                  A  6596    	PUSH	BC
042184 CD F2 04 04         A  6597    	CALL	_vdp_cursorGoto
042188 C1                  A  6598    	POP	BC
042189 C1                  A  6599    	POP	BC
                           A  6600    ;  735			puts("esc/q  - quit level");
                           A  6601    .LINE 735
                           A  6602    
04218A 01 9F 4E 04         A  6603    	LD	BC,L__72
04218E C5                  A  6604    	PUSH	BC
04218F CD D4 2F 04         A  6605    	CALL	_puts
042193 C1                  A  6606    	POP	BC
                           A  6607    ;  736			vdp_cursorGoto(44,36);
                           A  6608    .LINE 736
                           A  6609    
042194 01240000            A  6610    	LD	BC,36
042198 C5                  A  6611    	PUSH	BC
042199 012C0000            A  6612    	LD	BC,44
04219D C5                  A  6613    	PUSH	BC
04219E CD F2 04 04         A  6614    	CALL	_vdp_cursorGoto
0421A2 C1                  A  6615    	POP	BC
0421A3 C1                  A  6616    	POP	BC
                           A  6617    ;  737			puts("ENTER  - start level");
                           A  6618    .LINE 737
                           A  6619    
0421A4 01 B3 4E 04         A  6620    	LD	BC,L__73
0421A8 C5                  A  6621    	PUSH	BC
0421A9 CD D4 2F 04         A  6622    	CALL	_puts
0421AD C1                  A  6623    	POP	BC
                           A  6624    ;  738			
                           A  6625    ;  739			switch(getch())
                           A  6626    .LINE 739
                           A  6627    
0421AE CD D8 27 04         A  6628    	CALL	_getch
0421B2 47                  A  6629    	LD	B,A
0421B3 78                  A  6630    	LD	A,B
0421B4 17ED62              A  6631    	SEXT	HL
0421B7 68                  A  6632    	LD	L,B
0421B8 CD 4D 31 04         A  6633    	CALL	__case8D
0421BC E9                  A  6634    	JP	(HL)
0421BD                     A  6635    L__74:
0421BD 0600                A  6636    	DW	6
0421BF 08                  A  6637    	DB	8
0421C0 DA2104              A  6638    	DW24	L_141	
                           A  6639    
0421C3 0A                  A  6640    	DB	10
0421C4 DA2104              A  6641    	DW24	L_142	
                           A  6642    
0421C7 0B                  A  6643    	DB	11
0421C8 F82104              A  6644    	DW24	L_146	
                           A  6645    
0421CB 0D                  A  6646    	DB	13
0421CC 202204              A  6647    	DW24	L_151	
                           A  6648    
0421CF 15                  A  6649    	DB	21
0421D0 F82104              A  6650    	DW24	L_147	
                           A  6651    
0421D3 1B                  A  6652    	DB	27
0421D4 262204              A  6653    	DW24	L_152	
                           A  6654    
0421D7 322204              A  6655    	DW24	L_154	
                           A  6656    
                           A  6657    ;  740			{
                           A  6658    ;  741				case 0x8:
0421DA                     A  6659    L_141:
                           A  6660    .LINE 741
                           A  6661    
                           A  6662    ;  742				case 0x0a:
0421DA                     A  6663    L_142:
                           A  6664    .LINE 742
                           A  6665    
                           A  6666    ;  743					if(lvl > 0) lvl --;
                           A  6667    .LINE 743
                           A  6668    
0421DA DD07FE              A  6669    	LD	BC,(IX+%FFFFFFFE)
0421DD B7                  A  6670    	OR	A,A
0421DE ED62                A  6671    	SBC	HL,HL
0421E0 B7                  A  6672    	OR	A,A
0421E1 40ED42              A  6673    	SBC.SIS	HL,BC
0421E4 CD 9A 28 04         A  6674    	CALL	__setflag
0421E8 F2 32 22 04         A  6675    	JP	P,L_154
0421EC DD27FE              A  6676    	LD	HL,(IX+%FFFFFFFE)
0421EF 2B                  A  6677    	DEC	HL
0421F0 DD75FE              A  6678    	LD	(IX+%FFFFFFFE),L
0421F3 DD74FF              A  6679    	LD	(IX+%FFFFFFFF),H
                           A  6680    ;  744					break;
                           A  6681    .LINE 744
                           A  6682    
0421F6 18 3A               A  6683    	JR	L_154
                           A  6684    ;  745				case 0x0b:
0421F8                     A  6685    L_146:
                           A  6686    .LINE 745
                           A  6687    
                           A  6688    ;  746				case 0x15:
0421F8                     A  6689    L_147:
                           A  6690    .LINE 746
                           A  6691    
                           A  6692    ;  747					if(lvl < levels-1) lvl+
                           A  6693    .LINE 747
                           A  6694    
0421F8 DD7E06              A  6695    	LD	A,(IX+%6)
0421FB B7ED62              A  6696    	UEXT	HL
0421FE 6F                  A  6697    	LD	L,A
0421FF E5D1                A  6698    	LD	DE,HL
042201 1B                  A  6699    	DEC	DE
042202 DD07FE              A  6700    	LD	BC,(IX+%FFFFFFFE)
042205 CD 04 32 04         A  6701    	CALL	__stoi
042209 B7                  A  6702    	OR	A,A
04220A ED52                A  6703    	SBC	HL,DE
04220C CD 9A 28 04         A  6704    	CALL	__setflag
042210 F2 32 22 04         A  6705    	JP	P,L_154
042214 DD27FE              A  6706    	LD	HL,(IX+%FFFFFFFE)
042217 23                  A  6707    	INC	HL
042218 DD75FE              A  6708    	LD	(IX+%FFFFFFFE),L
04221B DD74FF              A  6709    	LD	(IX+%FFFFFFFF),H
                           A  6710    ;  748					break;
                           A  6711    .LINE 748
                           A  6712    
04221E 18 12               A  6713    	JR	L_154
                           A  6714    ;  749				case 0xd:
042220                     A  6715    L_151:
                           A  6716    .LINE 749
                           A  6717    
                           A  6718    ;  750					selected = TRUE;
                           A  6719    .LINE 750
                           A  6720    
042220 DD36FD01            A  6721    	LD	(IX+%FFFFFFFD),%1
                           A  6722    ;  751					break;
                           A  6723    .LINE 751
                           A  6724    
042224 18 0C               A  6725    	JR	L_154
                           A  6726    ;  752				case 27:
042226                     A  6727    L_152:
                           A  6728    .LINE 752
                           A  6729    
                           A  6730    ;  753					lvl = -1;
                           A  6731    .LINE 753
                           A  6732    
042226 DD36FEFF            A  6733    	LD	(IX+%FFFFFFFE),%FF
04222A DD36FFFF            A  6734    	LD	(IX+%FFFFFFFF),%FF
                           A  6735    ;  754					selected = TRUE;
                           A  6736    .LINE 754
                           A  6737    
04222E DD36FD01            A  6738    	LD	(IX+%FFFFFFFD),%1
                           A  6739    ;  755					break;
                           A  6740    ;  756				default:
                           A  6741    ;  757					break;
                           A  6742    ;  758			}
                           A  6743    ;  759		}
042232                     A  6744    L_154:
                           A  6745    .LINE 759
                           A  6746    
042232 DD7EFD              A  6747    	LD	A,(IX+%FFFFFFFD)
042235 B7                  A  6748    	OR	A,A
042236 CA 88 1E 04         A  6749    	JR	Z,L_155
                           A  6750    ;  760		return lvl;
                           A  6751    .LINE 760
                           A  6752    
04223A DD27FE              A  6753    	LD	HL,(IX+%FFFFFFFE)
                           A  6754    ;  761	}
                           A  6755    .LINE 761
                           A  6756    
04223D DDF9                A  6757    	LD	SP,IX
04223F DDE1                A  6758    	POP	IX
042241 C9                  A  6759    	RET	
                           A  6760    
                           A  6761    
                           A  6762    ;**************************** _game_selectLevel
                           A  6763    ;Name                         Addr/Register   S
                           A  6764    ;_getch                              IMPORT  --
                           A  6765    ;_vdp_bitmapDraw                     IMPORT  --
                           A  6766    ;_vdp_plotLineTo                     IMPORT  --
                           A  6767    ;_vdp_plotColour                     IMPORT  --
                           A  6768    ;_vdp_plotMoveTo                     IMPORT  --
                           A  6769    ;_puts                               IMPORT  --
                           A  6770    ;__u_itoa                            IMPORT  --
                           A  6771    ;___print_fmt                        IMPORT    
                           A  6772    ;___print_sendstring                 IMPORT  --
                           A  6773    ;___print_xputch                     IMPORT    
                           A  6774    ;___print_uputch                     IMPORT  --
                           A  6775    ;_vdp_fgcolour                       IMPORT  --
                           A  6776    ;_vdp_cursorGoto                     IMPORT  --
                           A  6777    ;_game_displayMinimap                IMPORT  --
                           A  6778    ;_vdp_clearGraphics                  IMPORT  --
                           A  6779    ;_game_initLevel                     IMPORT  --
                           A  6780    ;_game_resetSprites                  IMPORT  --
                           A  6781    ;_vdp_cursorDisable                  IMPORT  --
                           A  6782    ;_vdp_cls                            IMPORT  --
                           A  6783    ;_vdp_mode                           IMPORT  --
                           A  6784    ;selected                              IX-3    
                           A  6785    ;lvl                                   IX-2    
                           A  6786    ;previouslevel                         IX+9    
                           A  6787    ;levels                                IX+6    
                           A  6788    
                           A  6789    
                           A  6790    ; Stack Frame Size: 15 (bytes)
                           A  6791    ;       Spill Code: 0 (instruction)
                           A  6792    
                           A  6793    
                           A  6794    .ENDFUNC "game_selectLevel",761,"_game_selectLe
                           A  6795    	SEGMENT STRSECT
044D99                     A  6796    L__55:
044D99 4C657665 6C20       A  6797    	DB	"Level "
044D9F 00                  A  6798    	DB	0
044DA0                     A  6799    L__56:
044DA0 53656C65 6374206C   A  6800    	DB	"Select level with cursor keys"
044DA8 6576656C 20776974 
044DB0 68206375 72736F72 
044DB8 206B6579 73 
044DBD 00                  A  6801    	DB	0
044DBE                     A  6802    L__57:
044DBE 45534320 746F2071   A  6803    	DB	"ESC to quit"
044DC6 756974 
044DC9 00                  A  6804    	DB	0
044DCA                     A  6805    L__58:
044DCA 47616D65 206F626A   A  6806    	DB	"Game objective"
044DD2 65637469 7665 
044DD8 00                  A  6807    	DB	0
044DD9                     A  6808    L__59:
044DD9 50757368 20616C6C   A  6809    	DB	"Push all boxes"
044DE1 20626F78 6573 
044DE7 00                  A  6810    	DB	0
044DE8                     A  6811    L__60:
044DE8 696E2074 68697320   A  6812    	DB	"in this warehouse"
044DF0 77617265 686F7573 
044DF8 65 
044DF9 00                  A  6813    	DB	0
044DFA                     A  6814    L__61:
044DFA 746F2074 68652074   A  6815    	DB	"to the target goals."
044E02 61726765 7420676F 
044E0A 616C732E 
044E0E 00                  A  6816    	DB	0
044E0F                     A  6817    L__62:
044E0F 4C656765 6E64       A  6818    	DB	"Legend"
044E15 00                  A  6819    	DB	0
044E16                     A  6820    L__63:
044E16 596F752C 20686172   A  6821    	DB	"You, hard at work"
044E1E 64206174 20776F72 
044E26 6B 
044E27 00                  A  6822    	DB	0
044E28                     A  6823    L__64:
044E28 426F7865 73207769   A  6824    	DB	"Boxes with stuff"
044E30 74682073 74756666 
044E38 00                  A  6825    	DB	0
044E39                     A  6826    L__65:
044E39 426F7865 7320696E   A  6827    	DB	"Boxes in shipping"
044E41 20736869 7070696E 
044E49 67 
044E4A 00                  A  6828    	DB	0
044E4B                     A  6829    L__66:
044E4B 706F7369 74696F6E   A  6830    	DB	"position"
044E53 00                  A  6831    	DB	0
044E54                     A  6832    L__67:
044E54 53686970 70696E67   A  6833    	DB	"Shipping goal"
044E5C 20676F61 6C 
044E61 00                  A  6834    	DB	0
044E62                     A  6835    L__68:
044E62 47616D65 20636F6E   A  6836    	DB	"Game controls"
044E6A 74726F6C 73 
044E6F 00                  A  6837    	DB	0
044E70                     A  6838    L__69:
044E70 43757273 6F72       A  6839    	DB	"Cursor"
044E76 00                  A  6840    	DB	0
044E77                     A  6841    L__70:
044E77 206B6579 7320202D   A  6842    	DB	" keys  - move player"
044E7F 206D6F76 6520706C 
044E87 61796572 
044E8B 00                  A  6843    	DB	0
044E8C                     A  6844    L__71:
044E8C 20202020 7520202D   A  6845    	DB	"    u  - undo move"
044E94 20756E64 6F206D6F 
044E9C 7665 
044E9E 00                  A  6846    	DB	0
044E9F                     A  6847    L__72:
044E9F 6573632F 7120202D   A  6848    	DB	"esc/q  - quit level"
044EA7 20717569 74206C65 
044EAF 76656C 
044EB2 00                  A  6849    	DB	0
044EB3                     A  6850    L__73:
044EB3 454E5445 5220202D   A  6851    	DB	"ENTER  - start level"
044EBB 20737461 7274206C 
044EC3 6576656C 
044EC7 00                  A  6852    	DB	0
                           A  6853    	SEGMENT CODE
                           A  6854    ;  762	
                           A  6855    ;  763	
                           A  6856    ;  764	
                           A  6857    ;  765	void game_displayLevel(void)
                           A  6858    ;  766	{
042242                     A  6859    _game_displayLevel:
                           A  6860    .DEFINE "_game_displayLevel"
                           A  6861    
                           A  6862    .VALUE _game_displayLevel
                           A  6863    
                           A  6864    .CLASS 2
                           A  6865    
                           A  6866    .TYPE 65
                           A  6867    
                           A  6868    .ENDEF
                           A  6869    
                           A  6870    .BEGFUNC "game_displayLevel",766,"_game_display
                           A  6871    
                           A  6872    .LINE 766
                           A  6873    
                           A  6874    .DEFINE "x"
                           A  6875    
                           A  6876    .CLASS 65
                           A  6877    
                           A  6878    .VALUE -2
                           A  6879    
                           A  6880    .TYPE 13
                           A  6881    
                           A  6882    .ENDEF
                           A  6883    
                           A  6884    .DEFINE "y"
                           A  6885    
                           A  6886    .CLASS 65
                           A  6887    
                           A  6888    .VALUE -4
                           A  6889    
                           A  6890    .TYPE 13
                           A  6891    
                           A  6892    .ENDEF
                           A  6893    
                           A  6894    .DEFINE "width"
                           A  6895    
                           A  6896    .CLASS 65
                           A  6897    
                           A  6898    .VALUE -6
                           A  6899    
                           A  6900    .TYPE 13
                           A  6901    
                           A  6902    .ENDEF
                           A  6903    
                           A  6904    .DEFINE "height"
                           A  6905    
                           A  6906    .CLASS 65
                           A  6907    
                           A  6908    .VALUE -8
                           A  6909    
                           A  6910    .TYPE 13
                           A  6911    
                           A  6912    .ENDEF
                           A  6913    
                           A  6914    .DEFINE "c"
                           A  6915    
                           A  6916    .CLASS 65
                           A  6917    
                           A  6918    .VALUE -9
                           A  6919    
                           A  6920    .TYPE 2
                           A  6921    
                           A  6922    .ENDEF
                           A  6923    
                           A  6924    .DEFINE "xstart"
                           A  6925    
                           A  6926    .CLASS 65
                           A  6927    
                           A  6928    .VALUE -11
                           A  6929    
                           A  6930    .TYPE 13
                           A  6931    
                           A  6932    .ENDEF
                           A  6933    
                           A  6934    .DEFINE "ystart"
                           A  6935    
                           A  6936    .CLASS 65
                           A  6937    
                           A  6938    .VALUE -13
                           A  6939    
                           A  6940    .TYPE 13
                           A  6941    
                           A  6942    .ENDEF
                           A  6943    
042242 DDE5                A  6944    	PUSH	IX
042244 DD210000 00         A  6945    	LD	IX,0
042249 DD39                A  6946    	ADD	IX,SP
04224B ED22F0              A  6947    	LEA	HL,IX+%FFFFFFF0
04224E F9                  A  6948    	LD	SP,HL
                           A  6949    ;  767		UINT16 width, height;
                           A  6950    ;  768		UINT16 ystart,xstart,x,y;
                           A  6951    ;  769		char c;
                           A  6952    ;  770		
                           A  6953    ;  771		// calculate on-screen base coordin
                           A  6954    ;  772		xstart = ((MAXWIDTH - currentlevel.
                           A  6955    .LINE 772
                           A  6956    
04224F 3A 7D 57 04         A  6957    	LD	A,(_currentlevel+2)
042253 B7ED62              A  6958    	UEXT	HL
042256 6F                  A  6959    	LD	L,A
042257 E5C1                A  6960    	LD	BC,HL
042259 21280000            A  6961    	LD	HL,40
04225D B7                  A  6962    	OR	A,A
04225E ED42                A  6963    	SBC	HL,BC
042260 01020000            A  6964    	LD	BC,2
042264 CD 7F 30 04         A  6965    	CALL	__idivs
042268 29                  A  6966    	ADD	HL,HL
042269 29                  A  6967    	ADD	HL,HL
04226A 29                  A  6968    	ADD	HL,HL
04226B 29                  A  6969    	ADD	HL,HL
04226C DD75F5              A  6970    	LD	(IX+%FFFFFFF5),L
04226F DD74F6              A  6971    	LD	(IX+%FFFFFFF6),H
                           A  6972    ;  773		ystart = ((MAXHEIGHT - currentlevel
                           A  6973    .LINE 773
                           A  6974    
042272 3A 7E 57 04         A  6975    	LD	A,(_currentlevel+3)
042276 B7ED62              A  6976    	UEXT	HL
042279 6F                  A  6977    	LD	L,A
04227A E5C1                A  6978    	LD	BC,HL
04227C 211E0000            A  6979    	LD	HL,30
042280 B7                  A  6980    	OR	A,A
042281 ED42                A  6981    	SBC	HL,BC
042283 01020000            A  6982    	LD	BC,2
042287 CD 7F 30 04         A  6983    	CALL	__idivs
04228B 29                  A  6984    	ADD	HL,HL
04228C 29                  A  6985    	ADD	HL,HL
04228D 29                  A  6986    	ADD	HL,HL
04228E 29                  A  6987    	ADD	HL,HL
04228F DD75F3              A  6988    	LD	(IX+%FFFFFFF3),L
042292 DD74F4              A  6989    	LD	(IX+%FFFFFFF4),H
                           A  6990    ;  774		
                           A  6991    ;  775		y = ystart;
                           A  6992    .LINE 775
                           A  6993    
042295 DD07F3              A  6994    	LD	BC,(IX+%FFFFFFF3)
042298 DD71FC              A  6995    	LD	(IX+%FFFFFFFC),C
04229B DD70FD              A  6996    	LD	(IX+%FFFFFFFD),B
                           A  6997    ;  776		for(height = 0; height < currentlev
                           A  6998    .LINE 776
                           A  6999    
04229E DD36F800            A  7000    	LD	(IX+%FFFFFFF8),%0
0422A2 DD36F900            A  7001    	LD	(IX+%FFFFFFF9),%0
0422A6 C3 F9 23 04         A  7002    	JR	L_177
0422AA                     A  7003    L_175:
                           A  7004    ;  777		{
                           A  7005    ;  778			x = xstart;
                           A  7006    .LINE 778
                           A  7007    
0422AA DD07F5              A  7008    	LD	BC,(IX+%FFFFFFF5)
0422AD DD71FE              A  7009    	LD	(IX+%FFFFFFFE),C
0422B0 DD70FF              A  7010    	LD	(IX+%FFFFFFFF),B
                           A  7011    ;  779			for(width = 0; width < currentl
                           A  7012    .LINE 779
                           A  7013    
0422B3 DD36FA00            A  7014    	LD	(IX+%FFFFFFFA),%0
0422B7 DD36FB00            A  7015    	LD	(IX+%FFFFFFFB),%0
0422BB C3 D1 23 04         A  7016    	JR	L_173
0422BF                     A  7017    L_171:
                           A  7018    ;  780			{
                           A  7019    ;  781				c = currentlevel.data[heigh
                           A  7020    .LINE 781
                           A  7021    
0422BF DD07F8              A  7022    	LD	BC,(IX+%FFFFFFF8)
0422C2 CD 39 2A 04         A  7023    	CALL	__stoiu
0422C6 3E28                A  7024    	LD	A,%28
0422C8 CD B8 30 04         A  7025    	CALL	__imul_b
0422CC DD2FF0              A  7026    	LD	(IX+%FFFFFFF0),HL
0422CF 01 82 57 04         A  7027    	LD	BC,_currentlevel+7
0422D3 DD27F0              A  7028    	LD	HL,(IX+%FFFFFFF0)
0422D6 09                  A  7029    	ADD	HL,BC
0422D7 E5D1                A  7030    	LD	DE,HL
0422D9 DD07FA              A  7031    	LD	BC,(IX+%FFFFFFFA)
0422DC CD 39 2A 04         A  7032    	CALL	__stoiu
0422E0 19                  A  7033    	ADD	HL,DE
0422E1 7E                  A  7034    	LD	A,(HL)
0422E2 DD77F7              A  7035    	LD	(IX+%FFFFFFF7),A
                           A  7036    ;  782				switch(c)
                           A  7037    .LINE 782
                           A  7038    
0422E5 17ED62              A  7039    	SEXT	HL
0422E8 DD6EF7              A  7040    	LD	L,(IX+%FFFFFFF7)
0422EB CD 4D 31 04         A  7041    	CALL	__case8D
0422EF E9                  A  7042    	JP	(HL)
0422F0                     A  7043    L__79:
0422F0 0700                A  7044    	DW	7
0422F2 20                  A  7045    	DB	32
0422F3 A72304              A  7046    	DW24	L_168	
                           A  7047    
0422F6 23                  A  7048    	DB	35
0422F7 112304              A  7049    	DW24	L_160	
                           A  7050    
0422FA 24                  A  7051    	DB	36
0422FB 472304              A  7052    	DW24	L_163	
                           A  7053    
0422FE 2A                  A  7054    	DB	42
0422FF 472304              A  7055    	DW24	L_164	
                           A  7056    
042302 2B                  A  7057    	DB	43
042303 292304              A  7058    	DW24	L_162	
                           A  7059    
042306 2E                  A  7060    	DB	46
042307 912304              A  7061    	DW24	L_167	
                           A  7062    
04230A 40                  A  7063    	DB	64
04230B 292304              A  7064    	DW24	L_161	
                           A  7065    
04230E BB2304              A  7066    	DW24	L_170	
                           A  7067    
                           A  7068    ;  783				{
                           A  7069    ;  784					case CHAR_WALL:
042311                     A  7070    L_160:
                           A  7071    .LINE 784
                           A  7072    
                           A  7073    ;  785						vdp_bitmapDraw(TILE
                           A  7074    .LINE 785
                           A  7075    
042311 DD07FC              A  7076    	LD	BC,(IX+%FFFFFFFC)
042314 C5                  A  7077    	PUSH	BC
042315 DD07FE              A  7078    	LD	BC,(IX+%FFFFFFFE)
042318 C5                  A  7079    	PUSH	BC
042319 01000000            A  7080    	LD	BC,0
04231D C5                  A  7081    	PUSH	BC
04231E CD F4 08 04         A  7082    	CALL	_vdp_bitmapDraw
042322 C1                  A  7083    	POP	BC
042323 C1                  A  7084    	POP	BC
042324 C1                  A  7085    	POP	BC
                           A  7086    ;  786						break;
                           A  7087    .LINE 786
                           A  7088    
042325 C3 BB 23 04         A  7089    	JR	L_170
                           A  7090    ;  787					case CHAR_PLAYER:
042329                     A  7091    L_161:
                           A  7092    .LINE 787
                           A  7093    
                           A  7094    ;  788					case CHAR_PLAYERONGOAL:
042329                     A  7095    L_162:
                           A  7096    .LINE 788
                           A  7097    
                           A  7098    ;  789						vdp_spriteSelect(0)
                           A  7099    .LINE 789
                           A  7100    
042329 01000000            A  7101    	LD	BC,0
04232D C5                  A  7102    	PUSH	BC
04232E CD 9C 09 04         A  7103    	CALL	_vdp_spriteSelect
042332 C1                  A  7104    	POP	BC
                           A  7105    ;  790						vdp_spriteMoveToSel
                           A  7106    .LINE 790
                           A  7107    
042333 DD07FC              A  7108    	LD	BC,(IX+%FFFFFFFC)
042336 C5                  A  7109    	PUSH	BC
042337 DD07FE              A  7110    	LD	BC,(IX+%FFFFFFFE)
04233A C5                  A  7111    	PUSH	BC
04233B CD F5 0B 04         A  7112    	CALL	_vdp_spriteMoveToSelected
04233F C1                  A  7113    	POP	BC
042340 C1                  A  7114    	POP	BC
                           A  7115    ;  791						vdp_spriteShowSelec
                           A  7116    .LINE 791
                           A  7117    
042341 CD 63 0B 04         A  7118    	CALL	_vdp_spriteShowSelected
                           A  7119    ;  792						break;
                           A  7120    .LINE 792
                           A  7121    
042345 18 74               A  7122    	JR	L_170
                           A  7123    ;  793					case CHAR_BOX:
042347                     A  7124    L_163:
                           A  7125    .LINE 793
                           A  7126    
                           A  7127    ;  794					case CHAR_BOXONGOAL:
042347                     A  7128    L_164:
                           A  7129    .LINE 794
                           A  7130    
                           A  7131    ;  795						vdp_spriteSelect(sp
                           A  7132    .LINE 795
                           A  7133    
042347 01 CB 52 04         A  7134    	LD	BC,_sprites
04234B DD27F0              A  7135    	LD	HL,(IX+%FFFFFFF0)
04234E 09                  A  7136    	ADD	HL,BC
04234F E5D1                A  7137    	LD	DE,HL
042351 DD07FA              A  7138    	LD	BC,(IX+%FFFFFFFA)
042354 CD 39 2A 04         A  7139    	CALL	__stoiu
042358 19                  A  7140    	ADD	HL,DE
042359 4E                  A  7141    	LD	C,(HL)
04235A 0600                A  7142    	LD	B,%0
04235C C5                  A  7143    	PUSH	BC
04235D CD 9C 09 04         A  7144    	CALL	_vdp_spriteSelect
042361 C1                  A  7145    	POP	BC
                           A  7146    ;  796						vdp_spriteMoveToSel
                           A  7147    .LINE 796
                           A  7148    
042362 DD07FC              A  7149    	LD	BC,(IX+%FFFFFFFC)
042365 C5                  A  7150    	PUSH	BC
042366 DD07FE              A  7151    	LD	BC,(IX+%FFFFFFFE)
042369 C5                  A  7152    	PUSH	BC
04236A CD F5 0B 04         A  7153    	CALL	_vdp_spriteMoveToSelected
04236E C1                  A  7154    	POP	BC
04236F C1                  A  7155    	POP	BC
                           A  7156    ;  797						vdp_spriteShowSelec
                           A  7157    .LINE 797
                           A  7158    
042370 CD 63 0B 04         A  7159    	CALL	_vdp_spriteShowSelected
                           A  7160    ;  798						if(c == CHAR_BOXONG
                           A  7161    .LINE 798
                           A  7162    
042374 DD7EF7              A  7163    	LD	A,(IX+%FFFFFFF7)
042377 FE2A                A  7164    	CP	A,%2A
042379 20 40               A  7165    	JR	NZ,L_170
                           A  7166    ;  799						{
                           A  7167    ;  800							vdp_bitmapDraw(
                           A  7168    .LINE 800
                           A  7169    
04237B DD07FC              A  7170    	LD	BC,(IX+%FFFFFFFC)
04237E C5                  A  7171    	PUSH	BC
04237F DD07FE              A  7172    	LD	BC,(IX+%FFFFFFFE)
042382 C5                  A  7173    	PUSH	BC
042383 01050000            A  7174    	LD	BC,5
042387 C5                  A  7175    	PUSH	BC
042388 CD F4 08 04         A  7176    	CALL	_vdp_bitmapDraw
04238C C1                  A  7177    	POP	BC
04238D C1                  A  7178    	POP	BC
04238E C1                  A  7179    	POP	BC
                           A  7180    ;  801						}
                           A  7181    .LINE 801
                           A  7182    
                           A  7183    ;  802						break;
                           A  7184    .LINE 802
                           A  7185    
04238F 18 2A               A  7186    	JR	L_170
                           A  7187    ;  803					case CHAR_GOAL:
042391                     A  7188    L_167:
                           A  7189    .LINE 803
                           A  7190    
                           A  7191    ;  804						vdp_bitmapDraw(TILE
                           A  7192    .LINE 804
                           A  7193    
042391 DD07FC              A  7194    	LD	BC,(IX+%FFFFFFFC)
042394 C5                  A  7195    	PUSH	BC
042395 DD07FE              A  7196    	LD	BC,(IX+%FFFFFFFE)
042398 C5                  A  7197    	PUSH	BC
042399 01050000            A  7198    	LD	BC,5
04239D C5                  A  7199    	PUSH	BC
04239E CD F4 08 04         A  7200    	CALL	_vdp_bitmapDraw
0423A2 C1                  A  7201    	POP	BC
0423A3 C1                  A  7202    	POP	BC
0423A4 C1                  A  7203    	POP	BC
                           A  7204    ;  805						break;
                           A  7205    .LINE 805
                           A  7206    
0423A5 18 14               A  7207    	JR	L_170
                           A  7208    ;  806					case CHAR_FLOOR:
0423A7                     A  7209    L_168:
                           A  7210    .LINE 806
                           A  7211    
                           A  7212    ;  807						vdp_bitmapDraw(TILE
                           A  7213    .LINE 807
                           A  7214    
0423A7 DD07FC              A  7215    	LD	BC,(IX+%FFFFFFFC)
0423AA C5                  A  7216    	PUSH	BC
0423AB DD07FE              A  7217    	LD	BC,(IX+%FFFFFFFE)
0423AE C5                  A  7218    	PUSH	BC
0423AF 01060000            A  7219    	LD	BC,6
0423B3 C5                  A  7220    	PUSH	BC
0423B4 CD F4 08 04         A  7221    	CALL	_vdp_bitmapDraw
0423B8 C1                  A  7222    	POP	BC
0423B9 C1                  A  7223    	POP	BC
0423BA C1                  A  7224    	POP	BC
                           A  7225    ;  808						break;
                           A  7226    ;  809					default:
                           A  7227    ;  810						break;
                           A  7228    ;  811				}
0423BB                     A  7229    L_170:
                           A  7230    .LINE 811
                           A  7231    
                           A  7232    ;  812				x += BITMAP_WIDTH;
                           A  7233    .LINE 812
                           A  7234    
0423BB DD31FE              A  7235    	LD	IY,(IX+%FFFFFFFE)
0423BE ED2310              A  7236    	LEA	HL,IY+%10
0423C1 DD75FE              A  7237    	LD	(IX+%FFFFFFFE),L
0423C4 DD74FF              A  7238    	LD	(IX+%FFFFFFFF),H
0423C7 DD27FA              A  7239    	LD	HL,(IX+%FFFFFFFA)
0423CA 23                  A  7240    	INC	HL
0423CB DD75FA              A  7241    	LD	(IX+%FFFFFFFA),L
0423CE DD74FB              A  7242    	LD	(IX+%FFFFFFFB),H
                           A  7243    ;  813			}
0423D1                     A  7244    L_173:
                           A  7245    .LINE 813
                           A  7246    
0423D1 3A 7D 57 04         A  7247    	LD	A,(_currentlevel+2)
0423D5 4F                  A  7248    	LD	C,A
0423D6 0600                A  7249    	LD	B,%0
0423D8 DD27FA              A  7250    	LD	HL,(IX+%FFFFFFFA)
0423DB B7                  A  7251    	OR	A,A
0423DC 40ED42              A  7252    	SBC.SIS	HL,BC
0423DF DA BF 22 04         A  7253    	JR	C,L_171
                           A  7254    ;  814			y += BITMAP_HEIGHT;
                           A  7255    .LINE 814
                           A  7256    
0423E3 DD31FC              A  7257    	LD	IY,(IX+%FFFFFFFC)
0423E6 ED2310              A  7258    	LEA	HL,IY+%10
0423E9 DD75FC              A  7259    	LD	(IX+%FFFFFFFC),L
0423EC DD74FD              A  7260    	LD	(IX+%FFFFFFFD),H
0423EF DD27F8              A  7261    	LD	HL,(IX+%FFFFFFF8)
0423F2 23                  A  7262    	INC	HL
0423F3 DD75F8              A  7263    	LD	(IX+%FFFFFFF8),L
0423F6 DD74F9              A  7264    	LD	(IX+%FFFFFFF9),H
                           A  7265    ;  815		}
0423F9                     A  7266    L_177:
                           A  7267    .LINE 815
                           A  7268    
0423F9 3A 7E 57 04         A  7269    	LD	A,(_currentlevel+3)
0423FD 4F                  A  7270    	LD	C,A
0423FE 0600                A  7271    	LD	B,%0
042400 DD27F8              A  7272    	LD	HL,(IX+%FFFFFFF8)
042403 B7                  A  7273    	OR	A,A
042404 40ED42              A  7274    	SBC.SIS	HL,BC
042407 DA AA 22 04         A  7275    	JR	C,L_175
                           A  7276    ;  816	
                           A  7277    ;  817		vdp_spriteRefresh();
                           A  7278    .LINE 817
                           A  7279    
04240B CD F8 0C 04         A  7280    	CALL	_vdp_spriteRefresh
                           A  7281    ;  818	}
                           A  7282    .LINE 818
                           A  7283    
04240F DDF9                A  7284    	LD	SP,IX
042411 DDE1                A  7285    	POP	IX
042413 C9                  A  7286    	RET	
                           A  7287    
                           A  7288    
                           A  7289    ;**************************** _game_displayLeve
                           A  7290    ;Name                         Addr/Register   S
                           A  7291    ;_vdp_spriteRefresh                  IMPORT  --
                           A  7292    ;_sprites                            STATIC   1
                           A  7293    ;_vdp_spriteShowSelected             IMPORT  --
                           A  7294    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  7295    ;_vdp_spriteSelect                   IMPORT  --
                           A  7296    ;_vdp_bitmapDraw                     IMPORT  --
                           A  7297    ;_currentlevel                       STATIC   1
                           A  7298    ;G_29                                 IX-16    
                           A  7299    ;ystart                               IX-13    
                           A  7300    ;xstart                               IX-11    
                           A  7301    ;c                                     IX-9    
                           A  7302    ;height                                IX-8    
                           A  7303    ;width                                 IX-6    
                           A  7304    ;y                                     IX-4    
                           A  7305    ;x                                     IX-2    
                           A  7306    
                           A  7307    
                           A  7308    ; Stack Frame Size: 22 (bytes)
                           A  7309    ;       Spill Code: 0 (instruction)
                           A  7310    
                           A  7311    
                           A  7312    .ENDFUNC "game_displayLevel",818,"_game_display
                           A  7313    ;  819	
                           A  7314    ;  820	void game_displayMinimap(void)
                           A  7315    ;  821	{
042414                     A  7316    _game_displayMinimap:
                           A  7317    .DEFINE "_game_displayMinimap"
                           A  7318    
                           A  7319    .VALUE _game_displayMinimap
                           A  7320    
                           A  7321    .CLASS 2
                           A  7322    
                           A  7323    .TYPE 65
                           A  7324    
                           A  7325    .ENDEF
                           A  7326    
                           A  7327    .BEGFUNC "game_displayMinimap",821,"_game_displ
                           A  7328    
                           A  7329    .LINE 821
                           A  7330    
                           A  7331    .DEFINE "x"
                           A  7332    
                           A  7333    .CLASS 65
                           A  7334    
                           A  7335    .VALUE -2
                           A  7336    
                           A  7337    .TYPE 13
                           A  7338    
                           A  7339    .ENDEF
                           A  7340    
                           A  7341    .DEFINE "y"
                           A  7342    
                           A  7343    .CLASS 65
                           A  7344    
                           A  7345    .VALUE -4
                           A  7346    
                           A  7347    .TYPE 13
                           A  7348    
                           A  7349    .ENDEF
                           A  7350    
                           A  7351    .DEFINE "width"
                           A  7352    
                           A  7353    .CLASS 65
                           A  7354    
                           A  7355    .VALUE -6
                           A  7356    
                           A  7357    .TYPE 13
                           A  7358    
                           A  7359    .ENDEF
                           A  7360    
                           A  7361    .DEFINE "height"
                           A  7362    
                           A  7363    .CLASS 65
                           A  7364    
                           A  7365    .VALUE -8
                           A  7366    
                           A  7367    .TYPE 13
                           A  7368    
                           A  7369    .ENDEF
                           A  7370    
                           A  7371    .DEFINE "c"
                           A  7372    
                           A  7373    .CLASS 65
                           A  7374    
                           A  7375    .VALUE -9
                           A  7376    
                           A  7377    .TYPE 2
                           A  7378    
                           A  7379    .ENDEF
                           A  7380    
                           A  7381    .DEFINE "xstart"
                           A  7382    
                           A  7383    .CLASS 65
                           A  7384    
                           A  7385    .VALUE -11
                           A  7386    
                           A  7387    .TYPE 13
                           A  7388    
                           A  7389    .ENDEF
                           A  7390    
                           A  7391    .DEFINE "ystart"
                           A  7392    
                           A  7393    .CLASS 65
                           A  7394    
                           A  7395    .VALUE -13
                           A  7396    
                           A  7397    .TYPE 13
                           A  7398    
                           A  7399    .ENDEF
                           A  7400    
042414 DDE5                A  7401    	PUSH	IX
042416 DD210000 00         A  7402    	LD	IX,0
04241B DD39                A  7403    	ADD	IX,SP
04241D ED22F3              A  7404    	LEA	HL,IX+%FFFFFFF3
042420 F9                  A  7405    	LD	SP,HL
                           A  7406    ;  822		UINT16 width, height;
                           A  7407    ;  823		UINT16 ystart,xstart,x,y;
                           A  7408    ;  824		char c;
                           A  7409    ;  825		
                           A  7410    ;  826		// clear out target area first
                           A  7411    ;  827		//for(height = 0; height < (MAXHEIG
                           A  7412    ;  828		//{
                           A  7413    ;  829		//	for(width = 0; width < (MAXWIDT
                           A  7414    ;  830		//	{
                           A  7415    ;  831		//		vdp_bitmapDraw(TILE_MINIMAP
                           A  7416    ;  832		//	}
                           A  7417    ;  833		//}
                           A  7418    ;  834		
                           A  7419    ;  835		// calculate on-screen base coordin
                           A  7420    ;  836		xstart = ((MAXWIDTH - currentlevel.
                           A  7421    .LINE 836
                           A  7422    
042421 3A 7D 57 04         A  7423    	LD	A,(_currentlevel+2)
042425 B7ED62              A  7424    	UEXT	HL
042428 6F                  A  7425    	LD	L,A
042429 E5C1                A  7426    	LD	BC,HL
04242B 21280000            A  7427    	LD	HL,40
04242F B7                  A  7428    	OR	A,A
042430 ED42                A  7429    	SBC	HL,BC
042432 01020000            A  7430    	LD	BC,2
042436 CD 7F 30 04         A  7431    	CALL	__idivs
04243A 29                  A  7432    	ADD	HL,HL
04243B 29                  A  7433    	ADD	HL,HL
04243C 29                  A  7434    	ADD	HL,HL
04243D DD75F5              A  7435    	LD	(IX+%FFFFFFF5),L
042440 DD74F6              A  7436    	LD	(IX+%FFFFFFF6),H
                           A  7437    ;  837		ystart = (((MAXHEIGHT - currentleve
                           A  7438    .LINE 837
                           A  7439    
042443 3A 7E 57 04         A  7440    	LD	A,(_currentlevel+3)
042447 B7ED62              A  7441    	UEXT	HL
04244A 6F                  A  7442    	LD	L,A
04244B E5C1                A  7443    	LD	BC,HL
04244D 211E0000            A  7444    	LD	HL,30
042451 B7                  A  7445    	OR	A,A
042452 ED42                A  7446    	SBC	HL,BC
042454 01020000            A  7447    	LD	BC,2
042458 CD 7F 30 04         A  7448    	CALL	__idivs
04245C 29                  A  7449    	ADD	HL,HL
04245D 29                  A  7450    	ADD	HL,HL
04245E 29                  A  7451    	ADD	HL,HL
04245F E5FDE1              A  7452    	LD	IY,HL
042462 ED2338              A  7453    	LEA	HL,IY+%38
042465 DD75F3              A  7454    	LD	(IX+%FFFFFFF3),L
042468 DD74F4              A  7455    	LD	(IX+%FFFFFFF4),H
                           A  7456    ;  838		
                           A  7457    ;  839		y = ystart;
                           A  7458    .LINE 839
                           A  7459    
04246B DD07F3              A  7460    	LD	BC,(IX+%FFFFFFF3)
04246E DD71FC              A  7461    	LD	(IX+%FFFFFFFC),C
042471 DD70FD              A  7462    	LD	(IX+%FFFFFFFD),B
                           A  7463    ;  840		for(height = 0; height < currentlev
                           A  7464    .LINE 840
                           A  7465    
042474 DD36F800            A  7466    	LD	(IX+%FFFFFFF8),%0
042478 DD36F900            A  7467    	LD	(IX+%FFFFFFF9),%0
04247C C3 B9 25 04         A  7468    	JR	L_197
042480                     A  7469    L_195:
                           A  7470    ;  841		{
                           A  7471    ;  842			x = xstart;
                           A  7472    .LINE 842
                           A  7473    
042480 DD07F5              A  7474    	LD	BC,(IX+%FFFFFFF5)
042483 DD71FE              A  7475    	LD	(IX+%FFFFFFFE),C
042486 DD70FF              A  7476    	LD	(IX+%FFFFFFFF),B
                           A  7477    ;  843			for(width = 0; width < currentl
                           A  7478    .LINE 843
                           A  7479    
042489 DD36FA00            A  7480    	LD	(IX+%FFFFFFFA),%0
04248D DD36FB00            A  7481    	LD	(IX+%FFFFFFFB),%0
042491 C3 91 25 04         A  7482    	JR	L_193
042495                     A  7483    L_191:
                           A  7484    ;  844			{
                           A  7485    ;  845				c = currentlevel.data[heigh
                           A  7486    .LINE 845
                           A  7487    
042495 DD07F8              A  7488    	LD	BC,(IX+%FFFFFFF8)
042498 CD 39 2A 04         A  7489    	CALL	__stoiu
04249C 3E28                A  7490    	LD	A,%28
04249E CD B8 30 04         A  7491    	CALL	__imul_b
0424A2 01 82 57 04         A  7492    	LD	BC,_currentlevel+7
0424A6 09                  A  7493    	ADD	HL,BC
0424A7 E5D1                A  7494    	LD	DE,HL
0424A9 DD07FA              A  7495    	LD	BC,(IX+%FFFFFFFA)
0424AC CD 39 2A 04         A  7496    	CALL	__stoiu
0424B0 19                  A  7497    	ADD	HL,DE
0424B1 7E                  A  7498    	LD	A,(HL)
0424B2 DD77F7              A  7499    	LD	(IX+%FFFFFFF7),A
                           A  7500    ;  846				switch(c)
                           A  7501    .LINE 846
                           A  7502    
0424B5 17ED62              A  7503    	SEXT	HL
0424B8 DD6EF7              A  7504    	LD	L,(IX+%FFFFFFF7)
0424BB CD 4D 31 04         A  7505    	CALL	__case8D
0424BF E9                  A  7506    	JP	(HL)
0424C0                     A  7507    L__84:
0424C0 0700                A  7508    	DW	7
0424C2 20                  A  7509    	DB	32
0424C3 672504              A  7510    	DW24	L_188	
                           A  7511    
0424C6 23                  A  7512    	DB	35
0424C7 E12404              A  7513    	DW24	L_182	
                           A  7514    
0424CA 24                  A  7515    	DB	36
0424CB 252504              A  7516    	DW24	L_185	
                           A  7517    
0424CE 2A                  A  7518    	DB	42
0424CF 3B2504              A  7519    	DW24	L_186	
                           A  7520    
0424D2 2B                  A  7521    	DB	43
0424D3 0F2504              A  7522    	DW24	L_184	
                           A  7523    
0424D6 2E                  A  7524    	DB	46
0424D7 512504              A  7525    	DW24	L_187	
                           A  7526    
0424DA 40                  A  7527    	DB	64
0424DB F92404              A  7528    	DW24	L_183	
                           A  7529    
0424DE 7B2504              A  7530    	DW24	L_190	
                           A  7531    
                           A  7532    ;  847				{
                           A  7533    ;  848					case CHAR_WALL:
0424E1                     A  7534    L_182:
                           A  7535    .LINE 848
                           A  7536    
                           A  7537    ;  849						vdp_bitmapDraw(TILE
                           A  7538    .LINE 849
                           A  7539    
0424E1 DD07FC              A  7540    	LD	BC,(IX+%FFFFFFFC)
0424E4 C5                  A  7541    	PUSH	BC
0424E5 DD07FE              A  7542    	LD	BC,(IX+%FFFFFFFE)
0424E8 C5                  A  7543    	PUSH	BC
0424E9 01070000            A  7544    	LD	BC,7
0424ED C5                  A  7545    	PUSH	BC
0424EE CD F4 08 04         A  7546    	CALL	_vdp_bitmapDraw
0424F2 C1                  A  7547    	POP	BC
0424F3 C1                  A  7548    	POP	BC
0424F4 C1                  A  7549    	POP	BC
                           A  7550    ;  850						break;
                           A  7551    .LINE 850
                           A  7552    
0424F5 C3 7B 25 04         A  7553    	JR	L_190
                           A  7554    ;  851					case CHAR_PLAYER:
0424F9                     A  7555    L_183:
                           A  7556    .LINE 851
                           A  7557    
                           A  7558    ;  852						vdp_bitmapDraw(TILE
                           A  7559    .LINE 852
                           A  7560    
0424F9 DD07FC              A  7561    	LD	BC,(IX+%FFFFFFFC)
0424FC C5                  A  7562    	PUSH	BC
0424FD DD07FE              A  7563    	LD	BC,(IX+%FFFFFFFE)
042500 C5                  A  7564    	PUSH	BC
042501 01080000            A  7565    	LD	BC,8
042505 C5                  A  7566    	PUSH	BC
042506 CD F4 08 04         A  7567    	CALL	_vdp_bitmapDraw
04250A C1                  A  7568    	POP	BC
04250B C1                  A  7569    	POP	BC
04250C C1                  A  7570    	POP	BC
                           A  7571    ;  853						break;
                           A  7572    .LINE 853
                           A  7573    
04250D 18 6C               A  7574    	JR	L_190
                           A  7575    ;  854					case CHAR_PLAYERONGOAL:
04250F                     A  7576    L_184:
                           A  7577    .LINE 854
                           A  7578    
                           A  7579    ;  855						vdp_bitmapDraw(TILE
                           A  7580    .LINE 855
                           A  7581    
04250F DD07FC              A  7582    	LD	BC,(IX+%FFFFFFFC)
042512 C5                  A  7583    	PUSH	BC
042513 DD07FE              A  7584    	LD	BC,(IX+%FFFFFFFE)
042516 C5                  A  7585    	PUSH	BC
042517 01090000            A  7586    	LD	BC,9
04251B C5                  A  7587    	PUSH	BC
04251C CD F4 08 04         A  7588    	CALL	_vdp_bitmapDraw
042520 C1                  A  7589    	POP	BC
042521 C1                  A  7590    	POP	BC
042522 C1                  A  7591    	POP	BC
                           A  7592    ;  856						break;
                           A  7593    .LINE 856
                           A  7594    
042523 18 56               A  7595    	JR	L_190
                           A  7596    ;  857					case CHAR_BOX:
042525                     A  7597    L_185:
                           A  7598    .LINE 857
                           A  7599    
                           A  7600    ;  858						vdp_bitmapDraw(TILE
                           A  7601    .LINE 858
                           A  7602    
042525 DD07FC              A  7603    	LD	BC,(IX+%FFFFFFFC)
042528 C5                  A  7604    	PUSH	BC
042529 DD07FE              A  7605    	LD	BC,(IX+%FFFFFFFE)
04252C C5                  A  7606    	PUSH	BC
04252D 010A0000            A  7607    	LD	BC,10
042531 C5                  A  7608    	PUSH	BC
042532 CD F4 08 04         A  7609    	CALL	_vdp_bitmapDraw
042536 C1                  A  7610    	POP	BC
042537 C1                  A  7611    	POP	BC
042538 C1                  A  7612    	POP	BC
                           A  7613    ;  859						break;
                           A  7614    .LINE 859
                           A  7615    
042539 18 40               A  7616    	JR	L_190
                           A  7617    ;  860					case CHAR_BOXONGOAL:
04253B                     A  7618    L_186:
                           A  7619    .LINE 860
                           A  7620    
                           A  7621    ;  861						vdp_bitmapDraw(TILE
                           A  7622    .LINE 861
                           A  7623    
04253B DD07FC              A  7624    	LD	BC,(IX+%FFFFFFFC)
04253E C5                  A  7625    	PUSH	BC
04253F DD07FE              A  7626    	LD	BC,(IX+%FFFFFFFE)
042542 C5                  A  7627    	PUSH	BC
042543 010B0000            A  7628    	LD	BC,11
042547 C5                  A  7629    	PUSH	BC
042548 CD F4 08 04         A  7630    	CALL	_vdp_bitmapDraw
04254C C1                  A  7631    	POP	BC
04254D C1                  A  7632    	POP	BC
04254E C1                  A  7633    	POP	BC
                           A  7634    ;  862						break;
                           A  7635    .LINE 862
                           A  7636    
04254F 18 2A               A  7637    	JR	L_190
                           A  7638    ;  863						break;
                           A  7639    ;  864					case CHAR_GOAL:
042551                     A  7640    L_187:
                           A  7641    .LINE 864
                           A  7642    
                           A  7643    ;  865						vdp_bitmapDraw(TILE
                           A  7644    .LINE 865
                           A  7645    
042551 DD07FC              A  7646    	LD	BC,(IX+%FFFFFFFC)
042554 C5                  A  7647    	PUSH	BC
042555 DD07FE              A  7648    	LD	BC,(IX+%FFFFFFFE)
042558 C5                  A  7649    	PUSH	BC
042559 010C0000            A  7650    	LD	BC,12
04255D C5                  A  7651    	PUSH	BC
04255E CD F4 08 04         A  7652    	CALL	_vdp_bitmapDraw
042562 C1                  A  7653    	POP	BC
042563 C1                  A  7654    	POP	BC
042564 C1                  A  7655    	POP	BC
                           A  7656    ;  866						break;
                           A  7657    .LINE 866
                           A  7658    
042565 18 14               A  7659    	JR	L_190
                           A  7660    ;  867					case CHAR_FLOOR:
042567                     A  7661    L_188:
                           A  7662    .LINE 867
                           A  7663    
                           A  7664    ;  868						vdp_bitmapDraw(TILE
                           A  7665    .LINE 868
                           A  7666    
042567 DD07FC              A  7667    	LD	BC,(IX+%FFFFFFFC)
04256A C5                  A  7668    	PUSH	BC
04256B DD07FE              A  7669    	LD	BC,(IX+%FFFFFFFE)
04256E C5                  A  7670    	PUSH	BC
04256F 010D0000            A  7671    	LD	BC,13
042573 C5                  A  7672    	PUSH	BC
042574 CD F4 08 04         A  7673    	CALL	_vdp_bitmapDraw
042578 C1                  A  7674    	POP	BC
042579 C1                  A  7675    	POP	BC
04257A C1                  A  7676    	POP	BC
                           A  7677    ;  869						break;
                           A  7678    ;  870					default:
                           A  7679    ;  871						break;
                           A  7680    ;  872				}
04257B                     A  7681    L_190:
                           A  7682    .LINE 872
                           A  7683    
                           A  7684    ;  873				x += MINIMAP_WIDTH;
                           A  7685    .LINE 873
                           A  7686    
04257B DD31FE              A  7687    	LD	IY,(IX+%FFFFFFFE)
04257E ED2308              A  7688    	LEA	HL,IY+%8
042581 DD75FE              A  7689    	LD	(IX+%FFFFFFFE),L
042584 DD74FF              A  7690    	LD	(IX+%FFFFFFFF),H
042587 DD27FA              A  7691    	LD	HL,(IX+%FFFFFFFA)
04258A 23                  A  7692    	INC	HL
04258B DD75FA              A  7693    	LD	(IX+%FFFFFFFA),L
04258E DD74FB              A  7694    	LD	(IX+%FFFFFFFB),H
                           A  7695    ;  874			}
042591                     A  7696    L_193:
                           A  7697    .LINE 874
                           A  7698    
042591 3A 7D 57 04         A  7699    	LD	A,(_currentlevel+2)
042595 4F                  A  7700    	LD	C,A
042596 0600                A  7701    	LD	B,%0
042598 DD27FA              A  7702    	LD	HL,(IX+%FFFFFFFA)
04259B B7                  A  7703    	OR	A,A
04259C 40ED42              A  7704    	SBC.SIS	HL,BC
04259F DA 95 24 04         A  7705    	JR	C,L_191
                           A  7706    ;  875			y += MINIMAP_HEIGHT;
                           A  7707    .LINE 875
                           A  7708    
0425A3 DD31FC              A  7709    	LD	IY,(IX+%FFFFFFFC)
0425A6 ED2308              A  7710    	LEA	HL,IY+%8
0425A9 DD75FC              A  7711    	LD	(IX+%FFFFFFFC),L
0425AC DD74FD              A  7712    	LD	(IX+%FFFFFFFD),H
0425AF DD27F8              A  7713    	LD	HL,(IX+%FFFFFFF8)
0425B2 23                  A  7714    	INC	HL
0425B3 DD75F8              A  7715    	LD	(IX+%FFFFFFF8),L
0425B6 DD74F9              A  7716    	LD	(IX+%FFFFFFF9),H
                           A  7717    ;  876		}
0425B9                     A  7718    L_197:
                           A  7719    .LINE 876
                           A  7720    
0425B9 3A 7E 57 04         A  7721    	LD	A,(_currentlevel+3)
0425BD 4F                  A  7722    	LD	C,A
0425BE 0600                A  7723    	LD	B,%0
0425C0 DD27F8              A  7724    	LD	HL,(IX+%FFFFFFF8)
0425C3 B7                  A  7725    	OR	A,A
0425C4 40ED42              A  7726    	SBC.SIS	HL,BC
0425C7 DA 80 24 04         A  7727    	JR	C,L_195
                           A  7728    ;  877	}
                           A  7729    .LINE 877
                           A  7730    
0425CB DDF9                A  7731    	LD	SP,IX
0425CD DDE1                A  7732    	POP	IX
0425CF C9                  A  7733    	RET	
                           A  7734    
                           A  7735    
                           A  7736    ;**************************** _game_displayMini
                           A  7737    ;Name                         Addr/Register   S
                           A  7738    ;_vdp_bitmapDraw                     IMPORT  --
                           A  7739    ;_currentlevel                       STATIC   1
                           A  7740    ;ystart                               IX-13    
                           A  7741    ;xstart                               IX-11    
                           A  7742    ;c                                     IX-9    
                           A  7743    ;height                                IX-8    
                           A  7744    ;width                                 IX-6    
                           A  7745    ;y                                     IX-4    
                           A  7746    ;x                                     IX-2    
                           A  7747    
                           A  7748    
                           A  7749    ; Stack Frame Size: 19 (bytes)
                           A  7750    ;       Spill Code: 0 (instruction)
                           A  7751    
                           A  7752    
                           A  7753    .ENDFUNC "game_displayMinimap",877,"_game_displ
                           A  7754    ;  878	
                           A  7755    ;  879	
                           A  7756    ;  880	UINT8 game_readLevels(char *filename)
                           A  7757    ;  881	{
0425D0                     A  7758    _game_readLevels:
                           A  7759    .DEFINE "_game_readLevels"
                           A  7760    
                           A  7761    .VALUE _game_readLevels
                           A  7762    
                           A  7763    .CLASS 2
                           A  7764    
                           A  7765    .TYPE 76
                           A  7766    
                           A  7767    .ENDEF
                           A  7768    
                           A  7769    .BEGFUNC "game_readLevels",881,"_game_readLevel
                           A  7770    
                           A  7771    .LINE 881
                           A  7772    
                           A  7773    .DEFINE "filename"
                           A  7774    
                           A  7775    .CLASS 65
                           A  7776    
                           A  7777    .VALUE 6
                           A  7778    
                           A  7779    .TYPE 34
                           A  7780    
                           A  7781    .ENDEF
                           A  7782    
                           A  7783    .DEFINE "numlevels"
                           A  7784    
                           A  7785    .CLASS 65
                           A  7786    
                           A  7787    .VALUE -1
                           A  7788    
                           A  7789    .TYPE 12
                           A  7790    
                           A  7791    .ENDEF
                           A  7792    
                           A  7793    .DEFINE "file"
                           A  7794    
                           A  7795    .CLASS 65
                           A  7796    
                           A  7797    .VALUE -2
                           A  7798    
                           A  7799    .TYPE 12
                           A  7800    
                           A  7801    .ENDEF
                           A  7802    
                           A  7803    .DEFINE "size"
                           A  7804    
                           A  7805    .CLASS 65
                           A  7806    
                           A  7807    .VALUE -4
                           A  7808    
                           A  7809    .TYPE 13
                           A  7810    
                           A  7811    .ENDEF
                           A  7812    
                           A  7813    .DEFINE "ptr"
                           A  7814    
                           A  7815    .CLASS 65
                           A  7816    
                           A  7817    .VALUE -7
                           A  7818    
                           A  7819    .TYPE 34
                           A  7820    
                           A  7821    .ENDEF
                           A  7822    
0425D0 DDE5                A  7823    	PUSH	IX
0425D2 DD210000 00         A  7824    	LD	IX,0
0425D7 DD39                A  7825    	ADD	IX,SP
0425D9 C5                  A  7826    	PUSH	BC
0425DA C5                  A  7827    	PUSH	BC
0425DB 3B                  A  7828    	DEC	SP
                           A  7829    ;  882		// Reads all the levels in the stan
                           A  7830    ;  883		UINT8 numlevels = 0;
                           A  7831    .LINE 883
                           A  7832    
0425DC DD36FF00            A  7833    	LD	(IX+%FFFFFFFF),%0
                           A  7834    ;  884		UINT16 size;
                           A  7835    ;  885		UINT8 file;
                           A  7836    ;  886		char* ptr = (char*)LEVELDATA;
                           A  7837    .LINE 886
                           A  7838    
0425E0 01000008            A  7839    	LD	BC,524288
0425E4 DD0FF9              A  7840    	LD	(IX+%FFFFFFF9),BC
                           A  7841    ;  887		
                           A  7842    ;  888		file = mos_fopen(filename, fa_read)
                           A  7843    .LINE 888
                           A  7844    
0425E7 01010000            A  7845    	LD	BC,1
0425EB C5                  A  7846    	PUSH	BC
0425EC DD0706              A  7847    	LD	BC,(IX+%6)
0425EF C5                  A  7848    	PUSH	BC
0425F0 CD 2A 28 04         A  7849    	CALL	_mos_fopen
0425F4 C1                  A  7850    	POP	BC
0425F5 C1                  A  7851    	POP	BC
0425F6 DD77FE              A  7852    	LD	(IX+%FFFFFFFE),A
                           A  7853    ;  889		if(file)
                           A  7854    .LINE 889
                           A  7855    
0425F9 B7                  A  7856    	OR	A,A
0425FA 28 57               A  7857    	JR	Z,L_209
                           A  7858    ;  890		{
                           A  7859    ;  891			numlevels = 0;
                           A  7860    .LINE 891
                           A  7861    
0425FC DD36FF00            A  7862    	LD	(IX+%FFFFFFFF),%0
                           A  7863    ;  892			
                           A  7864    ;  893			while(!mos_feof(file))
                           A  7865    .LINE 893
                           A  7866    
042600 18 38               A  7867    	JR	L_205
042602                     A  7868    L_206:
                           A  7869    ;  894			{
                           A  7870    ;  895				size = sizeof(struct sokoba
                           A  7871    .LINE 895
                           A  7872    
042602 DD36FCB7            A  7873    	LD	(IX+%FFFFFFFC),%B7
042606 DD36FD04            A  7874    	LD	(IX+%FFFFFFFD),%4
                           A  7875    ;  896				while(size)
                           A  7876    .LINE 896
                           A  7877    
04260A 18 22               A  7878    	JR	L_201
04260C                     A  7879    L_202:
                           A  7880    ;  897				{
                           A  7881    ;  898					*ptr = mos_fgetc(file);
                           A  7882    .LINE 898
                           A  7883    
04260C DD4EFE              A  7884    	LD	C,(IX+%FFFFFFFE)
04260F 0600                A  7885    	LD	B,%0
042611 C5                  A  7886    	PUSH	BC
042612 CD 57 28 04         A  7887    	CALL	_mos_fgetc
042616 C1                  A  7888    	POP	BC
042617 DD27F9              A  7889    	LD	HL,(IX+%FFFFFFF9)
04261A 77                  A  7890    	LD	(HL),A
                           A  7891    ;  899					ptr++;
                           A  7892    .LINE 899
                           A  7893    
04261B DD07F9              A  7894    	LD	BC,(IX+%FFFFFFF9)
04261E 03                  A  7895    	INC	BC
04261F DD0FF9              A  7896    	LD	(IX+%FFFFFFF9),BC
                           A  7897    ;  900					size--;
                           A  7898    .LINE 900
                           A  7899    
042622 DD31FC              A  7900    	LD	IY,(IX+%FFFFFFFC)
042625 ED23FF              A  7901    	LEA	HL,IY+%FFFFFFFF
042628 DD75FC              A  7902    	LD	(IX+%FFFFFFFC),L
04262B DD74FD              A  7903    	LD	(IX+%FFFFFFFD),H
                           A  7904    ;  901				}
04262E                     A  7905    L_201:
                           A  7906    .LINE 901
                           A  7907    
04262E DD27FC              A  7908    	LD	HL,(IX+%FFFFFFFC)
042631 CD A6 31 04         A  7909    	CALL	__scmpzero
042635 20 D5               A  7910    	JR	NZ,L_202
                           A  7911    ;  902				numlevels++;
                           A  7912    .LINE 902
                           A  7913    
042637 DD34FF              A  7914    	INC	(IX+%FFFFFFFF)
                           A  7915    ;  903			}		
04263A                     A  7916    L_205:
                           A  7917    .LINE 903
                           A  7918    
04263A DD4EFE              A  7919    	LD	C,(IX+%FFFFFFFE)
04263D 0600                A  7920    	LD	B,%0
04263F C5                  A  7921    	PUSH	BC
042640 CD 84 28 04         A  7922    	CALL	_mos_feof
042644 C1                  A  7923    	POP	BC
042645 B7                  A  7924    	OR	A,A
042646 28 BA               A  7925    	JR	Z,L_206
                           A  7926    ;  904			mos_fclose(file);
                           A  7927    .LINE 904
                           A  7928    
042648 DD4EFE              A  7929    	LD	C,(IX+%FFFFFFFE)
04264B 0600                A  7930    	LD	B,%0
04264D C5                  A  7931    	PUSH	BC
04264E CD 42 28 04         A  7932    	CALL	_mos_fclose
042652 C1                  A  7933    	POP	BC
                           A  7934    ;  905		}
042653                     A  7935    L_209:
                           A  7936    .LINE 905
                           A  7937    
                           A  7938    ;  906		return numlevels;
                           A  7939    .LINE 906
                           A  7940    
042653 DD7EFF              A  7941    	LD	A,(IX+%FFFFFFFF)
                           A  7942    ;  907	}	
                           A  7943    .LINE 907
                           A  7944    
042656 DDF9                A  7945    	LD	SP,IX
042658 DDE1                A  7946    	POP	IX
04265A C9                  A  7947    	RET	
                           A  7948    
                           A  7949    
                           A  7950    ;**************************** _game_readLevels 
                           A  7951    ;Name                         Addr/Register   S
                           A  7952    ;_mos_fclose                         IMPORT  --
                           A  7953    ;_mos_feof                           IMPORT  --
                           A  7954    ;_mos_fgetc                          IMPORT  --
                           A  7955    ;_mos_fopen                          IMPORT  --
                           A  7956    ;ptr                                   IX-7    
                           A  7957    ;size                                  IX-4    
                           A  7958    ;file                                  IX-2    
                           A  7959    ;numlevels                             IX-1    
                           A  7960    ;filename                              IX+6    
                           A  7961    
                           A  7962    
                           A  7963    ; Stack Frame Size: 16 (bytes)
                           A  7964    ;       Spill Code: 0 (instruction)
                           A  7965    
                           A  7966    
                           A  7967    .ENDFUNC "game_readLevels",907,"_game_readLevel
                           A  7968    ;  908	
                           A  7969    ;  909	
                           A  7970    ;  910	void game_initLevel(UINT8 levelid)
                           A  7971    ;  911	{
04265B                     A  7972    _game_initLevel:
                           A  7973    .DEFINE "_game_initLevel"
                           A  7974    
                           A  7975    .VALUE _game_initLevel
                           A  7976    
                           A  7977    .CLASS 2
                           A  7978    
                           A  7979    .TYPE 65
                           A  7980    
                           A  7981    .ENDEF
                           A  7982    
                           A  7983    .BEGFUNC "game_initLevel",911,"_game_initLevel"
                           A  7984    
                           A  7985    .LINE 911
                           A  7986    
                           A  7987    .DEFINE "levelid"
                           A  7988    
                           A  7989    .CLASS 65
                           A  7990    
                           A  7991    .VALUE 6
                           A  7992    
                           A  7993    .TYPE 12
                           A  7994    
                           A  7995    .ENDEF
                           A  7996    
04265B DDE5                A  7997    	PUSH	IX
04265D DD210000 00         A  7998    	LD	IX,0
042662 DD39                A  7999    	ADD	IX,SP
                           A  8000    ;  912		memcpy(&currentlevel, (void*)(LEVEL
                           A  8001    .LINE 912
                           A  8002    
042664 01B70400            A  8003    	LD	BC,1207
042668 C5                  A  8004    	PUSH	BC
042669 DD7E06              A  8005    	LD	A,(IX+%6)
04266C B7ED62              A  8006    	UEXT	HL
04266F 6F                  A  8007    	LD	L,A
042670 E5C1                A  8008    	LD	BC,HL
042672 21B70400            A  8009    	LD	HL,1207
042676 CD C4 30 04         A  8010    	CALL	__imulu
04267A 01000008            A  8011    	LD	BC,524288
04267E 09                  A  8012    	ADD	HL,BC
04267F E5                  A  8013    	PUSH	HL
042680 01 7B 57 04         A  8014    	LD	BC,_currentlevel
042684 C5                  A  8015    	PUSH	BC
042685 CD D2 2D 04         A  8016    	CALL	_memcpy
042689 C1                  A  8017    	POP	BC
04268A C1                  A  8018    	POP	BC
04268B C1                  A  8019    	POP	BC
                           A  8020    ;  913		num_undomoves = 0;
                           A  8021    .LINE 913
                           A  8022    
04268C AF                  A  8023    	XOR	A,A
04268D 32 CA 4E 04         A  8024    	LD	(_num_undomoves),A
                           A  8025    ;  914	}
                           A  8026    .LINE 914
                           A  8027    
042691 DDF9                A  8028    	LD	SP,IX
042693 DDE1                A  8029    	POP	IX
042695 C9                  A  8030    	RET	
                           A  8031    
                           A  8032    
                           A  8033    ;**************************** _game_initLevel *
                           A  8034    ;Name                         Addr/Register   S
                           A  8035    ;_num_undomoves                      STATIC    
                           A  8036    ;_currentlevel                       STATIC   1
                           A  8037    ;_memcpy                             IMPORT  --
                           A  8038    ;levelid                               IX+6    
                           A  8039    
                           A  8040    
                           A  8041    ; Stack Frame Size: 9 (bytes)
                           A  8042    ;       Spill Code: 0 (instruction)
                           A  8043    
                           A  8044    
                           A  8045    .ENDFUNC "game_initLevel",914,"_game_initLevel"
                           A  8046    ;  915	
                           A  8047    ;  916	void game_initSprites(void)
                           A  8048    ;  917	{
042696                     A  8049    _game_initSprites:
                           A  8050    .DEFINE "_game_initSprites"
                           A  8051    
                           A  8052    .VALUE _game_initSprites
                           A  8053    
                           A  8054    .CLASS 2
                           A  8055    
                           A  8056    .TYPE 65
                           A  8057    
                           A  8058    .ENDEF
                           A  8059    
                           A  8060    .BEGFUNC "game_initSprites",917,"_game_initSpri
                           A  8061    
                           A  8062    .LINE 917
                           A  8063    
                           A  8064    .DEFINE "x"
                           A  8065    
                           A  8066    .CLASS 65
                           A  8067    
                           A  8068    .VALUE -1
                           A  8069    
                           A  8070    .TYPE 12
                           A  8071    
                           A  8072    .ENDEF
                           A  8073    
                           A  8074    .DEFINE "boxsprite"
                           A  8075    
                           A  8076    .CLASS 65
                           A  8077    
                           A  8078    .VALUE -2
                           A  8079    
                           A  8080    .TYPE 12
                           A  8081    
                           A  8082    .ENDEF
                           A  8083    
                           A  8084    .DEFINE "y"
                           A  8085    
                           A  8086    .CLASS 65
                           A  8087    
                           A  8088    .VALUE -3
                           A  8089    
                           A  8090    .TYPE 12
                           A  8091    
                           A  8092    .ENDEF
                           A  8093    
042696 DDE5                A  8094    	PUSH	IX
042698 DD210000 00         A  8095    	LD	IX,0
04269D DD39                A  8096    	ADD	IX,SP
04269F ED22F4              A  8097    	LEA	HL,IX+%FFFFFFF4
0426A2 F9                  A  8098    	LD	SP,HL
                           A  8099    ;  918		UINT8 x,y;
                           A  8100    ;  919		UINT8 boxsprite = 1;
                           A  8101    .LINE 919
                           A  8102    
0426A3 DD36FE01            A  8103    	LD	(IX+%FFFFFFFE),%1
                           A  8104    ;  920		
                           A  8105    ;  921		// Now build up the current level
                           A  8106    ;  922		// Player sprite
                           A  8107    ;  923		vdp_spriteSelect(0);
                           A  8108    .LINE 923
                           A  8109    
0426A7 01000000            A  8110    	LD	BC,0
0426AB C5                  A  8111    	PUSH	BC
0426AC CD 9C 09 04         A  8112    	CALL	_vdp_spriteSelect
0426B0 C1                  A  8113    	POP	BC
                           A  8114    ;  924		vdp_spriteClearFramesSelected();
                           A  8115    .LINE 924
                           A  8116    
0426B1 CD D5 09 04         A  8117    	CALL	_vdp_spriteClearFramesSelected
                           A  8118    ;  925		vdp_spriteAddFrameSelected(TILE_PLA
                           A  8119    .LINE 925
                           A  8120    
0426B5 01010000            A  8121    	LD	BC,1
0426B9 C5                  A  8122    	PUSH	BC
0426BA CD 1E 0A 04         A  8123    	CALL	_vdp_spriteAddFrameSelected
0426BE C1                  A  8124    	POP	BC
                           A  8125    ;  926		vdp_spriteHideSelected();
                           A  8126    .LINE 926
                           A  8127    
0426BF CD AC 0B 04         A  8128    	CALL	_vdp_spriteHideSelected
                           A  8129    ;  927	
                           A  8130    ;  928		// set sprite positions
                           A  8131    ;  929		for(y = 0; y < currentlevel.height;
                           A  8132    .LINE 929
                           A  8133    
0426C3 DD36FD00            A  8134    	LD	(IX+%FFFFFFFD),%0
0426C7 C3 9F 27 04         A  8135    	JR	L_226
0426CB                     A  8136    L_224:
                           A  8137    ;  930		{
                           A  8138    ;  931			for(x = 0; x < currentlevel.wid
                           A  8139    .LINE 931
                           A  8140    
0426CB DD36FF00            A  8141    	LD	(IX+%FFFFFFFF),%0
0426CF C3 90 27 04         A  8142    	JR	L_223
0426D3                     A  8143    L_221:
                           A  8144    ;  932			{
                           A  8145    ;  933				switch(currentlevel.data[y]
                           A  8146    .LINE 933
                           A  8147    
0426D3 DD7EFD              A  8148    	LD	A,(IX+%FFFFFFFD)
0426D6 B7ED62              A  8149    	UEXT	HL
0426D9 6F                  A  8150    	LD	L,A
0426DA 3E28                A  8151    	LD	A,%28
0426DC CD B8 30 04         A  8152    	CALL	__imul_b
0426E0 DD2FFA              A  8153    	LD	(IX+%FFFFFFFA),HL
0426E3 01 82 57 04         A  8154    	LD	BC,_currentlevel+7
0426E7 09                  A  8155    	ADD	HL,BC
0426E8 DD2FF4              A  8156    	LD	(IX+%FFFFFFF4),HL
0426EB DD7EFF              A  8157    	LD	A,(IX+%FFFFFFFF)
0426EE B7ED62              A  8158    	UEXT	HL
0426F1 6F                  A  8159    	LD	L,A
0426F2 DD07F4              A  8160    	LD	BC,(IX+%FFFFFFF4)
0426F5 09                  A  8161    	ADD	HL,BC
0426F6 DD2FF7              A  8162    	LD	(IX+%FFFFFFF7),HL
0426F9 7E                  A  8163    	LD	A,(HL)
0426FA B7ED62              A  8164    	UEXT	HL
0426FD 6F                  A  8165    	LD	L,A
0426FE CD 4D 31 04         A  8166    	CALL	__case8D
042702 E9                  A  8167    	JP	(HL)
042703                     A  8168    L__93:
042703 0200                A  8169    	DW	2
042705 24                  A  8170    	DB	36
042706 102704              A  8171    	DW24	L_214	
                           A  8172    
042709 2A                  A  8173    	DB	42
04270A 102704              A  8174    	DW24	L_215	
                           A  8175    
04270D 792704              A  8176    	DW24	L_220	
                           A  8177    
                           A  8178    ;  934				{
                           A  8179    ;  935					case CHAR_BOX:
042710                     A  8180    L_214:
                           A  8181    .LINE 935
                           A  8182    
                           A  8183    ;  936					case CHAR_BOXONGOAL:
042710                     A  8184    L_215:
                           A  8185    .LINE 936
                           A  8186    
                           A  8187    ;  937						vdp_spriteSelect(bo
                           A  8188    .LINE 937
                           A  8189    
042710 DD4EFE              A  8190    	LD	C,(IX+%FFFFFFFE)
042713 0600                A  8191    	LD	B,%0
042715 C5                  A  8192    	PUSH	BC
042716 CD 9C 09 04         A  8193    	CALL	_vdp_spriteSelect
04271A C1                  A  8194    	POP	BC
                           A  8195    ;  938						vdp_spriteClearFram
                           A  8196    .LINE 938
                           A  8197    
04271B CD D5 09 04         A  8198    	CALL	_vdp_spriteClearFramesSelected
                           A  8199    ;  939						vdp_spriteAddFrameS
                           A  8200    .LINE 939
                           A  8201    
04271F 01030000            A  8202    	LD	BC,3
042723 C5                  A  8203    	PUSH	BC
042724 CD 1E 0A 04         A  8204    	CALL	_vdp_spriteAddFrameSelected
042728 C1                  A  8205    	POP	BC
                           A  8206    ;  940						vdp_spriteAddFrameS
                           A  8207    .LINE 940
                           A  8208    
042729 01040000            A  8209    	LD	BC,4
04272D C5                  A  8210    	PUSH	BC
04272E CD 1E 0A 04         A  8211    	CALL	_vdp_spriteAddFrameSelected
042732 C1                  A  8212    	POP	BC
                           A  8213    ;  941						if(currentlevel.dat
                           A  8214    .LINE 941
                           A  8215    
042733 DD27F7              A  8216    	LD	HL,(IX+%FFFFFFF7)
042736 7E                  A  8217    	LD	A,(HL)
042737 B7ED62              A  8218    	UEXT	HL
04273A 6F                  A  8219    	LD	L,A
04273B 012A0000            A  8220    	LD	BC,42
04273F B7                  A  8221    	OR	A,A
042740 ED42                A  8222    	SBC	HL,BC
042742 20 0C               A  8223    	JR	NZ,L_217
042744 01010000            A  8224    	LD	BC,1
042748 C5                  A  8225    	PUSH	BC
042749 CD 0D 0B 04         A  8226    	CALL	_vdp_spriteSetFrameSelected
04274D C1                  A  8227    	POP	BC
                           A  8228    ;  942						else vdp_spriteSetF
                           A  8229    .LINE 942
                           A  8230    
04274E 18 0A               A  8231    	JR	L_218
042750                     A  8232    L_217:
042750 01000000            A  8233    	LD	BC,0
042754 C5                  A  8234    	PUSH	BC
042755 CD 0D 0B 04         A  8235    	CALL	_vdp_spriteSetFrameSelected
042759 C1                  A  8236    	POP	BC
04275A                     A  8237    L_218:
                           A  8238    ;  943						vdp_spriteHideSelec
                           A  8239    .LINE 943
                           A  8240    
04275A CD AC 0B 04         A  8241    	CALL	_vdp_spriteHideSelected
                           A  8242    ;  944						sprites[y][x] = box
                           A  8243    .LINE 944
                           A  8244    
04275E 01 CB 52 04         A  8245    	LD	BC,_sprites
042762 DD27FA              A  8246    	LD	HL,(IX+%FFFFFFFA)
042765 09                  A  8247    	ADD	HL,BC
042766 E5C1                A  8248    	LD	BC,HL
042768 DD7EFF              A  8249    	LD	A,(IX+%FFFFFFFF)
04276B B7ED62              A  8250    	UEXT	HL
04276E 6F                  A  8251    	LD	L,A
04276F 09                  A  8252    	ADD	HL,BC
042770 DD7EFE              A  8253    	LD	A,(IX+%FFFFFFFE)
042773 77                  A  8254    	LD	(HL),A
                           A  8255    ;  945						boxsprite++;
                           A  8256    .LINE 945
                           A  8257    
042774 DD34FE              A  8258    	INC	(IX+%FFFFFFFE)
                           A  8259    ;  946						break;
                           A  8260    .LINE 946
                           A  8261    
042777 18 14               A  8262    	JR	L_222
                           A  8263    ;  947					default:
042779                     A  8264    L_220:
                           A  8265    .LINE 947
                           A  8266    
                           A  8267    ;  948						sprites[y][x] = NOS
                           A  8268    .LINE 948
                           A  8269    
042779 01 CB 52 04         A  8270    	LD	BC,_sprites
04277D DD27FA              A  8271    	LD	HL,(IX+%FFFFFFFA)
042780 09                  A  8272    	ADD	HL,BC
042781 E5C1                A  8273    	LD	BC,HL
042783 DD7EFF              A  8274    	LD	A,(IX+%FFFFFFFF)
042786 B7ED62              A  8275    	UEXT	HL
042789 6F                  A  8276    	LD	L,A
04278A 09                  A  8277    	ADD	HL,BC
04278B 36FF                A  8278    	LD	(HL),%FF
                           A  8279    ;  949						break;
                           A  8280    ;  950				}	
                           A  8281    ;  951			}
04278D                     A  8282    L_222:
                           A  8283    .LINE 951
                           A  8284    
04278D DD34FF              A  8285    	INC	(IX+%FFFFFFFF)
042790                     A  8286    L_223:
042790 DD7EFF              A  8287    	LD	A,(IX+%FFFFFFFF)
042793 21 7D 57 04         A  8288    	LD	HL,_currentlevel+2
042797 BE                  A  8289    	CP	A,(HL)
042798 DA D3 26 04         A  8290    	JR	C,L_221
04279C DD34FD              A  8291    	INC	(IX+%FFFFFFFD)
                           A  8292    ;  952		}
04279F                     A  8293    L_226:
                           A  8294    .LINE 952
                           A  8295    
04279F DD7EFD              A  8296    	LD	A,(IX+%FFFFFFFD)
0427A2 21 7E 57 04         A  8297    	LD	HL,_currentlevel+3
0427A6 BE                  A  8298    	CP	A,(HL)
0427A7 DA CB 26 04         A  8299    	JR	C,L_224
                           A  8300    ;  953	
                           A  8301    ;  954		// activate all sprites. boxsprite 
                           A  8302    ;  955		spritenumber = boxsprite;
                           A  8303    .LINE 955
                           A  8304    
0427AB DD7EFE              A  8305    	LD	A,(IX+%FFFFFFFE)
0427AE 32 32 5C 04         A  8306    	LD	(_spritenumber),A
                           A  8307    ;  956		vdp_spriteActivateTotal(spritenumbe
                           A  8308    .LINE 956
                           A  8309    
0427B2 4F                  A  8310    	LD	C,A
0427B3 0600                A  8311    	LD	B,%0
0427B5 C5                  A  8312    	PUSH	BC
0427B6 CD BF 0C 04         A  8313    	CALL	_vdp_spriteActivateTotal
0427BA C1                  A  8314    	POP	BC
                           A  8315    ;  957	}
                           A  8316    .LINE 957
                           A  8317    
0427BB DDF9                A  8318    	LD	SP,IX
0427BD DDE1                A  8319    	POP	IX
0427BF C9                  A  8320    	RET	
                           A  8321    
                           A  8322    
                           A  8323    ;**************************** _game_initSprites
                           A  8324    ;Name                         Addr/Register   S
                           A  8325    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  8326    ;_spritenumber                       STATIC    
                           A  8327    ;_sprites                            STATIC   1
                           A  8328    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  8329    ;_currentlevel                       STATIC   1
                           A  8330    ;_vdp_spriteHideSelected             IMPORT  --
                           A  8331    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  8332    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  8333    ;_vdp_spriteSelect                   IMPORT  --
                           A  8334    ;G_30                                 IX-12    
                           A  8335    ;G_31                                  IX-9    
                           A  8336    ;G_32                                  IX-6    
                           A  8337    ;y                                     IX-3    
                           A  8338    ;boxsprite                             IX-2    
                           A  8339    ;x                                     IX-1    
                           A  8340    
                           A  8341    
                           A  8342    ; Stack Frame Size: 18 (bytes)
                           A  8343    ;       Spill Code: 0 (instruction)
                           A  8344    
                           A  8345    
                           A  8346    .ENDFUNC "game_initSprites",957,"_game_initSpri
                           A  8347    	XREF _strlen:ROM
                           A  8348    	XREF _memset:ROM
                           A  8349    	XREF _memcpy:ROM
                           A  8350    	XREF _puts:ROM
                           A  8351    	XREF __u_itoa:ROM
                           A  8352    	XREF ___print_sendstring:ROM
                           A  8353    	XREF ___print_xputch:ROM
                           A  8354    	XREF ___print_uputch:ROM
                           A  8355    	XREF ___print_fmt:ROM
                           A  8356    	XREF _vdp_spriteRefresh:ROM
                           A  8357    	XREF _vdp_spriteActivateTotal:ROM
                           A  8358    	XREF _vdp_spriteMoveBySelected:ROM
                           A  8359    	XREF _vdp_spriteMoveToSelected:ROM
                           A  8360    	XREF _vdp_spriteHide:ROM
                           A  8361    	XREF _vdp_spriteHideSelected:ROM
                           A  8362    	XREF _vdp_spriteShowSelected:ROM
                           A  8363    	XREF _vdp_spriteSetFrame:ROM
                           A  8364    	XREF _vdp_spriteSetFrameSelected:ROM
                           A  8365    	XREF _vdp_spriteAddFrameSelected:ROM
                           A  8366    	XREF _vdp_spriteClearFramesSelected:ROM
                           A  8367    	XREF _vdp_spriteSelect:ROM
                           A  8368    	XREF _vdp_bitmapCreateSolidColor:ROM
                           A  8369    	XREF _vdp_bitmapDraw:ROM
                           A  8370    	XREF _vdp_bitmapSendData:ROM
                           A  8371    	XREF _vdp_plotLineTo:ROM
                           A  8372    	XREF _vdp_plotMoveTo:ROM
                           A  8373    	XREF _vdp_plotColour:ROM
                           A  8374    	XREF _vdp_clearGraphics:ROM
                           A  8375    	XREF _vdp_fgcolour:ROM
                           A  8376    	XREF _vdp_cursorDisable:ROM
                           A  8377    	XREF _vdp_cursorGoto:ROM
                           A  8378    	XREF _vdp_cls:ROM
                           A  8379    	XREF _vdp_mode:ROM
                           A  8380    	XREF _mos_feof:ROM
                           A  8381    	XREF _mos_fgetc:ROM
                           A  8382    	XREF _mos_fclose:ROM
                           A  8383    	XREF _mos_fopen:ROM
                           A  8384    	XREF _getch:ROM
                           A  8385    	XREF _putch:ROM
                           A  8386    	XREF __idivs:ROM
                           A  8387    	XREF __imulu:ROM
                           A  8388    	XREF __stoi:ROM
                           A  8389    	XREF __stoiu:ROM
                           A  8390    	XREF __itol:ROM
                           A  8391    	XREF __setflag:ROM
                           A  8392    	XREF __scmpzero:ROM
                           A  8393    	XREF __case8D:ROM
                           A  8394    	XREF __imul_b:ROM
                           A  8395    	XDEF _game_initSprites
                           A  8396    	XDEF _game_initLevel
                           A  8397    	XDEF _game_readLevels
                           A  8398    	XDEF _game_displayMinimap
                           A  8399    	XDEF _game_displayLevel
                           A  8400    	XDEF _game_selectLevel
                           A  8401    	XDEF _game_getResponse
                           A  8402    	XDEF _game_handleKey
                           A  8403    	XDEF _game_handleUndoMove
                           A  8404    	XDEF _undomove_updatelevel
                           A  8405    	XDEF _move_updatelevel
                           A  8406    	XDEF _undomove_sprites
                           A  8407    	XDEF _move_sprites
                           A  8408    	XDEF _canmove
                           A  8409    	XDEF _game_resetSprites
                           A  8410    	XDEF _game_sendSpriteData
                           A  8411    	XDEF _debug_print_playfieldText
                           A  8412    	XDEF _playermini_data
                           A  8413    	XDEF _boxongoalmini_data
                           A  8414    	XDEF _goalmini_data
                           A  8415    	XDEF _wallmini_data
                           A  8416    	XDEF _boxmini_data
                           A  8417    	XDEF _boxongoal_data
                           A  8418    	XDEF _box_data
                           A  8419    	XDEF _goal_data
                           A  8420    	XDEF _player_data
                           A  8421    	XDEF _wall_data
                           A  8422    	XDEF _spritenumber
                           A  8423    	XDEF _currentlevel
                           A  8424    	XDEF _sprites
                           A  8425    	XDEF _bitmapbuffer
                           A  8426    	XDEF _num_undomoves
                           A  8427    	XDEF _undomove
                           A  8428    	END


Errors: 0
Warnings: 0
Lines Assembled: 8429
