Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED11-Dec-22     19:34:54     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\game.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "sokobanlevel",1207
                           A     9    .DEFINE "xpos"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "ypos"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "width"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "height"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "goals"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "goalstaken"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "crates"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "data"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .DIM 30
                           A    48    .DIM 40
                           A    49    .TYPE 876
                           A    50    .ENDEF
                           A    51    .ENDREC "sokobanlevel"
                           A    52    .BEGREC "NONAME0",2
                           A    53    .DEFINE "ch"
                           A    54    .VALUE 0
                           A    55    .CLASS 8
                           A    56    .TYPE 2
                           A    57    .ENDEF
                           A    58    .DEFINE "tile_id"
                           A    59    .VALUE 1
                           A    60    .CLASS 8
                           A    61    .TYPE 12
                           A    62    .ENDEF
                           A    63    .ENDREC "NONAME0"
                           A    64    .BEGREC "fmt_type",19
                           A    65    .DEFINE "status"
                           A    66    .VALUE 0
                           A    67    .CLASS 8
                           A    68    .TYPE 12
                           A    69    .ENDEF
                           A    70    .DEFINE "flags"
                           A    71    .VALUE 1
                           A    72    .CLASS 8
                           A    73    .TYPE 12
                           A    74    .ENDEF
                           A    75    .DEFINE "size"
                           A    76    .VALUE 2
                           A    77    .CLASS 8
                           A    78    .TYPE 2
                           A    79    .ENDEF
                           A    80    .DEFINE "chr"
                           A    81    .VALUE 3
                           A    82    .CLASS 8
                           A    83    .TYPE 2
                           A    84    .ENDEF
                           A    85    .DEFINE "type"
                           A    86    .VALUE 4
                           A    87    .CLASS 8
                           A    88    .TYPE 2
                           A    89    .ENDEF
                           A    90    .DEFINE "field_width"
                           A    91    .VALUE 5
                           A    92    .CLASS 8
                           A    93    .TYPE 2
                           A    94    .ENDEF
                           A    95    .DEFINE "precision"
                           A    96    .VALUE 6
                           A    97    .CLASS 8
                           A    98    .TYPE 2
                           A    99    .ENDEF
                           A   100    .DEFINE "set_begin"
                           A   101    .VALUE 7
                           A   102    .CLASS 8
                           A   103    .TYPE 34
                           A   104    .ENDEF
                           A   105    .DEFINE "set_end"
                           A   106    .VALUE 10
                           A   107    .CLASS 8
                           A   108    .TYPE 34
                           A   109    .ENDEF
                           A   110    .DEFINE "pad_whole"
                           A   111    .VALUE 13
                           A   112    .CLASS 8
                           A   113    .TYPE 12
                           A   114    .ENDEF
                           A   115    .DEFINE "pad_pre_fract"
                           A   116    .VALUE 14
                           A   117    .CLASS 8
                           A   118    .TYPE 12
                           A   119    .ENDEF
                           A   120    .DEFINE "pad_post_fract"
                           A   121    .VALUE 15
                           A   122    .CLASS 8
                           A   123    .TYPE 12
                           A   124    .ENDEF
                           A   125    .DEFINE "pad_at"
                           A   126    .VALUE 16
                           A   127    .CLASS 8
                           A   128    .TYPE 34
                           A   129    .ENDEF
                           A   130    .ENDREC "fmt_type"
                           A   131    .BEGREC "flt_info",12
                           A   132    .DEFINE "flags"
                           A   133    .VALUE 0
                           A   134    .CLASS 8
                           A   135    .TYPE 12
                           A   136    .ENDEF
                           A   137    .DEFINE "exp"
                           A   138    .VALUE 1
                           A   139    .CLASS 8
                           A   140    .TYPE 2
                           A   141    .ENDEF
                           A   142    .DEFINE "digits"
                           A   143    .VALUE 2
                           A   144    .CLASS 8
                           A   145    .DIM 10
                           A   146    .TYPE 108
                           A   147    .ENDEF
                           A   148    .ENDREC "flt_info"
                           A   149    ;    1	#include "game.h"
                           A   150    ;    2	#include "sokobanprep.h"
                           A   151    ;    3	#include "vdp.h"
                           A   152    ;    4	#include <ctype.h>
                           A   153    ;    5	#include <stdio.h>
                           A   154    ;    6	#include <string.h>
                           A   155    ;    7	
                           A   156    ;    8	struct undoitem
                           A   157    ;    9	{
                           A   158    ;   10		UINT8 movekey;	// the key pressed 
                           A   159    ;   11		BOOL  pushed;	// an item was push
                           A   160    ;   12	};
                           A   161    .BEGREC "undoitem",2
                           A   162    .DEFINE "movekey"
                           A   163    .VALUE 0
                           A   164    .CLASS 8
                           A   165    .TYPE 12
                           A   166    .ENDEF
                           A   167    .DEFINE "pushed"
                           A   168    .VALUE 1
                           A   169    .CLASS 8
                           A   170    .TYPE 12
                           A   171    .ENDEF
                           A   172    .ENDREC "undoitem"
                           A   173    	SEGMENT BSS
044FB1                     A   174    _undomove:
044FB1                     A   175    	DS	2
                           A   176    .DEFINE "undomove"
                           A   177    .ALIAS "_undomove"
                           A   178    .CLASS 83
                           A   179    .VALUE _undomove
                           A   180    .TAG "undoitem"
                           A   181    .TYPE 8
                           A   182    .ENDEF
044FB3                     A   183    _num_undomoves:
044FB3                     A   184    	DS	1
                           A   185    .DEFINE "num_undomoves"
                           A   186    .ALIAS "_num_undomoves"
                           A   187    .CLASS 83
                           A   188    .VALUE _num_undomoves
                           A   189    .TYPE 12
                           A   190    .ENDEF
044FB4                     A   191    _bitmapbuffer:
044FB4                     A   192    	DS	1024
                           A   193    .DEFINE "bitmapbuffer"
                           A   194    .ALIAS "_bitmapbuffer"
                           A   195    .CLASS 83
                           A   196    .VALUE _bitmapbuffer
                           A   197    .DIM 256
                           A   198    .TYPE 111
                           A   199    .ENDEF
0453B4                     A   200    _sprites:
0453B4                     A   201    	DS	1200
                           A   202    .DEFINE "sprites"
                           A   203    .ALIAS "_sprites"
                           A   204    .CLASS 83
                           A   205    .VALUE _sprites
                           A   206    .DIM 30
                           A   207    .DIM 40
                           A   208    .TYPE 876
                           A   209    .ENDEF
045864                     A   210    _currentlevel:
045864                     A   211    	DS	1207
                           A   212    .DEFINE "currentlevel"
                           A   213    .ALIAS "_currentlevel"
                           A   214    .CLASS 83
                           A   215    .VALUE _currentlevel
                           A   216    .TAG "sokobanlevel"
                           A   217    .TYPE 8
                           A   218    .ENDEF
045D1B                     A   219    _spritenumber:
045D1B                     A   220    	DS	1
                           A   221    .DEFINE "spritenumber"
                           A   222    .ALIAS "_spritenumber"
                           A   223    .CLASS 83
                           A   224    .VALUE _spritenumber
                           A   225    .TYPE 12
                           A   226    .ENDEF
                           A   227    	SEGMENT DATA
043337                     A   228    _wall_data:
043337 808000FF            A   229    	DL	-16744320
04333B 808000FF            A   230    	DL	-16744320
04333F 808000FF            A   231    	DL	-16744320
043343 808000FF            A   232    	DL	-16744320
043347 808000FF            A   233    	DL	-16744320
04334B 808000FF            A   234    	DL	-16744320
04334F 808000FF            A   235    	DL	-16744320
043353 404040FF            A   236    	DL	-12566464
043357 808000FF            A   237    	DL	-16744320
04335B 808000FF            A   238    	DL	-16744320
04335F 808000FF            A   239    	DL	-16744320
043363 808000FF            A   240    	DL	-16744320
043367 808000FF            A   241    	DL	-16744320
04336B 808000FF            A   242    	DL	-16744320
04336F 808000FF            A   243    	DL	-16744320
043373 808000FF            A   244    	DL	-16744320
043377 800000FF            A   245    	DL	-16777088
04337B 800000FF            A   246    	DL	-16777088
04337F 800000FF            A   247    	DL	-16777088
043383 800000FF            A   248    	DL	-16777088
043387 800000FF            A   249    	DL	-16777088
04338B 800000FF            A   250    	DL	-16777088
04338F 808080FF            A   251    	DL	-8355712
043393 404040FF            A   252    	DL	-12566464
043397 808000FF            A   253    	DL	-16744320
04339B 800000FF            A   254    	DL	-16777088
04339F 800000FF            A   255    	DL	-16777088
0433A3 800000FF            A   256    	DL	-16777088
0433A7 800000FF            A   257    	DL	-16777088
0433AB 800000FF            A   258    	DL	-16777088
0433AF 800000FF            A   259    	DL	-16777088
0433B3 800000FF            A   260    	DL	-16777088
0433B7 800000FF            A   261    	DL	-16777088
0433BB 800000FF            A   262    	DL	-16777088
0433BF 800000FF            A   263    	DL	-16777088
0433C3 800000FF            A   264    	DL	-16777088
0433C7 800000FF            A   265    	DL	-16777088
0433CB 800000FF            A   266    	DL	-16777088
0433CF 808080FF            A   267    	DL	-8355712
0433D3 404040FF            A   268    	DL	-12566464
0433D7 808000FF            A   269    	DL	-16744320
0433DB 800000FF            A   270    	DL	-16777088
0433DF 808080FF            A   271    	DL	-8355712
0433E3 800000FF            A   272    	DL	-16777088
0433E7 800000FF            A   273    	DL	-16777088
0433EB 800000FF            A   274    	DL	-16777088
0433EF 800000FF            A   275    	DL	-16777088
0433F3 800000FF            A   276    	DL	-16777088
0433F7 800000FF            A   277    	DL	-16777088
0433FB 800000FF            A   278    	DL	-16777088
0433FF 808080FF            A   279    	DL	-8355712
043403 808080FF            A   280    	DL	-8355712
043407 800000FF            A   281    	DL	-16777088
04340B 800000FF            A   282    	DL	-16777088
04340F 808080FF            A   283    	DL	-8355712
043413 404040FF            A   284    	DL	-12566464
043417 808000FF            A   285    	DL	-16744320
04341B 800000FF            A   286    	DL	-16777088
04341F 800000FF            A   287    	DL	-16777088
043423 800000FF            A   288    	DL	-16777088
043427 800000FF            A   289    	DL	-16777088
04342B 800000FF            A   290    	DL	-16777088
04342F 800000FF            A   291    	DL	-16777088
043433 800000FF            A   292    	DL	-16777088
043437 800000FF            A   293    	DL	-16777088
04343B 800000FF            A   294    	DL	-16777088
04343F 800000FF            A   295    	DL	-16777088
043443 800000FF            A   296    	DL	-16777088
043447 800000FF            A   297    	DL	-16777088
04344B 800000FF            A   298    	DL	-16777088
04344F 808080FF            A   299    	DL	-8355712
043453 404040FF            A   300    	DL	-12566464
043457 808000FF            A   301    	DL	-16744320
04345B 800000FF            A   302    	DL	-16777088
04345F 800000FF            A   303    	DL	-16777088
043463 800000FF            A   304    	DL	-16777088
043467 800000FF            A   305    	DL	-16777088
04346B 800000FF            A   306    	DL	-16777088
04346F 800000FF            A   307    	DL	-16777088
043473 800000FF            A   308    	DL	-16777088
043477 800000FF            A   309    	DL	-16777088
04347B 800000FF            A   310    	DL	-16777088
04347F 800000FF            A   311    	DL	-16777088
043483 800000FF            A   312    	DL	-16777088
043487 800000FF            A   313    	DL	-16777088
04348B 800000FF            A   314    	DL	-16777088
04348F 808080FF            A   315    	DL	-8355712
043493 404040FF            A   316    	DL	-12566464
043497 808000FF            A   317    	DL	-16744320
04349B 800000FF            A   318    	DL	-16777088
04349F 800000FF            A   319    	DL	-16777088
0434A3 800000FF            A   320    	DL	-16777088
0434A7 800000FF            A   321    	DL	-16777088
0434AB 808080FF            A   322    	DL	-8355712
0434AF 808080FF            A   323    	DL	-8355712
0434B3 800000FF            A   324    	DL	-16777088
0434B7 808080FF            A   325    	DL	-8355712
0434BB 808080FF            A   326    	DL	-8355712
0434BF 808080FF            A   327    	DL	-8355712
0434C3 808080FF            A   328    	DL	-8355712
0434C7 808080FF            A   329    	DL	-8355712
0434CB 808080FF            A   330    	DL	-8355712
0434CF 808080FF            A   331    	DL	-8355712
0434D3 404040FF            A   332    	DL	-12566464
0434D7 808000FF            A   333    	DL	-16744320
0434DB 808080FF            A   334    	DL	-8355712
0434DF 808080FF            A   335    	DL	-8355712
0434E3 808080FF            A   336    	DL	-8355712
0434E7 808080FF            A   337    	DL	-8355712
0434EB 808080FF            A   338    	DL	-8355712
0434EF 808080FF            A   339    	DL	-8355712
0434F3 808080FF            A   340    	DL	-8355712
0434F7 404040FF            A   341    	DL	-12566464
0434FB 404040FF            A   342    	DL	-12566464
0434FF 404040FF            A   343    	DL	-12566464
043503 404040FF            A   344    	DL	-12566464
043507 404040FF            A   345    	DL	-12566464
04350B 404040FF            A   346    	DL	-12566464
04350F 404040FF            A   347    	DL	-12566464
043513 404040FF            A   348    	DL	-12566464
043517 404040FF            A   349    	DL	-12566464
04351B 404040FF            A   350    	DL	-12566464
04351F 404040FF            A   351    	DL	-12566464
043523 404040FF            A   352    	DL	-12566464
043527 404040FF            A   353    	DL	-12566464
04352B 404040FF            A   354    	DL	-12566464
04352F 404040FF            A   355    	DL	-12566464
043533 404040FF            A   356    	DL	-12566464
043537 404040FF            A   357    	DL	-12566464
04353B 808000FF            A   358    	DL	-16744320
04353F 808000FF            A   359    	DL	-16744320
043543 808000FF            A   360    	DL	-16744320
043547 808000FF            A   361    	DL	-16744320
04354B 808000FF            A   362    	DL	-16744320
04354F 808000FF            A   363    	DL	-16744320
043553 808000FF            A   364    	DL	-16744320
043557 808000FF            A   365    	DL	-16744320
04355B 808000FF            A   366    	DL	-16744320
04355F 808000FF            A   367    	DL	-16744320
043563 808000FF            A   368    	DL	-16744320
043567 808000FF            A   369    	DL	-16744320
04356B 808000FF            A   370    	DL	-16744320
04356F 808000FF            A   371    	DL	-16744320
043573 808000FF            A   372    	DL	-16744320
043577 404040FF            A   373    	DL	-12566464
04357B 808000FF            A   374    	DL	-16744320
04357F 808000FF            A   375    	DL	-16744320
043583 800000FF            A   376    	DL	-16777088
043587 808080FF            A   377    	DL	-8355712
04358B 808080FF            A   378    	DL	-8355712
04358F 800000FF            A   379    	DL	-16777088
043593 800000FF            A   380    	DL	-16777088
043597 800000FF            A   381    	DL	-16777088
04359B 800000FF            A   382    	DL	-16777088
04359F 800000FF            A   383    	DL	-16777088
0435A3 800000FF            A   384    	DL	-16777088
0435A7 800000FF            A   385    	DL	-16777088
0435AB 800000FF            A   386    	DL	-16777088
0435AF 800000FF            A   387    	DL	-16777088
0435B3 808080FF            A   388    	DL	-8355712
0435B7 404040FF            A   389    	DL	-12566464
0435BB 808000FF            A   390    	DL	-16744320
0435BF 800000FF            A   391    	DL	-16777088
0435C3 800000FF            A   392    	DL	-16777088
0435C7 800000FF            A   393    	DL	-16777088
0435CB 800000FF            A   394    	DL	-16777088
0435CF 800000FF            A   395    	DL	-16777088
0435D3 800000FF            A   396    	DL	-16777088
0435D7 800000FF            A   397    	DL	-16777088
0435DB 800000FF            A   398    	DL	-16777088
0435DF 800000FF            A   399    	DL	-16777088
0435E3 800000FF            A   400    	DL	-16777088
0435E7 800000FF            A   401    	DL	-16777088
0435EB 800000FF            A   402    	DL	-16777088
0435EF 800000FF            A   403    	DL	-16777088
0435F3 808080FF            A   404    	DL	-8355712
0435F7 404040FF            A   405    	DL	-12566464
0435FB 808000FF            A   406    	DL	-16744320
0435FF 800000FF            A   407    	DL	-16777088
043603 800000FF            A   408    	DL	-16777088
043607 800000FF            A   409    	DL	-16777088
04360B 800000FF            A   410    	DL	-16777088
04360F 808080FF            A   411    	DL	-8355712
043613 808080FF            A   412    	DL	-8355712
043617 800000FF            A   413    	DL	-16777088
04361B 800000FF            A   414    	DL	-16777088
04361F 800000FF            A   415    	DL	-16777088
043623 800000FF            A   416    	DL	-16777088
043627 800000FF            A   417    	DL	-16777088
04362B 800000FF            A   418    	DL	-16777088
04362F 800000FF            A   419    	DL	-16777088
043633 808080FF            A   420    	DL	-8355712
043637 404040FF            A   421    	DL	-12566464
04363B 808000FF            A   422    	DL	-16744320
04363F 800000FF            A   423    	DL	-16777088
043643 800000FF            A   424    	DL	-16777088
043647 800000FF            A   425    	DL	-16777088
04364B 800000FF            A   426    	DL	-16777088
04364F 800000FF            A   427    	DL	-16777088
043653 800000FF            A   428    	DL	-16777088
043657 800000FF            A   429    	DL	-16777088
04365B 800000FF            A   430    	DL	-16777088
04365F 800000FF            A   431    	DL	-16777088
043663 800000FF            A   432    	DL	-16777088
043667 800000FF            A   433    	DL	-16777088
04366B 808080FF            A   434    	DL	-8355712
04366F 800000FF            A   435    	DL	-16777088
043673 808080FF            A   436    	DL	-8355712
043677 404040FF            A   437    	DL	-12566464
04367B 808000FF            A   438    	DL	-16744320
04367F 800000FF            A   439    	DL	-16777088
043683 800000FF            A   440    	DL	-16777088
043687 800000FF            A   441    	DL	-16777088
04368B 800000FF            A   442    	DL	-16777088
04368F 800000FF            A   443    	DL	-16777088
043693 800000FF            A   444    	DL	-16777088
043697 800000FF            A   445    	DL	-16777088
04369B 800000FF            A   446    	DL	-16777088
04369F 800000FF            A   447    	DL	-16777088
0436A3 800000FF            A   448    	DL	-16777088
0436A7 800000FF            A   449    	DL	-16777088
0436AB 800000FF            A   450    	DL	-16777088
0436AF 800000FF            A   451    	DL	-16777088
0436B3 808080FF            A   452    	DL	-8355712
0436B7 404040FF            A   453    	DL	-12566464
0436BB 808000FF            A   454    	DL	-16744320
0436BF 808080FF            A   455    	DL	-8355712
0436C3 808080FF            A   456    	DL	-8355712
0436C7 808080FF            A   457    	DL	-8355712
0436CB 808080FF            A   458    	DL	-8355712
0436CF 808080FF            A   459    	DL	-8355712
0436D3 808080FF            A   460    	DL	-8355712
0436D7 808080FF            A   461    	DL	-8355712
0436DB 808080FF            A   462    	DL	-8355712
0436DF 808080FF            A   463    	DL	-8355712
0436E3 808080FF            A   464    	DL	-8355712
0436E7 808080FF            A   465    	DL	-8355712
0436EB 808080FF            A   466    	DL	-8355712
0436EF 808080FF            A   467    	DL	-8355712
0436F3 808080FF            A   468    	DL	-8355712
0436F7 404040FF            A   469    	DL	-12566464
0436FB 404040FF            A   470    	DL	-12566464
0436FF 404040FF            A   471    	DL	-12566464
043703 404040FF            A   472    	DL	-12566464
043707 404040FF            A   473    	DL	-12566464
04370B 404040FF            A   474    	DL	-12566464
04370F 404040FF            A   475    	DL	-12566464
043713 404040FF            A   476    	DL	-12566464
043717 404040FF            A   477    	DL	-12566464
04371B 404040FF            A   478    	DL	-12566464
04371F 404040FF            A   479    	DL	-12566464
043723 404040FF            A   480    	DL	-12566464
043727 404040FF            A   481    	DL	-12566464
04372B 404040FF            A   482    	DL	-12566464
04372F 404040FF            A   483    	DL	-12566464
043733 404040FF            A   484    	DL	-12566464
                           A   485    .DEFINE "wall_data"
                           A   486    .ALIAS "_wall_data"
                           A   487    .CLASS 69
                           A   488    .VALUE _wall_data
                           A   489    .DIM 1
                           A   490    .DIM 256
                           A   491    .TYPE 879
                           A   492    .ENDEF
043737                     A   493    _player_data:
043737 00000000            A   494    	DL	0
04373B 00000000            A   495    	DL	0
04373F 00000000            A   496    	DL	0
043743 00000000            A   497    	DL	0
043747 00000000            A   498    	DL	0
04374B 000000FF            A   499    	DL	-16777216
04374F 000000FF            A   500    	DL	-16777216
043753 000000FF            A   501    	DL	-16777216
043757 000000FF            A   502    	DL	-16777216
04375B 404040FF            A   503    	DL	-12566464
04375F 00000000            A   504    	DL	0
043763 00000000            A   505    	DL	0
043767 00000000            A   506    	DL	0
04376B 00000000            A   507    	DL	0
04376F 00000000            A   508    	DL	0
043773 00000000            A   509    	DL	0
043777 00000000            A   510    	DL	0
04377B 00000000            A   511    	DL	0
04377F 00000000            A   512    	DL	0
043783 00000000            A   513    	DL	0
043787 000000FF            A   514    	DL	-16777216
04378B 000000FF            A   515    	DL	-16777216
04378F 000000FF            A   516    	DL	-16777216
043793 000000FF            A   517    	DL	-16777216
043797 000000FF            A   518    	DL	-16777216
04379B 000000FF            A   519    	DL	-16777216
04379F 000000FF            A   520    	DL	-16777216
0437A3 00000000            A   521    	DL	0
0437A7 00000000            A   522    	DL	0
0437AB 00000000            A   523    	DL	0
0437AF 00000000            A   524    	DL	0
0437B3 00000000            A   525    	DL	0
0437B7 00000000            A   526    	DL	0
0437BB 00000000            A   527    	DL	0
0437BF 00000000            A   528    	DL	0
0437C3 404040FF            A   529    	DL	-12566464
0437C7 000000FF            A   530    	DL	-16777216
0437CB 404040FF            A   531    	DL	-12566464
0437CF 808000FF            A   532    	DL	-16744320
0437D3 808000FF            A   533    	DL	-16744320
0437D7 808000FF            A   534    	DL	-16744320
0437DB 404040FF            A   535    	DL	-12566464
0437DF 000000FF            A   536    	DL	-16777216
0437E3 404040FF            A   537    	DL	-12566464
0437E7 00000000            A   538    	DL	0
0437EB 00000000            A   539    	DL	0
0437EF 00000000            A   540    	DL	0
0437F3 00000000            A   541    	DL	0
0437F7 00000000            A   542    	DL	0
0437FB 00000000            A   543    	DL	0
0437FF 00000000            A   544    	DL	0
043803 000000FF            A   545    	DL	-16777216
043807 404040FF            A   546    	DL	-12566464
04380B 808000FF            A   547    	DL	-16744320
04380F 808000FF            A   548    	DL	-16744320
043813 808000FF            A   549    	DL	-16744320
043817 808000FF            A   550    	DL	-16744320
04381B 808000FF            A   551    	DL	-16744320
04381F 404040FF            A   552    	DL	-12566464
043823 000000FF            A   553    	DL	-16777216
043827 00000000            A   554    	DL	0
04382B 00000000            A   555    	DL	0
04382F 00000000            A   556    	DL	0
043833 00000000            A   557    	DL	0
043837 00000000            A   558    	DL	0
04383B 00000000            A   559    	DL	0
04383F 00000000            A   560    	DL	0
043843 404040FF            A   561    	DL	-12566464
043847 808080FF            A   562    	DL	-8355712
04384B 000000FF            A   563    	DL	-16777216
04384F 000000FF            A   564    	DL	-16777216
043853 808000FF            A   565    	DL	-16744320
043857 000000FF            A   566    	DL	-16777216
04385B 000000FF            A   567    	DL	-16777216
04385F 808080FF            A   568    	DL	-8355712
043863 404040FF            A   569    	DL	-12566464
043867 00000000            A   570    	DL	0
04386B 00000000            A   571    	DL	0
04386F 00000000            A   572    	DL	0
043873 00000000            A   573    	DL	0
043877 00000000            A   574    	DL	0
04387B 00000000            A   575    	DL	0
04387F 00000000            A   576    	DL	0
043883 00000000            A   577    	DL	0
043887 000000FF            A   578    	DL	-16777216
04388B 808000FF            A   579    	DL	-16744320
04388F 808000FF            A   580    	DL	-16744320
043893 808000FF            A   581    	DL	-16744320
043897 808000FF            A   582    	DL	-16744320
04389B 808000FF            A   583    	DL	-16744320
04389F 000000FF            A   584    	DL	-16777216
0438A3 00000000            A   585    	DL	0
0438A7 00000000            A   586    	DL	0
0438AB 00000000            A   587    	DL	0
0438AF 00000000            A   588    	DL	0
0438B3 00000000            A   589    	DL	0
0438B7 00000000            A   590    	DL	0
0438BB 00000000            A   591    	DL	0
0438BF 00000000            A   592    	DL	0
0438C3 00000000            A   593    	DL	0
0438C7 00000000            A   594    	DL	0
0438CB 000000FF            A   595    	DL	-16777216
0438CF 808080FF            A   596    	DL	-8355712
0438D3 808080FF            A   597    	DL	-8355712
0438D7 808080FF            A   598    	DL	-8355712
0438DB 000000FF            A   599    	DL	-16777216
0438DF 00000000            A   600    	DL	0
0438E3 00000000            A   601    	DL	0
0438E7 00000000            A   602    	DL	0
0438EB 00000000            A   603    	DL	0
0438EF 00000000            A   604    	DL	0
0438F3 00000000            A   605    	DL	0
0438F7 00000000            A   606    	DL	0
0438FB 00000000            A   607    	DL	0
0438FF 00000000            A   608    	DL	0
043903 00000000            A   609    	DL	0
043907 000000FF            A   610    	DL	-16777216
04390B 800000FF            A   611    	DL	-16777088
04390F 000000FF            A   612    	DL	-16777216
043913 000000FF            A   613    	DL	-16777216
043917 000000FF            A   614    	DL	-16777216
04391B 800000FF            A   615    	DL	-16777088
04391F 000000FF            A   616    	DL	-16777216
043923 00000000            A   617    	DL	0
043927 00000000            A   618    	DL	0
04392B 00000000            A   619    	DL	0
04392F 00000000            A   620    	DL	0
043933 00000000            A   621    	DL	0
043937 00000000            A   622    	DL	0
04393B 00000000            A   623    	DL	0
04393F 00000000            A   624    	DL	0
043943 000000FF            A   625    	DL	-16777216
043947 800000FF            A   626    	DL	-16777088
04394B FF0000FF            A   627    	DL	-16776961
04394F FF0000FF            A   628    	DL	-16776961
043953 FF0000FF            A   629    	DL	-16776961
043957 FF0000FF            A   630    	DL	-16776961
04395B FF0000FF            A   631    	DL	-16776961
04395F 800000FF            A   632    	DL	-16777088
043963 000000FF            A   633    	DL	-16777216
043967 00000000            A   634    	DL	0
04396B 00000000            A   635    	DL	0
04396F 00000000            A   636    	DL	0
043973 00000000            A   637    	DL	0
043977 00000000            A   638    	DL	0
04397B 00000000            A   639    	DL	0
04397F 000000FF            A   640    	DL	-16777216
043983 FF0000FF            A   641    	DL	-16776961
043987 FF0000FF            A   642    	DL	-16776961
04398B FF0000FF            A   643    	DL	-16776961
04398F FF0000FF            A   644    	DL	-16776961
043993 FF0000FF            A   645    	DL	-16776961
043997 FF0000FF            A   646    	DL	-16776961
04399B FF0000FF            A   647    	DL	-16776961
04399F FF0000FF            A   648    	DL	-16776961
0439A3 FF0000FF            A   649    	DL	-16776961
0439A7 000000FF            A   650    	DL	-16777216
0439AB 00000000            A   651    	DL	0
0439AF 00000000            A   652    	DL	0
0439B3 00000000            A   653    	DL	0
0439B7 00000000            A   654    	DL	0
0439BB 00000000            A   655    	DL	0
0439BF 404040FF            A   656    	DL	-12566464
0439C3 800000FF            A   657    	DL	-16777088
0439C7 FF0000FF            A   658    	DL	-16776961
0439CB 800000FF            A   659    	DL	-16777088
0439CF FF0000FF            A   660    	DL	-16776961
0439D3 FF0000FF            A   661    	DL	-16776961
0439D7 FF0000FF            A   662    	DL	-16776961
0439DB 800000FF            A   663    	DL	-16777088
0439DF FF0000FF            A   664    	DL	-16776961
0439E3 800000FF            A   665    	DL	-16777088
0439E7 404040FF            A   666    	DL	-12566464
0439EB 00000000            A   667    	DL	0
0439EF 00000000            A   668    	DL	0
0439F3 00000000            A   669    	DL	0
0439F7 00000000            A   670    	DL	0
0439FB 000000FF            A   671    	DL	-16777216
0439FF 808000FF            A   672    	DL	-16744320
043A03 808000FF            A   673    	DL	-16744320
043A07 800000FF            A   674    	DL	-16777088
043A0B 800000FF            A   675    	DL	-16777088
043A0F FF0000FF            A   676    	DL	-16776961
043A13 FF0000FF            A   677    	DL	-16776961
043A17 FF0000FF            A   678    	DL	-16776961
043A1B 800000FF            A   679    	DL	-16777088
043A1F 800000FF            A   680    	DL	-16777088
043A23 808000FF            A   681    	DL	-16744320
043A27 808000FF            A   682    	DL	-16744320
043A2B 000000FF            A   683    	DL	-16777216
043A2F 00000000            A   684    	DL	0
043A33 00000000            A   685    	DL	0
043A37 00000000            A   686    	DL	0
043A3B 000000FF            A   687    	DL	-16777216
043A3F 808000FF            A   688    	DL	-16744320
043A43 808000FF            A   689    	DL	-16744320
043A47 000000FF            A   690    	DL	-16777216
043A4B 000080FF            A   691    	DL	-8388608
043A4F 000080FF            A   692    	DL	-8388608
043A53 000080FF            A   693    	DL	-8388608
043A57 000080FF            A   694    	DL	-8388608
043A5B 000080FF            A   695    	DL	-8388608
043A5F 000000FF            A   696    	DL	-16777216
043A63 808000FF            A   697    	DL	-16744320
043A67 808000FF            A   698    	DL	-16744320
043A6B 000000FF            A   699    	DL	-16777216
043A6F 00000000            A   700    	DL	0
043A73 00000000            A   701    	DL	0
043A77 00000000            A   702    	DL	0
043A7B 00000000            A   703    	DL	0
043A7F 000000FF            A   704    	DL	-16777216
043A83 000000FF            A   705    	DL	-16777216
043A87 000080FF            A   706    	DL	-8388608
043A8B 0000FFFF            A   707    	DL	-65536
043A8F 0000FFFF            A   708    	DL	-65536
043A93 0000FFFF            A   709    	DL	-65536
043A97 0000FFFF            A   710    	DL	-65536
043A9B 0000FFFF            A   711    	DL	-65536
043A9F 000080FF            A   712    	DL	-8388608
043AA3 000000FF            A   713    	DL	-16777216
043AA7 000000FF            A   714    	DL	-16777216
043AAB 00000000            A   715    	DL	0
043AAF 00000000            A   716    	DL	0
043AB3 00000000            A   717    	DL	0
043AB7 00000000            A   718    	DL	0
043ABB 00000000            A   719    	DL	0
043ABF 00000000            A   720    	DL	0
043AC3 000000FF            A   721    	DL	-16777216
043AC7 000080FF            A   722    	DL	-8388608
043ACB 0000FFFF            A   723    	DL	-65536
043ACF 0000FFFF            A   724    	DL	-65536
043AD3 000080FF            A   725    	DL	-8388608
043AD7 0000FFFF            A   726    	DL	-65536
043ADB 0000FFFF            A   727    	DL	-65536
043ADF 000080FF            A   728    	DL	-8388608
043AE3 000000FF            A   729    	DL	-16777216
043AE7 00000000            A   730    	DL	0
043AEB 00000000            A   731    	DL	0
043AEF 00000000            A   732    	DL	0
043AF3 00000000            A   733    	DL	0
043AF7 00000000            A   734    	DL	0
043AFB 00000000            A   735    	DL	0
043AFF 00000000            A   736    	DL	0
043B03 000000FF            A   737    	DL	-16777216
043B07 0000FFFF            A   738    	DL	-65536
043B0B 0000FFFF            A   739    	DL	-65536
043B0F 000080FF            A   740    	DL	-8388608
043B13 000000FF            A   741    	DL	-16777216
043B17 0000FFFF            A   742    	DL	-65536
043B1B 0000FFFF            A   743    	DL	-65536
043B1F 0000FFFF            A   744    	DL	-65536
043B23 000000FF            A   745    	DL	-16777216
043B27 00000000            A   746    	DL	0
043B2B 00000000            A   747    	DL	0
043B2F 00000000            A   748    	DL	0
043B33 00000000            A   749    	DL	0
                           A   750    .DEFINE "player_data"
                           A   751    .ALIAS "_player_data"
                           A   752    .CLASS 69
                           A   753    .VALUE _player_data
                           A   754    .DIM 1
                           A   755    .DIM 256
                           A   756    .TYPE 879
                           A   757    .ENDEF
043B37                     A   758    _goal_data:
043B37 00000000            A   759    	DL	0
043B3B 00000000            A   760    	DL	0
043B3F 00000000            A   761    	DL	0
043B43 00000000            A   762    	DL	0
043B47 00000000            A   763    	DL	0
043B4B 00000000            A   764    	DL	0
043B4F 00000000            A   765    	DL	0
043B53 00000000            A   766    	DL	0
043B57 00000000            A   767    	DL	0
043B5B 00000000            A   768    	DL	0
043B5F 00000000            A   769    	DL	0
043B63 00000000            A   770    	DL	0
043B67 00000000            A   771    	DL	0
043B6B 00000000            A   772    	DL	0
043B6F 00000000            A   773    	DL	0
043B73 00000000            A   774    	DL	0
043B77 00000000            A   775    	DL	0
043B7B 00000000            A   776    	DL	0
043B7F 00000000            A   777    	DL	0
043B83 00000000            A   778    	DL	0
043B87 00000000            A   779    	DL	0
043B8B 00000000            A   780    	DL	0
043B8F 00000000            A   781    	DL	0
043B93 00000000            A   782    	DL	0
043B97 00000000            A   783    	DL	0
043B9B 00000000            A   784    	DL	0
043B9F 00000000            A   785    	DL	0
043BA3 00000000            A   786    	DL	0
043BA7 00000000            A   787    	DL	0
043BAB 00000000            A   788    	DL	0
043BAF 00000000            A   789    	DL	0
043BB3 00000000            A   790    	DL	0
043BB7 00000000            A   791    	DL	0
043BBB 00000000            A   792    	DL	0
043BBF 00000000            A   793    	DL	0
043BC3 00000000            A   794    	DL	0
043BC7 00000000            A   795    	DL	0
043BCB 00000000            A   796    	DL	0
043BCF 00000000            A   797    	DL	0
043BD3 00000000            A   798    	DL	0
043BD7 00000000            A   799    	DL	0
043BDB 00000000            A   800    	DL	0
043BDF 00000000            A   801    	DL	0
043BE3 00000000            A   802    	DL	0
043BE7 00000000            A   803    	DL	0
043BEB 00000000            A   804    	DL	0
043BEF 00000000            A   805    	DL	0
043BF3 00000000            A   806    	DL	0
043BF7 00000000            A   807    	DL	0
043BFB 00000000            A   808    	DL	0
043BFF 00000000            A   809    	DL	0
043C03 00000000            A   810    	DL	0
043C07 00000000            A   811    	DL	0
043C0B 00000000            A   812    	DL	0
043C0F 008000FF            A   813    	DL	-16744448
043C13 00000000            A   814    	DL	0
043C17 00000000            A   815    	DL	0
043C1B 008000FF            A   816    	DL	-16744448
043C1F 00000000            A   817    	DL	0
043C23 00000000            A   818    	DL	0
043C27 00000000            A   819    	DL	0
043C2B 00000000            A   820    	DL	0
043C2F 00000000            A   821    	DL	0
043C33 00000000            A   822    	DL	0
043C37 00000000            A   823    	DL	0
043C3B 00000000            A   824    	DL	0
043C3F 00000000            A   825    	DL	0
043C43 00000000            A   826    	DL	0
043C47 00000000            A   827    	DL	0
043C4B 00000000            A   828    	DL	0
043C4F 00000000            A   829    	DL	0
043C53 008000FF            A   830    	DL	-16744448
043C57 008000FF            A   831    	DL	-16744448
043C5B 00000000            A   832    	DL	0
043C5F 00000000            A   833    	DL	0
043C63 00000000            A   834    	DL	0
043C67 00000000            A   835    	DL	0
043C6B 00000000            A   836    	DL	0
043C6F 00000000            A   837    	DL	0
043C73 00000000            A   838    	DL	0
043C77 00000000            A   839    	DL	0
043C7B 00000000            A   840    	DL	0
043C7F 00000000            A   841    	DL	0
043C83 00000000            A   842    	DL	0
043C87 00000000            A   843    	DL	0
043C8B 00000000            A   844    	DL	0
043C8F 00000000            A   845    	DL	0
043C93 00000000            A   846    	DL	0
043C97 00000000            A   847    	DL	0
043C9B 00000000            A   848    	DL	0
043C9F 00000000            A   849    	DL	0
043CA3 00000000            A   850    	DL	0
043CA7 00000000            A   851    	DL	0
043CAB 00000000            A   852    	DL	0
043CAF 00000000            A   853    	DL	0
043CB3 00000000            A   854    	DL	0
043CB7 00000000            A   855    	DL	0
043CBB 00000000            A   856    	DL	0
043CBF 00000000            A   857    	DL	0
043CC3 008000FF            A   858    	DL	-16744448
043CC7 00000000            A   859    	DL	0
043CCB 00000000            A   860    	DL	0
043CCF 00000000            A   861    	DL	0
043CD3 00000000            A   862    	DL	0
043CD7 00000000            A   863    	DL	0
043CDB 00000000            A   864    	DL	0
043CDF 00000000            A   865    	DL	0
043CE3 00000000            A   866    	DL	0
043CE7 008000FF            A   867    	DL	-16744448
043CEB 00000000            A   868    	DL	0
043CEF 00000000            A   869    	DL	0
043CF3 00000000            A   870    	DL	0
043CF7 00000000            A   871    	DL	0
043CFB 00000000            A   872    	DL	0
043CFF 00000000            A   873    	DL	0
043D03 00000000            A   874    	DL	0
043D07 008000FF            A   875    	DL	-16744448
043D0B 00000000            A   876    	DL	0
043D0F 00000000            A   877    	DL	0
043D13 00FF00FF            A   878    	DL	-16711936
043D17 00FF00FF            A   879    	DL	-16711936
043D1B 00000000            A   880    	DL	0
043D1F 00000000            A   881    	DL	0
043D23 008000FF            A   882    	DL	-16744448
043D27 00000000            A   883    	DL	0
043D2B 00000000            A   884    	DL	0
043D2F 00000000            A   885    	DL	0
043D33 00000000            A   886    	DL	0
043D37 00000000            A   887    	DL	0
043D3B 00000000            A   888    	DL	0
043D3F 00000000            A   889    	DL	0
043D43 00000000            A   890    	DL	0
043D47 008000FF            A   891    	DL	-16744448
043D4B 00000000            A   892    	DL	0
043D4F 00000000            A   893    	DL	0
043D53 00FF00FF            A   894    	DL	-16711936
043D57 00FF00FF            A   895    	DL	-16711936
043D5B 00000000            A   896    	DL	0
043D5F 00000000            A   897    	DL	0
043D63 008000FF            A   898    	DL	-16744448
043D67 00000000            A   899    	DL	0
043D6B 00000000            A   900    	DL	0
043D6F 00000000            A   901    	DL	0
043D73 00000000            A   902    	DL	0
043D77 00000000            A   903    	DL	0
043D7B 00000000            A   904    	DL	0
043D7F 00000000            A   905    	DL	0
043D83 008000FF            A   906    	DL	-16744448
043D87 00000000            A   907    	DL	0
043D8B 00000000            A   908    	DL	0
043D8F 00000000            A   909    	DL	0
043D93 00000000            A   910    	DL	0
043D97 00000000            A   911    	DL	0
043D9B 00000000            A   912    	DL	0
043D9F 00000000            A   913    	DL	0
043DA3 00000000            A   914    	DL	0
043DA7 008000FF            A   915    	DL	-16744448
043DAB 00000000            A   916    	DL	0
043DAF 00000000            A   917    	DL	0
043DB3 00000000            A   918    	DL	0
043DB7 00000000            A   919    	DL	0
043DBB 00000000            A   920    	DL	0
043DBF 00000000            A   921    	DL	0
043DC3 00000000            A   922    	DL	0
043DC7 00000000            A   923    	DL	0
043DCB 00000000            A   924    	DL	0
043DCF 00000000            A   925    	DL	0
043DD3 00000000            A   926    	DL	0
043DD7 00000000            A   927    	DL	0
043DDB 00000000            A   928    	DL	0
043DDF 00000000            A   929    	DL	0
043DE3 00000000            A   930    	DL	0
043DE7 00000000            A   931    	DL	0
043DEB 00000000            A   932    	DL	0
043DEF 00000000            A   933    	DL	0
043DF3 00000000            A   934    	DL	0
043DF7 00000000            A   935    	DL	0
043DFB 00000000            A   936    	DL	0
043DFF 00000000            A   937    	DL	0
043E03 00000000            A   938    	DL	0
043E07 00000000            A   939    	DL	0
043E0B 00000000            A   940    	DL	0
043E0F 00000000            A   941    	DL	0
043E13 008000FF            A   942    	DL	-16744448
043E17 008000FF            A   943    	DL	-16744448
043E1B 00000000            A   944    	DL	0
043E1F 00000000            A   945    	DL	0
043E23 00000000            A   946    	DL	0
043E27 00000000            A   947    	DL	0
043E2B 00000000            A   948    	DL	0
043E2F 00000000            A   949    	DL	0
043E33 00000000            A   950    	DL	0
043E37 00000000            A   951    	DL	0
043E3B 00000000            A   952    	DL	0
043E3F 00000000            A   953    	DL	0
043E43 00000000            A   954    	DL	0
043E47 00000000            A   955    	DL	0
043E4B 00000000            A   956    	DL	0
043E4F 008000FF            A   957    	DL	-16744448
043E53 00000000            A   958    	DL	0
043E57 00000000            A   959    	DL	0
043E5B 008000FF            A   960    	DL	-16744448
043E5F 00000000            A   961    	DL	0
043E63 00000000            A   962    	DL	0
043E67 00000000            A   963    	DL	0
043E6B 00000000            A   964    	DL	0
043E6F 00000000            A   965    	DL	0
043E73 00000000            A   966    	DL	0
043E77 00000000            A   967    	DL	0
043E7B 00000000            A   968    	DL	0
043E7F 00000000            A   969    	DL	0
043E83 00000000            A   970    	DL	0
043E87 00000000            A   971    	DL	0
043E8B 00000000            A   972    	DL	0
043E8F 00000000            A   973    	DL	0
043E93 00000000            A   974    	DL	0
043E97 00000000            A   975    	DL	0
043E9B 00000000            A   976    	DL	0
043E9F 00000000            A   977    	DL	0
043EA3 00000000            A   978    	DL	0
043EA7 00000000            A   979    	DL	0
043EAB 00000000            A   980    	DL	0
043EAF 00000000            A   981    	DL	0
043EB3 00000000            A   982    	DL	0
043EB7 00000000            A   983    	DL	0
043EBB 00000000            A   984    	DL	0
043EBF 00000000            A   985    	DL	0
043EC3 00000000            A   986    	DL	0
043EC7 00000000            A   987    	DL	0
043ECB 00000000            A   988    	DL	0
043ECF 00000000            A   989    	DL	0
043ED3 00000000            A   990    	DL	0
043ED7 00000000            A   991    	DL	0
043EDB 00000000            A   992    	DL	0
043EDF 00000000            A   993    	DL	0
043EE3 00000000            A   994    	DL	0
043EE7 00000000            A   995    	DL	0
043EEB 00000000            A   996    	DL	0
043EEF 00000000            A   997    	DL	0
043EF3 00000000            A   998    	DL	0
043EF7 00000000            A   999    	DL	0
043EFB 00000000            A  1000    	DL	0
043EFF 00000000            A  1001    	DL	0
043F03 00000000            A  1002    	DL	0
043F07 00000000            A  1003    	DL	0
043F0B 00000000            A  1004    	DL	0
043F0F 00000000            A  1005    	DL	0
043F13 00000000            A  1006    	DL	0
043F17 00000000            A  1007    	DL	0
043F1B 00000000            A  1008    	DL	0
043F1F 00000000            A  1009    	DL	0
043F23 00000000            A  1010    	DL	0
043F27 00000000            A  1011    	DL	0
043F2B 00000000            A  1012    	DL	0
043F2F 00000000            A  1013    	DL	0
043F33 00000000            A  1014    	DL	0
                           A  1015    .DEFINE "goal_data"
                           A  1016    .ALIAS "_goal_data"
                           A  1017    .CLASS 69
                           A  1018    .VALUE _goal_data
                           A  1019    .DIM 1
                           A  1020    .DIM 256
                           A  1021    .TYPE 879
                           A  1022    .ENDEF
043F37                     A  1023    _box_data:
043F37 FFFF00FF            A  1024    	DL	-16711681
043F3B FFFF00FF            A  1025    	DL	-16711681
043F3F FFFF00FF            A  1026    	DL	-16711681
043F43 FFFF00FF            A  1027    	DL	-16711681
043F47 FFFF00FF            A  1028    	DL	-16711681
043F4B FFFF00FF            A  1029    	DL	-16711681
043F4F FFFF00FF            A  1030    	DL	-16711681
043F53 FFFF00FF            A  1031    	DL	-16711681
043F57 FFFF00FF            A  1032    	DL	-16711681
043F5B FFFF00FF            A  1033    	DL	-16711681
043F5F FFFF00FF            A  1034    	DL	-16711681
043F63 FFFF00FF            A  1035    	DL	-16711681
043F67 FFFF00FF            A  1036    	DL	-16711681
043F6B FFFF00FF            A  1037    	DL	-16711681
043F6F FFFF00FF            A  1038    	DL	-16711681
043F73 FFFF00FF            A  1039    	DL	-16711681
043F77 FFFF00FF            A  1040    	DL	-16711681
043F7B 808000FF            A  1041    	DL	-16744320
043F7F 808000FF            A  1042    	DL	-16744320
043F83 808000FF            A  1043    	DL	-16744320
043F87 808000FF            A  1044    	DL	-16744320
043F8B 808000FF            A  1045    	DL	-16744320
043F8F 808000FF            A  1046    	DL	-16744320
043F93 808000FF            A  1047    	DL	-16744320
043F97 808000FF            A  1048    	DL	-16744320
043F9B 808000FF            A  1049    	DL	-16744320
043F9F 808000FF            A  1050    	DL	-16744320
043FA3 808000FF            A  1051    	DL	-16744320
043FA7 808000FF            A  1052    	DL	-16744320
043FAB 808000FF            A  1053    	DL	-16744320
043FAF FFFF00FF            A  1054    	DL	-16711681
043FB3 808000FF            A  1055    	DL	-16744320
043FB7 FFFF00FF            A  1056    	DL	-16711681
043FBB 808000FF            A  1057    	DL	-16744320
043FBF 000000FF            A  1058    	DL	-16777216
043FC3 000000FF            A  1059    	DL	-16777216
043FC7 000000FF            A  1060    	DL	-16777216
043FCB 000000FF            A  1061    	DL	-16777216
043FCF 000000FF            A  1062    	DL	-16777216
043FD3 000000FF            A  1063    	DL	-16777216
043FD7 000000FF            A  1064    	DL	-16777216
043FDB 000000FF            A  1065    	DL	-16777216
043FDF 000000FF            A  1066    	DL	-16777216
043FE3 000000FF            A  1067    	DL	-16777216
043FE7 000000FF            A  1068    	DL	-16777216
043FEB 000000FF            A  1069    	DL	-16777216
043FEF FFFF00FF            A  1070    	DL	-16711681
043FF3 808000FF            A  1071    	DL	-16744320
043FF7 FFFF00FF            A  1072    	DL	-16711681
043FFB 808000FF            A  1073    	DL	-16744320
043FFF 000000FF            A  1074    	DL	-16777216
044003 808000FF            A  1075    	DL	-16744320
044007 808000FF            A  1076    	DL	-16744320
04400B 000000FF            A  1077    	DL	-16777216
04400F 808000FF            A  1078    	DL	-16744320
044013 808000FF            A  1079    	DL	-16744320
044017 808000FF            A  1080    	DL	-16744320
04401B 808000FF            A  1081    	DL	-16744320
04401F 000000FF            A  1082    	DL	-16777216
044023 808000FF            A  1083    	DL	-16744320
044027 808000FF            A  1084    	DL	-16744320
04402B 000000FF            A  1085    	DL	-16777216
04402F FFFF00FF            A  1086    	DL	-16711681
044033 808000FF            A  1087    	DL	-16744320
044037 FFFF00FF            A  1088    	DL	-16711681
04403B 808000FF            A  1089    	DL	-16744320
04403F 000000FF            A  1090    	DL	-16777216
044043 808000FF            A  1091    	DL	-16744320
044047 FFFF00FF            A  1092    	DL	-16711681
04404B 808000FF            A  1093    	DL	-16744320
04404F 000000FF            A  1094    	DL	-16777216
044053 FFFF00FF            A  1095    	DL	-16711681
044057 FFFF00FF            A  1096    	DL	-16711681
04405B 000000FF            A  1097    	DL	-16777216
04405F 808000FF            A  1098    	DL	-16744320
044063 FFFF00FF            A  1099    	DL	-16711681
044067 808000FF            A  1100    	DL	-16744320
04406B 000000FF            A  1101    	DL	-16777216
04406F FFFF00FF            A  1102    	DL	-16711681
044073 808000FF            A  1103    	DL	-16744320
044077 FFFF00FF            A  1104    	DL	-16711681
04407B 808000FF            A  1105    	DL	-16744320
04407F 000000FF            A  1106    	DL	-16777216
044083 000000FF            A  1107    	DL	-16777216
044087 808000FF            A  1108    	DL	-16744320
04408B FFFF00FF            A  1109    	DL	-16711681
04408F 808000FF            A  1110    	DL	-16744320
044093 000000FF            A  1111    	DL	-16777216
044097 000000FF            A  1112    	DL	-16777216
04409B 808000FF            A  1113    	DL	-16744320
04409F FFFF00FF            A  1114    	DL	-16711681
0440A3 808000FF            A  1115    	DL	-16744320
0440A7 000000FF            A  1116    	DL	-16777216
0440AB 000000FF            A  1117    	DL	-16777216
0440AF FFFF00FF            A  1118    	DL	-16711681
0440B3 808000FF            A  1119    	DL	-16744320
0440B7 FFFF00FF            A  1120    	DL	-16711681
0440BB 808000FF            A  1121    	DL	-16744320
0440BF 000000FF            A  1122    	DL	-16777216
0440C3 808000FF            A  1123    	DL	-16744320
0440C7 000000FF            A  1124    	DL	-16777216
0440CB 808000FF            A  1125    	DL	-16744320
0440CF FFFF00FF            A  1126    	DL	-16711681
0440D3 808000FF            A  1127    	DL	-16744320
0440D7 FFFF00FF            A  1128    	DL	-16711681
0440DB FFFF00FF            A  1129    	DL	-16711681
0440DF 808000FF            A  1130    	DL	-16744320
0440E3 000000FF            A  1131    	DL	-16777216
0440E7 808000FF            A  1132    	DL	-16744320
0440EB 000000FF            A  1133    	DL	-16777216
0440EF FFFF00FF            A  1134    	DL	-16711681
0440F3 808000FF            A  1135    	DL	-16744320
0440F7 FFFF00FF            A  1136    	DL	-16711681
0440FB 808000FF            A  1137    	DL	-16744320
0440FF 000000FF            A  1138    	DL	-16777216
044103 808000FF            A  1139    	DL	-16744320
044107 FFFF00FF            A  1140    	DL	-16711681
04410B 000000FF            A  1141    	DL	-16777216
04410F 808000FF            A  1142    	DL	-16744320
044113 FFFF00FF            A  1143    	DL	-16711681
044117 FFFF00FF            A  1144    	DL	-16711681
04411B 808000FF            A  1145    	DL	-16744320
04411F 000000FF            A  1146    	DL	-16777216
044123 808000FF            A  1147    	DL	-16744320
044127 FFFF00FF            A  1148    	DL	-16711681
04412B 000000FF            A  1149    	DL	-16777216
04412F FFFF00FF            A  1150    	DL	-16711681
044133 808000FF            A  1151    	DL	-16744320
044137 FFFF00FF            A  1152    	DL	-16711681
04413B 808000FF            A  1153    	DL	-16744320
04413F 000000FF            A  1154    	DL	-16777216
044143 808000FF            A  1155    	DL	-16744320
044147 808000FF            A  1156    	DL	-16744320
04414B 000000FF            A  1157    	DL	-16777216
04414F FFFF00FF            A  1158    	DL	-16711681
044153 FFFF00FF            A  1159    	DL	-16711681
044157 FFFF00FF            A  1160    	DL	-16711681
04415B FFFF00FF            A  1161    	DL	-16711681
04415F 000000FF            A  1162    	DL	-16777216
044163 808000FF            A  1163    	DL	-16744320
044167 FFFF00FF            A  1164    	DL	-16711681
04416B 000000FF            A  1165    	DL	-16777216
04416F FFFF00FF            A  1166    	DL	-16711681
044173 808000FF            A  1167    	DL	-16744320
044177 FFFF00FF            A  1168    	DL	-16711681
04417B 808000FF            A  1169    	DL	-16744320
04417F 000000FF            A  1170    	DL	-16777216
044183 808000FF            A  1171    	DL	-16744320
044187 000000FF            A  1172    	DL	-16777216
04418B 808000FF            A  1173    	DL	-16744320
04418F FFFF00FF            A  1174    	DL	-16711681
044193 808000FF            A  1175    	DL	-16744320
044197 FFFF00FF            A  1176    	DL	-16711681
04419B FFFF00FF            A  1177    	DL	-16711681
04419F 808000FF            A  1178    	DL	-16744320
0441A3 000000FF            A  1179    	DL	-16777216
0441A7 FFFF00FF            A  1180    	DL	-16711681
0441AB 000000FF            A  1181    	DL	-16777216
0441AF FFFF00FF            A  1182    	DL	-16711681
0441B3 808000FF            A  1183    	DL	-16744320
0441B7 FFFF00FF            A  1184    	DL	-16711681
0441BB 808000FF            A  1185    	DL	-16744320
0441BF 000000FF            A  1186    	DL	-16777216
0441C3 000000FF            A  1187    	DL	-16777216
0441C7 808000FF            A  1188    	DL	-16744320
0441CB FFFF00FF            A  1189    	DL	-16711681
0441CF 808000FF            A  1190    	DL	-16744320
0441D3 000000FF            A  1191    	DL	-16777216
0441D7 000000FF            A  1192    	DL	-16777216
0441DB 808000FF            A  1193    	DL	-16744320
0441DF FFFF00FF            A  1194    	DL	-16711681
0441E3 808000FF            A  1195    	DL	-16744320
0441E7 000000FF            A  1196    	DL	-16777216
0441EB 000000FF            A  1197    	DL	-16777216
0441EF FFFF00FF            A  1198    	DL	-16711681
0441F3 808000FF            A  1199    	DL	-16744320
0441F7 FFFF00FF            A  1200    	DL	-16711681
0441FB 808000FF            A  1201    	DL	-16744320
0441FF 000000FF            A  1202    	DL	-16777216
044203 808000FF            A  1203    	DL	-16744320
044207 FFFF00FF            A  1204    	DL	-16711681
04420B 808000FF            A  1205    	DL	-16744320
04420F 000000FF            A  1206    	DL	-16777216
044213 808000FF            A  1207    	DL	-16744320
044217 FFFF00FF            A  1208    	DL	-16711681
04421B 000000FF            A  1209    	DL	-16777216
04421F 808000FF            A  1210    	DL	-16744320
044223 FFFF00FF            A  1211    	DL	-16711681
044227 808000FF            A  1212    	DL	-16744320
04422B 000000FF            A  1213    	DL	-16777216
04422F FFFF00FF            A  1214    	DL	-16711681
044233 808000FF            A  1215    	DL	-16744320
044237 FFFF00FF            A  1216    	DL	-16711681
04423B 808000FF            A  1217    	DL	-16744320
04423F 000000FF            A  1218    	DL	-16777216
044243 808000FF            A  1219    	DL	-16744320
044247 808000FF            A  1220    	DL	-16744320
04424B 000000FF            A  1221    	DL	-16777216
04424F 808000FF            A  1222    	DL	-16744320
044253 FFFF00FF            A  1223    	DL	-16711681
044257 FFFF00FF            A  1224    	DL	-16711681
04425B FFFF00FF            A  1225    	DL	-16711681
04425F 000000FF            A  1226    	DL	-16777216
044263 808000FF            A  1227    	DL	-16744320
044267 808000FF            A  1228    	DL	-16744320
04426B 000000FF            A  1229    	DL	-16777216
04426F FFFF00FF            A  1230    	DL	-16711681
044273 808000FF            A  1231    	DL	-16744320
044277 FFFF00FF            A  1232    	DL	-16711681
04427B 808000FF            A  1233    	DL	-16744320
04427F 000000FF            A  1234    	DL	-16777216
044283 000000FF            A  1235    	DL	-16777216
044287 000000FF            A  1236    	DL	-16777216
04428B 000000FF            A  1237    	DL	-16777216
04428F 000000FF            A  1238    	DL	-16777216
044293 000000FF            A  1239    	DL	-16777216
044297 000000FF            A  1240    	DL	-16777216
04429B 000000FF            A  1241    	DL	-16777216
04429F 000000FF            A  1242    	DL	-16777216
0442A3 000000FF            A  1243    	DL	-16777216
0442A7 000000FF            A  1244    	DL	-16777216
0442AB 000000FF            A  1245    	DL	-16777216
0442AF FFFF00FF            A  1246    	DL	-16711681
0442B3 808000FF            A  1247    	DL	-16744320
0442B7 FFFF00FF            A  1248    	DL	-16711681
0442BB FFFF00FF            A  1249    	DL	-16711681
0442BF FFFF00FF            A  1250    	DL	-16711681
0442C3 FFFF00FF            A  1251    	DL	-16711681
0442C7 FFFF00FF            A  1252    	DL	-16711681
0442CB FFFF00FF            A  1253    	DL	-16711681
0442CF FFFF00FF            A  1254    	DL	-16711681
0442D3 FFFF00FF            A  1255    	DL	-16711681
0442D7 FFFF00FF            A  1256    	DL	-16711681
0442DB FFFF00FF            A  1257    	DL	-16711681
0442DF FFFF00FF            A  1258    	DL	-16711681
0442E3 FFFF00FF            A  1259    	DL	-16711681
0442E7 FFFF00FF            A  1260    	DL	-16711681
0442EB FFFF00FF            A  1261    	DL	-16711681
0442EF FFFF00FF            A  1262    	DL	-16711681
0442F3 808000FF            A  1263    	DL	-16744320
0442F7 FFFF00FF            A  1264    	DL	-16711681
0442FB 808000FF            A  1265    	DL	-16744320
0442FF 808000FF            A  1266    	DL	-16744320
044303 808000FF            A  1267    	DL	-16744320
044307 808000FF            A  1268    	DL	-16744320
04430B 808000FF            A  1269    	DL	-16744320
04430F 808000FF            A  1270    	DL	-16744320
044313 808000FF            A  1271    	DL	-16744320
044317 808000FF            A  1272    	DL	-16744320
04431B 808000FF            A  1273    	DL	-16744320
04431F 808000FF            A  1274    	DL	-16744320
044323 808000FF            A  1275    	DL	-16744320
044327 808000FF            A  1276    	DL	-16744320
04432B 808000FF            A  1277    	DL	-16744320
04432F 808000FF            A  1278    	DL	-16744320
044333 808000FF            A  1279    	DL	-16744320
                           A  1280    .DEFINE "box_data"
                           A  1281    .ALIAS "_box_data"
                           A  1282    .CLASS 69
                           A  1283    .VALUE _box_data
                           A  1284    .DIM 1
                           A  1285    .DIM 256
                           A  1286    .TYPE 879
                           A  1287    .ENDEF
044337                     A  1288    _boxongoal_data:
044337 FFFF00FF            A  1289    	DL	-16711681
04433B FFFF00FF            A  1290    	DL	-16711681
04433F FFFF00FF            A  1291    	DL	-16711681
044343 FFFF00FF            A  1292    	DL	-16711681
044347 FFFF00FF            A  1293    	DL	-16711681
04434B FFFF00FF            A  1294    	DL	-16711681
04434F FFFF00FF            A  1295    	DL	-16711681
044353 FFFF00FF            A  1296    	DL	-16711681
044357 FFFF00FF            A  1297    	DL	-16711681
04435B FFFF00FF            A  1298    	DL	-16711681
04435F FFFF00FF            A  1299    	DL	-16711681
044363 FFFF00FF            A  1300    	DL	-16711681
044367 FFFF00FF            A  1301    	DL	-16711681
04436B FFFF00FF            A  1302    	DL	-16711681
04436F FFFF00FF            A  1303    	DL	-16711681
044373 FFFF00FF            A  1304    	DL	-16711681
044377 FFFF00FF            A  1305    	DL	-16711681
04437B 808000FF            A  1306    	DL	-16744320
04437F 808000FF            A  1307    	DL	-16744320
044383 808000FF            A  1308    	DL	-16744320
044387 808000FF            A  1309    	DL	-16744320
04438B 808000FF            A  1310    	DL	-16744320
04438F 808000FF            A  1311    	DL	-16744320
044393 808000FF            A  1312    	DL	-16744320
044397 808000FF            A  1313    	DL	-16744320
04439B 808000FF            A  1314    	DL	-16744320
04439F 808000FF            A  1315    	DL	-16744320
0443A3 808000FF            A  1316    	DL	-16744320
0443A7 808000FF            A  1317    	DL	-16744320
0443AB 808000FF            A  1318    	DL	-16744320
0443AF FFFF00FF            A  1319    	DL	-16711681
0443B3 808000FF            A  1320    	DL	-16744320
0443B7 FFFF00FF            A  1321    	DL	-16711681
0443BB 808000FF            A  1322    	DL	-16744320
0443BF 000000FF            A  1323    	DL	-16777216
0443C3 000000FF            A  1324    	DL	-16777216
0443C7 000000FF            A  1325    	DL	-16777216
0443CB 000000FF            A  1326    	DL	-16777216
0443CF 000000FF            A  1327    	DL	-16777216
0443D3 000000FF            A  1328    	DL	-16777216
0443D7 000000FF            A  1329    	DL	-16777216
0443DB 000000FF            A  1330    	DL	-16777216
0443DF 000000FF            A  1331    	DL	-16777216
0443E3 000000FF            A  1332    	DL	-16777216
0443E7 000000FF            A  1333    	DL	-16777216
0443EB 000000FF            A  1334    	DL	-16777216
0443EF FFFF00FF            A  1335    	DL	-16711681
0443F3 808000FF            A  1336    	DL	-16744320
0443F7 FFFF00FF            A  1337    	DL	-16711681
0443FB 808000FF            A  1338    	DL	-16744320
0443FF 000000FF            A  1339    	DL	-16777216
044403 808000FF            A  1340    	DL	-16744320
044407 808000FF            A  1341    	DL	-16744320
04440B 000000FF            A  1342    	DL	-16777216
04440F 008000FF            A  1343    	DL	-16744448
044413 008000FF            A  1344    	DL	-16744448
044417 008000FF            A  1345    	DL	-16744448
04441B 008000FF            A  1346    	DL	-16744448
04441F 000000FF            A  1347    	DL	-16777216
044423 808000FF            A  1348    	DL	-16744320
044427 808000FF            A  1349    	DL	-16744320
04442B 000000FF            A  1350    	DL	-16777216
04442F FFFF00FF            A  1351    	DL	-16711681
044433 808000FF            A  1352    	DL	-16744320
044437 FFFF00FF            A  1353    	DL	-16711681
04443B 808000FF            A  1354    	DL	-16744320
04443F 000000FF            A  1355    	DL	-16777216
044443 808000FF            A  1356    	DL	-16744320
044447 FFFF00FF            A  1357    	DL	-16711681
04444B 808000FF            A  1358    	DL	-16744320
04444F 000000FF            A  1359    	DL	-16777216
044453 00FF00FF            A  1360    	DL	-16711936
044457 00FF00FF            A  1361    	DL	-16711936
04445B 000000FF            A  1362    	DL	-16777216
04445F 808000FF            A  1363    	DL	-16744320
044463 FFFF00FF            A  1364    	DL	-16711681
044467 808000FF            A  1365    	DL	-16744320
04446B 000000FF            A  1366    	DL	-16777216
04446F FFFF00FF            A  1367    	DL	-16711681
044473 808000FF            A  1368    	DL	-16744320
044477 FFFF00FF            A  1369    	DL	-16711681
04447B 808000FF            A  1370    	DL	-16744320
04447F 000000FF            A  1371    	DL	-16777216
044483 000000FF            A  1372    	DL	-16777216
044487 808000FF            A  1373    	DL	-16744320
04448B FFFF00FF            A  1374    	DL	-16711681
04448F 808000FF            A  1375    	DL	-16744320
044493 000000FF            A  1376    	DL	-16777216
044497 000000FF            A  1377    	DL	-16777216
04449B 808000FF            A  1378    	DL	-16744320
04449F FFFF00FF            A  1379    	DL	-16711681
0444A3 808000FF            A  1380    	DL	-16744320
0444A7 000000FF            A  1381    	DL	-16777216
0444AB 000000FF            A  1382    	DL	-16777216
0444AF FFFF00FF            A  1383    	DL	-16711681
0444B3 808000FF            A  1384    	DL	-16744320
0444B7 FFFF00FF            A  1385    	DL	-16711681
0444BB 808000FF            A  1386    	DL	-16744320
0444BF 000000FF            A  1387    	DL	-16777216
0444C3 008000FF            A  1388    	DL	-16744448
0444C7 000000FF            A  1389    	DL	-16777216
0444CB 808000FF            A  1390    	DL	-16744320
0444CF FFFF00FF            A  1391    	DL	-16711681
0444D3 808000FF            A  1392    	DL	-16744320
0444D7 FFFF00FF            A  1393    	DL	-16711681
0444DB FFFF00FF            A  1394    	DL	-16711681
0444DF 808000FF            A  1395    	DL	-16744320
0444E3 000000FF            A  1396    	DL	-16777216
0444E7 008000FF            A  1397    	DL	-16744448
0444EB 000000FF            A  1398    	DL	-16777216
0444EF FFFF00FF            A  1399    	DL	-16711681
0444F3 808000FF            A  1400    	DL	-16744320
0444F7 FFFF00FF            A  1401    	DL	-16711681
0444FB 808000FF            A  1402    	DL	-16744320
0444FF 000000FF            A  1403    	DL	-16777216
044503 008000FF            A  1404    	DL	-16744448
044507 00FF00FF            A  1405    	DL	-16711936
04450B 000000FF            A  1406    	DL	-16777216
04450F 808000FF            A  1407    	DL	-16744320
044513 00FF00FF            A  1408    	DL	-16711936
044517 00FF00FF            A  1409    	DL	-16711936
04451B 808000FF            A  1410    	DL	-16744320
04451F 000000FF            A  1411    	DL	-16777216
044523 00FF00FF            A  1412    	DL	-16711936
044527 008000FF            A  1413    	DL	-16744448
04452B 000000FF            A  1414    	DL	-16777216
04452F FFFF00FF            A  1415    	DL	-16711681
044533 808000FF            A  1416    	DL	-16744320
044537 FFFF00FF            A  1417    	DL	-16711681
04453B 808000FF            A  1418    	DL	-16744320
04453F 000000FF            A  1419    	DL	-16777216
044543 008000FF            A  1420    	DL	-16744448
044547 00FF00FF            A  1421    	DL	-16711936
04454B 000000FF            A  1422    	DL	-16777216
04454F FFFF00FF            A  1423    	DL	-16711681
044553 00FF00FF            A  1424    	DL	-16711936
044557 00FF00FF            A  1425    	DL	-16711936
04455B FFFF00FF            A  1426    	DL	-16711681
04455F 000000FF            A  1427    	DL	-16777216
044563 00FF00FF            A  1428    	DL	-16711936
044567 008000FF            A  1429    	DL	-16744448
04456B 000000FF            A  1430    	DL	-16777216
04456F FFFF00FF            A  1431    	DL	-16711681
044573 808000FF            A  1432    	DL	-16744320
044577 FFFF00FF            A  1433    	DL	-16711681
04457B 808000FF            A  1434    	DL	-16744320
04457F 000000FF            A  1435    	DL	-16777216
044583 008000FF            A  1436    	DL	-16744448
044587 000000FF            A  1437    	DL	-16777216
04458B 808000FF            A  1438    	DL	-16744320
04458F FFFF00FF            A  1439    	DL	-16711681
044593 808000FF            A  1440    	DL	-16744320
044597 FFFF00FF            A  1441    	DL	-16711681
04459B FFFF00FF            A  1442    	DL	-16711681
04459F 808000FF            A  1443    	DL	-16744320
0445A3 000000FF            A  1444    	DL	-16777216
0445A7 008000FF            A  1445    	DL	-16744448
0445AB 000000FF            A  1446    	DL	-16777216
0445AF FFFF00FF            A  1447    	DL	-16711681
0445B3 808000FF            A  1448    	DL	-16744320
0445B7 FFFF00FF            A  1449    	DL	-16711681
0445BB 808000FF            A  1450    	DL	-16744320
0445BF 000000FF            A  1451    	DL	-16777216
0445C3 000000FF            A  1452    	DL	-16777216
0445C7 808000FF            A  1453    	DL	-16744320
0445CB FFFF00FF            A  1454    	DL	-16711681
0445CF 808000FF            A  1455    	DL	-16744320
0445D3 000000FF            A  1456    	DL	-16777216
0445D7 000000FF            A  1457    	DL	-16777216
0445DB 808000FF            A  1458    	DL	-16744320
0445DF FFFF00FF            A  1459    	DL	-16711681
0445E3 808000FF            A  1460    	DL	-16744320
0445E7 000000FF            A  1461    	DL	-16777216
0445EB 000000FF            A  1462    	DL	-16777216
0445EF FFFF00FF            A  1463    	DL	-16711681
0445F3 808000FF            A  1464    	DL	-16744320
0445F7 FFFF00FF            A  1465    	DL	-16711681
0445FB 808000FF            A  1466    	DL	-16744320
0445FF 000000FF            A  1467    	DL	-16777216
044603 808000FF            A  1468    	DL	-16744320
044607 FFFF00FF            A  1469    	DL	-16711681
04460B 808000FF            A  1470    	DL	-16744320
04460F 000000FF            A  1471    	DL	-16777216
044613 00FF00FF            A  1472    	DL	-16711936
044617 00FF00FF            A  1473    	DL	-16711936
04461B 000000FF            A  1474    	DL	-16777216
04461F 808000FF            A  1475    	DL	-16744320
044623 FFFF00FF            A  1476    	DL	-16711681
044627 808000FF            A  1477    	DL	-16744320
04462B 000000FF            A  1478    	DL	-16777216
04462F FFFF00FF            A  1479    	DL	-16711681
044633 808000FF            A  1480    	DL	-16744320
044637 FFFF00FF            A  1481    	DL	-16711681
04463B 808000FF            A  1482    	DL	-16744320
04463F 000000FF            A  1483    	DL	-16777216
044643 808000FF            A  1484    	DL	-16744320
044647 808000FF            A  1485    	DL	-16744320
04464B 000000FF            A  1486    	DL	-16777216
04464F 008000FF            A  1487    	DL	-16744448
044653 008000FF            A  1488    	DL	-16744448
044657 008000FF            A  1489    	DL	-16744448
04465B 008000FF            A  1490    	DL	-16744448
04465F 000000FF            A  1491    	DL	-16777216
044663 808000FF            A  1492    	DL	-16744320
044667 808000FF            A  1493    	DL	-16744320
04466B 000000FF            A  1494    	DL	-16777216
04466F FFFF00FF            A  1495    	DL	-16711681
044673 808000FF            A  1496    	DL	-16744320
044677 FFFF00FF            A  1497    	DL	-16711681
04467B 808000FF            A  1498    	DL	-16744320
04467F 000000FF            A  1499    	DL	-16777216
044683 000000FF            A  1500    	DL	-16777216
044687 000000FF            A  1501    	DL	-16777216
04468B 000000FF            A  1502    	DL	-16777216
04468F 000000FF            A  1503    	DL	-16777216
044693 000000FF            A  1504    	DL	-16777216
044697 000000FF            A  1505    	DL	-16777216
04469B 000000FF            A  1506    	DL	-16777216
04469F 000000FF            A  1507    	DL	-16777216
0446A3 000000FF            A  1508    	DL	-16777216
0446A7 000000FF            A  1509    	DL	-16777216
0446AB 000000FF            A  1510    	DL	-16777216
0446AF FFFF00FF            A  1511    	DL	-16711681
0446B3 808000FF            A  1512    	DL	-16744320
0446B7 FFFF00FF            A  1513    	DL	-16711681
0446BB FFFF00FF            A  1514    	DL	-16711681
0446BF FFFF00FF            A  1515    	DL	-16711681
0446C3 FFFF00FF            A  1516    	DL	-16711681
0446C7 FFFF00FF            A  1517    	DL	-16711681
0446CB FFFF00FF            A  1518    	DL	-16711681
0446CF FFFF00FF            A  1519    	DL	-16711681
0446D3 FFFF00FF            A  1520    	DL	-16711681
0446D7 FFFF00FF            A  1521    	DL	-16711681
0446DB FFFF00FF            A  1522    	DL	-16711681
0446DF FFFF00FF            A  1523    	DL	-16711681
0446E3 FFFF00FF            A  1524    	DL	-16711681
0446E7 FFFF00FF            A  1525    	DL	-16711681
0446EB FFFF00FF            A  1526    	DL	-16711681
0446EF FFFF00FF            A  1527    	DL	-16711681
0446F3 808000FF            A  1528    	DL	-16744320
0446F7 FFFF00FF            A  1529    	DL	-16711681
0446FB 808000FF            A  1530    	DL	-16744320
0446FF 808000FF            A  1531    	DL	-16744320
044703 808000FF            A  1532    	DL	-16744320
044707 808000FF            A  1533    	DL	-16744320
04470B 808000FF            A  1534    	DL	-16744320
04470F 808000FF            A  1535    	DL	-16744320
044713 808000FF            A  1536    	DL	-16744320
044717 808000FF            A  1537    	DL	-16744320
04471B 808000FF            A  1538    	DL	-16744320
04471F 808000FF            A  1539    	DL	-16744320
044723 808000FF            A  1540    	DL	-16744320
044727 808000FF            A  1541    	DL	-16744320
04472B 808000FF            A  1542    	DL	-16744320
04472F 808000FF            A  1543    	DL	-16744320
044733 808000FF            A  1544    	DL	-16744320
                           A  1545    .DEFINE "boxongoal_data"
                           A  1546    .ALIAS "_boxongoal_data"
                           A  1547    .CLASS 69
                           A  1548    .VALUE _boxongoal_data
                           A  1549    .DIM 1
                           A  1550    .DIM 256
                           A  1551    .TYPE 879
                           A  1552    .ENDEF
044737                     A  1553    _boxmini_data:
044737 000000FF            A  1554    	DL	-16777216
04473B 000000FF            A  1555    	DL	-16777216
04473F 000000FF            A  1556    	DL	-16777216
044743 000000FF            A  1557    	DL	-16777216
044747 000000FF            A  1558    	DL	-16777216
04474B 000000FF            A  1559    	DL	-16777216
04474F 000000FF            A  1560    	DL	-16777216
044753 000000FF            A  1561    	DL	-16777216
044757 000000FF            A  1562    	DL	-16777216
04475B 808000FF            A  1563    	DL	-16744320
04475F FFFF00FF            A  1564    	DL	-16711681
044763 FFFF00FF            A  1565    	DL	-16711681
044767 FFFF00FF            A  1566    	DL	-16711681
04476B FFFF00FF            A  1567    	DL	-16711681
04476F 808000FF            A  1568    	DL	-16744320
044773 000000FF            A  1569    	DL	-16777216
044777 000000FF            A  1570    	DL	-16777216
04477B FFFF00FF            A  1571    	DL	-16711681
04477F 000000FF            A  1572    	DL	-16777216
044783 808000FF            A  1573    	DL	-16744320
044787 808000FF            A  1574    	DL	-16744320
04478B 000000FF            A  1575    	DL	-16777216
04478F FFFF00FF            A  1576    	DL	-16711681
044793 000000FF            A  1577    	DL	-16777216
044797 000000FF            A  1578    	DL	-16777216
04479B FFFF00FF            A  1579    	DL	-16711681
04479F 808000FF            A  1580    	DL	-16744320
0447A3 000000FF            A  1581    	DL	-16777216
0447A7 000000FF            A  1582    	DL	-16777216
0447AB 808000FF            A  1583    	DL	-16744320
0447AF FFFF00FF            A  1584    	DL	-16711681
0447B3 000000FF            A  1585    	DL	-16777216
0447B7 000000FF            A  1586    	DL	-16777216
0447BB FFFF00FF            A  1587    	DL	-16711681
0447BF 808000FF            A  1588    	DL	-16744320
0447C3 000000FF            A  1589    	DL	-16777216
0447C7 000000FF            A  1590    	DL	-16777216
0447CB 808000FF            A  1591    	DL	-16744320
0447CF FFFF00FF            A  1592    	DL	-16711681
0447D3 000000FF            A  1593    	DL	-16777216
0447D7 000000FF            A  1594    	DL	-16777216
0447DB FFFF00FF            A  1595    	DL	-16711681
0447DF 000000FF            A  1596    	DL	-16777216
0447E3 808000FF            A  1597    	DL	-16744320
0447E7 808000FF            A  1598    	DL	-16744320
0447EB 000000FF            A  1599    	DL	-16777216
0447EF FFFF00FF            A  1600    	DL	-16711681
0447F3 000000FF            A  1601    	DL	-16777216
0447F7 000000FF            A  1602    	DL	-16777216
0447FB 808000FF            A  1603    	DL	-16744320
0447FF FFFF00FF            A  1604    	DL	-16711681
044803 FFFF00FF            A  1605    	DL	-16711681
044807 FFFF00FF            A  1606    	DL	-16711681
04480B FFFF00FF            A  1607    	DL	-16711681
04480F 808000FF            A  1608    	DL	-16744320
044813 000000FF            A  1609    	DL	-16777216
044817 000000FF            A  1610    	DL	-16777216
04481B 000000FF            A  1611    	DL	-16777216
04481F 000000FF            A  1612    	DL	-16777216
044823 000000FF            A  1613    	DL	-16777216
044827 000000FF            A  1614    	DL	-16777216
04482B 000000FF            A  1615    	DL	-16777216
04482F 000000FF            A  1616    	DL	-16777216
044833 000000FF            A  1617    	DL	-16777216
                           A  1618    .DEFINE "boxmini_data"
                           A  1619    .ALIAS "_boxmini_data"
                           A  1620    .CLASS 69
                           A  1621    .VALUE _boxmini_data
                           A  1622    .DIM 1
                           A  1623    .DIM 64
                           A  1624    .TYPE 879
                           A  1625    .ENDEF
044837                     A  1626    _wallmini_data:
044837 808000FF            A  1627    	DL	-16744320
04483B 808000FF            A  1628    	DL	-16744320
04483F 808000FF            A  1629    	DL	-16744320
044843 404040FF            A  1630    	DL	-12566464
044847 808000FF            A  1631    	DL	-16744320
04484B 808000FF            A  1632    	DL	-16744320
04484F 808000FF            A  1633    	DL	-16744320
044853 808000FF            A  1634    	DL	-16744320
044857 800000FF            A  1635    	DL	-16777088
04485B 800000FF            A  1636    	DL	-16777088
04485F 800000FF            A  1637    	DL	-16777088
044863 404040FF            A  1638    	DL	-12566464
044867 808000FF            A  1639    	DL	-16744320
04486B 800000FF            A  1640    	DL	-16777088
04486F 800000FF            A  1641    	DL	-16777088
044873 808080FF            A  1642    	DL	-8355712
044877 800000FF            A  1643    	DL	-16777088
04487B 800000FF            A  1644    	DL	-16777088
04487F 800000FF            A  1645    	DL	-16777088
044883 404040FF            A  1646    	DL	-12566464
044887 808000FF            A  1647    	DL	-16744320
04488B 800000FF            A  1648    	DL	-16777088
04488F 800000FF            A  1649    	DL	-16777088
044893 800000FF            A  1650    	DL	-16777088
044897 404040FF            A  1651    	DL	-12566464
04489B 404040FF            A  1652    	DL	-12566464
04489F 404040FF            A  1653    	DL	-12566464
0448A3 404040FF            A  1654    	DL	-12566464
0448A7 404040FF            A  1655    	DL	-12566464
0448AB 404040FF            A  1656    	DL	-12566464
0448AF 404040FF            A  1657    	DL	-12566464
0448B3 404040FF            A  1658    	DL	-12566464
0448B7 404040FF            A  1659    	DL	-12566464
0448BB 808000FF            A  1660    	DL	-16744320
0448BF 808000FF            A  1661    	DL	-16744320
0448C3 808000FF            A  1662    	DL	-16744320
0448C7 808000FF            A  1663    	DL	-16744320
0448CB 808000FF            A  1664    	DL	-16744320
0448CF 808000FF            A  1665    	DL	-16744320
0448D3 808000FF            A  1666    	DL	-16744320
0448D7 404040FF            A  1667    	DL	-12566464
0448DB 808000FF            A  1668    	DL	-16744320
0448DF 800000FF            A  1669    	DL	-16777088
0448E3 800000FF            A  1670    	DL	-16777088
0448E7 808080FF            A  1671    	DL	-8355712
0448EB 800000FF            A  1672    	DL	-16777088
0448EF 800000FF            A  1673    	DL	-16777088
0448F3 800000FF            A  1674    	DL	-16777088
0448F7 404040FF            A  1675    	DL	-12566464
0448FB 808000FF            A  1676    	DL	-16744320
0448FF 800000FF            A  1677    	DL	-16777088
044903 800000FF            A  1678    	DL	-16777088
044907 800000FF            A  1679    	DL	-16777088
04490B 800000FF            A  1680    	DL	-16777088
04490F 800000FF            A  1681    	DL	-16777088
044913 800000FF            A  1682    	DL	-16777088
044917 404040FF            A  1683    	DL	-12566464
04491B 404040FF            A  1684    	DL	-12566464
04491F 404040FF            A  1685    	DL	-12566464
044923 404040FF            A  1686    	DL	-12566464
044927 404040FF            A  1687    	DL	-12566464
04492B 404040FF            A  1688    	DL	-12566464
04492F 404040FF            A  1689    	DL	-12566464
044933 404040FF            A  1690    	DL	-12566464
                           A  1691    .DEFINE "wallmini_data"
                           A  1692    .ALIAS "_wallmini_data"
                           A  1693    .CLASS 69
                           A  1694    .VALUE _wallmini_data
                           A  1695    .DIM 1
                           A  1696    .DIM 64
                           A  1697    .TYPE 879
                           A  1698    .ENDEF
044937                     A  1699    _goalmini_data:
044937 000000FF            A  1700    	DL	-16777216
04493B 000000FF            A  1701    	DL	-16777216
04493F 000000FF            A  1702    	DL	-16777216
044943 000000FF            A  1703    	DL	-16777216
044947 000000FF            A  1704    	DL	-16777216
04494B 000000FF            A  1705    	DL	-16777216
04494F 000000FF            A  1706    	DL	-16777216
044953 000000FF            A  1707    	DL	-16777216
044957 000000FF            A  1708    	DL	-16777216
04495B 000000FF            A  1709    	DL	-16777216
04495F 000000FF            A  1710    	DL	-16777216
044963 000000FF            A  1711    	DL	-16777216
044967 000000FF            A  1712    	DL	-16777216
04496B 000000FF            A  1713    	DL	-16777216
04496F 000000FF            A  1714    	DL	-16777216
044973 000000FF            A  1715    	DL	-16777216
044977 000000FF            A  1716    	DL	-16777216
04497B 000000FF            A  1717    	DL	-16777216
04497F 00FF00FF            A  1718    	DL	-16711936
044983 000000FF            A  1719    	DL	-16777216
044987 000000FF            A  1720    	DL	-16777216
04498B 00FF00FF            A  1721    	DL	-16711936
04498F 000000FF            A  1722    	DL	-16777216
044993 000000FF            A  1723    	DL	-16777216
044997 000000FF            A  1724    	DL	-16777216
04499B 000000FF            A  1725    	DL	-16777216
04499F 000000FF            A  1726    	DL	-16777216
0449A3 00FF00FF            A  1727    	DL	-16711936
0449A7 00FF00FF            A  1728    	DL	-16711936
0449AB 000000FF            A  1729    	DL	-16777216
0449AF 000000FF            A  1730    	DL	-16777216
0449B3 000000FF            A  1731    	DL	-16777216
0449B7 000000FF            A  1732    	DL	-16777216
0449BB 000000FF            A  1733    	DL	-16777216
0449BF 000000FF            A  1734    	DL	-16777216
0449C3 00FF00FF            A  1735    	DL	-16711936
0449C7 00FF00FF            A  1736    	DL	-16711936
0449CB 000000FF            A  1737    	DL	-16777216
0449CF 000000FF            A  1738    	DL	-16777216
0449D3 000000FF            A  1739    	DL	-16777216
0449D7 000000FF            A  1740    	DL	-16777216
0449DB 000000FF            A  1741    	DL	-16777216
0449DF 00FF00FF            A  1742    	DL	-16711936
0449E3 000000FF            A  1743    	DL	-16777216
0449E7 000000FF            A  1744    	DL	-16777216
0449EB 00FF00FF            A  1745    	DL	-16711936
0449EF 000000FF            A  1746    	DL	-16777216
0449F3 000000FF            A  1747    	DL	-16777216
0449F7 000000FF            A  1748    	DL	-16777216
0449FB 000000FF            A  1749    	DL	-16777216
0449FF 000000FF            A  1750    	DL	-16777216
044A03 000000FF            A  1751    	DL	-16777216
044A07 000000FF            A  1752    	DL	-16777216
044A0B 000000FF            A  1753    	DL	-16777216
044A0F 000000FF            A  1754    	DL	-16777216
044A13 000000FF            A  1755    	DL	-16777216
044A17 000000FF            A  1756    	DL	-16777216
044A1B 000000FF            A  1757    	DL	-16777216
044A1F 000000FF            A  1758    	DL	-16777216
044A23 000000FF            A  1759    	DL	-16777216
044A27 000000FF            A  1760    	DL	-16777216
044A2B 000000FF            A  1761    	DL	-16777216
044A2F 000000FF            A  1762    	DL	-16777216
044A33 000000FF            A  1763    	DL	-16777216
                           A  1764    .DEFINE "goalmini_data"
                           A  1765    .ALIAS "_goalmini_data"
                           A  1766    .CLASS 69
                           A  1767    .VALUE _goalmini_data
                           A  1768    .DIM 1
                           A  1769    .DIM 64
                           A  1770    .TYPE 879
                           A  1771    .ENDEF
044A37                     A  1772    _boxongoalmini_data:
044A37 000000FF            A  1773    	DL	-16777216
044A3B 000000FF            A  1774    	DL	-16777216
044A3F 000000FF            A  1775    	DL	-16777216
044A43 000000FF            A  1776    	DL	-16777216
044A47 000000FF            A  1777    	DL	-16777216
044A4B 000000FF            A  1778    	DL	-16777216
044A4F 000000FF            A  1779    	DL	-16777216
044A53 000000FF            A  1780    	DL	-16777216
044A57 000000FF            A  1781    	DL	-16777216
044A5B 808000FF            A  1782    	DL	-16744320
044A5F FFFF00FF            A  1783    	DL	-16711681
044A63 FFFF00FF            A  1784    	DL	-16711681
044A67 FFFF00FF            A  1785    	DL	-16711681
044A6B FFFF00FF            A  1786    	DL	-16711681
044A6F 808000FF            A  1787    	DL	-16744320
044A73 000000FF            A  1788    	DL	-16777216
044A77 000000FF            A  1789    	DL	-16777216
044A7B FFFF00FF            A  1790    	DL	-16711681
044A7F 000000FF            A  1791    	DL	-16777216
044A83 808000FF            A  1792    	DL	-16744320
044A87 808000FF            A  1793    	DL	-16744320
044A8B 000000FF            A  1794    	DL	-16777216
044A8F FFFF00FF            A  1795    	DL	-16711681
044A93 000000FF            A  1796    	DL	-16777216
044A97 000000FF            A  1797    	DL	-16777216
044A9B FFFF00FF            A  1798    	DL	-16711681
044A9F 808000FF            A  1799    	DL	-16744320
044AA3 00FF00FF            A  1800    	DL	-16711936
044AA7 00FF00FF            A  1801    	DL	-16711936
044AAB 808000FF            A  1802    	DL	-16744320
044AAF FFFF00FF            A  1803    	DL	-16711681
044AB3 000000FF            A  1804    	DL	-16777216
044AB7 000000FF            A  1805    	DL	-16777216
044ABB FFFF00FF            A  1806    	DL	-16711681
044ABF 808000FF            A  1807    	DL	-16744320
044AC3 00FF00FF            A  1808    	DL	-16711936
044AC7 00FF00FF            A  1809    	DL	-16711936
044ACB 808000FF            A  1810    	DL	-16744320
044ACF FFFF00FF            A  1811    	DL	-16711681
044AD3 000000FF            A  1812    	DL	-16777216
044AD7 000000FF            A  1813    	DL	-16777216
044ADB FFFF00FF            A  1814    	DL	-16711681
044ADF 000000FF            A  1815    	DL	-16777216
044AE3 808000FF            A  1816    	DL	-16744320
044AE7 808000FF            A  1817    	DL	-16744320
044AEB 000000FF            A  1818    	DL	-16777216
044AEF FFFF00FF            A  1819    	DL	-16711681
044AF3 000000FF            A  1820    	DL	-16777216
044AF7 000000FF            A  1821    	DL	-16777216
044AFB 808000FF            A  1822    	DL	-16744320
044AFF FFFF00FF            A  1823    	DL	-16711681
044B03 FFFF00FF            A  1824    	DL	-16711681
044B07 FFFF00FF            A  1825    	DL	-16711681
044B0B FFFF00FF            A  1826    	DL	-16711681
044B0F 808000FF            A  1827    	DL	-16744320
044B13 000000FF            A  1828    	DL	-16777216
044B17 000000FF            A  1829    	DL	-16777216
044B1B 000000FF            A  1830    	DL	-16777216
044B1F 000000FF            A  1831    	DL	-16777216
044B23 000000FF            A  1832    	DL	-16777216
044B27 000000FF            A  1833    	DL	-16777216
044B2B 000000FF            A  1834    	DL	-16777216
044B2F 000000FF            A  1835    	DL	-16777216
044B33 000000FF            A  1836    	DL	-16777216
                           A  1837    .DEFINE "boxongoalmini_data"
                           A  1838    .ALIAS "_boxongoalmini_data"
                           A  1839    .CLASS 69
                           A  1840    .VALUE _boxongoalmini_data
                           A  1841    .DIM 1
                           A  1842    .DIM 64
                           A  1843    .TYPE 879
                           A  1844    .ENDEF
044B37                     A  1845    _playermini_data:
044B37 000000FF            A  1846    	DL	-16777216
044B3B 000000FF            A  1847    	DL	-16777216
044B3F 404040FF            A  1848    	DL	-12566464
044B43 404040FF            A  1849    	DL	-12566464
044B47 404040FF            A  1850    	DL	-12566464
044B4B 404040FF            A  1851    	DL	-12566464
044B4F 404040FF            A  1852    	DL	-12566464
044B53 000000FF            A  1853    	DL	-16777216
044B57 000000FF            A  1854    	DL	-16777216
044B5B 000000FF            A  1855    	DL	-16777216
044B5F 404040FF            A  1856    	DL	-12566464
044B63 808000FF            A  1857    	DL	-16744320
044B67 808000FF            A  1858    	DL	-16744320
044B6B 808000FF            A  1859    	DL	-16744320
044B6F 404040FF            A  1860    	DL	-12566464
044B73 000000FF            A  1861    	DL	-16777216
044B77 000000FF            A  1862    	DL	-16777216
044B7B 000000FF            A  1863    	DL	-16777216
044B7F 000000FF            A  1864    	DL	-16777216
044B83 808000FF            A  1865    	DL	-16744320
044B87 808000FF            A  1866    	DL	-16744320
044B8B 808000FF            A  1867    	DL	-16744320
044B8F 000000FF            A  1868    	DL	-16777216
044B93 000000FF            A  1869    	DL	-16777216
044B97 000000FF            A  1870    	DL	-16777216
044B9B 000000FF            A  1871    	DL	-16777216
044B9F 000000FF            A  1872    	DL	-16777216
044BA3 404040FF            A  1873    	DL	-12566464
044BA7 800000FF            A  1874    	DL	-16777088
044BAB 404040FF            A  1875    	DL	-12566464
044BAF 000000FF            A  1876    	DL	-16777216
044BB3 000000FF            A  1877    	DL	-16777216
044BB7 000000FF            A  1878    	DL	-16777216
044BBB 000000FF            A  1879    	DL	-16777216
044BBF 808000FF            A  1880    	DL	-16744320
044BC3 FF0000FF            A  1881    	DL	-16776961
044BC7 FF0000FF            A  1882    	DL	-16776961
044BCB FF0000FF            A  1883    	DL	-16776961
044BCF 808000FF            A  1884    	DL	-16744320
044BD3 000000FF            A  1885    	DL	-16777216
044BD7 000000FF            A  1886    	DL	-16777216
044BDB 000000FF            A  1887    	DL	-16777216
044BDF 000000FF            A  1888    	DL	-16777216
044BE3 FF0000FF            A  1889    	DL	-16776961
044BE7 FF0000FF            A  1890    	DL	-16776961
044BEB FF0000FF            A  1891    	DL	-16776961
044BEF 000000FF            A  1892    	DL	-16777216
044BF3 000000FF            A  1893    	DL	-16777216
044BF7 000000FF            A  1894    	DL	-16777216
044BFB 000000FF            A  1895    	DL	-16777216
044BFF 000000FF            A  1896    	DL	-16777216
044C03 0000FFFF            A  1897    	DL	-65536
044C07 000080FF            A  1898    	DL	-8388608
044C0B 0000FFFF            A  1899    	DL	-65536
044C0F 000000FF            A  1900    	DL	-16777216
044C13 000000FF            A  1901    	DL	-16777216
044C17 000000FF            A  1902    	DL	-16777216
044C1B 000000FF            A  1903    	DL	-16777216
044C1F 0000FFFF            A  1904    	DL	-65536
044C23 0000FFFF            A  1905    	DL	-65536
044C27 000000FF            A  1906    	DL	-16777216
044C2B 0000FFFF            A  1907    	DL	-65536
044C2F 0000FFFF            A  1908    	DL	-65536
044C33 000000FF            A  1909    	DL	-16777216
                           A  1910    .DEFINE "playermini_data"
                           A  1911    .ALIAS "_playermini_data"
                           A  1912    .CLASS 69
                           A  1913    .VALUE _playermini_data
                           A  1914    .DIM 1
                           A  1915    .DIM 64
                           A  1916    .TYPE 879
                           A  1917    .ENDEF
                           A  1918    ;   13	
                           A  1919    ;   14	struct undoitem undomove;			// 
                           A  1920    ;   15	UINT8 num_undomoves;
                           A  1921    ;   16	
                           A  1922    ;   17	UINT32 bitmapbuffer[BITMAPSIZE];	// 
                           A  1923    ;   18	UINT8 sprites[MAXHEIGHT][MAXWIDTH]; // 
                           A  1924    ;   19	struct sokobanlevel currentlevel;	// 
                           A  1925    ;   20	UINT8 spritenumber;					// 
                           A  1926    ;   21	
                           A  1927    ;   22	UINT32 wall_data[1][256] = {
                           A  1928    ;   23	{
                           A  1929    ;   24	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  1930    ;   25	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1931    ;   26	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1932    ;   27	0xff000080, 0xff000080, 0xff808080, 0xf
                           A  1933    ;   28	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1934    ;   29	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1935    ;   30	0xff808080, 0xff808080, 0xff808080, 0xf
                           A  1936    ;   31	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1937    ;   32	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1938    ;   33	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1939    ;   34	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1940    ;   35	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1941    ;   36	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1942    ;   37	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1943    ;   38	0xff404040, 0xff008080, 0xff808080, 0xf
                           A  1944    ;   39	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1945    ;   40	}
                           A  1946    ;   41	};
                           A  1947    ;   42	
                           A  1948    ;   43	UINT32 player_data[1][256] = {
                           A  1949    ;   44	{
                           A  1950    ;   45	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1951    ;   46	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1952    ;   47	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1953    ;   48	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1954    ;   49	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1955    ;   50	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1956    ;   51	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1957    ;   52	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1958    ;   53	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1959    ;   54	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1960    ;   55	0x00000000, 0x00000000, 0xff404040, 0xf
                           A  1961    ;   56	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1962    ;   57	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1963    ;   58	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1964    ;   59	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1965    ;   60	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1966    ;   61	}
                           A  1967    ;   62	};
                           A  1968    ;   63	
                           A  1969    ;   64	UINT32 goal_data[1][256] = {
                           A  1970    ;   65	{
                           A  1971    ;   66	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1972    ;   67	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1973    ;   68	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1974    ;   69	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1975    ;   70	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1976    ;   71	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1977    ;   72	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1978    ;   73	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1979    ;   74	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1980    ;   75	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1981    ;   76	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1982    ;   77	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1983    ;   78	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1984    ;   79	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1985    ;   80	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1986    ;   81	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1987    ;   82	}
                           A  1988    ;   83	};
                           A  1989    ;   84	
                           A  1990    ;   85	UINT32 box_data[1][256] = {
                           A  1991    ;   86	{
                           A  1992    ;   87	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1993    ;   88	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1994    ;   89	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1995    ;   90	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1996    ;   91	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1997    ;   92	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1998    ;   93	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1999    ;   94	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2000    ;   95	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2001    ;   96	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2002    ;   97	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2003    ;   98	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2004    ;   99	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2005    ;  100	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2006    ;  101	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2007    ;  102	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2008    ;  103	}
                           A  2009    ;  104	};
                           A  2010    ;  105	
                           A  2011    ;  106	UINT32 boxongoal_data[1][256] = {
                           A  2012    ;  107	{
                           A  2013    ;  108	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2014    ;  109	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2015    ;  110	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2016    ;  111	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2017    ;  112	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2018    ;  113	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2019    ;  114	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2020    ;  115	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2021    ;  116	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2022    ;  117	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2023    ;  118	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2024    ;  119	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2025    ;  120	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2026    ;  121	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2027    ;  122	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2028    ;  123	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2029    ;  124	}
                           A  2030    ;  125	};
                           A  2031    ;  126	
                           A  2032    ;  127	UINT32 boxmini_data[1][64] = {
                           A  2033    ;  128	{
                           A  2034    ;  129	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2035    ;  130	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2036    ;  131	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2037    ;  132	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2038    ;  133	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2039    ;  134	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2040    ;  135	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2041    ;  136	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2042    ;  137	}
                           A  2043    ;  138	};
                           A  2044    ;  139	
                           A  2045    ;  140	UINT32 wallmini_data[1][64] = {
                           A  2046    ;  141	{
                           A  2047    ;  142	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  2048    ;  143	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2049    ;  144	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2050    ;  145	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2051    ;  146	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  2052    ;  147	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2053    ;  148	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2054    ;  149	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2055    ;  150	}
                           A  2056    ;  151	};
                           A  2057    ;  152	
                           A  2058    ;  153	UINT32 goalmini_data[1][64] = {
                           A  2059    ;  154	{
                           A  2060    ;  155	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2061    ;  156	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2062    ;  157	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2063    ;  158	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2064    ;  159	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2065    ;  160	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2066    ;  161	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2067    ;  162	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2068    ;  163	}
                           A  2069    ;  164	};
                           A  2070    ;  165	
                           A  2071    ;  166	UINT32 boxongoalmini_data[1][64] = {
                           A  2072    ;  167	{
                           A  2073    ;  168	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2074    ;  169	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2075    ;  170	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2076    ;  171	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2077    ;  172	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2078    ;  173	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2079    ;  174	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2080    ;  175	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2081    ;  176	}
                           A  2082    ;  177	};
                           A  2083    ;  178	
                           A  2084    ;  179	UINT32 playermini_data[1][64] = {
                           A  2085    	SEGMENT CODE
                           A  2086    ;  180	{
                           A  2087    ;  181	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2088    ;  182	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2089    ;  183	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2090    ;  184	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2091    ;  185	0xff000000, 0xff000000, 0xff008080, 0xf
                           A  2092    ;  186	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2093    ;  187	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2094    ;  188	0xff000000, 0xff000000, 0xffff0000, 0xf
                           A  2095    ;  189	}
                           A  2096    ;  190	};
                           A  2097    ;  191	
                           A  2098    ;  192	void debug_print_playfieldText(void)
                           A  2099    ;  193	{
040DB7                     A  2100    _debug_print_playfieldText:
                           A  2101    .DEFINE "_debug_print_playfieldText"
                           A  2102    
                           A  2103    .VALUE _debug_print_playfieldText
                           A  2104    
                           A  2105    .CLASS 2
                           A  2106    
                           A  2107    .TYPE 65
                           A  2108    
                           A  2109    .ENDEF
                           A  2110    
                           A  2111    .BEGFUNC "debug_print_playfieldText",193,"_debu
                           A  2112    
                           A  2113    .LINE 193
                           A  2114    
                           A  2115    .DEFINE "width"
                           A  2116    
                           A  2117    .CLASS 65
                           A  2118    
                           A  2119    .VALUE -2
                           A  2120    
                           A  2121    .TYPE 13
                           A  2122    
                           A  2123    .ENDEF
                           A  2124    
                           A  2125    .DEFINE "c"
                           A  2126    
                           A  2127    .CLASS 65
                           A  2128    
                           A  2129    .VALUE -3
                           A  2130    
                           A  2131    .TYPE 2
                           A  2132    
                           A  2133    .ENDEF
                           A  2134    
                           A  2135    .DEFINE "height"
                           A  2136    
                           A  2137    .CLASS 65
                           A  2138    
                           A  2139    .VALUE -5
                           A  2140    
                           A  2141    .TYPE 13
                           A  2142    
                           A  2143    .ENDEF
                           A  2144    
040DB7 DDE5                A  2145    	PUSH	IX
040DB9 DD210000 00         A  2146    	LD	IX,0
040DBE DD39                A  2147    	ADD	IX,SP
040DC0 C5                  A  2148    	PUSH	BC
040DC1 C5                  A  2149    	PUSH	BC
040DC2 3B                  A  2150    	DEC	SP
040DC3 3B                  A  2151    	DEC	SP
                           A  2152    ;  194		UINT16 width, height;
                           A  2153    ;  195		char c;
                           A  2154    ;  196		
                           A  2155    ;  197		for(height = 0; height < currentlev
                           A  2156    .LINE 197
                           A  2157    
040DC4 DD36FB00            A  2158    	LD	(IX+%FFFFFFFB),%0
040DC8 DD36FC00            A  2159    	LD	(IX+%FFFFFFFC),%0
040DCC C3 D8 0E 04         A  2160    	JR	L_19
040DD0                     A  2161    L_17:
                           A  2162    ;  198		{
                           A  2163    ;  199			for(width = 0; width < currentl
                           A  2164    .LINE 199
                           A  2165    
040DD0 DD36FE00            A  2166    	LD	(IX+%FFFFFFFE),%0
040DD4 DD36FF00            A  2167    	LD	(IX+%FFFFFFFF),%0
040DD8 18 56               A  2168    	JR	L_8
040DDA                     A  2169    L_6:
                           A  2170    ;  200			{
                           A  2171    ;  201				c = currentlevel.data[heigh
                           A  2172    .LINE 201
                           A  2173    
040DDA DD07FB              A  2174    	LD	BC,(IX+%FFFFFFFB)
040DDD CD 34 2B 04         A  2175    	CALL	__stoiu
040DE1 3E28                A  2176    	LD	A,%28
040DE3 CD B3 31 04         A  2177    	CALL	__imul_b
040DE7 01 6B 58 04         A  2178    	LD	BC,_currentlevel+7
040DEB 09                  A  2179    	ADD	HL,BC
040DEC E5D1                A  2180    	LD	DE,HL
040DEE DD07FE              A  2181    	LD	BC,(IX+%FFFFFFFE)
040DF1 CD 34 2B 04         A  2182    	CALL	__stoiu
040DF5 19                  A  2183    	ADD	HL,DE
040DF6 7E                  A  2184    	LD	A,(HL)
040DF7 DD77FD              A  2185    	LD	(IX+%FFFFFFFD),A
                           A  2186    ;  202				printf("%c",c?c:' ');
                           A  2187    .LINE 202
                           A  2188    
040DFA B7                  A  2189    	OR	A,A
040DFB 28 0E               A  2190    	JR	Z,L_4
040DFD DD7EFD              A  2191    	LD	A,(IX+%FFFFFFFD)
040E00 17ED62              A  2192    	SEXT	HL
040E03 DD6EFD              A  2193    	LD	L,(IX+%FFFFFFFD)
040E06 DD2FF8              A  2194    	LD	(IX+%FFFFFFF8),HL
040E09 18 07               A  2195    	JR	L_5
040E0B                     A  2196    L_4:
040E0B 01200000            A  2197    	LD	BC,32
040E0F DD0FF8              A  2198    	LD	(IX+%FFFFFFF8),BC
040E12                     A  2199    L_5:
040E12 01 3A 2B 04         A  2200    	LD	BC,___print_uputch
040E16 ED43 37 4C 04       A  2201    	LD	(___print_xputch),BC
040E1B DD4EF8              A  2202    	LD	C,(IX+%FFFFFFF8)
040E1E 0600                A  2203    	LD	B,%0
040E20 C5                  A  2204    	PUSH	BC
040E21 CD 3A 2B 04         A  2205    	CALL	___print_uputch
040E25 C1                  A  2206    	POP	BC
040E26 DD27FE              A  2207    	LD	HL,(IX+%FFFFFFFE)
040E29 23                  A  2208    	INC	HL
040E2A DD75FE              A  2209    	LD	(IX+%FFFFFFFE),L
040E2D DD74FF              A  2210    	LD	(IX+%FFFFFFFF),H
                           A  2211    ;  203			}
040E30                     A  2212    L_8:
                           A  2213    .LINE 203
                           A  2214    
040E30 3A 66 58 04         A  2215    	LD	A,(_currentlevel+2)
040E34 4F                  A  2216    	LD	C,A
040E35 0600                A  2217    	LD	B,%0
040E37 DD27FE              A  2218    	LD	HL,(IX+%FFFFFFFE)
040E3A B7                  A  2219    	OR	A,A
040E3B 40ED42              A  2220    	SBC.SIS	HL,BC
040E3E 38 9A               A  2221    	JR	C,L_6
                           A  2222    ;  204			printf(" ");
                           A  2223    .LINE 204
                           A  2224    
040E40 01 3A 2B 04         A  2225    	LD	BC,___print_uputch
040E44 ED43 37 4C 04       A  2226    	LD	(___print_xputch),BC
040E49 01200000            A  2227    	LD	BC,32
040E4D C5                  A  2228    	PUSH	BC
040E4E CD 3A 2B 04         A  2229    	CALL	___print_uputch
040E52 C1                  A  2230    	POP	BC
                           A  2231    ;  205			for(width = 0; width < currentl
                           A  2232    .LINE 205
                           A  2233    
040E53 DD36FE00            A  2234    	LD	(IX+%FFFFFFFE),%0
040E57 DD36FF00            A  2235    	LD	(IX+%FFFFFFFF),%0
040E5B 18 4E               A  2236    	JR	L_15
040E5D                     A  2237    L_13:
                           A  2238    ;  206			{
                           A  2239    ;  207				c = sprites[height][width] 
                           A  2240    .LINE 207
                           A  2241    
040E5D DD07FB              A  2242    	LD	BC,(IX+%FFFFFFFB)
040E60 CD 34 2B 04         A  2243    	CALL	__stoiu
040E64 3E28                A  2244    	LD	A,%28
040E66 CD B3 31 04         A  2245    	CALL	__imul_b
040E6A 01 B4 53 04         A  2246    	LD	BC,_sprites
040E6E 09                  A  2247    	ADD	HL,BC
040E6F E5D1                A  2248    	LD	DE,HL
040E71 DD07FE              A  2249    	LD	BC,(IX+%FFFFFFFE)
040E74 CD 34 2B 04         A  2250    	CALL	__stoiu
040E78 19                  A  2251    	ADD	HL,DE
040E79 7E                  A  2252    	LD	A,(HL)
040E7A C630                A  2253    	ADD	A,%30
040E7C DD77FD              A  2254    	LD	(IX+%FFFFFFFD),A
                           A  2255    ;  208				if(c > '9') c = 'X';
                           A  2256    .LINE 208
                           A  2257    
040E7F 3E39                A  2258    	LD	A,%39
040E81 DDBEFD              A  2259    	CP	A,(IX+%FFFFFFFD)
040E84 F2 8C 0E 04         A  2260    	JP	P,L_12
040E88 DD36FD58            A  2261    	LD	(IX+%FFFFFFFD),%58
040E8C                     A  2262    L_12:
                           A  2263    ;  209				printf("%c",c);
                           A  2264    .LINE 209
                           A  2265    
040E8C 01 3A 2B 04         A  2266    	LD	BC,___print_uputch
040E90 ED43 37 4C 04       A  2267    	LD	(___print_xputch),BC
040E95 DD6EFD              A  2268    	LD	L,(IX+%FFFFFFFD)
040E98 4D                  A  2269    	LD	C,L
040E99 0600                A  2270    	LD	B,%0
040E9B C5                  A  2271    	PUSH	BC
040E9C CD 3A 2B 04         A  2272    	CALL	___print_uputch
040EA0 C1                  A  2273    	POP	BC
040EA1 DD27FE              A  2274    	LD	HL,(IX+%FFFFFFFE)
040EA4 23                  A  2275    	INC	HL
040EA5 DD75FE              A  2276    	LD	(IX+%FFFFFFFE),L
040EA8 DD74FF              A  2277    	LD	(IX+%FFFFFFFF),H
                           A  2278    ;  210			}
040EAB                     A  2279    L_15:
                           A  2280    .LINE 210
                           A  2281    
040EAB 3A 66 58 04         A  2282    	LD	A,(_currentlevel+2)
040EAF 4F                  A  2283    	LD	C,A
040EB0 0600                A  2284    	LD	B,%0
040EB2 DD27FE              A  2285    	LD	HL,(IX+%FFFFFFFE)
040EB5 B7                  A  2286    	OR	A,A
040EB6 40ED42              A  2287    	SBC.SIS	HL,BC
040EB9 38 A2               A  2288    	JR	C,L_13
                           A  2289    ;  211			printf("\n\r");
                           A  2290    .LINE 211
                           A  2291    
040EBB 01 3A 2B 04         A  2292    	LD	BC,___print_uputch
040EBF ED43 37 4C 04       A  2293    	LD	(___print_xputch),BC
040EC4 01 B2 4C 04         A  2294    	LD	BC,L__4
040EC8 C5                  A  2295    	PUSH	BC
040EC9 CD C9 29 04         A  2296    	CALL	___print_sendstring
040ECD C1                  A  2297    	POP	BC
040ECE DD27FB              A  2298    	LD	HL,(IX+%FFFFFFFB)
040ED1 23                  A  2299    	INC	HL
040ED2 DD75FB              A  2300    	LD	(IX+%FFFFFFFB),L
040ED5 DD74FC              A  2301    	LD	(IX+%FFFFFFFC),H
                           A  2302    ;  212		}
040ED8                     A  2303    L_19:
                           A  2304    .LINE 212
                           A  2305    
040ED8 3A 67 58 04         A  2306    	LD	A,(_currentlevel+3)
040EDC 4F                  A  2307    	LD	C,A
040EDD 0600                A  2308    	LD	B,%0
040EDF DD27FB              A  2309    	LD	HL,(IX+%FFFFFFFB)
040EE2 B7                  A  2310    	OR	A,A
040EE3 40ED42              A  2311    	SBC.SIS	HL,BC
040EE6 DA D0 0D 04         A  2312    	JR	C,L_17
                           A  2313    ;  213	}
                           A  2314    .LINE 213
                           A  2315    
040EEA DDF9                A  2316    	LD	SP,IX
040EEC DDE1                A  2317    	POP	IX
040EEE C9                  A  2318    	RET	
                           A  2319    
                           A  2320    
                           A  2321    ;**************************** _debug_print_play
                           A  2322    ;Name                         Addr/Register   S
                           A  2323    ;___print_sendstring                 IMPORT  --
                           A  2324    ;_sprites                            STATIC   1
                           A  2325    ;___print_xputch                     IMPORT    
                           A  2326    ;___print_uputch                     IMPORT  --
                           A  2327    ;_currentlevel                       STATIC   1
                           A  2328    ;temp2                                 IX-8    
                           A  2329    ;height                                IX-5    
                           A  2330    ;c                                     IX-3    
                           A  2331    ;width                                 IX-2    
                           A  2332    
                           A  2333    
                           A  2334    ; Stack Frame Size: 14 (bytes)
                           A  2335    ;       Spill Code: 0 (instruction)
                           A  2336    
                           A  2337    
                           A  2338    .ENDFUNC "debug_print_playfieldText",213,"_debu
                           A  2339    	SEGMENT STRSECT
044CB2                     A  2340    L__4:
044CB2 0A0D00              A  2341    	DB	10,13,0
                           A  2342    	SEGMENT CODE
                           A  2343    ;  214	
                           A  2344    ;  215	void game_sendSpriteData(void)
                           A  2345    ;  216	{
040EEF                     A  2346    _game_sendSpriteData:
                           A  2347    .DEFINE "_game_sendSpriteData"
                           A  2348    
                           A  2349    .VALUE _game_sendSpriteData
                           A  2350    
                           A  2351    .CLASS 2
                           A  2352    
                           A  2353    .TYPE 65
                           A  2354    
                           A  2355    .ENDEF
                           A  2356    
                           A  2357    .BEGFUNC "game_sendSpriteData",216,"_game_sendS
                           A  2358    
040EEF DDE5                A  2359    	PUSH	IX
040EF1 DD210000 00         A  2360    	LD	IX,0
040EF6 DD39                A  2361    	ADD	IX,SP
                           A  2362    ;  217		// needs to be called once, to load
                           A  2363    ;  218		
                           A  2364    ;  219		vdp_bitmapSendData(TILE_WALL, BITMA
                           A  2365    .LINE 219
                           A  2366    
040EF8 01 37 33 04         A  2367    	LD	BC,_wall_data
040EFC C5                  A  2368    	PUSH	BC
040EFD 01100000            A  2369    	LD	BC,16
040F01 C5                  A  2370    	PUSH	BC
040F02 C5                  A  2371    	PUSH	BC
040F03 01000000            A  2372    	LD	BC,0
040F07 C5                  A  2373    	PUSH	BC
040F08 CD 5E 07 04         A  2374    	CALL	_vdp_bitmapSendData
040F0C C1                  A  2375    	POP	BC
040F0D C1                  A  2376    	POP	BC
040F0E C1                  A  2377    	POP	BC
040F0F C1                  A  2378    	POP	BC
                           A  2379    ;  220		vdp_bitmapSendData(TILE_PLAYER, BIT
                           A  2380    .LINE 220
                           A  2381    
040F10 01 37 37 04         A  2382    	LD	BC,_player_data
040F14 C5                  A  2383    	PUSH	BC
040F15 01100000            A  2384    	LD	BC,16
040F19 C5                  A  2385    	PUSH	BC
040F1A C5                  A  2386    	PUSH	BC
040F1B 01010000            A  2387    	LD	BC,1
040F1F C5                  A  2388    	PUSH	BC
040F20 CD 5E 07 04         A  2389    	CALL	_vdp_bitmapSendData
040F24 C1                  A  2390    	POP	BC
040F25 C1                  A  2391    	POP	BC
040F26 C1                  A  2392    	POP	BC
040F27 C1                  A  2393    	POP	BC
                           A  2394    ;  221		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2395    .LINE 221
                           A  2396    
040F28 01 37 37 04         A  2397    	LD	BC,_player_data
040F2C C5                  A  2398    	PUSH	BC
040F2D 01100000            A  2399    	LD	BC,16
040F31 C5                  A  2400    	PUSH	BC
040F32 C5                  A  2401    	PUSH	BC
040F33 01020000            A  2402    	LD	BC,2
040F37 C5                  A  2403    	PUSH	BC
040F38 CD 5E 07 04         A  2404    	CALL	_vdp_bitmapSendData
040F3C C1                  A  2405    	POP	BC
040F3D C1                  A  2406    	POP	BC
040F3E C1                  A  2407    	POP	BC
040F3F C1                  A  2408    	POP	BC
                           A  2409    ;  222		vdp_bitmapSendData(TILE_BOX, BITMAP
                           A  2410    .LINE 222
                           A  2411    
040F40 01 37 3F 04         A  2412    	LD	BC,_box_data
040F44 C5                  A  2413    	PUSH	BC
040F45 01100000            A  2414    	LD	BC,16
040F49 C5                  A  2415    	PUSH	BC
040F4A C5                  A  2416    	PUSH	BC
040F4B 01030000            A  2417    	LD	BC,3
040F4F C5                  A  2418    	PUSH	BC
040F50 CD 5E 07 04         A  2419    	CALL	_vdp_bitmapSendData
040F54 C1                  A  2420    	POP	BC
040F55 C1                  A  2421    	POP	BC
040F56 C1                  A  2422    	POP	BC
040F57 C1                  A  2423    	POP	BC
                           A  2424    ;  223		vdp_bitmapSendData(TILE_BOXONGOAL, 
                           A  2425    .LINE 223
                           A  2426    
040F58 01 37 43 04         A  2427    	LD	BC,_boxongoal_data
040F5C C5                  A  2428    	PUSH	BC
040F5D 01100000            A  2429    	LD	BC,16
040F61 C5                  A  2430    	PUSH	BC
040F62 C5                  A  2431    	PUSH	BC
040F63 01040000            A  2432    	LD	BC,4
040F67 C5                  A  2433    	PUSH	BC
040F68 CD 5E 07 04         A  2434    	CALL	_vdp_bitmapSendData
040F6C C1                  A  2435    	POP	BC
040F6D C1                  A  2436    	POP	BC
040F6E C1                  A  2437    	POP	BC
040F6F C1                  A  2438    	POP	BC
                           A  2439    ;  224		vdp_bitmapSendData(TILE_GOAL, BITMA
                           A  2440    .LINE 224
                           A  2441    
040F70 01 37 3B 04         A  2442    	LD	BC,_goal_data
040F74 C5                  A  2443    	PUSH	BC
040F75 01100000            A  2444    	LD	BC,16
040F79 C5                  A  2445    	PUSH	BC
040F7A C5                  A  2446    	PUSH	BC
040F7B 01050000            A  2447    	LD	BC,5
040F7F C5                  A  2448    	PUSH	BC
040F80 CD 5E 07 04         A  2449    	CALL	_vdp_bitmapSendData
040F84 C1                  A  2450    	POP	BC
040F85 C1                  A  2451    	POP	BC
040F86 C1                  A  2452    	POP	BC
040F87 C1                  A  2453    	POP	BC
                           A  2454    ;  225		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2455    .LINE 225
                           A  2456    
040F88 01FF0000            A  2457    	LD	BC,255
040F8C C5                  A  2458    	PUSH	BC
040F8D 01000000            A  2459    	LD	BC,0
040F91 C5                  A  2460    	PUSH	BC
040F92 01100000            A  2461    	LD	BC,16
040F96 C5                  A  2462    	PUSH	BC
040F97 C5                  A  2463    	PUSH	BC
040F98 01060000            A  2464    	LD	BC,6
040F9C C5                  A  2465    	PUSH	BC
040F9D CD 3D 08 04         A  2466    	CALL	_vdp_bitmapCreateSolidColor
040FA1 C1                  A  2467    	POP	BC
040FA2 C1                  A  2468    	POP	BC
040FA3 C1                  A  2469    	POP	BC
040FA4 C1                  A  2470    	POP	BC
040FA5 C1                  A  2471    	POP	BC
                           A  2472    ;  226		
                           A  2473    ;  227		vdp_bitmapSendData(TILE_WALL_MINI, 
                           A  2474    .LINE 227
                           A  2475    
040FA6 01 37 48 04         A  2476    	LD	BC,_wallmini_data
040FAA C5                  A  2477    	PUSH	BC
040FAB 01080000            A  2478    	LD	BC,8
040FAF C5                  A  2479    	PUSH	BC
040FB0 C5                  A  2480    	PUSH	BC
040FB1 01070000            A  2481    	LD	BC,7
040FB5 C5                  A  2482    	PUSH	BC
040FB6 CD 5E 07 04         A  2483    	CALL	_vdp_bitmapSendData
040FBA C1                  A  2484    	POP	BC
040FBB C1                  A  2485    	POP	BC
040FBC C1                  A  2486    	POP	BC
040FBD C1                  A  2487    	POP	BC
                           A  2488    ;  228		vdp_bitmapSendData(TILE_PLAYER_MINI
                           A  2489    .LINE 228
                           A  2490    
040FBE 01 37 4B 04         A  2491    	LD	BC,_playermini_data
040FC2 C5                  A  2492    	PUSH	BC
040FC3 01080000            A  2493    	LD	BC,8
040FC7 C5                  A  2494    	PUSH	BC
040FC8 C5                  A  2495    	PUSH	BC
040FC9 C5                  A  2496    	PUSH	BC
040FCA CD 5E 07 04         A  2497    	CALL	_vdp_bitmapSendData
040FCE C1                  A  2498    	POP	BC
040FCF C1                  A  2499    	POP	BC
040FD0 C1                  A  2500    	POP	BC
040FD1 C1                  A  2501    	POP	BC
                           A  2502    ;  229		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2503    .LINE 229
                           A  2504    
040FD2 01 37 4B 04         A  2505    	LD	BC,_playermini_data
040FD6 C5                  A  2506    	PUSH	BC
040FD7 01080000            A  2507    	LD	BC,8
040FDB C5                  A  2508    	PUSH	BC
040FDC C5                  A  2509    	PUSH	BC
040FDD 01090000            A  2510    	LD	BC,9
040FE1 C5                  A  2511    	PUSH	BC
040FE2 CD 5E 07 04         A  2512    	CALL	_vdp_bitmapSendData
040FE6 C1                  A  2513    	POP	BC
040FE7 C1                  A  2514    	POP	BC
040FE8 C1                  A  2515    	POP	BC
040FE9 C1                  A  2516    	POP	BC
                           A  2517    ;  230		vdp_bitmapSendData(TILE_BOX_MINI, M
                           A  2518    .LINE 230
                           A  2519    
040FEA 01 37 47 04         A  2520    	LD	BC,_boxmini_data
040FEE C5                  A  2521    	PUSH	BC
040FEF 01080000            A  2522    	LD	BC,8
040FF3 C5                  A  2523    	PUSH	BC
040FF4 C5                  A  2524    	PUSH	BC
040FF5 010A0000            A  2525    	LD	BC,10
040FF9 C5                  A  2526    	PUSH	BC
040FFA CD 5E 07 04         A  2527    	CALL	_vdp_bitmapSendData
040FFE C1                  A  2528    	POP	BC
040FFF C1                  A  2529    	POP	BC
041000 C1                  A  2530    	POP	BC
041001 C1                  A  2531    	POP	BC
                           A  2532    ;  231		vdp_bitmapSendData(TILE_BOXONGOAL_M
                           A  2533    .LINE 231
                           A  2534    
041002 01 37 4A 04         A  2535    	LD	BC,_boxongoalmini_data
041006 C5                  A  2536    	PUSH	BC
041007 01080000            A  2537    	LD	BC,8
04100B C5                  A  2538    	PUSH	BC
04100C C5                  A  2539    	PUSH	BC
04100D 010B0000            A  2540    	LD	BC,11
041011 C5                  A  2541    	PUSH	BC
041012 CD 5E 07 04         A  2542    	CALL	_vdp_bitmapSendData
041016 C1                  A  2543    	POP	BC
041017 C1                  A  2544    	POP	BC
041018 C1                  A  2545    	POP	BC
041019 C1                  A  2546    	POP	BC
                           A  2547    ;  232		vdp_bitmapSendData(TILE_GOAL_MINI, 
                           A  2548    .LINE 232
                           A  2549    
04101A 01 37 49 04         A  2550    	LD	BC,_goalmini_data
04101E C5                  A  2551    	PUSH	BC
04101F 01080000            A  2552    	LD	BC,8
041023 C5                  A  2553    	PUSH	BC
041024 C5                  A  2554    	PUSH	BC
041025 010C0000            A  2555    	LD	BC,12
041029 C5                  A  2556    	PUSH	BC
04102A CD 5E 07 04         A  2557    	CALL	_vdp_bitmapSendData
04102E C1                  A  2558    	POP	BC
04102F C1                  A  2559    	POP	BC
041030 C1                  A  2560    	POP	BC
041031 C1                  A  2561    	POP	BC
                           A  2562    ;  233		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2563    .LINE 233
                           A  2564    
041032 01FF0000            A  2565    	LD	BC,255
041036 C5                  A  2566    	PUSH	BC
041037 01000000            A  2567    	LD	BC,0
04103B C5                  A  2568    	PUSH	BC
04103C 01080000            A  2569    	LD	BC,8
041040 C5                  A  2570    	PUSH	BC
041041 C5                  A  2571    	PUSH	BC
041042 010D0000            A  2572    	LD	BC,13
041046 C5                  A  2573    	PUSH	BC
041047 CD 3D 08 04         A  2574    	CALL	_vdp_bitmapCreateSolidColor
04104B C1                  A  2575    	POP	BC
04104C C1                  A  2576    	POP	BC
04104D C1                  A  2577    	POP	BC
04104E C1                  A  2578    	POP	BC
04104F C1                  A  2579    	POP	BC
                           A  2580    ;  234		vdp_bitmapCreateSolidColor(TILE_MIN
                           A  2581    .LINE 234
                           A  2582    
041050 01FF0000            A  2583    	LD	BC,255
041054 C5                  A  2584    	PUSH	BC
041055 01000000            A  2585    	LD	BC,0
041059 C5                  A  2586    	PUSH	BC
04105A 01080000            A  2587    	LD	BC,8
04105E C5                  A  2588    	PUSH	BC
04105F C5                  A  2589    	PUSH	BC
041060 010E0000            A  2590    	LD	BC,14
041064 C5                  A  2591    	PUSH	BC
041065 CD 3D 08 04         A  2592    	CALL	_vdp_bitmapCreateSolidColor
041069 C1                  A  2593    	POP	BC
04106A C1                  A  2594    	POP	BC
04106B C1                  A  2595    	POP	BC
04106C C1                  A  2596    	POP	BC
04106D C1                  A  2597    	POP	BC
                           A  2598    ;  235		
                           A  2599    ;  236		return;
                           A  2600    ;  237	}
                           A  2601    .LINE 237
                           A  2602    
04106E DDF9                A  2603    	LD	SP,IX
041070 DDE1                A  2604    	POP	IX
041072 C9                  A  2605    	RET	
                           A  2606    
                           A  2607    
                           A  2608    ;**************************** _game_sendSpriteD
                           A  2609    ;Name                         Addr/Register   S
                           A  2610    ;_goalmini_data                      STATIC    
                           A  2611    ;_boxongoalmini_data                 STATIC    
                           A  2612    ;_boxmini_data                       STATIC    
                           A  2613    ;_playermini_data                    STATIC    
                           A  2614    ;_wallmini_data                      STATIC    
                           A  2615    ;_vdp_bitmapCreateSolidColor         IMPORT  --
                           A  2616    ;_goal_data                          STATIC   1
                           A  2617    ;_boxongoal_data                     STATIC   1
                           A  2618    ;_box_data                           STATIC   1
                           A  2619    ;_player_data                        STATIC   1
                           A  2620    ;_wall_data                          STATIC   1
                           A  2621    ;_vdp_bitmapSendData                 IMPORT  --
                           A  2622    
                           A  2623    
                           A  2624    ; Stack Frame Size: 6 (bytes)
                           A  2625    ;       Spill Code: 0 (instruction)
                           A  2626    
                           A  2627    
                           A  2628    .ENDFUNC "game_sendSpriteData",237,"_game_sendS
                           A  2629    ;  238	
                           A  2630    ;  239	void game_resetSprites(void)
                           A  2631    ;  240	{
041073                     A  2632    _game_resetSprites:
                           A  2633    .DEFINE "_game_resetSprites"
                           A  2634    
                           A  2635    .VALUE _game_resetSprites
                           A  2636    
                           A  2637    .CLASS 2
                           A  2638    
                           A  2639    .TYPE 65
                           A  2640    
                           A  2641    .ENDEF
                           A  2642    
                           A  2643    .BEGFUNC "game_resetSprites",240,"_game_resetSp
                           A  2644    
                           A  2645    .LINE 240
                           A  2646    
                           A  2647    .DEFINE "n"
                           A  2648    
                           A  2649    .CLASS 65
                           A  2650    
                           A  2651    .VALUE -1
                           A  2652    
                           A  2653    .TYPE 12
                           A  2654    
                           A  2655    .ENDEF
                           A  2656    
041073 DDE5                A  2657    	PUSH	IX
041075 DD210000 00         A  2658    	LD	IX,0
04107A DD39                A  2659    	ADD	IX,SP
04107C 3B                  A  2660    	DEC	SP
                           A  2661    ;  241		UINT8 n;
                           A  2662    ;  242		
                           A  2663    ;  243		// disable all sprites
                           A  2664    ;  244		for(n = 0; n < spritenumber; n++)
                           A  2665    .LINE 244
                           A  2666    
04107D DD36FF00            A  2667    	LD	(IX+%FFFFFFFF),%0
041081 18 2E               A  2668    	JR	L_25
041083                     A  2669    L_23:
                           A  2670    ;  245		{
                           A  2671    ;  246			vdp_spriteSelect(n);
                           A  2672    .LINE 246
                           A  2673    
041083 DD4EFF              A  2674    	LD	C,(IX+%FFFFFFFF)
041086 0600                A  2675    	LD	B,%0
041088 C5                  A  2676    	PUSH	BC
041089 CD 70 08 04         A  2677    	CALL	_vdp_spriteSelect
04108D C1                  A  2678    	POP	BC
                           A  2679    ;  247			vdp_spriteHide(n);
                           A  2680    .LINE 247
                           A  2681    
04108E DD4EFF              A  2682    	LD	C,(IX+%FFFFFFFF)
041091 0600                A  2683    	LD	B,%0
041093 C5                  A  2684    	PUSH	BC
041094 CD AC 0A 04         A  2685    	CALL	_vdp_spriteHide
041098 C1                  A  2686    	POP	BC
                           A  2687    ;  248			vdp_spriteSetFrame(n,0);
                           A  2688    .LINE 248
                           A  2689    
041099 01000000            A  2690    	LD	BC,0
04109D C5                  A  2691    	PUSH	BC
04109E DD4EFF              A  2692    	LD	C,(IX+%FFFFFFFF)
0410A1 0600                A  2693    	LD	B,%0
0410A3 C5                  A  2694    	PUSH	BC
0410A4 CD 1A 0A 04         A  2695    	CALL	_vdp_spriteSetFrame
0410A8 C1                  A  2696    	POP	BC
0410A9 C1                  A  2697    	POP	BC
                           A  2698    ;  249			vdp_spriteClearFramesSelected()
                           A  2699    .LINE 249
                           A  2700    
0410AA CD A9 08 04         A  2701    	CALL	_vdp_spriteClearFramesSelected
0410AE DD34FF              A  2702    	INC	(IX+%FFFFFFFF)
                           A  2703    ;  250		}
0410B1                     A  2704    L_25:
                           A  2705    .LINE 250
                           A  2706    
0410B1 DD7EFF              A  2707    	LD	A,(IX+%FFFFFFFF)
0410B4 21 1B 5D 04         A  2708    	LD	HL,_spritenumber
0410B8 BE                  A  2709    	CP	A,(HL)
0410B9 38 C8               A  2710    	JR	C,L_23
                           A  2711    ;  251		vdp_spriteActivateTotal(0);
                           A  2712    .LINE 251
                           A  2713    
0410BB 01000000            A  2714    	LD	BC,0
0410BF C5                  A  2715    	PUSH	BC
0410C0 CD 93 0B 04         A  2716    	CALL	_vdp_spriteActivateTotal
0410C4 C1                  A  2717    	POP	BC
                           A  2718    ;  252		spritenumber = 0;
                           A  2719    .LINE 252
                           A  2720    
0410C5 AF                  A  2721    	XOR	A,A
0410C6 32 1B 5D 04         A  2722    	LD	(_spritenumber),A
                           A  2723    ;  253	
                           A  2724    ;  254		// reset all sprite positions and c
                           A  2725    ;  255		memset(sprites, 255, MAXHEIGHT*MAXW
                           A  2726    .LINE 255
                           A  2727    
0410CA 01B00400            A  2728    	LD	BC,1200
0410CE C5                  A  2729    	PUSH	BC
0410CF 01FF0000            A  2730    	LD	BC,255
0410D3 C5                  A  2731    	PUSH	BC
0410D4 01 B4 53 04         A  2732    	LD	BC,_sprites
0410D8 C5                  A  2733    	PUSH	BC
0410D9 CD DE 32 04         A  2734    	CALL	_memset
0410DD C1                  A  2735    	POP	BC
0410DE C1                  A  2736    	POP	BC
0410DF C1                  A  2737    	POP	BC
                           A  2738    ;  256	
                           A  2739    ;  257		vdp_spriteRefresh();
                           A  2740    .LINE 257
                           A  2741    
0410E0 CD CC 0B 04         A  2742    	CALL	_vdp_spriteRefresh
                           A  2743    ;  258		return;
                           A  2744    ;  259	}
                           A  2745    .LINE 259
                           A  2746    
0410E4 DDF9                A  2747    	LD	SP,IX
0410E6 DDE1                A  2748    	POP	IX
0410E8 C9                  A  2749    	RET	
                           A  2750    
                           A  2751    
                           A  2752    ;**************************** _game_resetSprite
                           A  2753    ;Name                         Addr/Register   S
                           A  2754    ;_vdp_spriteRefresh                  IMPORT  --
                           A  2755    ;_sprites                            STATIC   1
                           A  2756    ;_memset                             IMPORT  --
                           A  2757    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  2758    ;_spritenumber                       STATIC    
                           A  2759    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2760    ;_vdp_spriteSetFrame                 IMPORT  --
                           A  2761    ;_vdp_spriteHide                     IMPORT  --
                           A  2762    ;_vdp_spriteSelect                   IMPORT  --
                           A  2763    ;n                                     IX-1    
                           A  2764    
                           A  2765    
                           A  2766    ; Stack Frame Size: 7 (bytes)
                           A  2767    ;       Spill Code: 0 (instruction)
                           A  2768    
                           A  2769    
                           A  2770    .ENDFUNC "game_resetSprites",259,"_game_resetSp
                           A  2771    ;  260	
                           A  2772    ;  261	BOOL canmove(UINT16 xn1, UINT16 yn1, UI
                           A  2773    ;  262	{
0410E9                     A  2774    _canmove:
                           A  2775    .DEFINE "_canmove"
                           A  2776    
                           A  2777    .VALUE _canmove
                           A  2778    
                           A  2779    .CLASS 2
                           A  2780    
                           A  2781    .TYPE 76
                           A  2782    
                           A  2783    .ENDEF
                           A  2784    
                           A  2785    .BEGFUNC "canmove",262,"_canmove"
                           A  2786    
                           A  2787    .LINE 262
                           A  2788    
                           A  2789    .DEFINE "xn1"
                           A  2790    
                           A  2791    .CLASS 65
                           A  2792    
                           A  2793    .VALUE 6
                           A  2794    
                           A  2795    .TYPE 13
                           A  2796    
                           A  2797    .ENDEF
                           A  2798    
                           A  2799    .DEFINE "yn1"
                           A  2800    
                           A  2801    .CLASS 65
                           A  2802    
                           A  2803    .VALUE 9
                           A  2804    
                           A  2805    .TYPE 13
                           A  2806    
                           A  2807    .ENDEF
                           A  2808    
                           A  2809    .DEFINE "xn2"
                           A  2810    
                           A  2811    .CLASS 65
                           A  2812    
                           A  2813    .VALUE 12
                           A  2814    
                           A  2815    .TYPE 13
                           A  2816    
                           A  2817    .ENDEF
                           A  2818    
                           A  2819    .DEFINE "yn2"
                           A  2820    
                           A  2821    .CLASS 65
                           A  2822    
                           A  2823    .VALUE 15
                           A  2824    
                           A  2825    .TYPE 13
                           A  2826    
                           A  2827    .ENDEF
                           A  2828    
                           A  2829    .DEFINE "n1"
                           A  2830    
                           A  2831    .CLASS 65
                           A  2832    
                           A  2833    .VALUE -1
                           A  2834    
                           A  2835    .TYPE 12
                           A  2836    
                           A  2837    .ENDEF
                           A  2838    
                           A  2839    .DEFINE "n2"
                           A  2840    
                           A  2841    .CLASS 65
                           A  2842    
                           A  2843    .VALUE -2
                           A  2844    
                           A  2845    .TYPE 12
                           A  2846    
                           A  2847    .ENDEF
                           A  2848    
0410E9 DDE5                A  2849    	PUSH	IX
0410EB DD210000 00         A  2850    	LD	IX,0
0410F0 DD39                A  2851    	ADD	IX,SP
0410F2 3B                  A  2852    	DEC	SP
0410F3 3B                  A  2853    	DEC	SP
                           A  2854    ;  263		BOOL can = FALSE;
                           A  2855    ;  264		UINT8 n1, n2;
                           A  2856    ;  265		
                           A  2857    ;  266		n1 = currentlevel.data[yn1][xn1];
                           A  2858    .LINE 266
                           A  2859    
0410F4 DD0709              A  2860    	LD	BC,(IX+%9)
0410F7 CD 34 2B 04         A  2861    	CALL	__stoiu
0410FB 3E28                A  2862    	LD	A,%28
0410FD CD B3 31 04         A  2863    	CALL	__imul_b
041101 01 6B 58 04         A  2864    	LD	BC,_currentlevel+7
041105 09                  A  2865    	ADD	HL,BC
041106 E5D1                A  2866    	LD	DE,HL
041108 DD0706              A  2867    	LD	BC,(IX+%6)
04110B CD 34 2B 04         A  2868    	CALL	__stoiu
04110F 19                  A  2869    	ADD	HL,DE
041110 7E                  A  2870    	LD	A,(HL)
041111 DD77FF              A  2871    	LD	(IX+%FFFFFFFF),A
                           A  2872    ;  267		n2 = currentlevel.data[yn2][xn2];
                           A  2873    .LINE 267
                           A  2874    
041114 DD070F              A  2875    	LD	BC,(IX+%F)
041117 CD 34 2B 04         A  2876    	CALL	__stoiu
04111B 3E28                A  2877    	LD	A,%28
04111D CD B3 31 04         A  2878    	CALL	__imul_b
041121 01 6B 58 04         A  2879    	LD	BC,_currentlevel+7
041125 09                  A  2880    	ADD	HL,BC
041126 E5D1                A  2881    	LD	DE,HL
041128 DD070C              A  2882    	LD	BC,(IX+%C)
04112B CD 34 2B 04         A  2883    	CALL	__stoiu
04112F 19                  A  2884    	ADD	HL,DE
041130 7E                  A  2885    	LD	A,(HL)
041131 DD77FE              A  2886    	LD	(IX+%FFFFFFFE),A
                           A  2887    ;  268		
                           A  2888    ;  269		switch(n1)
                           A  2889    .LINE 269
                           A  2890    
041134 DD7EFF              A  2891    	LD	A,(IX+%FFFFFFFF)
041137 B7ED62              A  2892    	UEXT	HL
04113A 6F                  A  2893    	LD	L,A
04113B CD 48 32 04         A  2894    	CALL	__case8D
04113F E9                  A  2895    	JP	(HL)
041140                     A  2896    L__10:
041140 0300                A  2897    	DW	3
041142 20                  A  2898    	DB	32
041143 541104              A  2899    	DW24	L_29	
                           A  2900    
041146 23                  A  2901    	DB	35
041147 511104              A  2902    	DW24	L_28	
                           A  2903    
04114A 2E                  A  2904    	DB	46
04114B 541104              A  2905    	DW24	L_30	
                           A  2906    
04114E 581104              A  2907    	DW24	L_34	
                           A  2908    
                           A  2909    ;  270		{
                           A  2910    ;  271			case CHAR_WALL:
041151                     A  2911    L_28:
                           A  2912    .LINE 271
                           A  2913    
                           A  2914    ;  272				return FALSE;
                           A  2915    .LINE 272
                           A  2916    
041151 AF                  A  2917    	XOR	A,A
041152 18 29               A  2918    	JR	L_36
                           A  2919    ;  273				break;
                           A  2920    ;  274			case CHAR_FLOOR:
041154                     A  2921    L_29:
                           A  2922    .LINE 274
                           A  2923    
                           A  2924    ;  275			case CHAR_GOAL:
041154                     A  2925    L_30:
                           A  2926    .LINE 275
                           A  2927    
                           A  2928    ;  276				return TRUE;
                           A  2929    .LINE 276
                           A  2930    
041154 3E01                A  2931    	LD	A,%1
041156 18 25               A  2932    	JR	L_36
                           A  2933    ;  277				break;
                           A  2934    ;  278		}
041158                     A  2935    L_34:
                           A  2936    .LINE 278
                           A  2937    
                           A  2938    ;  279		// either BOX or BOXONGOAL next to 
                           A  2939    ;  280		switch(n2)
                           A  2940    .LINE 280
                           A  2941    
041158 DD7EFE              A  2942    	LD	A,(IX+%FFFFFFFE)
04115B B7ED62              A  2943    	UEXT	HL
04115E 6F                  A  2944    	LD	L,A
04115F CD 48 32 04         A  2945    	CALL	__case8D
041163 E9                  A  2946    	JP	(HL)
041164                     A  2947    L__11:
041164 0300                A  2948    	DW	3
041166 23                  A  2949    	DB	35
041167 751104              A  2950    	DW24	L_31	
                           A  2951    
04116A 24                  A  2952    	DB	36
04116B 781104              A  2953    	DW24	L_32	
                           A  2954    
04116E 2A                  A  2955    	DB	42
04116F 781104              A  2956    	DW24	L_33	
                           A  2957    
041172 7B1104              A  2958    	DW24	L_35	
                           A  2959    
                           A  2960    ;  281		{
                           A  2961    ;  282			case CHAR_WALL:
041175                     A  2962    L_31:
                           A  2963    .LINE 282
                           A  2964    
                           A  2965    ;  283				return FALSE;
                           A  2966    .LINE 283
                           A  2967    
041175 AF                  A  2968    	XOR	A,A
041176 18 05               A  2969    	JR	L_36
                           A  2970    ;  284				break;
                           A  2971    ;  285			case CHAR_BOX:
041178                     A  2972    L_32:
                           A  2973    .LINE 285
                           A  2974    
                           A  2975    ;  286			case CHAR_BOXONGOAL:
041178                     A  2976    L_33:
                           A  2977    .LINE 286
                           A  2978    
                           A  2979    ;  287				return FALSE;
                           A  2980    .LINE 287
                           A  2981    
041178 AF                  A  2982    	XOR	A,A
041179 18 02               A  2983    	JR	L_36
                           A  2984    ;  288				break;
                           A  2985    ;  289		}
04117B                     A  2986    L_35:
                           A  2987    .LINE 289
                           A  2988    
                           A  2989    ;  290		// only FLOOR or empty GOAL remaini
                           A  2990    ;  291		return TRUE;
                           A  2991    .LINE 291
                           A  2992    
04117B 3E01                A  2993    	LD	A,%1
                           A  2994    ;  292	}
04117D                     A  2995    L_36:
                           A  2996    .LINE 292
                           A  2997    
04117D DDF9                A  2998    	LD	SP,IX
04117F DDE1                A  2999    	POP	IX
041181 C9                  A  3000    	RET	
                           A  3001    
                           A  3002    
                           A  3003    ;**************************** _canmove ********
                           A  3004    ;Name                         Addr/Register   S
                           A  3005    ;_currentlevel                       STATIC   1
                           A  3006    ;n2                                    IX-2    
                           A  3007    ;n1                                    IX-1    
                           A  3008    ;yn2                                  IX+15    
                           A  3009    ;xn2                                  IX+12    
                           A  3010    ;yn1                                   IX+9    
                           A  3011    ;xn1                                   IX+6    
                           A  3012    
                           A  3013    
                           A  3014    ; Stack Frame Size: 20 (bytes)
                           A  3015    ;       Spill Code: 0 (instruction)
                           A  3016    
                           A  3017    
                           A  3018    .ENDFUNC "canmove",292,"_canmove"
                           A  3019    ;  293	
                           A  3020    ;  294	void move_sprites(UINT16 xn1, UINT16 yn
                           A  3021    ;  295	{
041182                     A  3022    _move_sprites:
                           A  3023    .DEFINE "_move_sprites"
                           A  3024    
                           A  3025    .VALUE _move_sprites
                           A  3026    
                           A  3027    .CLASS 2
                           A  3028    
                           A  3029    .TYPE 65
                           A  3030    
                           A  3031    .ENDEF
                           A  3032    
                           A  3033    .BEGFUNC "move_sprites",295,"_move_sprites"
                           A  3034    
                           A  3035    .LINE 295
                           A  3036    
                           A  3037    .DEFINE "xn1"
                           A  3038    
                           A  3039    .CLASS 65
                           A  3040    
                           A  3041    .VALUE 6
                           A  3042    
                           A  3043    .TYPE 13
                           A  3044    
                           A  3045    .ENDEF
                           A  3046    
                           A  3047    .DEFINE "yn1"
                           A  3048    
                           A  3049    .CLASS 65
                           A  3050    
                           A  3051    .VALUE 9
                           A  3052    
                           A  3053    .TYPE 13
                           A  3054    
                           A  3055    .ENDEF
                           A  3056    
                           A  3057    .DEFINE "xn2"
                           A  3058    
                           A  3059    .CLASS 65
                           A  3060    
                           A  3061    .VALUE 12
                           A  3062    
                           A  3063    .TYPE 13
                           A  3064    
                           A  3065    .ENDEF
                           A  3066    
                           A  3067    .DEFINE "yn2"
                           A  3068    
                           A  3069    .CLASS 65
                           A  3070    
                           A  3071    .VALUE 15
                           A  3072    
                           A  3073    .TYPE 13
                           A  3074    
                           A  3075    .ENDEF
                           A  3076    
                           A  3077    .DEFINE "spriteid"
                           A  3078    
                           A  3079    .CLASS 65
                           A  3080    
                           A  3081    .VALUE -1
                           A  3082    
                           A  3083    .TYPE 12
                           A  3084    
                           A  3085    .ENDEF
                           A  3086    
                           A  3087    .DEFINE "n"
                           A  3088    
                           A  3089    .CLASS 65
                           A  3090    
                           A  3091    .VALUE -2
                           A  3092    
                           A  3093    .TYPE 12
                           A  3094    
                           A  3095    .ENDEF
                           A  3096    
                           A  3097    .DEFINE "dx"
                           A  3098    
                           A  3099    .CLASS 65
                           A  3100    
                           A  3101    .VALUE -4
                           A  3102    
                           A  3103    .TYPE 3
                           A  3104    
                           A  3105    .ENDEF
                           A  3106    
                           A  3107    .DEFINE "dy"
                           A  3108    
                           A  3109    .CLASS 65
                           A  3110    
                           A  3111    .VALUE -6
                           A  3112    
                           A  3113    .TYPE 3
                           A  3114    
                           A  3115    .ENDEF
                           A  3116    
                           A  3117    .DEFINE "n2"
                           A  3118    
                           A  3119    .CLASS 65
                           A  3120    
                           A  3121    .VALUE -7
                           A  3122    
                           A  3123    .TYPE 12
                           A  3124    
                           A  3125    .ENDEF
                           A  3126    
041182 DDE5                A  3127    	PUSH	IX
041184 DD210000 00         A  3128    	LD	IX,0
041189 DD39                A  3129    	ADD	IX,SP
04118B C5                  A  3130    	PUSH	BC
04118C C5                  A  3131    	PUSH	BC
04118D 3B                  A  3132    	DEC	SP
                           A  3133    ;  296		// move can happen, no need to chec
                           A  3134    ;  297		UINT8 spriteid = sprites[yn1][xn1];
                           A  3135    .LINE 297
                           A  3136    
04118E DD0709              A  3137    	LD	BC,(IX+%9)
041191 CD 34 2B 04         A  3138    	CALL	__stoiu
041195 3E28                A  3139    	LD	A,%28
041197 CD B3 31 04         A  3140    	CALL	__imul_b
04119B 01 B4 53 04         A  3141    	LD	BC,_sprites
04119F 09                  A  3142    	ADD	HL,BC
0411A0 E5D1                A  3143    	LD	DE,HL
0411A2 DD0706              A  3144    	LD	BC,(IX+%6)
0411A5 CD 34 2B 04         A  3145    	CALL	__stoiu
0411A9 19                  A  3146    	ADD	HL,DE
0411AA 7E                  A  3147    	LD	A,(HL)
0411AB DD77FF              A  3148    	LD	(IX+%FFFFFFFF),A
                           A  3149    ;  298		UINT8 n;
                           A  3150    ;  299		INT16 dx, dy;
                           A  3151    ;  300		UINT8 n2;
                           A  3152    ;  301			
                           A  3153    ;  302		dx = xn2 - xn1;
                           A  3154    .LINE 302
                           A  3155    
0411AE DD0706              A  3156    	LD	BC,(IX+%6)
0411B1 DD270C              A  3157    	LD	HL,(IX+%C)
0411B4 B7                  A  3158    	OR	A,A
0411B5 40ED42              A  3159    	SBC.SIS	HL,BC
0411B8 DD75FC              A  3160    	LD	(IX+%FFFFFFFC),L
0411BB DD74FD              A  3161    	LD	(IX+%FFFFFFFD),H
                           A  3162    ;  303		dy = yn2 - yn1;
                           A  3163    .LINE 303
                           A  3164    
0411BE DD0709              A  3165    	LD	BC,(IX+%9)
0411C1 DD270F              A  3166    	LD	HL,(IX+%F)
0411C4 B7                  A  3167    	OR	A,A
0411C5 40ED42              A  3168    	SBC.SIS	HL,BC
0411C8 DD75FA              A  3169    	LD	(IX+%FFFFFFFA),L
0411CB DD74FB              A  3170    	LD	(IX+%FFFFFFFB),H
                           A  3171    ;  304		
                           A  3172    ;  305		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3173    .LINE 305
                           A  3174    
0411CE DD36FE00            A  3175    	LD	(IX+%FFFFFFFE),%0
0411D2 18 3B               A  3176    	JR	L_42
0411D4                     A  3177    L_40:
                           A  3178    ;  306		{
                           A  3179    ;  307			if(spriteid != NOSPRITE)
                           A  3180    .LINE 307
                           A  3181    
0411D4 DD7EFF              A  3182    	LD	A,(IX+%FFFFFFFF)
0411D7 FEFF                A  3183    	CP	A,%FF
0411D9 28 19               A  3184    	JR	Z,L_39
                           A  3185    ;  308			{
                           A  3186    ;  309				vdp_spriteSelect(spriteid);
                           A  3187    .LINE 309
                           A  3188    
0411DB DD4EFF              A  3189    	LD	C,(IX+%FFFFFFFF)
0411DE 0600                A  3190    	LD	B,%0
0411E0 C5                  A  3191    	PUSH	BC
0411E1 CD 70 08 04         A  3192    	CALL	_vdp_spriteSelect
0411E5 C1                  A  3193    	POP	BC
                           A  3194    ;  310				vdp_spriteMoveBySelected(dx
                           A  3195    .LINE 310
                           A  3196    
0411E6 DD07FA              A  3197    	LD	BC,(IX+%FFFFFFFA)
0411E9 C5                  A  3198    	PUSH	BC
0411EA DD07FC              A  3199    	LD	BC,(IX+%FFFFFFFC)
0411ED C5                  A  3200    	PUSH	BC
0411EE CD 2E 0B 04         A  3201    	CALL	_vdp_spriteMoveBySelected
0411F2 C1                  A  3202    	POP	BC
0411F3 C1                  A  3203    	POP	BC
                           A  3204    ;  311			}
0411F4                     A  3205    L_39:
                           A  3206    .LINE 311
                           A  3207    
                           A  3208    ;  312			vdp_spriteSelect(0); // player
                           A  3209    .LINE 312
                           A  3210    
0411F4 01000000            A  3211    	LD	BC,0
0411F8 C5                  A  3212    	PUSH	BC
0411F9 CD 70 08 04         A  3213    	CALL	_vdp_spriteSelect
0411FD C1                  A  3214    	POP	BC
                           A  3215    ;  313			vdp_spriteMoveBySelected(dx, dy
                           A  3216    .LINE 313
                           A  3217    
0411FE DD07FA              A  3218    	LD	BC,(IX+%FFFFFFFA)
041201 C5                  A  3219    	PUSH	BC
041202 DD07FC              A  3220    	LD	BC,(IX+%FFFFFFFC)
041205 C5                  A  3221    	PUSH	BC
041206 CD 2E 0B 04         A  3222    	CALL	_vdp_spriteMoveBySelected
04120A C1                  A  3223    	POP	BC
04120B C1                  A  3224    	POP	BC
04120C DD34FE              A  3225    	INC	(IX+%FFFFFFFE)
                           A  3226    ;  314		}
04120F                     A  3227    L_42:
                           A  3228    .LINE 314
                           A  3229    
04120F DD7EFE              A  3230    	LD	A,(IX+%FFFFFFFE)
041212 FE10                A  3231    	CP	A,%10
041214 38 BE               A  3232    	JR	C,L_40
                           A  3233    ;  315	
                           A  3234    ;  316		// set destination sprite frame
                           A  3235    ;  317		if(spriteid != NOSPRITE)
                           A  3236    .LINE 317
                           A  3237    
041216 DD7EFF              A  3238    	LD	A,(IX+%FFFFFFFF)
041219 FEFF                A  3239    	CP	A,%FF
04121B 28 57               A  3240    	JR	Z,L_48
                           A  3241    ;  318		{
                           A  3242    ;  319			vdp_spriteSelect(spriteid);
                           A  3243    .LINE 319
                           A  3244    
04121D DD4EFF              A  3245    	LD	C,(IX+%FFFFFFFF)
041220 0600                A  3246    	LD	B,%0
041222 C5                  A  3247    	PUSH	BC
041223 CD 70 08 04         A  3248    	CALL	_vdp_spriteSelect
041227 C1                  A  3249    	POP	BC
                           A  3250    ;  320			// Check if the sprite moved to
                           A  3251    ;  321			n2 = currentlevel.data[yn2][xn2
                           A  3252    .LINE 321
                           A  3253    
041228 DD070F              A  3254    	LD	BC,(IX+%F)
04122B CD 34 2B 04         A  3255    	CALL	__stoiu
04122F 3E28                A  3256    	LD	A,%28
041231 CD B3 31 04         A  3257    	CALL	__imul_b
041235 01 6B 58 04         A  3258    	LD	BC,_currentlevel+7
041239 09                  A  3259    	ADD	HL,BC
04123A E5D1                A  3260    	LD	DE,HL
04123C DD070C              A  3261    	LD	BC,(IX+%C)
04123F CD 34 2B 04         A  3262    	CALL	__stoiu
041243 19                  A  3263    	ADD	HL,DE
041244 7E                  A  3264    	LD	A,(HL)
041245 DD77F9              A  3265    	LD	(IX+%FFFFFFF9),A
                           A  3266    ;  322			switch(n2)
                           A  3267    .LINE 322
                           A  3268    
041248 B7ED62              A  3269    	UEXT	HL
04124B 6F                  A  3270    	LD	L,A
04124C CD 48 32 04         A  3271    	CALL	__case8D
041250 E9                  A  3272    	JP	(HL)
041251                     A  3273    L__16:
041251 0200                A  3274    	DW	2
041253 20                  A  3275    	DB	32
041254 5E1204              A  3276    	DW24	L_43	
                           A  3277    
041257 2E                  A  3278    	DB	46
041258 6A1204              A  3279    	DW24	L_44	
                           A  3280    
04125B 741204              A  3281    	DW24	L_48	
                           A  3282    
                           A  3283    ;  323			{
                           A  3284    ;  324				case CHAR_FLOOR:
04125E                     A  3285    L_43:
                           A  3286    .LINE 324
                           A  3287    
                           A  3288    ;  325					vdp_spriteSetFrameSelec
                           A  3289    .LINE 325
                           A  3290    
04125E 01000000            A  3291    	LD	BC,0
041262 C5                  A  3292    	PUSH	BC
041263 CD E1 09 04         A  3293    	CALL	_vdp_spriteSetFrameSelected
041267 C1                  A  3294    	POP	BC
                           A  3295    ;  326					break;
                           A  3296    .LINE 326
                           A  3297    
041268 18 0A               A  3298    	JR	L_48
                           A  3299    ;  327				case CHAR_GOAL:
04126A                     A  3300    L_44:
                           A  3301    .LINE 327
                           A  3302    
                           A  3303    ;  328					vdp_spriteSetFrameSelec
                           A  3304    .LINE 328
                           A  3305    
04126A 01010000            A  3306    	LD	BC,1
04126E C5                  A  3307    	PUSH	BC
04126F CD E1 09 04         A  3308    	CALL	_vdp_spriteSetFrameSelected
041273 C1                  A  3309    	POP	BC
                           A  3310    ;  329					break;
                           A  3311    ;  330			}
                           A  3312    ;  331		}
041274                     A  3313    L_48:
                           A  3314    .LINE 331
                           A  3315    
                           A  3316    ;  332		// update sprite number matrix
                           A  3317    ;  333		if(spriteid != NOSPRITE)
                           A  3318    .LINE 333
                           A  3319    
041274 DD7EFF              A  3320    	LD	A,(IX+%FFFFFFFF)
041277 FEFF                A  3321    	CP	A,%FF
041279 28 3F               A  3322    	JR	Z,L_49
                           A  3323    ;  334		{
                           A  3324    ;  335			// player shoves a box here
                           A  3325    ;  336			sprites[yn2][xn2] = sprites[yn1
                           A  3326    .LINE 336
                           A  3327    
04127B DD0709              A  3328    	LD	BC,(IX+%9)
04127E CD 34 2B 04         A  3329    	CALL	__stoiu
041282 3E28                A  3330    	LD	A,%28
041284 CD B3 31 04         A  3331    	CALL	__imul_b
041288 01 B4 53 04         A  3332    	LD	BC,_sprites
04128C 09                  A  3333    	ADD	HL,BC
04128D E5D1                A  3334    	LD	DE,HL
04128F DD0706              A  3335    	LD	BC,(IX+%6)
041292 CD 34 2B 04         A  3336    	CALL	__stoiu
041296 19                  A  3337    	ADD	HL,DE
041297 E5FDE1              A  3338    	LD	IY,HL
04129A DD070F              A  3339    	LD	BC,(IX+%F)
04129D CD 34 2B 04         A  3340    	CALL	__stoiu
0412A1 3E28                A  3341    	LD	A,%28
0412A3 CD B3 31 04         A  3342    	CALL	__imul_b
0412A7 01 B4 53 04         A  3343    	LD	BC,_sprites
0412AB 09                  A  3344    	ADD	HL,BC
0412AC E5D1                A  3345    	LD	DE,HL
0412AE DD070C              A  3346    	LD	BC,(IX+%C)
0412B1 CD 34 2B 04         A  3347    	CALL	__stoiu
0412B5 19                  A  3348    	ADD	HL,DE
0412B6 FD7E00              A  3349    	LD	A,(IY)
0412B9 77                  A  3350    	LD	(HL),A
                           A  3351    ;  337		}
0412BA                     A  3352    L_49:
                           A  3353    .LINE 337
                           A  3354    
                           A  3355    ;  338		sprites[yn1][xn1] = NOSPRITE; // pl
                           A  3356    .LINE 338
                           A  3357    
0412BA DD0709              A  3358    	LD	BC,(IX+%9)
0412BD CD 34 2B 04         A  3359    	CALL	__stoiu
0412C1 3E28                A  3360    	LD	A,%28
0412C3 CD B3 31 04         A  3361    	CALL	__imul_b
0412C7 01 B4 53 04         A  3362    	LD	BC,_sprites
0412CB 09                  A  3363    	ADD	HL,BC
0412CC E5D1                A  3364    	LD	DE,HL
0412CE DD0706              A  3365    	LD	BC,(IX+%6)
0412D1 CD 34 2B 04         A  3366    	CALL	__stoiu
0412D5 19                  A  3367    	ADD	HL,DE
0412D6 36FF                A  3368    	LD	(HL),%FF
                           A  3369    ;  339		sprites[currentlevel.ypos][currentl
                           A  3370    .LINE 339
                           A  3371    
0412D8 3A 65 58 04         A  3372    	LD	A,(_currentlevel+1)
0412DC B7ED62              A  3373    	UEXT	HL
0412DF 6F                  A  3374    	LD	L,A
0412E0 3E28                A  3375    	LD	A,%28
0412E2 CD B3 31 04         A  3376    	CALL	__imul_b
0412E6 01 B4 53 04         A  3377    	LD	BC,_sprites
0412EA 09                  A  3378    	ADD	HL,BC
0412EB E5C1                A  3379    	LD	BC,HL
0412ED 3A 64 58 04         A  3380    	LD	A,(_currentlevel)
0412F1 B7ED62              A  3381    	UEXT	HL
0412F4 6F                  A  3382    	LD	L,A
0412F5 09                  A  3383    	ADD	HL,BC
0412F6 36FF                A  3384    	LD	(HL),%FF
                           A  3385    ;  340		
                           A  3386    ;  341		vdp_spriteRefresh();
                           A  3387    .LINE 341
                           A  3388    
0412F8 CD CC 0B 04         A  3389    	CALL	_vdp_spriteRefresh
                           A  3390    ;  342	}
                           A  3391    .LINE 342
                           A  3392    
0412FC DDF9                A  3393    	LD	SP,IX
0412FE DDE1                A  3394    	POP	IX
041300 C9                  A  3395    	RET	
                           A  3396    
                           A  3397    
                           A  3398    ;**************************** _move_sprites ***
                           A  3399    ;Name                         Addr/Register   S
                           A  3400    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3401    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3402    ;_currentlevel                       STATIC   1
                           A  3403    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3404    ;_vdp_spriteSelect                   IMPORT  --
                           A  3405    ;_sprites                            STATIC   1
                           A  3406    ;n2                                    IX-7    
                           A  3407    ;dy                                    IX-6    
                           A  3408    ;dx                                    IX-4    
                           A  3409    ;n                                     IX-2    
                           A  3410    ;spriteid                              IX-1    
                           A  3411    ;yn2                                  IX+15    
                           A  3412    ;xn2                                  IX+12    
                           A  3413    ;yn1                                   IX+9    
                           A  3414    ;xn1                                   IX+6    
                           A  3415    
                           A  3416    
                           A  3417    ; Stack Frame Size: 25 (bytes)
                           A  3418    ;       Spill Code: 0 (instruction)
                           A  3419    
                           A  3420    
                           A  3421    .ENDFUNC "move_sprites",342,"_move_sprites"
                           A  3422    ;  343	
                           A  3423    ;  344	void undomove_sprites(UINT16 xn1, UINT1
                           A  3424    ;  345	{
041301                     A  3425    _undomove_sprites:
                           A  3426    .DEFINE "_undomove_sprites"
                           A  3427    
                           A  3428    .VALUE _undomove_sprites
                           A  3429    
                           A  3430    .CLASS 2
                           A  3431    
                           A  3432    .TYPE 65
                           A  3433    
                           A  3434    .ENDEF
                           A  3435    
                           A  3436    .BEGFUNC "undomove_sprites",345,"_undomove_spri
                           A  3437    
                           A  3438    .LINE 345
                           A  3439    
                           A  3440    .DEFINE "xn1"
                           A  3441    
                           A  3442    .CLASS 65
                           A  3443    
                           A  3444    .VALUE 6
                           A  3445    
                           A  3446    .TYPE 13
                           A  3447    
                           A  3448    .ENDEF
                           A  3449    
                           A  3450    .DEFINE "yn1"
                           A  3451    
                           A  3452    .CLASS 65
                           A  3453    
                           A  3454    .VALUE 9
                           A  3455    
                           A  3456    .TYPE 13
                           A  3457    
                           A  3458    .ENDEF
                           A  3459    
                           A  3460    .DEFINE "xn2"
                           A  3461    
                           A  3462    .CLASS 65
                           A  3463    
                           A  3464    .VALUE 12
                           A  3465    
                           A  3466    .TYPE 13
                           A  3467    
                           A  3468    .ENDEF
                           A  3469    
                           A  3470    .DEFINE "yn2"
                           A  3471    
                           A  3472    .CLASS 65
                           A  3473    
                           A  3474    .VALUE 15
                           A  3475    
                           A  3476    .TYPE 13
                           A  3477    
                           A  3478    .ENDEF
                           A  3479    
                           A  3480    .DEFINE "spriteid"
                           A  3481    
                           A  3482    .CLASS 65
                           A  3483    
                           A  3484    .VALUE -1
                           A  3485    
                           A  3486    .TYPE 12
                           A  3487    
                           A  3488    .ENDEF
                           A  3489    
                           A  3490    .DEFINE "n"
                           A  3491    
                           A  3492    .CLASS 65
                           A  3493    
                           A  3494    .VALUE -2
                           A  3495    
                           A  3496    .TYPE 12
                           A  3497    
                           A  3498    .ENDEF
                           A  3499    
                           A  3500    .DEFINE "dx"
                           A  3501    
                           A  3502    .CLASS 65
                           A  3503    
                           A  3504    .VALUE -4
                           A  3505    
                           A  3506    .TYPE 3
                           A  3507    
                           A  3508    .ENDEF
                           A  3509    
                           A  3510    .DEFINE "dy"
                           A  3511    
                           A  3512    .CLASS 65
                           A  3513    
                           A  3514    .VALUE -6
                           A  3515    
                           A  3516    .TYPE 3
                           A  3517    
                           A  3518    .ENDEF
                           A  3519    
                           A  3520    .DEFINE "n2"
                           A  3521    
                           A  3522    .CLASS 65
                           A  3523    
                           A  3524    .VALUE -7
                           A  3525    
                           A  3526    .TYPE 12
                           A  3527    
                           A  3528    .ENDEF
                           A  3529    
041301 DDE5                A  3530    	PUSH	IX
041303 DD210000 00         A  3531    	LD	IX,0
041308 DD39                A  3532    	ADD	IX,SP
04130A C5                  A  3533    	PUSH	BC
04130B C5                  A  3534    	PUSH	BC
04130C 3B                  A  3535    	DEC	SP
                           A  3536    ;  346		// move can happen, no need to chec
                           A  3537    ;  347		UINT8 spriteid = sprites[yn1][xn1];
                           A  3538    .LINE 347
                           A  3539    
04130D DD0709              A  3540    	LD	BC,(IX+%9)
041310 CD 34 2B 04         A  3541    	CALL	__stoiu
041314 3E28                A  3542    	LD	A,%28
041316 CD B3 31 04         A  3543    	CALL	__imul_b
04131A 01 B4 53 04         A  3544    	LD	BC,_sprites
04131E 09                  A  3545    	ADD	HL,BC
04131F E5D1                A  3546    	LD	DE,HL
041321 DD0706              A  3547    	LD	BC,(IX+%6)
041324 CD 34 2B 04         A  3548    	CALL	__stoiu
041328 19                  A  3549    	ADD	HL,DE
041329 7E                  A  3550    	LD	A,(HL)
04132A DD77FF              A  3551    	LD	(IX+%FFFFFFFF),A
                           A  3552    ;  348		UINT8 n;
                           A  3553    ;  349		INT16 dx, dy;
                           A  3554    ;  350		UINT8 n2;
                           A  3555    ;  351			
                           A  3556    ;  352		dx = xn2 - xn1;
                           A  3557    .LINE 352
                           A  3558    
04132D DD0706              A  3559    	LD	BC,(IX+%6)
041330 DD270C              A  3560    	LD	HL,(IX+%C)
041333 B7                  A  3561    	OR	A,A
041334 40ED42              A  3562    	SBC.SIS	HL,BC
041337 DD75FC              A  3563    	LD	(IX+%FFFFFFFC),L
04133A DD74FD              A  3564    	LD	(IX+%FFFFFFFD),H
                           A  3565    ;  353		dy = yn2 - yn1;
                           A  3566    .LINE 353
                           A  3567    
04133D DD0709              A  3568    	LD	BC,(IX+%9)
041340 DD270F              A  3569    	LD	HL,(IX+%F)
041343 B7                  A  3570    	OR	A,A
041344 40ED42              A  3571    	SBC.SIS	HL,BC
041347 DD75FA              A  3572    	LD	(IX+%FFFFFFFA),L
04134A DD74FB              A  3573    	LD	(IX+%FFFFFFFB),H
                           A  3574    ;  354		
                           A  3575    ;  355		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3576    .LINE 355
                           A  3577    
04134D DD36FE00            A  3578    	LD	(IX+%FFFFFFFE),%0
041351 18 42               A  3579    	JR	L_57
041353                     A  3580    L_55:
                           A  3581    ;  356		{
                           A  3582    ;  357			if((undomove.pushed) && (sprite
                           A  3583    .LINE 357
                           A  3584    
041353 3A B2 4F 04         A  3585    	LD	A,(_undomove+1)
041357 B7                  A  3586    	OR	A,A
041358 28 20               A  3587    	JR	Z,L_54
04135A DD7EFF              A  3588    	LD	A,(IX+%FFFFFFFF)
04135D FEFF                A  3589    	CP	A,%FF
04135F 28 19               A  3590    	JR	Z,L_54
                           A  3591    ;  358			{
                           A  3592    ;  359				vdp_spriteSelect(spriteid);
                           A  3593    .LINE 359
                           A  3594    
041361 DD4EFF              A  3595    	LD	C,(IX+%FFFFFFFF)
041364 0600                A  3596    	LD	B,%0
041366 C5                  A  3597    	PUSH	BC
041367 CD 70 08 04         A  3598    	CALL	_vdp_spriteSelect
04136B C1                  A  3599    	POP	BC
                           A  3600    ;  360				vdp_spriteMoveBySelected(dx
                           A  3601    .LINE 360
                           A  3602    
04136C DD07FA              A  3603    	LD	BC,(IX+%FFFFFFFA)
04136F C5                  A  3604    	PUSH	BC
041370 DD07FC              A  3605    	LD	BC,(IX+%FFFFFFFC)
041373 C5                  A  3606    	PUSH	BC
041374 CD 2E 0B 04         A  3607    	CALL	_vdp_spriteMoveBySelected
041378 C1                  A  3608    	POP	BC
041379 C1                  A  3609    	POP	BC
                           A  3610    ;  361			}
04137A                     A  3611    L_54:
                           A  3612    .LINE 361
                           A  3613    
                           A  3614    ;  362			vdp_spriteSelect(0); // player
                           A  3615    .LINE 362
                           A  3616    
04137A 01000000            A  3617    	LD	BC,0
04137E C5                  A  3618    	PUSH	BC
04137F CD 70 08 04         A  3619    	CALL	_vdp_spriteSelect
041383 C1                  A  3620    	POP	BC
                           A  3621    ;  363			vdp_spriteMoveBySelected(dx, dy
                           A  3622    .LINE 363
                           A  3623    
041384 DD07FA              A  3624    	LD	BC,(IX+%FFFFFFFA)
041387 C5                  A  3625    	PUSH	BC
041388 DD07FC              A  3626    	LD	BC,(IX+%FFFFFFFC)
04138B C5                  A  3627    	PUSH	BC
04138C CD 2E 0B 04         A  3628    	CALL	_vdp_spriteMoveBySelected
041390 C1                  A  3629    	POP	BC
041391 C1                  A  3630    	POP	BC
041392 DD34FE              A  3631    	INC	(IX+%FFFFFFFE)
                           A  3632    ;  364		}
041395                     A  3633    L_57:
                           A  3634    .LINE 364
                           A  3635    
041395 DD7EFE              A  3636    	LD	A,(IX+%FFFFFFFE)
041398 FE10                A  3637    	CP	A,%10
04139A 38 B7               A  3638    	JR	C,L_55
                           A  3639    ;  365	
                           A  3640    ;  366		// set destination sprite frame
                           A  3641    ;  367		if((undomove.pushed) && (spriteid !
                           A  3642    .LINE 367
                           A  3643    
04139C 3A B2 4F 04         A  3644    	LD	A,(_undomove+1)
0413A0 B7                  A  3645    	OR	A,A
0413A1 28 5E               A  3646    	JR	Z,L_66
0413A3 DD7EFF              A  3647    	LD	A,(IX+%FFFFFFFF)
0413A6 FEFF                A  3648    	CP	A,%FF
0413A8 28 57               A  3649    	JR	Z,L_66
                           A  3650    ;  368		{
                           A  3651    ;  369			vdp_spriteSelect(spriteid);
                           A  3652    .LINE 369
                           A  3653    
0413AA DD4EFF              A  3654    	LD	C,(IX+%FFFFFFFF)
0413AD 0600                A  3655    	LD	B,%0
0413AF C5                  A  3656    	PUSH	BC
0413B0 CD 70 08 04         A  3657    	CALL	_vdp_spriteSelect
0413B4 C1                  A  3658    	POP	BC
                           A  3659    ;  370			// Check if the sprite moved to
                           A  3660    ;  371			n2 = currentlevel.data[yn2][xn2
                           A  3661    .LINE 371
                           A  3662    
0413B5 DD070F              A  3663    	LD	BC,(IX+%F)
0413B8 CD 34 2B 04         A  3664    	CALL	__stoiu
0413BC 3E28                A  3665    	LD	A,%28
0413BE CD B3 31 04         A  3666    	CALL	__imul_b
0413C2 01 6B 58 04         A  3667    	LD	BC,_currentlevel+7
0413C6 09                  A  3668    	ADD	HL,BC
0413C7 E5D1                A  3669    	LD	DE,HL
0413C9 DD070C              A  3670    	LD	BC,(IX+%C)
0413CC CD 34 2B 04         A  3671    	CALL	__stoiu
0413D0 19                  A  3672    	ADD	HL,DE
0413D1 7E                  A  3673    	LD	A,(HL)
0413D2 DD77F9              A  3674    	LD	(IX+%FFFFFFF9),A
                           A  3675    ;  372			switch(n2)
                           A  3676    .LINE 372
                           A  3677    
0413D5 B7ED62              A  3678    	UEXT	HL
0413D8 6F                  A  3679    	LD	L,A
0413D9 CD 48 32 04         A  3680    	CALL	__case8D
0413DD E9                  A  3681    	JP	(HL)
0413DE                     A  3682    L__24:
0413DE 0200                A  3683    	DW	2
0413E0 2B                  A  3684    	DB	43
0413E1 F71304              A  3685    	DW24	L_60	
                           A  3686    
0413E4 40                  A  3687    	DB	64
0413E5 EB1304              A  3688    	DW24	L_59	
                           A  3689    
0413E8 011404              A  3690    	DW24	L_66	
                           A  3691    
                           A  3692    ;  373			{
                           A  3693    ;  374				case CHAR_PLAYER:
0413EB                     A  3694    L_59:
                           A  3695    .LINE 374
                           A  3696    
                           A  3697    ;  375					vdp_spriteSetFrameSelec
                           A  3698    .LINE 375
                           A  3699    
0413EB 01000000            A  3700    	LD	BC,0
0413EF C5                  A  3701    	PUSH	BC
0413F0 CD E1 09 04         A  3702    	CALL	_vdp_spriteSetFrameSelected
0413F4 C1                  A  3703    	POP	BC
                           A  3704    ;  376					break;
                           A  3705    .LINE 376
                           A  3706    
0413F5 18 0A               A  3707    	JR	L_66
                           A  3708    ;  377				case CHAR_PLAYERONGOAL:
0413F7                     A  3709    L_60:
                           A  3710    .LINE 377
                           A  3711    
                           A  3712    ;  378					vdp_spriteSetFrameSelec
                           A  3713    .LINE 378
                           A  3714    
0413F7 01010000            A  3715    	LD	BC,1
0413FB C5                  A  3716    	PUSH	BC
0413FC CD E1 09 04         A  3717    	CALL	_vdp_spriteSetFrameSelected
041400 C1                  A  3718    	POP	BC
                           A  3719    ;  379					break;
                           A  3720    ;  380			}
                           A  3721    ;  381		}
041401                     A  3722    L_66:
                           A  3723    .LINE 381
                           A  3724    
                           A  3725    ;  382		// update sprite number matrix
                           A  3726    ;  383		if(undomove.pushed)
                           A  3727    .LINE 383
                           A  3728    
041401 3A B2 4F 04         A  3729    	LD	A,(_undomove+1)
041405 B7                  A  3730    	OR	A,A
041406 28 64               A  3731    	JR	Z,L_67
                           A  3732    ;  384		{
                           A  3733    ;  385			if(spriteid != NOSPRITE)
                           A  3734    .LINE 385
                           A  3735    
041408 DD7EFF              A  3736    	LD	A,(IX+%FFFFFFFF)
04140B FEFF                A  3737    	CP	A,%FF
04140D 28 3F               A  3738    	JR	Z,L_64
                           A  3739    ;  386			{
                           A  3740    ;  387				// player shoved a box here
                           A  3741    ;  388				sprites[yn2][xn2] = sprites
                           A  3742    .LINE 388
                           A  3743    
04140F DD0709              A  3744    	LD	BC,(IX+%9)
041412 CD 34 2B 04         A  3745    	CALL	__stoiu
041416 3E28                A  3746    	LD	A,%28
041418 CD B3 31 04         A  3747    	CALL	__imul_b
04141C 01 B4 53 04         A  3748    	LD	BC,_sprites
041420 09                  A  3749    	ADD	HL,BC
041421 E5D1                A  3750    	LD	DE,HL
041423 DD0706              A  3751    	LD	BC,(IX+%6)
041426 CD 34 2B 04         A  3752    	CALL	__stoiu
04142A 19                  A  3753    	ADD	HL,DE
04142B E5FDE1              A  3754    	LD	IY,HL
04142E DD070F              A  3755    	LD	BC,(IX+%F)
041431 CD 34 2B 04         A  3756    	CALL	__stoiu
041435 3E28                A  3757    	LD	A,%28
041437 CD B3 31 04         A  3758    	CALL	__imul_b
04143B 01 B4 53 04         A  3759    	LD	BC,_sprites
04143F 09                  A  3760    	ADD	HL,BC
041440 E5D1                A  3761    	LD	DE,HL
041442 DD070C              A  3762    	LD	BC,(IX+%C)
041445 CD 34 2B 04         A  3763    	CALL	__stoiu
041449 19                  A  3764    	ADD	HL,DE
04144A FD7E00              A  3765    	LD	A,(IY)
04144D 77                  A  3766    	LD	(HL),A
                           A  3767    ;  389			}
04144E                     A  3768    L_64:
                           A  3769    .LINE 389
                           A  3770    
                           A  3771    ;  390			sprites[yn1][xn1] = NOSPRITE; /
                           A  3772    .LINE 390
                           A  3773    
04144E DD0709              A  3774    	LD	BC,(IX+%9)
041451 CD 34 2B 04         A  3775    	CALL	__stoiu
041455 3E28                A  3776    	LD	A,%28
041457 CD B3 31 04         A  3777    	CALL	__imul_b
04145B 01 B4 53 04         A  3778    	LD	BC,_sprites
04145F 09                  A  3779    	ADD	HL,BC
041460 E5D1                A  3780    	LD	DE,HL
041462 DD0706              A  3781    	LD	BC,(IX+%6)
041465 CD 34 2B 04         A  3782    	CALL	__stoiu
041469 19                  A  3783    	ADD	HL,DE
04146A 36FF                A  3784    	LD	(HL),%FF
                           A  3785    ;  391		}
04146C                     A  3786    L_67:
                           A  3787    .LINE 391
                           A  3788    
                           A  3789    ;  392		
                           A  3790    ;  393		vdp_spriteRefresh();
                           A  3791    .LINE 393
                           A  3792    
04146C CD CC 0B 04         A  3793    	CALL	_vdp_spriteRefresh
                           A  3794    ;  394	}
                           A  3795    .LINE 394
                           A  3796    
041470 DDF9                A  3797    	LD	SP,IX
041472 DDE1                A  3798    	POP	IX
041474 C9                  A  3799    	RET	
                           A  3800    
                           A  3801    
                           A  3802    ;**************************** _undomove_sprites
                           A  3803    ;Name                         Addr/Register   S
                           A  3804    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3805    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3806    ;_currentlevel                       STATIC   1
                           A  3807    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3808    ;_vdp_spriteSelect                   IMPORT  --
                           A  3809    ;_undomove                           STATIC    
                           A  3810    ;_sprites                            STATIC   1
                           A  3811    ;n2                                    IX-7    
                           A  3812    ;dy                                    IX-6    
                           A  3813    ;dx                                    IX-4    
                           A  3814    ;n                                     IX-2    
                           A  3815    ;spriteid                              IX-1    
                           A  3816    ;yn2                                  IX+15    
                           A  3817    ;xn2                                  IX+12    
                           A  3818    ;yn1                                   IX+9    
                           A  3819    ;xn1                                   IX+6    
                           A  3820    
                           A  3821    
                           A  3822    ; Stack Frame Size: 25 (bytes)
                           A  3823    ;       Spill Code: 0 (instruction)
                           A  3824    
                           A  3825    
                           A  3826    .ENDFUNC "undomove_sprites",394,"_undomove_spri
                           A  3827    ;  395	
                           A  3828    ;  396	void move_updatelevel(UINT16 xn1, UINT1
                           A  3829    ;  397	{
041475                     A  3830    _move_updatelevel:
                           A  3831    .DEFINE "_move_updatelevel"
                           A  3832    
                           A  3833    .VALUE _move_updatelevel
                           A  3834    
                           A  3835    .CLASS 2
                           A  3836    
                           A  3837    .TYPE 65
                           A  3838    
                           A  3839    .ENDEF
                           A  3840    
                           A  3841    .BEGFUNC "move_updatelevel",397,"_move_updatele
                           A  3842    
                           A  3843    .LINE 397
                           A  3844    
                           A  3845    .DEFINE "xn1"
                           A  3846    
                           A  3847    .CLASS 65
                           A  3848    
                           A  3849    .VALUE 6
                           A  3850    
                           A  3851    .TYPE 13
                           A  3852    
                           A  3853    .ENDEF
                           A  3854    
                           A  3855    .DEFINE "yn1"
                           A  3856    
                           A  3857    .CLASS 65
                           A  3858    
                           A  3859    .VALUE 9
                           A  3860    
                           A  3861    .TYPE 13
                           A  3862    
                           A  3863    .ENDEF
                           A  3864    
                           A  3865    .DEFINE "xn2"
                           A  3866    
                           A  3867    .CLASS 65
                           A  3868    
                           A  3869    .VALUE 12
                           A  3870    
                           A  3871    .TYPE 13
                           A  3872    
                           A  3873    .ENDEF
                           A  3874    
                           A  3875    .DEFINE "yn2"
                           A  3876    
                           A  3877    .CLASS 65
                           A  3878    
                           A  3879    .VALUE 15
                           A  3880    
                           A  3881    .TYPE 13
                           A  3882    
                           A  3883    .ENDEF
                           A  3884    
                           A  3885    .DEFINE "onlyplayermoves"
                           A  3886    
                           A  3887    .CLASS 65
                           A  3888    
                           A  3889    .VALUE -4
                           A  3890    
                           A  3891    .TYPE 12
                           A  3892    
                           A  3893    .ENDEF
                           A  3894    
                           A  3895    .DEFINE "n1"
                           A  3896    
                           A  3897    .CLASS 65
                           A  3898    
                           A  3899    .VALUE -5
                           A  3900    
                           A  3901    .TYPE 12
                           A  3902    
                           A  3903    .ENDEF
                           A  3904    
                           A  3905    .DEFINE "n2"
                           A  3906    
                           A  3907    .CLASS 65
                           A  3908    
                           A  3909    .VALUE -21
                           A  3910    
                           A  3911    .TYPE 12
                           A  3912    
                           A  3913    .ENDEF
                           A  3914    
041475 DDE5                A  3915    	PUSH	IX
041477 DD210000 00         A  3916    	LD	IX,0
04147C DD39                A  3917    	ADD	IX,SP
04147E ED22E5              A  3918    	LEA	HL,IX+%FFFFFFE5
041481 F9                  A  3919    	LD	SP,HL
                           A  3920    ;  398		// move can happen, no need to chec
                           A  3921    ;  399		UINT8 n1, n2;
                           A  3922    ;  400		BOOL onlyplayermoves;
                           A  3923    ;  401		
                           A  3924    ;  402		// move n1 => n2
                           A  3925    ;  403		n1 = currentlevel.data[yn1][xn1];
                           A  3926    .LINE 403
                           A  3927    
041482 01 6B 58 04         A  3928    	LD	BC,_currentlevel+7
041486 DD0FE5              A  3929    	LD	(IX+%FFFFFFE5),BC
041489 DD0FEC              A  3930    	LD	(IX+%FFFFFFEC),BC
04148C DD0709              A  3931    	LD	BC,(IX+%9)
04148F CD 34 2B 04         A  3932    	CALL	__stoiu
041493 3E28                A  3933    	LD	A,%28
041495 CD B3 31 04         A  3934    	CALL	__imul_b
041499 DD2FFD              A  3935    	LD	(IX+%FFFFFFFD),HL
04149C DD2FEF              A  3936    	LD	(IX+%FFFFFFEF),HL
04149F DD2FF2              A  3937    	LD	(IX+%FFFFFFF2),HL
0414A2 DD2FE8              A  3938    	LD	(IX+%FFFFFFE8),HL
0414A5 01 6B 58 04         A  3939    	LD	BC,_currentlevel+7
0414A9 DD27FD              A  3940    	LD	HL,(IX+%FFFFFFFD)
0414AC 09                  A  3941    	ADD	HL,BC
0414AD E5D1                A  3942    	LD	DE,HL
0414AF DD0706              A  3943    	LD	BC,(IX+%6)
0414B2 CD 34 2B 04         A  3944    	CALL	__stoiu
0414B6 19                  A  3945    	ADD	HL,DE
0414B7 7E                  A  3946    	LD	A,(HL)
0414B8 DD77FB              A  3947    	LD	(IX+%FFFFFFFB),A
                           A  3948    ;  404		n2 = currentlevel.data[yn2][xn2];
                           A  3949    .LINE 404
                           A  3950    
0414BB DD070F              A  3951    	LD	BC,(IX+%F)
0414BE CD 34 2B 04         A  3952    	CALL	__stoiu
0414C2 3E28                A  3953    	LD	A,%28
0414C4 CD B3 31 04         A  3954    	CALL	__imul_b
0414C8 DD2FF8              A  3955    	LD	(IX+%FFFFFFF8),HL
0414CB 01 6B 58 04         A  3956    	LD	BC,_currentlevel+7
0414CF DD27F8              A  3957    	LD	HL,(IX+%FFFFFFF8)
0414D2 09                  A  3958    	ADD	HL,BC
0414D3 E5D1                A  3959    	LD	DE,HL
0414D5 DD070C              A  3960    	LD	BC,(IX+%C)
0414D8 CD 34 2B 04         A  3961    	CALL	__stoiu
0414DC 19                  A  3962    	ADD	HL,DE
0414DD 7E                  A  3963    	LD	A,(HL)
0414DE DD77EB              A  3964    	LD	(IX+%FFFFFFEB),A
                           A  3965    ;  405	
                           A  3966    ;  406		
                           A  3967    ;  407		switch(n1)
                           A  3968    .LINE 407
                           A  3969    
0414E1 DD7EFB              A  3970    	LD	A,(IX+%FFFFFFFB)
0414E4 B7ED62              A  3971    	UEXT	HL
0414E7 6F                  A  3972    	LD	L,A
0414E8 CD 48 32 04         A  3973    	CALL	__case8D
0414EC E9                  A  3974    	JP	(HL)
0414ED                     A  3975    L__28:
0414ED 0200                A  3976    	DW	2
0414EF 20                  A  3977    	DB	32
0414F0 FA1404              A  3978    	DW24	L_69	
                           A  3979    
0414F3 2E                  A  3980    	DB	46
0414F4 301504              A  3981    	DW24	L_70	
                           A  3982    
0414F7 661504              A  3983    	DW24	L_71	
                           A  3984    
                           A  3985    ;  408		{
                           A  3986    ;  409			case CHAR_FLOOR:
0414FA                     A  3987    L_69:
                           A  3988    .LINE 409
                           A  3989    
                           A  3990    ;  410				onlyplayermoves = TRUE;
                           A  3991    .LINE 410
                           A  3992    
0414FA DD36FC01            A  3993    	LD	(IX+%FFFFFFFC),%1
                           A  3994    ;  411				currentlevel.data[yn1][xn1]
                           A  3995    .LINE 411
                           A  3996    
0414FE 01 6B 58 04         A  3997    	LD	BC,_currentlevel+7
041502 DD0FE5              A  3998    	LD	(IX+%FFFFFFE5),BC
041505 DD0FEC              A  3999    	LD	(IX+%FFFFFFEC),BC
041508 DD07FD              A  4000    	LD	BC,(IX+%FFFFFFFD)
04150B DD0FEF              A  4001    	LD	(IX+%FFFFFFEF),BC
04150E DD07FD              A  4002    	LD	BC,(IX+%FFFFFFFD)
041511 DD0FF2              A  4003    	LD	(IX+%FFFFFFF2),BC
041514 DD07FD              A  4004    	LD	BC,(IX+%FFFFFFFD)
041517 DD0FE8              A  4005    	LD	(IX+%FFFFFFE8),BC
04151A 01 6B 58 04         A  4006    	LD	BC,_currentlevel+7
04151E DD27FD              A  4007    	LD	HL,(IX+%FFFFFFFD)
041521 09                  A  4008    	ADD	HL,BC
041522 E5D1                A  4009    	LD	DE,HL
041524 DD0706              A  4010    	LD	BC,(IX+%6)
041527 CD 34 2B 04         A  4011    	CALL	__stoiu
04152B 19                  A  4012    	ADD	HL,DE
04152C 3640                A  4013    	LD	(HL),%40
                           A  4014    ;  412				break;
                           A  4015    .LINE 412
                           A  4016    
04152E 18 3A               A  4017    	JR	L_82
                           A  4018    ;  413			case CHAR_GOAL:
041530                     A  4019    L_70:
                           A  4020    .LINE 413
                           A  4021    
                           A  4022    ;  414				onlyplayermoves = TRUE;
                           A  4023    .LINE 414
                           A  4024    
041530 DD36FC01            A  4025    	LD	(IX+%FFFFFFFC),%1
                           A  4026    ;  415				currentlevel.data[yn1][xn1]
                           A  4027    .LINE 415
                           A  4028    
041534 01 6B 58 04         A  4029    	LD	BC,_currentlevel+7
041538 DD0FE5              A  4030    	LD	(IX+%FFFFFFE5),BC
04153B DD0FEC              A  4031    	LD	(IX+%FFFFFFEC),BC
04153E DD07FD              A  4032    	LD	BC,(IX+%FFFFFFFD)
041541 DD0FEF              A  4033    	LD	(IX+%FFFFFFEF),BC
041544 DD07FD              A  4034    	LD	BC,(IX+%FFFFFFFD)
041547 DD0FF2              A  4035    	LD	(IX+%FFFFFFF2),BC
04154A DD07FD              A  4036    	LD	BC,(IX+%FFFFFFFD)
04154D DD0FE8              A  4037    	LD	(IX+%FFFFFFE8),BC
041550 01 6B 58 04         A  4038    	LD	BC,_currentlevel+7
041554 DD27FD              A  4039    	LD	HL,(IX+%FFFFFFFD)
041557 09                  A  4040    	ADD	HL,BC
041558 E5D1                A  4041    	LD	DE,HL
04155A DD0706              A  4042    	LD	BC,(IX+%6)
04155D CD 34 2B 04         A  4043    	CALL	__stoiu
041561 19                  A  4044    	ADD	HL,DE
041562 362B                A  4045    	LD	(HL),%2B
                           A  4046    ;  416				break;
                           A  4047    .LINE 416
                           A  4048    
041564 18 04               A  4049    	JR	L_82
                           A  4050    ;  417			default:
041566                     A  4051    L_71:
                           A  4052    .LINE 417
                           A  4053    
                           A  4054    ;  418				onlyplayermoves = FALSE;
                           A  4055    .LINE 418
                           A  4056    
041566 DD36FC00            A  4057    	LD	(IX+%FFFFFFFC),%0
                           A  4058    ;  419				break;
                           A  4059    ;  420		}
04156A                     A  4060    L_82:
                           A  4061    .LINE 420
                           A  4062    
                           A  4063    ;  421		if(!onlyplayermoves)
                           A  4064    .LINE 421
                           A  4065    
04156A DD7EFC              A  4066    	LD	A,(IX+%FFFFFFFC)
04156D B7                  A  4067    	OR	A,A
04156E C2 22 16 04         A  4068    	JR	NZ,L_85
                           A  4069    ;  422		{
                           A  4070    ;  423			switch(n2)
                           A  4071    .LINE 423
                           A  4072    
041572 DD7EEB              A  4073    	LD	A,(IX+%FFFFFFEB)
041575 B7ED62              A  4074    	UEXT	HL
041578 6F                  A  4075    	LD	L,A
041579 CD 48 32 04         A  4076    	CALL	__case8D
04157D E9                  A  4077    	JP	(HL)
04157E                     A  4078    L__30:
04157E 0200                A  4079    	DW	2
041580 20                  A  4080    	DB	32
041581 8B1504              A  4081    	DW24	L_72	
                           A  4082    
041584 2E                  A  4083    	DB	46
041585 A01504              A  4084    	DW24	L_73	
                           A  4085    
041588 BC1504              A  4086    	DW24	L_80	
                           A  4087    
                           A  4088    ;  424			{
                           A  4089    ;  425				case CHAR_FLOOR:
04158B                     A  4090    L_72:
                           A  4091    .LINE 425
                           A  4092    
                           A  4093    ;  426					currentlevel.data[yn2][
                           A  4094    .LINE 426
                           A  4095    
04158B DD07F8              A  4096    	LD	BC,(IX+%FFFFFFF8)
04158E DD27E5              A  4097    	LD	HL,(IX+%FFFFFFE5)
041591 09                  A  4098    	ADD	HL,BC
041592 E5D1                A  4099    	LD	DE,HL
041594 DD070C              A  4100    	LD	BC,(IX+%C)
041597 CD 34 2B 04         A  4101    	CALL	__stoiu
04159B 19                  A  4102    	ADD	HL,DE
04159C 3624                A  4103    	LD	(HL),%24
                           A  4104    ;  427					break;
                           A  4105    .LINE 427
                           A  4106    
04159E 18 1C               A  4107    	JR	L_80
                           A  4108    ;  428				case CHAR_GOAL:
0415A0                     A  4109    L_73:
                           A  4110    .LINE 428
                           A  4111    
                           A  4112    ;  429					currentlevel.data[yn2][
                           A  4113    .LINE 429
                           A  4114    
0415A0 DD07F8              A  4115    	LD	BC,(IX+%FFFFFFF8)
0415A3 DD27EC              A  4116    	LD	HL,(IX+%FFFFFFEC)
0415A6 09                  A  4117    	ADD	HL,BC
0415A7 E5D1                A  4118    	LD	DE,HL
0415A9 DD070C              A  4119    	LD	BC,(IX+%C)
0415AC CD 34 2B 04         A  4120    	CALL	__stoiu
0415B0 19                  A  4121    	ADD	HL,DE
0415B1 362A                A  4122    	LD	(HL),%2A
                           A  4123    ;  430					currentlevel.goalstaken
                           A  4124    .LINE 430
                           A  4125    
0415B3 3A 69 58 04         A  4126    	LD	A,(_currentlevel+5)
0415B7 3C                  A  4127    	INC	A
0415B8 32 69 58 04         A  4128    	LD	(_currentlevel+5),A
                           A  4129    ;  431					break;
                           A  4130    ;  432				default:
                           A  4131    ;  433					break; // ignore the re
                           A  4132    ;  434			}
0415BC                     A  4133    L_80:
                           A  4134    .LINE 434
                           A  4135    
                           A  4136    ;  435			switch(n1)
                           A  4137    .LINE 435
                           A  4138    
0415BC DD7EFB              A  4139    	LD	A,(IX+%FFFFFFFB)
0415BF B7ED62              A  4140    	UEXT	HL
0415C2 6F                  A  4141    	LD	L,A
0415C3 CD 48 32 04         A  4142    	CALL	__case8D
0415C7 E9                  A  4143    	JP	(HL)
0415C8                     A  4144    L__31:
0415C8 0300                A  4145    	DW	3
0415CA 24                  A  4146    	DB	36
0415CB D91504              A  4147    	DW24	L_76	
                           A  4148    
0415CE 2A                  A  4149    	DB	42
0415CF EF1504              A  4150    	DW24	L_77	
                           A  4151    
0415D2 2E                  A  4152    	DB	46
0415D3 0E1604              A  4153    	DW24	L_79	
                           A  4154    
0415D6 221604              A  4155    	DW24	L_85	
                           A  4156    
                           A  4157    ;  436			{
                           A  4158    ;  437				case CHAR_BOX:
0415D9                     A  4159    L_76:
                           A  4160    .LINE 437
                           A  4161    
                           A  4162    ;  438					currentlevel.data[yn1][
                           A  4163    .LINE 438
                           A  4164    
0415D9 01 6B 58 04         A  4165    	LD	BC,_currentlevel+7
0415DD DD27EF              A  4166    	LD	HL,(IX+%FFFFFFEF)
0415E0 09                  A  4167    	ADD	HL,BC
0415E1 E5D1                A  4168    	LD	DE,HL
0415E3 DD0706              A  4169    	LD	BC,(IX+%6)
0415E6 CD 34 2B 04         A  4170    	CALL	__stoiu
0415EA 19                  A  4171    	ADD	HL,DE
0415EB 3640                A  4172    	LD	(HL),%40
                           A  4173    ;  439					break;
                           A  4174    .LINE 439
                           A  4175    
0415ED 18 33               A  4176    	JR	L_85
                           A  4177    ;  440				case CHAR_BOXONGOAL:
0415EF                     A  4178    L_77:
                           A  4179    .LINE 440
                           A  4180    
                           A  4181    ;  441					currentlevel.data[yn1][
                           A  4182    .LINE 441
                           A  4183    
0415EF 01 6B 58 04         A  4184    	LD	BC,_currentlevel+7
0415F3 DD27F2              A  4185    	LD	HL,(IX+%FFFFFFF2)
0415F6 09                  A  4186    	ADD	HL,BC
0415F7 E5D1                A  4187    	LD	DE,HL
0415F9 DD0706              A  4188    	LD	BC,(IX+%6)
0415FC CD 34 2B 04         A  4189    	CALL	__stoiu
041600 19                  A  4190    	ADD	HL,DE
041601 362B                A  4191    	LD	(HL),%2B
                           A  4192    ;  442					currentlevel.goalstaken
                           A  4193    .LINE 442
                           A  4194    
041603 3A 69 58 04         A  4195    	LD	A,(_currentlevel+5)
041607 3D                  A  4196    	DEC	A
041608 32 69 58 04         A  4197    	LD	(_currentlevel+5),A
                           A  4198    ;  443					break;
                           A  4199    .LINE 443
                           A  4200    
04160C 18 14               A  4201    	JR	L_85
                           A  4202    ;  444				case CHAR_GOAL:
04160E                     A  4203    L_79:
                           A  4204    .LINE 444
                           A  4205    
                           A  4206    ;  445					currentlevel.data[yn1][
                           A  4207    .LINE 445
                           A  4208    
04160E 01 6B 58 04         A  4209    	LD	BC,_currentlevel+7
041612 DD27E8              A  4210    	LD	HL,(IX+%FFFFFFE8)
041615 09                  A  4211    	ADD	HL,BC
041616 E5D1                A  4212    	LD	DE,HL
041618 DD0706              A  4213    	LD	BC,(IX+%6)
04161B CD 34 2B 04         A  4214    	CALL	__stoiu
04161F 19                  A  4215    	ADD	HL,DE
041620 362B                A  4216    	LD	(HL),%2B
                           A  4217    ;  446					break;
                           A  4218    ;  447			}
                           A  4219    ;  448		}
041622                     A  4220    L_85:
                           A  4221    .LINE 448
                           A  4222    
                           A  4223    ;  449		
                           A  4224    ;  450		
                           A  4225    ;  451		// check where the player was stand
                           A  4226    ;  452		if(currentlevel.data[currentlevel.y
                           A  4227    .LINE 452
                           A  4228    
041622 01 6B 58 04         A  4229    	LD	BC,_currentlevel+7
041626 DD0FF5              A  4230    	LD	(IX+%FFFFFFF5),BC
041629 3A 65 58 04         A  4231    	LD	A,(_currentlevel+1)
04162D B7ED62              A  4232    	UEXT	HL
041630 6F                  A  4233    	LD	L,A
041631 3E28                A  4234    	LD	A,%28
041633 CD B3 31 04         A  4235    	CALL	__imul_b
041637 DD07F5              A  4236    	LD	BC,(IX+%FFFFFFF5)
04163A 09                  A  4237    	ADD	HL,BC
04163B E5C1                A  4238    	LD	BC,HL
04163D 3A 64 58 04         A  4239    	LD	A,(_currentlevel)
041641 B7ED62              A  4240    	UEXT	HL
041644 6F                  A  4241    	LD	L,A
041645 09                  A  4242    	ADD	HL,BC
041646 7E                  A  4243    	LD	A,(HL)
041647 B7ED62              A  4244    	UEXT	HL
04164A 6F                  A  4245    	LD	L,A
04164B 012B0000            A  4246    	LD	BC,43
04164F B7                  A  4247    	OR	A,A
041650 ED42                A  4248    	SBC	HL,BC
041652 20 21               A  4249    	JR	NZ,L_84
041654 3A 65 58 04         A  4250    	LD	A,(_currentlevel+1)
041658 B7ED62              A  4251    	UEXT	HL
04165B 6F                  A  4252    	LD	L,A
04165C 3E28                A  4253    	LD	A,%28
04165E CD B3 31 04         A  4254    	CALL	__imul_b
041662 DD07F5              A  4255    	LD	BC,(IX+%FFFFFFF5)
041665 09                  A  4256    	ADD	HL,BC
041666 E5C1                A  4257    	LD	BC,HL
041668 3A 64 58 04         A  4258    	LD	A,(_currentlevel)
04166C B7ED62              A  4259    	UEXT	HL
04166F 6F                  A  4260    	LD	L,A
041670 09                  A  4261    	ADD	HL,BC
041671 362E                A  4262    	LD	(HL),%2E
                           A  4263    ;  453		else currentlevel.data[currentlevel
                           A  4264    .LINE 453
                           A  4265    
041673 18 1F               A  4266    	JR	L_86
041675                     A  4267    L_84:
041675 3A 65 58 04         A  4268    	LD	A,(_currentlevel+1)
041679 B7ED62              A  4269    	UEXT	HL
04167C 6F                  A  4270    	LD	L,A
04167D 3E28                A  4271    	LD	A,%28
04167F CD B3 31 04         A  4272    	CALL	__imul_b
041683 DD07F5              A  4273    	LD	BC,(IX+%FFFFFFF5)
041686 09                  A  4274    	ADD	HL,BC
041687 E5C1                A  4275    	LD	BC,HL
041689 3A 64 58 04         A  4276    	LD	A,(_currentlevel)
04168D B7ED62              A  4277    	UEXT	HL
041690 6F                  A  4278    	LD	L,A
041691 09                  A  4279    	ADD	HL,BC
041692 3620                A  4280    	LD	(HL),%20
041694                     A  4281    L_86:
                           A  4282    ;  454		
                           A  4283    ;  455		// update player position
                           A  4284    ;  456		currentlevel.xpos = xn1;
                           A  4285    .LINE 456
                           A  4286    
041694 DD7E06              A  4287    	LD	A,(IX+%6)
041697 32 64 58 04         A  4288    	LD	(_currentlevel),A
                           A  4289    ;  457		currentlevel.ypos = yn1;
                           A  4290    .LINE 457
                           A  4291    
04169B DD7E09              A  4292    	LD	A,(IX+%9)
04169E 32 65 58 04         A  4293    	LD	(_currentlevel+1),A
                           A  4294    ;  458	}
                           A  4295    .LINE 458
                           A  4296    
0416A2 DDF9                A  4297    	LD	SP,IX
0416A4 DDE1                A  4298    	POP	IX
0416A6 C9                  A  4299    	RET	
                           A  4300    
                           A  4301    
                           A  4302    ;**************************** _move_updatelevel
                           A  4303    ;Name                         Addr/Register   S
                           A  4304    ;_currentlevel                       STATIC   1
                           A  4305    ;G_4                                  IX-27    
                           A  4306    ;G_10                                 IX-24    
                           A  4307    ;n2                                   IX-21    
                           A  4308    ;G_6                                  IX-20    
                           A  4309    ;G_8                                  IX-17    
                           A  4310    ;G_9                                  IX-14    
                           A  4311    ;G_11                                 IX-11    
                           A  4312    ;G_5                                   IX-8    
                           A  4313    ;n1                                    IX-5    
                           A  4314    ;onlyplayermoves                       IX-4    
                           A  4315    ;G_1                                   IX-3    
                           A  4316    ;yn2                                  IX+15    
                           A  4317    ;xn2                                  IX+12    
                           A  4318    ;yn1                                   IX+9    
                           A  4319    ;xn1                                   IX+6    
                           A  4320    
                           A  4321    
                           A  4322    ; Stack Frame Size: 45 (bytes)
                           A  4323    ;       Spill Code: 0 (instruction)
                           A  4324    
                           A  4325    
                           A  4326    .ENDFUNC "move_updatelevel",458,"_move_updatele
                           A  4327    ;  459	
                           A  4328    ;  460	void undomove_updatelevel(UINT16 xn1, U
                           A  4329    ;  461	{
0416A7                     A  4330    _undomove_updatelevel:
                           A  4331    .DEFINE "_undomove_updatelevel"
                           A  4332    
                           A  4333    .VALUE _undomove_updatelevel
                           A  4334    
                           A  4335    .CLASS 2
                           A  4336    
                           A  4337    .TYPE 65
                           A  4338    
                           A  4339    .ENDEF
                           A  4340    
                           A  4341    .BEGFUNC "undomove_updatelevel",461,"_undomove_
                           A  4342    
                           A  4343    .LINE 461
                           A  4344    
                           A  4345    .DEFINE "xn1"
                           A  4346    
                           A  4347    .CLASS 65
                           A  4348    
                           A  4349    .VALUE 6
                           A  4350    
                           A  4351    .TYPE 13
                           A  4352    
                           A  4353    .ENDEF
                           A  4354    
                           A  4355    .DEFINE "yn1"
                           A  4356    
                           A  4357    .CLASS 65
                           A  4358    
                           A  4359    .VALUE 9
                           A  4360    
                           A  4361    .TYPE 13
                           A  4362    
                           A  4363    .ENDEF
                           A  4364    
                           A  4365    .DEFINE "xn2"
                           A  4366    
                           A  4367    .CLASS 65
                           A  4368    
                           A  4369    .VALUE 12
                           A  4370    
                           A  4371    .TYPE 13
                           A  4372    
                           A  4373    .ENDEF
                           A  4374    
                           A  4375    .DEFINE "yn2"
                           A  4376    
                           A  4377    .CLASS 65
                           A  4378    
                           A  4379    .VALUE 15
                           A  4380    
                           A  4381    .TYPE 13
                           A  4382    
                           A  4383    .ENDEF
                           A  4384    
                           A  4385    .DEFINE "xn3"
                           A  4386    
                           A  4387    .CLASS 65
                           A  4388    
                           A  4389    .VALUE 18
                           A  4390    
                           A  4391    .TYPE 13
                           A  4392    
                           A  4393    .ENDEF
                           A  4394    
                           A  4395    .DEFINE "yn3"
                           A  4396    
                           A  4397    .CLASS 65
                           A  4398    
                           A  4399    .VALUE 21
                           A  4400    
                           A  4401    .TYPE 13
                           A  4402    
                           A  4403    .ENDEF
                           A  4404    
                           A  4405    .DEFINE "n2"
                           A  4406    
                           A  4407    .CLASS 65
                           A  4408    
                           A  4409    .VALUE -13
                           A  4410    
                           A  4411    .TYPE 12
                           A  4412    
                           A  4413    .ENDEF
                           A  4414    
                           A  4415    .DEFINE "n1"
                           A  4416    
                           A  4417    .CLASS 65
                           A  4418    
                           A  4419    .VALUE -23
                           A  4420    
                           A  4421    .TYPE 12
                           A  4422    
                           A  4423    .ENDEF
                           A  4424    
                           A  4425    .DEFINE "n3"
                           A  4426    
                           A  4427    .CLASS 65
                           A  4428    
                           A  4429    .VALUE -27
                           A  4430    
                           A  4431    .TYPE 12
                           A  4432    
                           A  4433    .ENDEF
                           A  4434    
0416A7 DDE5                A  4435    	PUSH	IX
0416A9 DD210000 00         A  4436    	LD	IX,0
0416AE DD39                A  4437    	ADD	IX,SP
0416B0 ED22E5              A  4438    	LEA	HL,IX+%FFFFFFE5
0416B3 F9                  A  4439    	LD	SP,HL
                           A  4440    ;  462		UINT8 n1, n2, n3;
                           A  4441    ;  463		
                           A  4442    ;  464		// move n1 => n2 => n3
                           A  4443    ;  465		n1 = currentlevel.data[yn1][xn1]; /
                           A  4444    .LINE 465
                           A  4445    
0416B4 01 6B 58 04         A  4446    	LD	BC,_currentlevel+7
0416B8 DD0FE6              A  4447    	LD	(IX+%FFFFFFE6),BC
0416BB DD0FED              A  4448    	LD	(IX+%FFFFFFED),BC
0416BE DD0FEA              A  4449    	LD	(IX+%FFFFFFEA),BC
0416C1 DD0FF0              A  4450    	LD	(IX+%FFFFFFF0),BC
0416C4 DD0FFD              A  4451    	LD	(IX+%FFFFFFFD),BC
0416C7 DD0709              A  4452    	LD	BC,(IX+%9)
0416CA CD 34 2B 04         A  4453    	CALL	__stoiu
0416CE 3E28                A  4454    	LD	A,%28
0416D0 CD B3 31 04         A  4455    	CALL	__imul_b
0416D4 DD2FF4              A  4456    	LD	(IX+%FFFFFFF4),HL
0416D7 DD07FD              A  4457    	LD	BC,(IX+%FFFFFFFD)
0416DA 09                  A  4458    	ADD	HL,BC
0416DB E5D1                A  4459    	LD	DE,HL
0416DD DD0706              A  4460    	LD	BC,(IX+%6)
0416E0 CD 34 2B 04         A  4461    	CALL	__stoiu
0416E4 19                  A  4462    	ADD	HL,DE
0416E5 7E                  A  4463    	LD	A,(HL)
0416E6 DD77E9              A  4464    	LD	(IX+%FFFFFFE9),A
                           A  4465    ;  466		n2 = currentlevel.data[yn2][xn2]; /
                           A  4466    .LINE 466
                           A  4467    
0416E9 DD070F              A  4468    	LD	BC,(IX+%F)
0416EC CD 34 2B 04         A  4469    	CALL	__stoiu
0416F0 3E28                A  4470    	LD	A,%28
0416F2 CD B3 31 04         A  4471    	CALL	__imul_b
0416F6 DD2FFA              A  4472    	LD	(IX+%FFFFFFFA),HL
0416F9 DD07FD              A  4473    	LD	BC,(IX+%FFFFFFFD)
0416FC 09                  A  4474    	ADD	HL,BC
0416FD E5D1                A  4475    	LD	DE,HL
0416FF DD070C              A  4476    	LD	BC,(IX+%C)
041702 CD 34 2B 04         A  4477    	CALL	__stoiu
041706 19                  A  4478    	ADD	HL,DE
041707 7E                  A  4479    	LD	A,(HL)
041708 DD77F3              A  4480    	LD	(IX+%FFFFFFF3),A
                           A  4481    ;  467		n3 = currentlevel.data[yn3][xn3]; /
                           A  4482    .LINE 467
                           A  4483    
04170B DD0715              A  4484    	LD	BC,(IX+%15)
04170E CD 34 2B 04         A  4485    	CALL	__stoiu
041712 3E28                A  4486    	LD	A,%28
041714 CD B3 31 04         A  4487    	CALL	__imul_b
041718 DD2FF7              A  4488    	LD	(IX+%FFFFFFF7),HL
04171B DD07FD              A  4489    	LD	BC,(IX+%FFFFFFFD)
04171E 09                  A  4490    	ADD	HL,BC
04171F E5D1                A  4491    	LD	DE,HL
041721 DD0712              A  4492    	LD	BC,(IX+%12)
041724 CD 34 2B 04         A  4493    	CALL	__stoiu
041728 19                  A  4494    	ADD	HL,DE
041729 7E                  A  4495    	LD	A,(HL)
04172A DD77E5              A  4496    	LD	(IX+%FFFFFFE5),A
                           A  4497    ;  468		
                           A  4498    ;  469		switch(n3)
                           A  4499    .LINE 469
                           A  4500    
04172D B7ED62              A  4501    	UEXT	HL
041730 6F                  A  4502    	LD	L,A
041731 CD 48 32 04         A  4503    	CALL	__case8D
041735 E9                  A  4504    	JP	(HL)
041736                     A  4505    L__34:
041736 0200                A  4506    	DW	2
041738 20                  A  4507    	DB	32
041739 431704              A  4508    	DW24	L_88	
                           A  4509    
04173C 2E                  A  4510    	DB	46
04173D 651704              A  4511    	DW24	L_89	
                           A  4512    
041740 851704              A  4513    	DW24	L_103	
                           A  4514    
                           A  4515    ;  470		{
                           A  4516    ;  471			case CHAR_FLOOR:
041743                     A  4517    L_88:
                           A  4518    .LINE 471
                           A  4519    
                           A  4520    ;  472				currentlevel.data[yn3][xn3]
                           A  4521    .LINE 472
                           A  4522    
041743 01 6B 58 04         A  4523    	LD	BC,_currentlevel+7
041747 DD0FE6              A  4524    	LD	(IX+%FFFFFFE6),BC
04174A DD0FED              A  4525    	LD	(IX+%FFFFFFED),BC
04174D DD0FEA              A  4526    	LD	(IX+%FFFFFFEA),BC
041750 DD0FF0              A  4527    	LD	(IX+%FFFFFFF0),BC
041753 DD27F7              A  4528    	LD	HL,(IX+%FFFFFFF7)
041756 09                  A  4529    	ADD	HL,BC
041757 E5D1                A  4530    	LD	DE,HL
041759 DD0712              A  4531    	LD	BC,(IX+%12)
04175C CD 34 2B 04         A  4532    	CALL	__stoiu
041760 19                  A  4533    	ADD	HL,DE
041761 3640                A  4534    	LD	(HL),%40
                           A  4535    ;  473				break;
                           A  4536    .LINE 473
                           A  4537    
041763 18 20               A  4538    	JR	L_103
                           A  4539    ;  474			case CHAR_GOAL:
041765                     A  4540    L_89:
                           A  4541    .LINE 474
                           A  4542    
                           A  4543    ;  475				currentlevel.data[yn3][xn3]
                           A  4544    .LINE 475
                           A  4545    
041765 01 6B 58 04         A  4546    	LD	BC,_currentlevel+7
041769 DD0FE6              A  4547    	LD	(IX+%FFFFFFE6),BC
04176C DD0FED              A  4548    	LD	(IX+%FFFFFFED),BC
04176F DD0FEA              A  4549    	LD	(IX+%FFFFFFEA),BC
041772 DD0FF0              A  4550    	LD	(IX+%FFFFFFF0),BC
041775 DD27F7              A  4551    	LD	HL,(IX+%FFFFFFF7)
041778 09                  A  4552    	ADD	HL,BC
041779 E5D1                A  4553    	LD	DE,HL
04177B DD0712              A  4554    	LD	BC,(IX+%12)
04177E CD 34 2B 04         A  4555    	CALL	__stoiu
041782 19                  A  4556    	ADD	HL,DE
041783 362B                A  4557    	LD	(HL),%2B
                           A  4558    ;  476				break;
                           A  4559    ;  477			default:
                           A  4560    ;  478				break;
                           A  4561    ;  479		}
041785                     A  4562    L_103:
                           A  4563    .LINE 479
                           A  4564    
                           A  4565    ;  480		
                           A  4566    ;  481		if(undomove.pushed)
                           A  4567    .LINE 481
                           A  4568    
041785 3A B2 4F 04         A  4569    	LD	A,(_undomove+1)
041789 B7                  A  4570    	OR	A,A
04178A CA 1D 18 04         A  4571    	JR	Z,L_102
                           A  4572    ;  482		{
                           A  4573    ;  483			switch(n1)
                           A  4574    .LINE 483
                           A  4575    
04178E DD7EE9              A  4576    	LD	A,(IX+%FFFFFFE9)
041791 B7ED62              A  4577    	UEXT	HL
041794 6F                  A  4578    	LD	L,A
041795 CD 48 32 04         A  4579    	CALL	__case8D
041799 E9                  A  4580    	JP	(HL)
04179A                     A  4581    L__36:
04179A 0200                A  4582    	DW	2
04179C 24                  A  4583    	DB	36
04179D A71704              A  4584    	DW24	L_91	
                           A  4585    
0417A0 2A                  A  4586    	DB	42
0417A1 BC1704              A  4587    	DW24	L_92	
                           A  4588    
0417A4 D81704              A  4589    	DW24	L_98	
                           A  4590    
                           A  4591    ;  484			{
                           A  4592    ;  485				case CHAR_BOX:
0417A7                     A  4593    L_91:
                           A  4594    .LINE 485
                           A  4595    
                           A  4596    ;  486					currentlevel.data[yn1][
                           A  4597    .LINE 486
                           A  4598    
0417A7 DD07F4              A  4599    	LD	BC,(IX+%FFFFFFF4)
0417AA DD27E6              A  4600    	LD	HL,(IX+%FFFFFFE6)
0417AD 09                  A  4601    	ADD	HL,BC
0417AE E5D1                A  4602    	LD	DE,HL
0417B0 DD0706              A  4603    	LD	BC,(IX+%6)
0417B3 CD 34 2B 04         A  4604    	CALL	__stoiu
0417B7 19                  A  4605    	ADD	HL,DE
0417B8 3620                A  4606    	LD	(HL),%20
                           A  4607    ;  487					break;
                           A  4608    .LINE 487
                           A  4609    
0417BA 18 1C               A  4610    	JR	L_98
                           A  4611    ;  488				case CHAR_BOXONGOAL:
0417BC                     A  4612    L_92:
                           A  4613    .LINE 488
                           A  4614    
                           A  4615    ;  489					currentlevel.data[yn1][
                           A  4616    .LINE 489
                           A  4617    
0417BC DD07F4              A  4618    	LD	BC,(IX+%FFFFFFF4)
0417BF DD27ED              A  4619    	LD	HL,(IX+%FFFFFFED)
0417C2 09                  A  4620    	ADD	HL,BC
0417C3 E5D1                A  4621    	LD	DE,HL
0417C5 DD0706              A  4622    	LD	BC,(IX+%6)
0417C8 CD 34 2B 04         A  4623    	CALL	__stoiu
0417CC 19                  A  4624    	ADD	HL,DE
0417CD 362E                A  4625    	LD	(HL),%2E
                           A  4626    ;  490					currentlevel.goalstaken
                           A  4627    .LINE 490
                           A  4628    
0417CF 3A 69 58 04         A  4629    	LD	A,(_currentlevel+5)
0417D3 3D                  A  4630    	DEC	A
0417D4 32 69 58 04         A  4631    	LD	(_currentlevel+5),A
                           A  4632    ;  491					break;
                           A  4633    ;  492				default:
                           A  4634    ;  493					break;
                           A  4635    ;  494			}
0417D8                     A  4636    L_98:
                           A  4637    .LINE 494
                           A  4638    
                           A  4639    ;  495			switch(n2) // revert push to bo
                           A  4640    .LINE 495
                           A  4641    
0417D8 DD7EF3              A  4642    	LD	A,(IX+%FFFFFFF3)
0417DB B7ED62              A  4643    	UEXT	HL
0417DE 6F                  A  4644    	LD	L,A
0417DF 012B0000            A  4645    	LD	BC,43
0417E3 B7                  A  4646    	OR	A,A
0417E4 ED42                A  4647    	SBC	HL,BC
0417E6 20 1F               A  4648    	JR	NZ,L_97
                           A  4649    ;  496			{
                           A  4650    ;  497				case CHAR_PLAYERONGOAL:
                           A  4651    .LINE 497
                           A  4652    
                           A  4653    ;  498					currentlevel.data[yn2][
                           A  4654    .LINE 498
                           A  4655    
0417E8 01 6B 58 04         A  4656    	LD	BC,_currentlevel+7
0417EC DD27FA              A  4657    	LD	HL,(IX+%FFFFFFFA)
0417EF 09                  A  4658    	ADD	HL,BC
0417F0 E5D1                A  4659    	LD	DE,HL
0417F2 DD070C              A  4660    	LD	BC,(IX+%C)
0417F5 CD 34 2B 04         A  4661    	CALL	__stoiu
0417F9 19                  A  4662    	ADD	HL,DE
0417FA 362A                A  4663    	LD	(HL),%2A
                           A  4664    ;  499					currentlevel.goalstaken
                           A  4665    .LINE 499
                           A  4666    
0417FC 3A 69 58 04         A  4667    	LD	A,(_currentlevel+5)
041800 3C                  A  4668    	INC	A
041801 32 69 58 04         A  4669    	LD	(_currentlevel+5),A
                           A  4670    ;  500					break;
                           A  4671    .LINE 500
                           A  4672    
041805 18 4E               A  4673    	JR	L_104
                           A  4674    ;  501				default:
041807                     A  4675    L_97:
                           A  4676    .LINE 501
                           A  4677    
                           A  4678    ;  502					currentlevel.data[yn2][
                           A  4679    .LINE 502
                           A  4680    
041807 01 6B 58 04         A  4681    	LD	BC,_currentlevel+7
04180B DD27FA              A  4682    	LD	HL,(IX+%FFFFFFFA)
04180E 09                  A  4683    	ADD	HL,BC
04180F E5D1                A  4684    	LD	DE,HL
041811 DD070C              A  4685    	LD	BC,(IX+%C)
041814 CD 34 2B 04         A  4686    	CALL	__stoiu
041818 19                  A  4687    	ADD	HL,DE
041819 3624                A  4688    	LD	(HL),%24
                           A  4689    ;  503					break;
                           A  4690    .LINE 503
                           A  4691    
04181B 18 38               A  4692    	JR	L_104
                           A  4693    ;  504			}
                           A  4694    ;  505		}
                           A  4695    ;  506		else // only the player switched po
04181D                     A  4696    L_102:
                           A  4697    .LINE 506
                           A  4698    
                           A  4699    ;  507		{
                           A  4700    ;  508			switch(n2)
                           A  4701    .LINE 508
                           A  4702    
04181D DD7EF3              A  4703    	LD	A,(IX+%FFFFFFF3)
041820 B7ED62              A  4704    	UEXT	HL
041823 6F                  A  4705    	LD	L,A
041824 012B0000            A  4706    	LD	BC,43
041828 B7                  A  4707    	OR	A,A
041829 ED42                A  4708    	SBC	HL,BC
04182B 20 15               A  4709    	JR	NZ,L_100
                           A  4710    ;  509			{
                           A  4711    ;  510				case CHAR_PLAYERONGOAL:
                           A  4712    .LINE 510
                           A  4713    
                           A  4714    ;  511					currentlevel.data[yn2][
                           A  4715    .LINE 511
                           A  4716    
04182D DD07FA              A  4717    	LD	BC,(IX+%FFFFFFFA)
041830 DD27EA              A  4718    	LD	HL,(IX+%FFFFFFEA)
041833 09                  A  4719    	ADD	HL,BC
041834 E5D1                A  4720    	LD	DE,HL
041836 DD070C              A  4721    	LD	BC,(IX+%C)
041839 CD 34 2B 04         A  4722    	CALL	__stoiu
04183D 19                  A  4723    	ADD	HL,DE
04183E 362E                A  4724    	LD	(HL),%2E
                           A  4725    ;  512					break;
                           A  4726    .LINE 512
                           A  4727    
041840 18 13               A  4728    	JR	L_104
                           A  4729    ;  513				default:
041842                     A  4730    L_100:
                           A  4731    .LINE 513
                           A  4732    
                           A  4733    ;  514					currentlevel.data[yn2][
                           A  4734    .LINE 514
                           A  4735    
041842 DD07FA              A  4736    	LD	BC,(IX+%FFFFFFFA)
041845 DD27F0              A  4737    	LD	HL,(IX+%FFFFFFF0)
041848 09                  A  4738    	ADD	HL,BC
041849 E5D1                A  4739    	LD	DE,HL
04184B DD070C              A  4740    	LD	BC,(IX+%C)
04184E CD 34 2B 04         A  4741    	CALL	__stoiu
041852 19                  A  4742    	ADD	HL,DE
041853 3620                A  4743    	LD	(HL),%20
                           A  4744    ;  515					break;
                           A  4745    ;  516			}
                           A  4746    ;  517		}
041855                     A  4747    L_104:
                           A  4748    .LINE 517
                           A  4749    
                           A  4750    ;  518		
                           A  4751    ;  519		// update player position
                           A  4752    ;  520		currentlevel.xpos = xn3;
                           A  4753    .LINE 520
                           A  4754    
041855 DD7E12              A  4755    	LD	A,(IX+%12)
041858 32 64 58 04         A  4756    	LD	(_currentlevel),A
                           A  4757    ;  521		currentlevel.ypos = yn3;
                           A  4758    .LINE 521
                           A  4759    
04185C DD7E15              A  4760    	LD	A,(IX+%15)
04185F 32 65 58 04         A  4761    	LD	(_currentlevel+1),A
                           A  4762    ;  522	}
                           A  4763    .LINE 522
                           A  4764    
041863 DDF9                A  4765    	LD	SP,IX
041865 DDE1                A  4766    	POP	IX
041867 C9                  A  4767    	RET	
                           A  4768    
                           A  4769    
                           A  4770    ;**************************** _undomove_updatel
                           A  4771    ;Name                         Addr/Register   S
                           A  4772    ;_undomove                           STATIC    
                           A  4773    ;_currentlevel                       STATIC   1
                           A  4774    ;n3                                   IX-27    
                           A  4775    ;G_17                                 IX-26    
                           A  4776    ;n1                                   IX-23    
                           A  4777    ;G_23                                 IX-22    
                           A  4778    ;G_19                                 IX-19    
                           A  4779    ;G_25                                 IX-16    
                           A  4780    ;n2                                   IX-13    
                           A  4781    ;G_18                                 IX-12    
                           A  4782    ;G_14                                  IX-9    
                           A  4783    ;G_21                                  IX-6    
                           A  4784    ;yn3                                  IX+21    
                           A  4785    ;xn3                                  IX+18    
                           A  4786    ;yn2                                  IX+15    
                           A  4787    ;xn2                                  IX+12    
                           A  4788    ;yn1                                   IX+9    
                           A  4789    ;xn1                                   IX+6    
                           A  4790    
                           A  4791    
                           A  4792    ; Stack Frame Size: 51 (bytes)
                           A  4793    ;       Spill Code: 0 (instruction)
                           A  4794    
                           A  4795    
                           A  4796    .ENDFUNC "undomove_updatelevel",522,"_undomove_
                           A  4797    ;  523	
                           A  4798    ;  524	void game_handleUndoMove(void)
                           A  4799    ;  525	{
041868                     A  4800    _game_handleUndoMove:
                           A  4801    .DEFINE "_game_handleUndoMove"
                           A  4802    
                           A  4803    .VALUE _game_handleUndoMove
                           A  4804    
                           A  4805    .CLASS 2
                           A  4806    
                           A  4807    .TYPE 65
                           A  4808    
                           A  4809    .ENDEF
                           A  4810    
                           A  4811    .BEGFUNC "game_handleUndoMove",525,"_game_handl
                           A  4812    
                           A  4813    .LINE 525
                           A  4814    
                           A  4815    .DEFINE "xn2"
                           A  4816    
                           A  4817    .CLASS 65
                           A  4818    
                           A  4819    .VALUE -2
                           A  4820    
                           A  4821    .TYPE 3
                           A  4822    
                           A  4823    .ENDEF
                           A  4824    
                           A  4825    .DEFINE "yn2"
                           A  4826    
                           A  4827    .CLASS 65
                           A  4828    
                           A  4829    .VALUE -4
                           A  4830    
                           A  4831    .TYPE 3
                           A  4832    
                           A  4833    .ENDEF
                           A  4834    
                           A  4835    .DEFINE "yn1"
                           A  4836    
                           A  4837    .CLASS 65
                           A  4838    
                           A  4839    .VALUE -6
                           A  4840    
                           A  4841    .TYPE 3
                           A  4842    
                           A  4843    .ENDEF
                           A  4844    
                           A  4845    .DEFINE "xn1"
                           A  4846    
                           A  4847    .CLASS 65
                           A  4848    
                           A  4849    .VALUE -8
                           A  4850    
                           A  4851    .TYPE 3
                           A  4852    
                           A  4853    .ENDEF
                           A  4854    
                           A  4855    .DEFINE "xn3"
                           A  4856    
                           A  4857    .CLASS 65
                           A  4858    
                           A  4859    .VALUE -10
                           A  4860    
                           A  4861    .TYPE 3
                           A  4862    
                           A  4863    .ENDEF
                           A  4864    
                           A  4865    .DEFINE "yn3"
                           A  4866    
                           A  4867    .CLASS 65
                           A  4868    
                           A  4869    .VALUE -12
                           A  4870    
                           A  4871    .TYPE 3
                           A  4872    
                           A  4873    .ENDEF
                           A  4874    
041868 DDE5                A  4875    	PUSH	IX
04186A DD210000 00         A  4876    	LD	IX,0
04186F DD39                A  4877    	ADD	IX,SP
041871 ED22F4              A  4878    	LEA	HL,IX+%FFFFFFF4
041874 F9                  A  4879    	LD	SP,HL
                           A  4880    ;  526		INT16 xn1 = 0, xn2 = 0, yn1 = 0, yn
                           A  4881    .LINE 526
                           A  4882    
041875 DD36F800            A  4883    	LD	(IX+%FFFFFFF8),%0
041879 DD36F900            A  4884    	LD	(IX+%FFFFFFF9),%0
04187D DD36FA00            A  4885    	LD	(IX+%FFFFFFFA),%0
041881 DD36FB00            A  4886    	LD	(IX+%FFFFFFFB),%0
041885 DD36F600            A  4887    	LD	(IX+%FFFFFFF6),%0
041889 DD36F700            A  4888    	LD	(IX+%FFFFFFF7),%0
04188D DD36F400            A  4889    	LD	(IX+%FFFFFFF4),%0
041891 DD36F500            A  4890    	LD	(IX+%FFFFFFF5),%0
                           A  4891    ;  527		
                           A  4892    ;  528		if(num_undomoves)
                           A  4893    .LINE 528
                           A  4894    
041895 3A B3 4F 04         A  4895    	LD	A,(_num_undomoves)
041899 B7                  A  4896    	OR	A,A
04189A CA B9 19 04         A  4897    	JR	Z,L_112
                           A  4898    ;  529		{
                           A  4899    ;  530			xn2 = currentlevel.xpos;
                           A  4900    .LINE 530
                           A  4901    
04189E 3A 64 58 04         A  4902    	LD	A,(_currentlevel)
0418A2 4F                  A  4903    	LD	C,A
0418A3 0600                A  4904    	LD	B,%0
0418A5 C5E1                A  4905    	LD	HL,BC
0418A7 DD75FE              A  4906    	LD	(IX+%FFFFFFFE),L
0418AA DD74FF              A  4907    	LD	(IX+%FFFFFFFF),H
                           A  4908    ;  531			yn2 = currentlevel.ypos;
                           A  4909    .LINE 531
                           A  4910    
0418AD 3A 65 58 04         A  4911    	LD	A,(_currentlevel+1)
0418B1 4F                  A  4912    	LD	C,A
0418B2 C5E1                A  4913    	LD	HL,BC
0418B4 DD75FC              A  4914    	LD	(IX+%FFFFFFFC),L
0418B7 DD74FD              A  4915    	LD	(IX+%FFFFFFFD),H
                           A  4916    ;  532			
                           A  4917    ;  533			switch(undomove.movekey)
                           A  4918    .LINE 533
                           A  4919    
0418BA 3A B1 4F 04         A  4920    	LD	A,(_undomove)
0418BE B7ED62              A  4921    	UEXT	HL
0418C1 6F                  A  4922    	LD	L,A
0418C2 CD 48 32 04         A  4923    	CALL	__case8D
0418C6 E9                  A  4924    	JP	(HL)
0418C7                     A  4925    L__39:
0418C7 0400                A  4926    	DW	4
0418C9 08                  A  4927    	DB	8
0418CA DC1804              A  4928    	DW24	L_106	
                           A  4929    
0418CD 0A                  A  4930    	DB	10
0418CE 2C1904              A  4931    	DW24	L_108	
                           A  4932    
0418D1 0B                  A  4933    	DB	11
0418D2 041904              A  4934    	DW24	L_107	
                           A  4935    
0418D5 15                  A  4936    	DB	21
0418D6 541904              A  4937    	DW24	L_109	
                           A  4938    
0418D9 7A1904              A  4939    	DW24	L_110	
                           A  4940    
                           A  4941    ;  534			{
                           A  4942    ;  535				case 0x8: // undo LEFT
0418DC                     A  4943    L_106:
                           A  4944    .LINE 535
                           A  4945    
                           A  4946    ;  536					yn1 = yn2;
                           A  4947    .LINE 536
                           A  4948    
0418DC DD07FC              A  4949    	LD	BC,(IX+%FFFFFFFC)
0418DF DD71FA              A  4950    	LD	(IX+%FFFFFFFA),C
0418E2 DD70FB              A  4951    	LD	(IX+%FFFFFFFB),B
                           A  4952    ;  537					yn3 = yn2;
                           A  4953    .LINE 537
                           A  4954    
0418E5 DD07FC              A  4955    	LD	BC,(IX+%FFFFFFFC)
0418E8 DD71F4              A  4956    	LD	(IX+%FFFFFFF4),C
0418EB DD70F5              A  4957    	LD	(IX+%FFFFFFF5),B
                           A  4958    ;  538					xn1 = xn2 - 1;
                           A  4959    .LINE 538
                           A  4960    
0418EE DD27FE              A  4961    	LD	HL,(IX+%FFFFFFFE)
0418F1 2B                  A  4962    	DEC	HL
0418F2 DD75F8              A  4963    	LD	(IX+%FFFFFFF8),L
0418F5 DD74F9              A  4964    	LD	(IX+%FFFFFFF9),H
                           A  4965    ;  539					xn3 = xn2 + 1;
                           A  4966    .LINE 539
                           A  4967    
0418F8 DD27FE              A  4968    	LD	HL,(IX+%FFFFFFFE)
0418FB 23                  A  4969    	INC	HL
0418FC DD75F6              A  4970    	LD	(IX+%FFFFFFF6),L
0418FF DD74F7              A  4971    	LD	(IX+%FFFFFFF7),H
                           A  4972    ;  540					break;
                           A  4973    .LINE 540
                           A  4974    
041902 18 76               A  4975    	JR	L_110
                           A  4976    ;  541				case 0xb: // undo UP
041904                     A  4977    L_107:
                           A  4978    .LINE 541
                           A  4979    
                           A  4980    ;  542					xn1 = xn2;
                           A  4981    .LINE 542
                           A  4982    
041904 DD07FE              A  4983    	LD	BC,(IX+%FFFFFFFE)
041907 DD71F8              A  4984    	LD	(IX+%FFFFFFF8),C
04190A DD70F9              A  4985    	LD	(IX+%FFFFFFF9),B
                           A  4986    ;  543					xn3 = xn2;
                           A  4987    .LINE 543
                           A  4988    
04190D DD07FE              A  4989    	LD	BC,(IX+%FFFFFFFE)
041910 DD71F6              A  4990    	LD	(IX+%FFFFFFF6),C
041913 DD70F7              A  4991    	LD	(IX+%FFFFFFF7),B
                           A  4992    ;  544					yn1 = yn2 - 1;
                           A  4993    .LINE 544
                           A  4994    
041916 DD27FC              A  4995    	LD	HL,(IX+%FFFFFFFC)
041919 2B                  A  4996    	DEC	HL
04191A DD75FA              A  4997    	LD	(IX+%FFFFFFFA),L
04191D DD74FB              A  4998    	LD	(IX+%FFFFFFFB),H
                           A  4999    ;  545					yn3 = yn2 + 1;
                           A  5000    .LINE 545
                           A  5001    
041920 DD27FC              A  5002    	LD	HL,(IX+%FFFFFFFC)
041923 23                  A  5003    	INC	HL
041924 DD75F4              A  5004    	LD	(IX+%FFFFFFF4),L
041927 DD74F5              A  5005    	LD	(IX+%FFFFFFF5),H
                           A  5006    ;  546					break;
                           A  5007    .LINE 546
                           A  5008    
04192A 18 4E               A  5009    	JR	L_110
                           A  5010    ;  547				case 0xa: // undo DOWN
04192C                     A  5011    L_108:
                           A  5012    .LINE 547
                           A  5013    
                           A  5014    ;  548					xn1 = xn2;
                           A  5015    .LINE 548
                           A  5016    
04192C DD07FE              A  5017    	LD	BC,(IX+%FFFFFFFE)
04192F DD71F8              A  5018    	LD	(IX+%FFFFFFF8),C
041932 DD70F9              A  5019    	LD	(IX+%FFFFFFF9),B
                           A  5020    ;  549					xn3 = xn2;
                           A  5021    .LINE 549
                           A  5022    
041935 DD07FE              A  5023    	LD	BC,(IX+%FFFFFFFE)
041938 DD71F6              A  5024    	LD	(IX+%FFFFFFF6),C
04193B DD70F7              A  5025    	LD	(IX+%FFFFFFF7),B
                           A  5026    ;  550					yn1 = yn2 + 1;
                           A  5027    .LINE 550
                           A  5028    
04193E DD27FC              A  5029    	LD	HL,(IX+%FFFFFFFC)
041941 23                  A  5030    	INC	HL
041942 DD75FA              A  5031    	LD	(IX+%FFFFFFFA),L
041945 DD74FB              A  5032    	LD	(IX+%FFFFFFFB),H
                           A  5033    ;  551					yn3 = yn2 - 1;
                           A  5034    .LINE 551
                           A  5035    
041948 DD27FC              A  5036    	LD	HL,(IX+%FFFFFFFC)
04194B 2B                  A  5037    	DEC	HL
04194C DD75F4              A  5038    	LD	(IX+%FFFFFFF4),L
04194F DD74F5              A  5039    	LD	(IX+%FFFFFFF5),H
                           A  5040    ;  552					break;
                           A  5041    .LINE 552
                           A  5042    
041952 18 26               A  5043    	JR	L_110
                           A  5044    ;  553				case 0x15: // undo RIGHT
041954                     A  5045    L_109:
                           A  5046    .LINE 553
                           A  5047    
                           A  5048    ;  554					yn1 = yn2;
                           A  5049    .LINE 554
                           A  5050    
041954 DD07FC              A  5051    	LD	BC,(IX+%FFFFFFFC)
041957 DD71FA              A  5052    	LD	(IX+%FFFFFFFA),C
04195A DD70FB              A  5053    	LD	(IX+%FFFFFFFB),B
                           A  5054    ;  555					yn3 = yn2;
                           A  5055    .LINE 555
                           A  5056    
04195D DD07FC              A  5057    	LD	BC,(IX+%FFFFFFFC)
041960 DD71F4              A  5058    	LD	(IX+%FFFFFFF4),C
041963 DD70F5              A  5059    	LD	(IX+%FFFFFFF5),B
                           A  5060    ;  556					xn1 = xn2 + 1;
                           A  5061    .LINE 556
                           A  5062    
041966 DD27FE              A  5063    	LD	HL,(IX+%FFFFFFFE)
041969 23                  A  5064    	INC	HL
04196A DD75F8              A  5065    	LD	(IX+%FFFFFFF8),L
04196D DD74F9              A  5066    	LD	(IX+%FFFFFFF9),H
                           A  5067    ;  557					xn3 = xn2 - 1;
                           A  5068    .LINE 557
                           A  5069    
041970 DD27FE              A  5070    	LD	HL,(IX+%FFFFFFFE)
041973 2B                  A  5071    	DEC	HL
041974 DD75F6              A  5072    	LD	(IX+%FFFFFFF6),L
041977 DD74F7              A  5073    	LD	(IX+%FFFFFFF7),H
                           A  5074    ;  558					break;
                           A  5075    ;  559			}
04197A                     A  5076    L_110:
                           A  5077    .LINE 559
                           A  5078    
                           A  5079    ;  560			undomove_sprites(xn1,yn1,xn2,yn
                           A  5080    .LINE 560
                           A  5081    
04197A DD07FC              A  5082    	LD	BC,(IX+%FFFFFFFC)
04197D C5                  A  5083    	PUSH	BC
04197E DD07FE              A  5084    	LD	BC,(IX+%FFFFFFFE)
041981 C5                  A  5085    	PUSH	BC
041982 DD07FA              A  5086    	LD	BC,(IX+%FFFFFFFA)
041985 C5                  A  5087    	PUSH	BC
041986 DD07F8              A  5088    	LD	BC,(IX+%FFFFFFF8)
041989 C5                  A  5089    	PUSH	BC
04198A CD 01 13 04         A  5090    	CALL	_undomove_sprites
04198E C1                  A  5091    	POP	BC
04198F C1                  A  5092    	POP	BC
041990 C1                  A  5093    	POP	BC
041991 C1                  A  5094    	POP	BC
                           A  5095    ;  561			undomove_updatelevel(xn1, yn1, 
                           A  5096    .LINE 561
                           A  5097    
041992 DD07F4              A  5098    	LD	BC,(IX+%FFFFFFF4)
041995 C5                  A  5099    	PUSH	BC
041996 DD07F6              A  5100    	LD	BC,(IX+%FFFFFFF6)
041999 C5                  A  5101    	PUSH	BC
04199A DD07FC              A  5102    	LD	BC,(IX+%FFFFFFFC)
04199D C5                  A  5103    	PUSH	BC
04199E DD07FE              A  5104    	LD	BC,(IX+%FFFFFFFE)
0419A1 C5                  A  5105    	PUSH	BC
0419A2 DD07FA              A  5106    	LD	BC,(IX+%FFFFFFFA)
0419A5 C5                  A  5107    	PUSH	BC
0419A6 DD07F8              A  5108    	LD	BC,(IX+%FFFFFFF8)
0419A9 C5                  A  5109    	PUSH	BC
0419AA CD A7 16 04         A  5110    	CALL	_undomove_updatelevel
0419AE C1                  A  5111    	POP	BC
0419AF C1                  A  5112    	POP	BC
0419B0 C1                  A  5113    	POP	BC
0419B1 C1                  A  5114    	POP	BC
0419B2 C1                  A  5115    	POP	BC
0419B3 C1                  A  5116    	POP	BC
                           A  5117    ;  562			num_undomoves = 0;
                           A  5118    .LINE 562
                           A  5119    
0419B4 AF                  A  5120    	XOR	A,A
0419B5 32 B3 4F 04         A  5121    	LD	(_num_undomoves),A
                           A  5122    ;  563		}
                           A  5123    ;  564	}
0419B9                     A  5124    L_112:
                           A  5125    .LINE 564
                           A  5126    
0419B9 DDF9                A  5127    	LD	SP,IX
0419BB DDE1                A  5128    	POP	IX
0419BD C9                  A  5129    	RET	
                           A  5130    
                           A  5131    
                           A  5132    ;**************************** _game_handleUndoM
                           A  5133    ;Name                         Addr/Register   S
                           A  5134    ;_undomove                           STATIC    
                           A  5135    ;_currentlevel                       STATIC   1
                           A  5136    ;_num_undomoves                      STATIC    
                           A  5137    ;yn3                                  IX-12    
                           A  5138    ;xn3                                  IX-10    
                           A  5139    ;xn1                                   IX-8    
                           A  5140    ;yn1                                   IX-6    
                           A  5141    ;yn2                                   IX-4    
                           A  5142    ;xn2                                   IX-2    
                           A  5143    
                           A  5144    
                           A  5145    ; Stack Frame Size: 18 (bytes)
                           A  5146    ;       Spill Code: 0 (instruction)
                           A  5147    
                           A  5148    
                           A  5149    .ENDFUNC "game_handleUndoMove",564,"_game_handl
                           A  5150    ;  565	
                           A  5151    ;  566	BOOL game_handleKey(char key)
                           A  5152    ;  567	{
0419BE                     A  5153    _game_handleKey:
                           A  5154    .DEFINE "_game_handleKey"
                           A  5155    
                           A  5156    .VALUE _game_handleKey
                           A  5157    
                           A  5158    .CLASS 2
                           A  5159    
                           A  5160    .TYPE 76
                           A  5161    
                           A  5162    .ENDEF
                           A  5163    
                           A  5164    .BEGFUNC "game_handleKey",567,"_game_handleKey"
                           A  5165    
                           A  5166    .LINE 567
                           A  5167    
                           A  5168    .DEFINE "key"
                           A  5169    
                           A  5170    .CLASS 65
                           A  5171    
                           A  5172    .VALUE 6
                           A  5173    
                           A  5174    .TYPE 2
                           A  5175    
                           A  5176    .ENDEF
                           A  5177    
                           A  5178    .DEFINE "xn1"
                           A  5179    
                           A  5180    .CLASS 65
                           A  5181    
                           A  5182    .VALUE -2
                           A  5183    
                           A  5184    .TYPE 3
                           A  5185    
                           A  5186    .ENDEF
                           A  5187    
                           A  5188    .DEFINE "yn1"
                           A  5189    
                           A  5190    .CLASS 65
                           A  5191    
                           A  5192    .VALUE -4
                           A  5193    
                           A  5194    .TYPE 3
                           A  5195    
                           A  5196    .ENDEF
                           A  5197    
                           A  5198    .DEFINE "xn2"
                           A  5199    
                           A  5200    .CLASS 65
                           A  5201    
                           A  5202    .VALUE -6
                           A  5203    
                           A  5204    .TYPE 3
                           A  5205    
                           A  5206    .ENDEF
                           A  5207    
                           A  5208    .DEFINE "yn2"
                           A  5209    
                           A  5210    .CLASS 65
                           A  5211    
                           A  5212    .VALUE -8
                           A  5213    
                           A  5214    .TYPE 3
                           A  5215    
                           A  5216    .ENDEF
                           A  5217    
                           A  5218    .DEFINE "move"
                           A  5219    
                           A  5220    .CLASS 65
                           A  5221    
                           A  5222    .VALUE -9
                           A  5223    
                           A  5224    .TYPE 12
                           A  5225    
                           A  5226    .ENDEF
                           A  5227    
                           A  5228    .DEFINE "done"
                           A  5229    
                           A  5230    .CLASS 65
                           A  5231    
                           A  5232    .VALUE -10
                           A  5233    
                           A  5234    .TYPE 12
                           A  5235    
                           A  5236    .ENDEF
                           A  5237    
0419BE DDE5                A  5238    	PUSH	IX
0419C0 DD210000 00         A  5239    	LD	IX,0
0419C5 DD39                A  5240    	ADD	IX,SP
0419C7 ED22ED              A  5241    	LEA	HL,IX+%FFFFFFED
0419CA F9                  A  5242    	LD	SP,HL
                           A  5243    ;  568		BOOL done = FALSE;
                           A  5244    .LINE 568
                           A  5245    
0419CB DD36F600            A  5246    	LD	(IX+%FFFFFFF6),%0
                           A  5247    ;  569		BOOL move = FALSE;
                           A  5248    ;  570		INT16	xn1 = 0,xn2 = 0,yn1 = 0,yn2
                           A  5249    .LINE 570
                           A  5250    
0419CF DD36FE00            A  5251    	LD	(IX+%FFFFFFFE),%0
0419D3 DD36FF00            A  5252    	LD	(IX+%FFFFFFFF),%0
0419D7 DD36FA00            A  5253    	LD	(IX+%FFFFFFFA),%0
0419DB DD36FB00            A  5254    	LD	(IX+%FFFFFFFB),%0
0419DF DD36FC00            A  5255    	LD	(IX+%FFFFFFFC),%0
0419E3 DD36FD00            A  5256    	LD	(IX+%FFFFFFFD),%0
0419E7 DD36F800            A  5257    	LD	(IX+%FFFFFFF8),%0
0419EB DD36F900            A  5258    	LD	(IX+%FFFFFFF9),%0
                           A  5259    ;  571		
                           A  5260    ;  572		switch(key)
                           A  5261    .LINE 572
                           A  5262    
0419EF DD7E06              A  5263    	LD	A,(IX+%6)
0419F2 17ED62              A  5264    	SEXT	HL
0419F5 DD6E06              A  5265    	LD	L,(IX+%6)
0419F8 CD 48 32 04         A  5266    	CALL	__case8D
0419FC E9                  A  5267    	JP	(HL)
0419FD                     A  5268    L__41:
0419FD 0400                A  5269    	DW	4
0419FF 08                  A  5270    	DB	8
041A00 121A04              A  5271    	DW24	L_113	
                           A  5272    
041A03 0A                  A  5273    	DB	10
041A04 9A1A04              A  5274    	DW24	L_115	
                           A  5275    
041A07 0B                  A  5276    	DB	11
041A08 571A04              A  5277    	DW24	L_114	
                           A  5278    
041A0B 15                  A  5279    	DB	21
041A0C DB1A04              A  5280    	DW24	L_116	
                           A  5281    
041A0F 1E1B04              A  5282    	DW24	L_117	
                           A  5283    
                           A  5284    ;  573		{
                           A  5285    ;  574			case 0x8: // LEFT
041A12                     A  5286    L_113:
                           A  5287    .LINE 574
                           A  5288    
                           A  5289    ;  575				xn1 = currentlevel.xpos - 1
                           A  5290    .LINE 575
                           A  5291    
041A12 3A 64 58 04         A  5292    	LD	A,(_currentlevel)
041A16 4F                  A  5293    	LD	C,A
041A17 0600                A  5294    	LD	B,%0
041A19 0B                  A  5295    	DEC	BC
041A1A C5E1                A  5296    	LD	HL,BC
041A1C DD75FE              A  5297    	LD	(IX+%FFFFFFFE),L
041A1F DD74FF              A  5298    	LD	(IX+%FFFFFFFF),H
                           A  5299    ;  576				yn1 = currentlevel.ypos;
                           A  5300    .LINE 576
                           A  5301    
041A22 3A 65 58 04         A  5302    	LD	A,(_currentlevel+1)
041A26 4F                  A  5303    	LD	C,A
041A27 0600                A  5304    	LD	B,%0
041A29 C5E1                A  5305    	LD	HL,BC
041A2B DD75FC              A  5306    	LD	(IX+%FFFFFFFC),L
041A2E DD74FD              A  5307    	LD	(IX+%FFFFFFFD),H
                           A  5308    ;  577				xn2 = currentlevel.xpos - 2
                           A  5309    .LINE 577
                           A  5310    
041A31 3A 64 58 04         A  5311    	LD	A,(_currentlevel)
041A35 4F                  A  5312    	LD	C,A
041A36 0B                  A  5313    	DEC	BC
041A37 0B                  A  5314    	DEC	BC
041A38 C5E1                A  5315    	LD	HL,BC
041A3A DD75FA              A  5316    	LD	(IX+%FFFFFFFA),L
041A3D DD74FB              A  5317    	LD	(IX+%FFFFFFFB),H
                           A  5318    ;  578				yn2 = currentlevel.ypos;
                           A  5319    .LINE 578
                           A  5320    
041A40 3A 65 58 04         A  5321    	LD	A,(_currentlevel+1)
041A44 4F                  A  5322    	LD	C,A
041A45 0600                A  5323    	LD	B,%0
041A47 C5E1                A  5324    	LD	HL,BC
041A49 DD75F8              A  5325    	LD	(IX+%FFFFFFF8),L
041A4C DD74F9              A  5326    	LD	(IX+%FFFFFFF9),H
                           A  5327    ;  579				move = TRUE;
                           A  5328    .LINE 579
                           A  5329    
041A4F DD36F701            A  5330    	LD	(IX+%FFFFFFF7),%1
                           A  5331    ;  580				break;
                           A  5332    .LINE 580
                           A  5333    
041A53 C3 22 1B 04         A  5334    	JR	L_125
                           A  5335    ;  581			case 0xb:
041A57                     A  5336    L_114:
                           A  5337    .LINE 581
                           A  5338    
                           A  5339    ;  582				xn1 = currentlevel.xpos;
                           A  5340    .LINE 582
                           A  5341    
041A57 3A 64 58 04         A  5342    	LD	A,(_currentlevel)
041A5B 4F                  A  5343    	LD	C,A
041A5C 0600                A  5344    	LD	B,%0
041A5E C5E1                A  5345    	LD	HL,BC
041A60 DD75FE              A  5346    	LD	(IX+%FFFFFFFE),L
041A63 DD74FF              A  5347    	LD	(IX+%FFFFFFFF),H
                           A  5348    ;  583				yn1 = currentlevel.ypos - 1
                           A  5349    .LINE 583
                           A  5350    
041A66 3A 65 58 04         A  5351    	LD	A,(_currentlevel+1)
041A6A 4F                  A  5352    	LD	C,A
041A6B 0B                  A  5353    	DEC	BC
041A6C C5E1                A  5354    	LD	HL,BC
041A6E DD75FC              A  5355    	LD	(IX+%FFFFFFFC),L
041A71 DD74FD              A  5356    	LD	(IX+%FFFFFFFD),H
                           A  5357    ;  584				xn2 = currentlevel.xpos;
                           A  5358    .LINE 584
                           A  5359    
041A74 3A 64 58 04         A  5360    	LD	A,(_currentlevel)
041A78 4F                  A  5361    	LD	C,A
041A79 0600                A  5362    	LD	B,%0
041A7B C5E1                A  5363    	LD	HL,BC
041A7D DD75FA              A  5364    	LD	(IX+%FFFFFFFA),L
041A80 DD74FB              A  5365    	LD	(IX+%FFFFFFFB),H
                           A  5366    ;  585				yn2 = currentlevel.ypos - 2
                           A  5367    .LINE 585
                           A  5368    
041A83 3A 65 58 04         A  5369    	LD	A,(_currentlevel+1)
041A87 4F                  A  5370    	LD	C,A
041A88 0B                  A  5371    	DEC	BC
041A89 0B                  A  5372    	DEC	BC
041A8A C5E1                A  5373    	LD	HL,BC
041A8C DD75F8              A  5374    	LD	(IX+%FFFFFFF8),L
041A8F DD74F9              A  5375    	LD	(IX+%FFFFFFF9),H
                           A  5376    ;  586				move = TRUE;
                           A  5377    .LINE 586
                           A  5378    
041A92 DD36F701            A  5379    	LD	(IX+%FFFFFFF7),%1
                           A  5380    ;  587				break;
                           A  5381    .LINE 587
                           A  5382    
041A96 C3 22 1B 04         A  5383    	JR	L_125
                           A  5384    ;  588			case 0xa:
041A9A                     A  5385    L_115:
                           A  5386    .LINE 588
                           A  5387    
                           A  5388    ;  589				xn1 = currentlevel.xpos;
                           A  5389    .LINE 589
                           A  5390    
041A9A 3A 64 58 04         A  5391    	LD	A,(_currentlevel)
041A9E 4F                  A  5392    	LD	C,A
041A9F 0600                A  5393    	LD	B,%0
041AA1 C5E1                A  5394    	LD	HL,BC
041AA3 DD75FE              A  5395    	LD	(IX+%FFFFFFFE),L
041AA6 DD74FF              A  5396    	LD	(IX+%FFFFFFFF),H
                           A  5397    ;  590				yn1 = currentlevel.ypos + 1
                           A  5398    .LINE 590
                           A  5399    
041AA9 3A 65 58 04         A  5400    	LD	A,(_currentlevel+1)
041AAD 4F                  A  5401    	LD	C,A
041AAE 03                  A  5402    	INC	BC
041AAF C5E1                A  5403    	LD	HL,BC
041AB1 DD75FC              A  5404    	LD	(IX+%FFFFFFFC),L
041AB4 DD74FD              A  5405    	LD	(IX+%FFFFFFFD),H
                           A  5406    ;  591				xn2 = currentlevel.xpos;
                           A  5407    .LINE 591
                           A  5408    
041AB7 3A 64 58 04         A  5409    	LD	A,(_currentlevel)
041ABB 4F                  A  5410    	LD	C,A
041ABC 0600                A  5411    	LD	B,%0
041ABE C5E1                A  5412    	LD	HL,BC
041AC0 DD75FA              A  5413    	LD	(IX+%FFFFFFFA),L
041AC3 DD74FB              A  5414    	LD	(IX+%FFFFFFFB),H
                           A  5415    ;  592				yn2 = currentlevel.ypos + 2
                           A  5416    .LINE 592
                           A  5417    
041AC6 3A 65 58 04         A  5418    	LD	A,(_currentlevel+1)
041ACA 4F                  A  5419    	LD	C,A
041ACB 03                  A  5420    	INC	BC
041ACC 03                  A  5421    	INC	BC
041ACD C5E1                A  5422    	LD	HL,BC
041ACF DD75F8              A  5423    	LD	(IX+%FFFFFFF8),L
041AD2 DD74F9              A  5424    	LD	(IX+%FFFFFFF9),H
                           A  5425    ;  593				move = TRUE;
                           A  5426    .LINE 593
                           A  5427    
041AD5 DD36F701            A  5428    	LD	(IX+%FFFFFFF7),%1
                           A  5429    ;  594				break;
                           A  5430    .LINE 594
                           A  5431    
041AD9 18 47               A  5432    	JR	L_125
                           A  5433    ;  595			case 0x15: // RIGHT
041ADB                     A  5434    L_116:
                           A  5435    .LINE 595
                           A  5436    
                           A  5437    ;  596				xn1 = currentlevel.xpos + 1
                           A  5438    .LINE 596
                           A  5439    
041ADB 3A 64 58 04         A  5440    	LD	A,(_currentlevel)
041ADF 4F                  A  5441    	LD	C,A
041AE0 0600                A  5442    	LD	B,%0
041AE2 03                  A  5443    	INC	BC
041AE3 C5E1                A  5444    	LD	HL,BC
041AE5 DD75FE              A  5445    	LD	(IX+%FFFFFFFE),L
041AE8 DD74FF              A  5446    	LD	(IX+%FFFFFFFF),H
                           A  5447    ;  597				yn1 = currentlevel.ypos;
                           A  5448    .LINE 597
                           A  5449    
041AEB 3A 65 58 04         A  5450    	LD	A,(_currentlevel+1)
041AEF 4F                  A  5451    	LD	C,A
041AF0 0600                A  5452    	LD	B,%0
041AF2 C5E1                A  5453    	LD	HL,BC
041AF4 DD75FC              A  5454    	LD	(IX+%FFFFFFFC),L
041AF7 DD74FD              A  5455    	LD	(IX+%FFFFFFFD),H
                           A  5456    ;  598				xn2 = currentlevel.xpos + 2
                           A  5457    .LINE 598
                           A  5458    
041AFA 3A 64 58 04         A  5459    	LD	A,(_currentlevel)
041AFE 4F                  A  5460    	LD	C,A
041AFF 03                  A  5461    	INC	BC
041B00 03                  A  5462    	INC	BC
041B01 C5E1                A  5463    	LD	HL,BC
041B03 DD75FA              A  5464    	LD	(IX+%FFFFFFFA),L
041B06 DD74FB              A  5465    	LD	(IX+%FFFFFFFB),H
                           A  5466    ;  599				yn2 = currentlevel.ypos;
                           A  5467    .LINE 599
                           A  5468    
041B09 3A 65 58 04         A  5469    	LD	A,(_currentlevel+1)
041B0D 4F                  A  5470    	LD	C,A
041B0E 0600                A  5471    	LD	B,%0
041B10 C5E1                A  5472    	LD	HL,BC
041B12 DD75F8              A  5473    	LD	(IX+%FFFFFFF8),L
041B15 DD74F9              A  5474    	LD	(IX+%FFFFFFF9),H
                           A  5475    ;  600				move = TRUE;
                           A  5476    .LINE 600
                           A  5477    
041B18 DD36F701            A  5478    	LD	(IX+%FFFFFFF7),%1
                           A  5479    ;  601				break;
                           A  5480    .LINE 601
                           A  5481    
041B1C 18 04               A  5482    	JR	L_125
                           A  5483    ;  602			default:
041B1E                     A  5484    L_117:
                           A  5485    .LINE 602
                           A  5486    
                           A  5487    ;  603				move = FALSE;
                           A  5488    .LINE 603
                           A  5489    
041B1E DD36F700            A  5490    	LD	(IX+%FFFFFFF7),%0
                           A  5491    ;  604				break;
                           A  5492    ;  605		}
041B22                     A  5493    L_125:
                           A  5494    .LINE 605
                           A  5495    
                           A  5496    ;  606		if(move)
                           A  5497    .LINE 606
                           A  5498    
041B22 DD7EF7              A  5499    	LD	A,(IX+%FFFFFFF7)
041B25 B7                  A  5500    	OR	A,A
041B26 CA F0 1B 04         A  5501    	JR	Z,L_126
                           A  5502    ;  607		{
                           A  5503    ;  608			if(canmove(xn1,yn1,xn2,yn2))
                           A  5504    .LINE 608
                           A  5505    
041B2A DD07F8              A  5506    	LD	BC,(IX+%FFFFFFF8)
041B2D C5                  A  5507    	PUSH	BC
041B2E DD07FA              A  5508    	LD	BC,(IX+%FFFFFFFA)
041B31 C5                  A  5509    	PUSH	BC
041B32 DD07FC              A  5510    	LD	BC,(IX+%FFFFFFFC)
041B35 C5                  A  5511    	PUSH	BC
041B36 DD07FE              A  5512    	LD	BC,(IX+%FFFFFFFE)
041B39 C5                  A  5513    	PUSH	BC
041B3A CD E9 10 04         A  5514    	CALL	_canmove
041B3E C1                  A  5515    	POP	BC
041B3F C1                  A  5516    	POP	BC
041B40 C1                  A  5517    	POP	BC
041B41 C1                  A  5518    	POP	BC
041B42 B7                  A  5519    	OR	A,A
041B43 CA F0 1B 04         A  5520    	JR	Z,L_126
                           A  5521    ;  609			{
                           A  5522    ;  610				undomove.movekey = key;
                           A  5523    .LINE 610
                           A  5524    
041B47 DD7E06              A  5525    	LD	A,(IX+%6)
041B4A 32 B1 4F 04         A  5526    	LD	(_undomove),A
                           A  5527    ;  611				undomove.pushed = (currentl
                           A  5528    .LINE 611
                           A  5529    
041B4E DD07FC              A  5530    	LD	BC,(IX+%FFFFFFFC)
041B51 CD FF 32 04         A  5531    	CALL	__stoi
041B55 3E28                A  5532    	LD	A,%28
041B57 CD B3 31 04         A  5533    	CALL	__imul_b
041B5B 01 6B 58 04         A  5534    	LD	BC,_currentlevel+7
041B5F 09                  A  5535    	ADD	HL,BC
041B60 DD2FED              A  5536    	LD	(IX+%FFFFFFED),HL
041B63 DD07FE              A  5537    	LD	BC,(IX+%FFFFFFFE)
041B66 CD FF 32 04         A  5538    	CALL	__stoi
041B6A DD07ED              A  5539    	LD	BC,(IX+%FFFFFFED)
041B6D 09                  A  5540    	ADD	HL,BC
041B6E DD2FF0              A  5541    	LD	(IX+%FFFFFFF0),HL
041B71 7E                  A  5542    	LD	A,(HL)
041B72 B7ED62              A  5543    	UEXT	HL
041B75 6F                  A  5544    	LD	L,A
041B76 01240000            A  5545    	LD	BC,36
041B7A B7                  A  5546    	OR	A,A
041B7B ED42                A  5547    	SBC	HL,BC
041B7D 28 11               A  5548    	JR	Z,L_119
041B7F DD27F0              A  5549    	LD	HL,(IX+%FFFFFFF0)
041B82 7E                  A  5550    	LD	A,(HL)
041B83 B7ED62              A  5551    	UEXT	HL
041B86 6F                  A  5552    	LD	L,A
041B87 012A0000            A  5553    	LD	BC,42
041B8B B7                  A  5554    	OR	A,A
041B8C ED42                A  5555    	SBC	HL,BC
041B8E 20 09               A  5556    	JR	NZ,L_120
041B90                     A  5557    L_119:
041B90 01010000            A  5558    	LD	BC,1
041B94 DD0FF3              A  5559    	LD	(IX+%FFFFFFF3),BC
041B97 18 07               A  5560    	JR	L_121
041B99                     A  5561    L_120:
041B99 01000000            A  5562    	LD	BC,0
041B9D DD0FF3              A  5563    	LD	(IX+%FFFFFFF3),BC
041BA0                     A  5564    L_121:
041BA0 DD7EF3              A  5565    	LD	A,(IX+%FFFFFFF3)
041BA3 32 B2 4F 04         A  5566    	LD	(_undomove+1),A
                           A  5567    ;  612				num_undomoves = 1;
                           A  5568    .LINE 612
                           A  5569    
041BA7 3E01                A  5570    	LD	A,%1
041BA9 32 B3 4F 04         A  5571    	LD	(_num_undomoves),A
                           A  5572    ;  613				
                           A  5573    ;  614				move_sprites(xn1,yn1,xn2,yn
                           A  5574    .LINE 614
                           A  5575    
041BAD DD07F8              A  5576    	LD	BC,(IX+%FFFFFFF8)
041BB0 C5                  A  5577    	PUSH	BC
041BB1 DD07FA              A  5578    	LD	BC,(IX+%FFFFFFFA)
041BB4 C5                  A  5579    	PUSH	BC
041BB5 DD07FC              A  5580    	LD	BC,(IX+%FFFFFFFC)
041BB8 C5                  A  5581    	PUSH	BC
041BB9 DD07FE              A  5582    	LD	BC,(IX+%FFFFFFFE)
041BBC C5                  A  5583    	PUSH	BC
041BBD CD 82 11 04         A  5584    	CALL	_move_sprites
041BC1 C1                  A  5585    	POP	BC
041BC2 C1                  A  5586    	POP	BC
041BC3 C1                  A  5587    	POP	BC
041BC4 C1                  A  5588    	POP	BC
                           A  5589    ;  615				move_updatelevel(xn1,yn1,xn
                           A  5590    .LINE 615
                           A  5591    
041BC5 DD07F8              A  5592    	LD	BC,(IX+%FFFFFFF8)
041BC8 C5                  A  5593    	PUSH	BC
041BC9 DD07FA              A  5594    	LD	BC,(IX+%FFFFFFFA)
041BCC C5                  A  5595    	PUSH	BC
041BCD DD07FC              A  5596    	LD	BC,(IX+%FFFFFFFC)
041BD0 C5                  A  5597    	PUSH	BC
041BD1 DD07FE              A  5598    	LD	BC,(IX+%FFFFFFFE)
041BD4 C5                  A  5599    	PUSH	BC
041BD5 CD 75 14 04         A  5600    	CALL	_move_updatelevel
041BD9 C1                  A  5601    	POP	BC
041BDA C1                  A  5602    	POP	BC
041BDB C1                  A  5603    	POP	BC
041BDC C1                  A  5604    	POP	BC
                           A  5605    ;  616				done = (currentlevel.goals 
                           A  5606    .LINE 616
                           A  5607    
041BDD 3A 68 58 04         A  5608    	LD	A,(_currentlevel+4)
041BE1 21 69 58 04         A  5609    	LD	HL,_currentlevel+5
041BE5 BE                  A  5610    	CP	A,(HL)
041BE6 20 04               A  5611    	JR	NZ,L__47
041BE8 3E01                A  5612    	LD	A,%1
041BEA 18 01               A  5613    	JR	L__48
041BEC                     A  5614    L__47:
041BEC AF                  A  5615    	XOR	A,A
041BED                     A  5616    L__48:
041BED DD77F6              A  5617    	LD	(IX+%FFFFFFF6),A
                           A  5618    ;  617			}
                           A  5619    ;  618		}
041BF0                     A  5620    L_126:
                           A  5621    .LINE 618
                           A  5622    
                           A  5623    ;  619		vdp_cursorGoto(0,0);
                           A  5624    .LINE 619
                           A  5625    
041BF0 01000000            A  5626    	LD	BC,0
041BF4 C5                  A  5627    	PUSH	BC
041BF5 C5                  A  5628    	PUSH	BC
041BF6 CD C6 03 04         A  5629    	CALL	_vdp_cursorGoto
041BFA C1                  A  5630    	POP	BC
041BFB C1                  A  5631    	POP	BC
                           A  5632    ;  620		//debug_print_playfieldText();
                           A  5633    ;  621		return done;
                           A  5634    .LINE 621
                           A  5635    
041BFC DD7EF6              A  5636    	LD	A,(IX+%FFFFFFF6)
                           A  5637    ;  622	}
                           A  5638    .LINE 622
                           A  5639    
041BFF DDF9                A  5640    	LD	SP,IX
041C01 DDE1                A  5641    	POP	IX
041C03 C9                  A  5642    	RET	
                           A  5643    
                           A  5644    
                           A  5645    ;**************************** _game_handleKey *
                           A  5646    ;Name                         Addr/Register   S
                           A  5647    ;_vdp_cursorGoto                     IMPORT  --
                           A  5648    ;_num_undomoves                      STATIC    
                           A  5649    ;_undomove                           STATIC    
                           A  5650    ;_currentlevel                       STATIC   1
                           A  5651    ;G_27                                 IX-19    
                           A  5652    ;G_28                                 IX-16    
                           A  5653    ;temp122                              IX-13    
                           A  5654    ;done                                 IX-10    
                           A  5655    ;move                                  IX-9    
                           A  5656    ;yn2                                   IX-8    
                           A  5657    ;xn2                                   IX-6    
                           A  5658    ;yn1                                   IX-4    
                           A  5659    ;xn1                                   IX-2    
                           A  5660    ;key                                   IX+6    
                           A  5661    
                           A  5662    
                           A  5663    ; Stack Frame Size: 28 (bytes)
                           A  5664    ;       Spill Code: 0 (instruction)
                           A  5665    
                           A  5666    
                           A  5667    .ENDFUNC "game_handleKey",622,"_game_handleKey"
                           A  5668    ;  623	
                           A  5669    ;  624	char game_getResponse(char *message, ch
                           A  5670    ;  625	{
041C04                     A  5671    _game_getResponse:
                           A  5672    .DEFINE "_game_getResponse"
                           A  5673    
                           A  5674    .VALUE _game_getResponse
                           A  5675    
                           A  5676    .CLASS 2
                           A  5677    
                           A  5678    .TYPE 66
                           A  5679    
                           A  5680    .ENDEF
                           A  5681    
                           A  5682    .BEGFUNC "game_getResponse",625,"_game_getRespo
                           A  5683    
                           A  5684    .LINE 625
                           A  5685    
                           A  5686    .DEFINE "message"
                           A  5687    
                           A  5688    .CLASS 65
                           A  5689    
                           A  5690    .VALUE 6
                           A  5691    
                           A  5692    .TYPE 34
                           A  5693    
                           A  5694    .ENDEF
                           A  5695    
                           A  5696    .DEFINE "option1"
                           A  5697    
                           A  5698    .CLASS 65
                           A  5699    
                           A  5700    .VALUE 9
                           A  5701    
                           A  5702    .TYPE 2
                           A  5703    
                           A  5704    .ENDEF
                           A  5705    
                           A  5706    .DEFINE "option2"
                           A  5707    
                           A  5708    .CLASS 65
                           A  5709    
                           A  5710    .VALUE 12
                           A  5711    
                           A  5712    .TYPE 2
                           A  5713    
                           A  5714    .ENDEF
                           A  5715    
                           A  5716    .DEFINE "n"
                           A  5717    
                           A  5718    .CLASS 65
                           A  5719    
                           A  5720    .VALUE -1
                           A  5721    
                           A  5722    .TYPE 12
                           A  5723    
                           A  5724    .ENDEF
                           A  5725    
                           A  5726    .DEFINE "ret"
                           A  5727    
                           A  5728    .CLASS 65
                           A  5729    
                           A  5730    .VALUE -2
                           A  5731    
                           A  5732    .TYPE 2
                           A  5733    
                           A  5734    .ENDEF
                           A  5735    
                           A  5736    .DEFINE "start"
                           A  5737    
                           A  5738    .CLASS 65
                           A  5739    
                           A  5740    .VALUE -3
                           A  5741    
                           A  5742    .TYPE 12
                           A  5743    
                           A  5744    .ENDEF
                           A  5745    
                           A  5746    .DEFINE "len"
                           A  5747    
                           A  5748    .CLASS 65
                           A  5749    
                           A  5750    .VALUE -4
                           A  5751    
                           A  5752    .TYPE 12
                           A  5753    
                           A  5754    .ENDEF
                           A  5755    
041C04 DDE5                A  5756    	PUSH	IX
041C06 DD210000 00         A  5757    	LD	IX,0
041C0B DD39                A  5758    	ADD	IX,SP
041C0D C5                  A  5759    	PUSH	BC
041C0E 3B                  A  5760    	DEC	SP
                           A  5761    ;  626		UINT8 n;
                           A  5762    ;  627		UINT8 len = strlen(message);
                           A  5763    .LINE 627
                           A  5764    
041C0F DD0706              A  5765    	LD	BC,(IX+%6)
041C12 C5                  A  5766    	PUSH	BC
041C13 CD AB 2B 04         A  5767    	CALL	_strlen
041C17 C1                  A  5768    	POP	BC
041C18 DD75FC              A  5769    	LD	(IX+%FFFFFFFC),L
                           A  5770    ;  628		UINT8 start = (80 - len) / 2;
                           A  5771    .LINE 628
                           A  5772    
041C1B DD7EFC              A  5773    	LD	A,(IX+%FFFFFFFC)
041C1E B7ED62              A  5774    	UEXT	HL
041C21 6F                  A  5775    	LD	L,A
041C22 E5C1                A  5776    	LD	BC,HL
041C24 21500000            A  5777    	LD	HL,80
041C28 B7                  A  5778    	OR	A,A
041C29 ED42                A  5779    	SBC	HL,BC
041C2B 01020000            A  5780    	LD	BC,2
041C2F CD 7A 31 04         A  5781    	CALL	__idivs
041C33 DD75FD              A  5782    	LD	(IX+%FFFFFFFD),L
                           A  5783    ;  629		char ret = 0;
                           A  5784    .LINE 629
                           A  5785    
041C36 DD36FE00            A  5786    	LD	(IX+%FFFFFFFE),%0
                           A  5787    ;  630		
                           A  5788    ;  631		
                           A  5789    ;  632		// vertical spacing
                           A  5790    ;  633		for(n = start - 1; n < (start+len+1
                           A  5791    .LINE 633
                           A  5792    
041C3A DD7EFD              A  5793    	LD	A,(IX+%FFFFFFFD)
041C3D 3D                  A  5794    	DEC	A
041C3E DD77FF              A  5795    	LD	(IX+%FFFFFFFF),A
041C41 18 39               A  5796    	JR	L_131
041C43                     A  5797    L_129:
                           A  5798    ;  634		{
                           A  5799    ;  635			vdp_cursorGoto(n,27);
                           A  5800    .LINE 635
                           A  5801    
041C43 011B0000            A  5802    	LD	BC,27
041C47 C5                  A  5803    	PUSH	BC
041C48 DD4EFF              A  5804    	LD	C,(IX+%FFFFFFFF)
041C4B 0600                A  5805    	LD	B,%0
041C4D C5                  A  5806    	PUSH	BC
041C4E CD C6 03 04         A  5807    	CALL	_vdp_cursorGoto
041C52 C1                  A  5808    	POP	BC
041C53 C1                  A  5809    	POP	BC
                           A  5810    ;  636			putch(' ');
                           A  5811    .LINE 636
                           A  5812    
041C54 01200000            A  5813    	LD	BC,32
041C58 C5                  A  5814    	PUSH	BC
041C59 CD BB 28 04         A  5815    	CALL	_putch
041C5D C1                  A  5816    	POP	BC
                           A  5817    ;  637			vdp_cursorGoto(n,29);
                           A  5818    .LINE 637
                           A  5819    
041C5E 011D0000            A  5820    	LD	BC,29
041C62 C5                  A  5821    	PUSH	BC
041C63 DD4EFF              A  5822    	LD	C,(IX+%FFFFFFFF)
041C66 0600                A  5823    	LD	B,%0
041C68 C5                  A  5824    	PUSH	BC
041C69 CD C6 03 04         A  5825    	CALL	_vdp_cursorGoto
041C6D C1                  A  5826    	POP	BC
041C6E C1                  A  5827    	POP	BC
                           A  5828    ;  638			putch(' ');
                           A  5829    .LINE 638
                           A  5830    
041C6F 01200000            A  5831    	LD	BC,32
041C73 C5                  A  5832    	PUSH	BC
041C74 CD BB 28 04         A  5833    	CALL	_putch
041C78 C1                  A  5834    	POP	BC
041C79 DD34FF              A  5835    	INC	(IX+%FFFFFFFF)
                           A  5836    ;  639		}
041C7C                     A  5837    L_131:
                           A  5838    .LINE 639
                           A  5839    
041C7C DD7EFD              A  5840    	LD	A,(IX+%FFFFFFFD)
041C7F B7ED62              A  5841    	UEXT	HL
041C82 6F                  A  5842    	LD	L,A
041C83 E5C1                A  5843    	LD	BC,HL
041C85 DD7EFC              A  5844    	LD	A,(IX+%FFFFFFFC)
041C88 B7ED62              A  5845    	UEXT	HL
041C8B 6F                  A  5846    	LD	L,A
041C8C 09                  A  5847    	ADD	HL,BC
041C8D E5C1                A  5848    	LD	BC,HL
041C8F 03                  A  5849    	INC	BC
041C90 DD7EFF              A  5850    	LD	A,(IX+%FFFFFFFF)
041C93 B7ED62              A  5851    	UEXT	HL
041C96 6F                  A  5852    	LD	L,A
041C97 B7                  A  5853    	OR	A,A
041C98 ED42                A  5854    	SBC	HL,BC
041C9A FA 43 1C 04         A  5855    	JP	M,L_129
                           A  5856    ;  640		// horizontal spacing
                           A  5857    ;  641		vdp_cursorGoto(start-1,28);
                           A  5858    .LINE 641
                           A  5859    
041C9E 011C0000            A  5860    	LD	BC,28
041CA2 C5                  A  5861    	PUSH	BC
041CA3 DD4EFD              A  5862    	LD	C,(IX+%FFFFFFFD)
041CA6 0D                  A  5863    	DEC	C
041CA7 0600                A  5864    	LD	B,%0
041CA9 C5                  A  5865    	PUSH	BC
041CAA CD C6 03 04         A  5866    	CALL	_vdp_cursorGoto
041CAE C1                  A  5867    	POP	BC
041CAF C1                  A  5868    	POP	BC
                           A  5869    ;  642		putch(' ');
                           A  5870    .LINE 642
                           A  5871    
041CB0 01200000            A  5872    	LD	BC,32
041CB4 C5                  A  5873    	PUSH	BC
041CB5 CD BB 28 04         A  5874    	CALL	_putch
041CB9 C1                  A  5875    	POP	BC
                           A  5876    ;  643		printf("%s ", message);
                           A  5877    .LINE 643
                           A  5878    
041CBA 01 3A 2B 04         A  5879    	LD	BC,___print_uputch
041CBE ED43 37 4C 04       A  5880    	LD	(___print_xputch),BC
041CC3 DD0706              A  5881    	LD	BC,(IX+%6)
041CC6 C5                  A  5882    	PUSH	BC
041CC7 CD C9 29 04         A  5883    	CALL	___print_sendstring
041CCB C1                  A  5884    	POP	BC
041CCC 01200000            A  5885    	LD	BC,32
041CD0 C5                  A  5886    	PUSH	BC
041CD1 CD 3A 2B 04         A  5887    	CALL	___print_uputch
041CD5 C1                  A  5888    	POP	BC
                           A  5889    ;  644	
                           A  5890    ;  645		while((ret != option1) && (ret != o
                           A  5891    .LINE 645
                           A  5892    
041CD6 18 07               A  5893    	JR	L_134
041CD8                     A  5894    L_135:
041CD8 CD D3 28 04         A  5895    	CALL	_getch
041CDC DD77FE              A  5896    	LD	(IX+%FFFFFFFE),A
041CDF                     A  5897    L_134:
041CDF DD7EFE              A  5898    	LD	A,(IX+%FFFFFFFE)
041CE2 DDBE09              A  5899    	CP	A,(IX+%9)
041CE5 28 08               A  5900    	JR	Z,L_136
041CE7 DD7EFE              A  5901    	LD	A,(IX+%FFFFFFFE)
041CEA DDBE0C              A  5902    	CP	A,(IX+%C)
041CED 20 E9               A  5903    	JR	NZ,L_135
041CEF                     A  5904    L_136:
                           A  5905    ;  646		
                           A  5906    ;  647		vdp_cls();
                           A  5907    .LINE 647
                           A  5908    
041CEF CD 7E 03 04         A  5909    	CALL	_vdp_cls
                           A  5910    ;  648	
                           A  5911    ;  649		return ret;
                           A  5912    .LINE 649
                           A  5913    
041CF3 DD7EFE              A  5914    	LD	A,(IX+%FFFFFFFE)
                           A  5915    ;  650	}
                           A  5916    .LINE 650
                           A  5917    
041CF6 DDF9                A  5918    	LD	SP,IX
041CF8 DDE1                A  5919    	POP	IX
041CFA C9                  A  5920    	RET	
                           A  5921    
                           A  5922    
                           A  5923    ;**************************** _game_getResponse
                           A  5924    ;Name                         Addr/Register   S
                           A  5925    ;_vdp_cls                            IMPORT  --
                           A  5926    ;_getch                              IMPORT  --
                           A  5927    ;___print_sendstring                 IMPORT  --
                           A  5928    ;___print_xputch                     IMPORT    
                           A  5929    ;___print_uputch                     IMPORT  --
                           A  5930    ;_putch                              IMPORT  --
                           A  5931    ;_vdp_cursorGoto                     IMPORT  --
                           A  5932    ;_strlen                             IMPORT  --
                           A  5933    ;len                                   IX-4    
                           A  5934    ;start                                 IX-3    
                           A  5935    ;ret                                   IX-2    
                           A  5936    ;n                                     IX-1    
                           A  5937    ;option2                              IX+12    
                           A  5938    ;option1                               IX+9    
                           A  5939    ;message                               IX+6    
                           A  5940    
                           A  5941    
                           A  5942    ; Stack Frame Size: 19 (bytes)
                           A  5943    ;       Spill Code: 0 (instruction)
                           A  5944    
                           A  5945    
                           A  5946    .ENDFUNC "game_getResponse",650,"_game_getRespo
                           A  5947    ;  651	
                           A  5948    ;  652	void game_splash_screen()
                           A  5949    ;  653	{
041CFB                     A  5950    _game_splash_screen:
                           A  5951    .DEFINE "_game_splash_screen"
                           A  5952    
                           A  5953    .VALUE _game_splash_screen
                           A  5954    
                           A  5955    .CLASS 2
                           A  5956    
                           A  5957    .TYPE 65
                           A  5958    
                           A  5959    .ENDEF
                           A  5960    
                           A  5961    .BEGFUNC "game_splash_screen",653,"_game_splash
                           A  5962    
041CFB DDE5                A  5963    	PUSH	IX
041CFD DD210000 00         A  5964    	LD	IX,0
041D02 DD39                A  5965    	ADD	IX,SP
                           A  5966    ;  654		vdp_cls();
                           A  5967    .LINE 654
                           A  5968    
041D04 CD 7E 03 04         A  5969    	CALL	_vdp_cls
                           A  5970    ;  655		vdp_cursorGoto(0,10);
                           A  5971    .LINE 655
                           A  5972    
041D08 010A0000            A  5973    	LD	BC,10
041D0C C5                  A  5974    	PUSH	BC
041D0D 01000000            A  5975    	LD	BC,0
041D11 C5                  A  5976    	PUSH	BC
041D12 CD C6 03 04         A  5977    	CALL	_vdp_cursorGoto
041D16 C1                  A  5978    	POP	BC
041D17 C1                  A  5979    	POP	BC
                           A  5980    ;  656		vdp_cursorDisable();
                           A  5981    .LINE 656
                           A  5982    
041D18 CD 16 0D 04         A  5983    	CALL	_vdp_cursorDisable
                           A  5984    ;  657		vdp_fgcolour(255,0,0);
                           A  5985    .LINE 657
                           A  5986    
041D1C 01000000            A  5987    	LD	BC,0
041D20 C5                  A  5988    	PUSH	BC
041D21 C5                  A  5989    	PUSH	BC
041D22 01FF0000            A  5990    	LD	BC,255
041D26 C5                  A  5991    	PUSH	BC
041D27 CD 57 04 04         A  5992    	CALL	_vdp_fgcolour
041D2B C1                  A  5993    	POP	BC
041D2C C1                  A  5994    	POP	BC
041D2D C1                  A  5995    	POP	BC
                           A  5996    ;  658		puts("             _____       _   
                           A  5997    .LINE 658
                           A  5998    
041D2E 01 B5 4C 04         A  5999    	LD	BC,L__54
041D32 C5                  A  6000    	PUSH	BC
041D33 CD CF 30 04         A  6001    	CALL	_puts
041D37 C1                  A  6002    	POP	BC
                           A  6003    ;  659		vdp_fgcolour(255,255,0);
                           A  6004    .LINE 659
                           A  6005    
041D38 01000000            A  6006    	LD	BC,0
041D3C C5                  A  6007    	PUSH	BC
041D3D 01FF0000            A  6008    	LD	BC,255
041D41 C5                  A  6009    	PUSH	BC
041D42 C5                  A  6010    	PUSH	BC
041D43 CD 57 04 04         A  6011    	CALL	_vdp_fgcolour
041D47 C1                  A  6012    	POP	BC
041D48 C1                  A  6013    	POP	BC
041D49 C1                  A  6014    	POP	BC
                           A  6015    ;  660		puts("            / ____|     | |  
                           A  6016    .LINE 660
                           A  6017    
041D4A 01 ED 4C 04         A  6018    	LD	BC,L__55
041D4E C5                  A  6019    	PUSH	BC
041D4F CD CF 30 04         A  6020    	CALL	_puts
041D53 C1                  A  6021    	POP	BC
                           A  6022    ;  661		vdp_fgcolour(0,255,255);
                           A  6023    .LINE 661
                           A  6024    
041D54 01FF0000            A  6025    	LD	BC,255
041D58 C5                  A  6026    	PUSH	BC
041D59 C5                  A  6027    	PUSH	BC
041D5A 01000000            A  6028    	LD	BC,0
041D5E C5                  A  6029    	PUSH	BC
041D5F CD 57 04 04         A  6030    	CALL	_vdp_fgcolour
041D63 C1                  A  6031    	POP	BC
041D64 C1                  A  6032    	POP	BC
041D65 C1                  A  6033    	POP	BC
                           A  6034    ;  662		puts("           | (___   ___ | | _
                           A  6035    .LINE 662
                           A  6036    
041D66 01 25 4D 04         A  6037    	LD	BC,L__56
041D6A C5                  A  6038    	PUSH	BC
041D6B CD CF 30 04         A  6039    	CALL	_puts
041D6F C1                  A  6040    	POP	BC
                           A  6041    ;  663		vdp_fgcolour(0,0,255);
                           A  6042    .LINE 663
                           A  6043    
041D70 01FF0000            A  6044    	LD	BC,255
041D74 C5                  A  6045    	PUSH	BC
041D75 01000000            A  6046    	LD	BC,0
041D79 C5                  A  6047    	PUSH	BC
041D7A C5                  A  6048    	PUSH	BC
041D7B CD 57 04 04         A  6049    	CALL	_vdp_fgcolour
041D7F C1                  A  6050    	POP	BC
041D80 C1                  A  6051    	POP	BC
041D81 C1                  A  6052    	POP	BC
                           A  6053    ;  664		puts("            \\___ \\ / _ \\| 
                           A  6054    .LINE 664
                           A  6055    
041D82 01 5D 4D 04         A  6056    	LD	BC,L__57
041D86 C5                  A  6057    	PUSH	BC
041D87 CD CF 30 04         A  6058    	CALL	_puts
041D8B C1                  A  6059    	POP	BC
                           A  6060    ;  665		vdp_fgcolour(255,0,255);
                           A  6061    .LINE 665
                           A  6062    
041D8C 01FF0000            A  6063    	LD	BC,255
041D90 C5                  A  6064    	PUSH	BC
041D91 01000000            A  6065    	LD	BC,0
041D95 C5                  A  6066    	PUSH	BC
041D96 01FF0000            A  6067    	LD	BC,255
041D9A C5                  A  6068    	PUSH	BC
041D9B CD 57 04 04         A  6069    	CALL	_vdp_fgcolour
041D9F C1                  A  6070    	POP	BC
041DA0 C1                  A  6071    	POP	BC
041DA1 C1                  A  6072    	POP	BC
                           A  6073    ;  666		puts("            ____) | (_) |   <
                           A  6074    .LINE 666
                           A  6075    
041DA2 01 95 4D 04         A  6076    	LD	BC,L__58
041DA6 C5                  A  6077    	PUSH	BC
041DA7 CD CF 30 04         A  6078    	CALL	_puts
041DAB C1                  A  6079    	POP	BC
                           A  6080    ;  667		vdp_fgcolour(255,255,255);
                           A  6081    .LINE 667
                           A  6082    
041DAC 01FF0000            A  6083    	LD	BC,255
041DB0 C5                  A  6084    	PUSH	BC
041DB1 C5                  A  6085    	PUSH	BC
041DB2 C5                  A  6086    	PUSH	BC
041DB3 CD 57 04 04         A  6087    	CALL	_vdp_fgcolour
041DB7 C1                  A  6088    	POP	BC
041DB8 C1                  A  6089    	POP	BC
041DB9 C1                  A  6090    	POP	BC
                           A  6091    ;  668		puts("           |_____/ \\___/|_|\
                           A  6092    .LINE 668
                           A  6093    
041DBA 01 CD 4D 04         A  6094    	LD	BC,L__59
041DBE C5                  A  6095    	PUSH	BC
041DBF CD CF 30 04         A  6096    	CALL	_puts
041DC3 C1                  A  6097    	POP	BC
                           A  6098    ;  669		puts("\r\n");
                           A  6099    .LINE 669
                           A  6100    
041DC4 01 05 4E 04         A  6101    	LD	BC,L__60
041DC8 C5                  A  6102    	PUSH	BC
041DC9 CD CF 30 04         A  6103    	CALL	_puts
041DCD C1                  A  6104    	POP	BC
                           A  6105    ;  670		puts("\r\n");
                           A  6106    .LINE 670
                           A  6107    
041DCE 01 08 4E 04         A  6108    	LD	BC,L__61
041DD2 C5                  A  6109    	PUSH	BC
041DD3 CD CF 30 04         A  6110    	CALL	_puts
041DD7 C1                  A  6111    	POP	BC
                           A  6112    ;  671		vdp_fgcolour(0,255,0);
                           A  6113    .LINE 671
                           A  6114    
041DD8 01000000            A  6115    	LD	BC,0
041DDC C5                  A  6116    	PUSH	BC
041DDD 01FF0000            A  6117    	LD	BC,255
041DE1 C5                  A  6118    	PUSH	BC
041DE2 01000000            A  6119    	LD	BC,0
041DE6 C5                  A  6120    	PUSH	BC
041DE7 CD 57 04 04         A  6121    	CALL	_vdp_fgcolour
041DEB C1                  A  6122    	POP	BC
041DEC C1                  A  6123    	POP	BC
041DED C1                  A  6124    	POP	BC
                           A  6125    ;  672		puts("                           Fo
                           A  6126    .LINE 672
                           A  6127    
041DEE 01 0B 4E 04         A  6128    	LD	BC,L__62
041DF2 C5                  A  6129    	PUSH	BC
041DF3 CD CF 30 04         A  6130    	CALL	_puts
041DF7 C1                  A  6131    	POP	BC
                           A  6132    ;  673		puts("\r\n");
                           A  6133    .LINE 673
                           A  6134    
041DF8 01 36 4E 04         A  6135    	LD	BC,L__63
041DFC C5                  A  6136    	PUSH	BC
041DFD CD CF 30 04         A  6137    	CALL	_puts
041E01 C1                  A  6138    	POP	BC
                           A  6139    ;  674		vdp_fgcolour(128,128,128);
                           A  6140    .LINE 674
                           A  6141    
041E02 01800000            A  6142    	LD	BC,128
041E06 C5                  A  6143    	PUSH	BC
041E07 C5                  A  6144    	PUSH	BC
041E08 C5                  A  6145    	PUSH	BC
041E09 CD 57 04 04         A  6146    	CALL	_vdp_fgcolour
041E0D C1                  A  6147    	POP	BC
041E0E C1                  A  6148    	POP	BC
041E0F C1                  A  6149    	POP	BC
                           A  6150    ;  675		puts("                     (c) 2023
                           A  6151    .LINE 675
                           A  6152    
041E10 01 39 4E 04         A  6153    	LD	BC,L__64
041E14 C5                  A  6154    	PUSH	BC
041E15 CD CF 30 04         A  6155    	CALL	_puts
041E19 C1                  A  6156    	POP	BC
                           A  6157    ;  676		//vdp_cursorGoto(25,38);
                           A  6158    ;  677		//vdp_fgcolour(255,255,255);
                           A  6159    ;  678		//puts("Reading levels...");
                           A  6160    ;  679	
                           A  6161    ;  680	}
                           A  6162    .LINE 680
                           A  6163    
041E1A DDF9                A  6164    	LD	SP,IX
041E1C DDE1                A  6165    	POP	IX
041E1E C9                  A  6166    	RET	
                           A  6167    
                           A  6168    
                           A  6169    ;**************************** _game_splash_scre
                           A  6170    ;Name                         Addr/Register   S
                           A  6171    ;_puts                               IMPORT  --
                           A  6172    ;_vdp_fgcolour                       IMPORT  --
                           A  6173    ;_vdp_cursorDisable                  IMPORT  --
                           A  6174    ;_vdp_cursorGoto                     IMPORT  --
                           A  6175    ;_vdp_cls                            IMPORT  --
                           A  6176    
                           A  6177    
                           A  6178    ; Stack Frame Size: 6 (bytes)
                           A  6179    ;       Spill Code: 0 (instruction)
                           A  6180    
                           A  6181    
                           A  6182    .ENDFUNC "game_splash_screen",680,"_game_splash
                           A  6183    	SEGMENT STRSECT
044CB5                     A  6184    L__54:
044CB5 20202020 20202020   A  6185    	DB	"             _____       _         _  
044CBD 20202020 205F5F5F 
044CC5 5F5F2020 20202020 
044CCD 205F2020 20202020 
044CD5 2020205F 20202020 
044CDD 20202020 20202020 
044CE5 20202020 20 
044CEA 0D0A00              A  6186    	DB	13,10,0
044CED                     A  6187    L__55:
044CED 20202020 20202020   A  6188    	DB	"            / ____|     | |       | | 
044CF5 20202020 2F205F5F 
044CFD 5F5F7C20 20202020 
044D05 7C207C20 20202020 
044D0D 20207C20 7C202020 
044D15 20202020 20202020 
044D1D 20202020 20 
044D22 0D0A00              A  6189    	DB	13,10,0
044D25                     A  6190    L__56:
044D25 20202020 20202020   A  6191    	DB	"           | (___   ___ | | _____ | |_
044D2D 2020207C 20285F5F 
044D35 5F202020 5F5F5F20 
044D3D 7C207C20 5F5F5F5F 
044D45 5F207C20 7C5F5F20 
044D4D 20205F5F 205F205F 
044D55 205F5F20 20 
044D5A 0D0A00              A  6192    	DB	13,10,0
044D5D                     A  6193    L__57:
044D5D 20202020 20202020   A  6194    	DB	"            \\___ \\ / _ \\| |/ / _ \\
044D65 20202020 5C5F5F5F 
044D6D 205C202F 205F205C 
044D75 7C207C2F 202F205F 
044D7D 205C7C20 275F205C 
044D85 202F205F 2E207C20 
044D8D 275F205C 20 
044D92 0D0A00              A  6195    	DB	13,10,0
044D95                     A  6196    L__58:
044D95 20202020 20202020   A  6197    	DB	"            ____) | (_) |   < (_) | |_
044D9D 20202020 5F5F5F5F 
044DA5 29207C20 285F2920 
044DAD 7C202020 3C20285F 
044DB5 29207C20 7C5F2920 
044DBD 7C20285F 7C207C20 
044DC5 7C207C20 7C 
044DCA 0D0A00              A  6198    	DB	13,10,0
044DCD                     A  6199    L__59:
044DCD 20202020 20202020   A  6200    	DB	"           |_____/ \\___/|_|\\_\\___/|
044DD5 2020207C 5F5F5F5F 
044DDD 5F2F205C 5F5F5F2F 
044DE5 7C5F7C5C 5F5C5F5F 
044DED 5F2F7C5F 2E5F5F2F 
044DF5 205C5F5F 2C5F7C5F 
044DFD 7C207C5F 7C 
044E02 0D0A00              A  6201    	DB	13,10,0
044E05                     A  6202    L__60:
044E05 0D0A00              A  6203    	DB	13,10,0
044E08                     A  6204    L__61:
044E08 0D0A00              A  6205    	DB	13,10,0
044E0B                     A  6206    L__62:
044E0B 20202020 20202020   A  6207    	DB	"                           For Agon (T
044E13 20202020 20202020 
044E1B 20202020 20202020 
044E23 20202046 6F722041 
044E2B 676F6E20 28544D29 
044E33 0D0A00              A  6208    	DB	13,10,0
044E36                     A  6209    L__63:
044E36 0D0A00              A  6210    	DB	13,10,0
044E39                     A  6211    L__64:
044E39 20202020 20202020   A  6212    	DB	"                     (c) 2023 Jeroen V
044E41 20202020 20202020 
044E49 20202020 20286329 
044E51 20323032 33204A65 
044E59 726F656E 2056656E 
044E61 656D61 
044E64 0D0A00              A  6213    	DB	13,10,0
                           A  6214    	SEGMENT CODE
                           A  6215    ;  681	
                           A  6216    ;  682	void game_displayHelp(UINT8 xpos, UINT8
                           A  6217    ;  683	{
041E1F                     A  6218    _game_displayHelp:
                           A  6219    .DEFINE "_game_displayHelp"
                           A  6220    
                           A  6221    .VALUE _game_displayHelp
                           A  6222    
                           A  6223    .CLASS 2
                           A  6224    
                           A  6225    .TYPE 65
                           A  6226    
                           A  6227    .ENDEF
                           A  6228    
                           A  6229    .BEGFUNC "game_displayHelp",683,"_game_displayH
                           A  6230    
                           A  6231    .LINE 683
                           A  6232    
                           A  6233    .DEFINE "xpos"
                           A  6234    
                           A  6235    .CLASS 65
                           A  6236    
                           A  6237    .VALUE 6
                           A  6238    
                           A  6239    .TYPE 12
                           A  6240    
                           A  6241    .ENDEF
                           A  6242    
                           A  6243    .DEFINE "ypos"
                           A  6244    
                           A  6245    .CLASS 65
                           A  6246    
                           A  6247    .VALUE 9
                           A  6248    
                           A  6249    .TYPE 12
                           A  6250    
                           A  6251    .ENDEF
                           A  6252    
                           A  6253    .DEFINE "gxpos"
                           A  6254    
                           A  6255    .CLASS 65
                           A  6256    
                           A  6257    .VALUE -2
                           A  6258    
                           A  6259    .TYPE 13
                           A  6260    
                           A  6261    .ENDEF
                           A  6262    
                           A  6263    .DEFINE "gypos"
                           A  6264    
                           A  6265    .CLASS 65
                           A  6266    
                           A  6267    .VALUE -4
                           A  6268    
                           A  6269    .TYPE 13
                           A  6270    
                           A  6271    .ENDEF
                           A  6272    
041E1F DDE5                A  6273    	PUSH	IX
041E21 DD210000 00         A  6274    	LD	IX,0
041E26 DD39                A  6275    	ADD	IX,SP
041E28 C5                  A  6276    	PUSH	BC
041E29 3B                  A  6277    	DEC	SP
                           A  6278    ;  684		UINT16 gxpos = xpos * MINIMAP_WIDTH
                           A  6279    .LINE 684
                           A  6280    
041E2A DD4E06              A  6281    	LD	C,(IX+%6)
041E2D 0600                A  6282    	LD	B,%0
041E2F C5E1                A  6283    	LD	HL,BC
041E31 29                  A  6284    	ADD	HL,HL
041E32 29                  A  6285    	ADD	HL,HL
041E33 29                  A  6286    	ADD	HL,HL
041E34 DD75FE              A  6287    	LD	(IX+%FFFFFFFE),L
041E37 DD74FF              A  6288    	LD	(IX+%FFFFFFFF),H
                           A  6289    ;  685		UINT16 gypos = (ypos * 8) + 72;
                           A  6290    .LINE 685
                           A  6291    
041E3A DD4E09              A  6292    	LD	C,(IX+%9)
041E3D C5E1                A  6293    	LD	HL,BC
041E3F 29                  A  6294    	ADD	HL,HL
041E40 29                  A  6295    	ADD	HL,HL
041E41 29                  A  6296    	ADD	HL,HL
041E42 E5FDE1              A  6297    	LD	IY,HL
041E45 ED2348              A  6298    	LEA	HL,IY+%48
041E48 DD75FC              A  6299    	LD	(IX+%FFFFFFFC),L
041E4B DD74FD              A  6300    	LD	(IX+%FFFFFFFD),H
                           A  6301    ;  686		vdp_cursorGoto(xpos,ypos);
                           A  6302    .LINE 686
                           A  6303    
041E4E DD4E09              A  6304    	LD	C,(IX+%9)
041E51 C5                  A  6305    	PUSH	BC
041E52 DD4E06              A  6306    	LD	C,(IX+%6)
041E55 C5                  A  6307    	PUSH	BC
041E56 CD C6 03 04         A  6308    	CALL	_vdp_cursorGoto
041E5A C1                  A  6309    	POP	BC
041E5B C1                  A  6310    	POP	BC
                           A  6311    ;  687		vdp_fgcolour(255,255,255);
                           A  6312    .LINE 687
                           A  6313    
041E5C 01FF0000            A  6314    	LD	BC,255
041E60 C5                  A  6315    	PUSH	BC
041E61 C5                  A  6316    	PUSH	BC
041E62 C5                  A  6317    	PUSH	BC
041E63 CD 57 04 04         A  6318    	CALL	_vdp_fgcolour
041E67 C1                  A  6319    	POP	BC
041E68 C1                  A  6320    	POP	BC
041E69 C1                  A  6321    	POP	BC
                           A  6322    ;  688		puts("Game objective");
                           A  6323    .LINE 688
                           A  6324    
041E6A 01 67 4E 04         A  6325    	LD	BC,L__66
041E6E C5                  A  6326    	PUSH	BC
041E6F CD CF 30 04         A  6327    	CALL	_puts
041E73 C1                  A  6328    	POP	BC
                           A  6329    ;  689		vdp_cursorGoto(xpos,ypos+2);
                           A  6330    .LINE 689
                           A  6331    
041E74 DD4E09              A  6332    	LD	C,(IX+%9)
041E77 0C                  A  6333    	INC	C
041E78 0C                  A  6334    	INC	C
041E79 0600                A  6335    	LD	B,%0
041E7B C5                  A  6336    	PUSH	BC
041E7C DD4E06              A  6337    	LD	C,(IX+%6)
041E7F C5                  A  6338    	PUSH	BC
041E80 CD C6 03 04         A  6339    	CALL	_vdp_cursorGoto
041E84 C1                  A  6340    	POP	BC
041E85 C1                  A  6341    	POP	BC
                           A  6342    ;  690		vdp_fgcolour(128,128,128);
                           A  6343    .LINE 690
                           A  6344    
041E86 01800000            A  6345    	LD	BC,128
041E8A C5                  A  6346    	PUSH	BC
041E8B C5                  A  6347    	PUSH	BC
041E8C C5                  A  6348    	PUSH	BC
041E8D CD 57 04 04         A  6349    	CALL	_vdp_fgcolour
041E91 C1                  A  6350    	POP	BC
041E92 C1                  A  6351    	POP	BC
041E93 C1                  A  6352    	POP	BC
                           A  6353    ;  691		puts("Push all boxes");
                           A  6354    .LINE 691
                           A  6355    
041E94 01 76 4E 04         A  6356    	LD	BC,L__67
041E98 C5                  A  6357    	PUSH	BC
041E99 CD CF 30 04         A  6358    	CALL	_puts
041E9D C1                  A  6359    	POP	BC
                           A  6360    ;  692		vdp_cursorGoto(xpos,ypos+3);
                           A  6361    .LINE 692
                           A  6362    
041E9E DD7E09              A  6363    	LD	A,(IX+%9)
041EA1 C603                A  6364    	ADD	A,%3
041EA3 4F                  A  6365    	LD	C,A
041EA4 0600                A  6366    	LD	B,%0
041EA6 C5                  A  6367    	PUSH	BC
041EA7 DD4E06              A  6368    	LD	C,(IX+%6)
041EAA C5                  A  6369    	PUSH	BC
041EAB CD C6 03 04         A  6370    	CALL	_vdp_cursorGoto
041EAF C1                  A  6371    	POP	BC
041EB0 C1                  A  6372    	POP	BC
                           A  6373    ;  693		puts("in this warehouse");
                           A  6374    .LINE 693
                           A  6375    
041EB1 01 85 4E 04         A  6376    	LD	BC,L__68
041EB5 C5                  A  6377    	PUSH	BC
041EB6 CD CF 30 04         A  6378    	CALL	_puts
041EBA C1                  A  6379    	POP	BC
                           A  6380    ;  694		vdp_cursorGoto(xpos,ypos+4);
                           A  6381    .LINE 694
                           A  6382    
041EBB DD7E09              A  6383    	LD	A,(IX+%9)
041EBE C604                A  6384    	ADD	A,%4
041EC0 4F                  A  6385    	LD	C,A
041EC1 0600                A  6386    	LD	B,%0
041EC3 C5                  A  6387    	PUSH	BC
041EC4 DD4E06              A  6388    	LD	C,(IX+%6)
041EC7 C5                  A  6389    	PUSH	BC
041EC8 CD C6 03 04         A  6390    	CALL	_vdp_cursorGoto
041ECC C1                  A  6391    	POP	BC
041ECD C1                  A  6392    	POP	BC
                           A  6393    ;  695		puts("to the target goals.");
                           A  6394    .LINE 695
                           A  6395    
041ECE 01 97 4E 04         A  6396    	LD	BC,L__69
041ED2 C5                  A  6397    	PUSH	BC
041ED3 CD CF 30 04         A  6398    	CALL	_puts
041ED7 C1                  A  6399    	POP	BC
                           A  6400    ;  696		
                           A  6401    ;  697		vdp_cursorGoto(xpos,ypos+7);
                           A  6402    .LINE 697
                           A  6403    
041ED8 DD7E09              A  6404    	LD	A,(IX+%9)
041EDB C607                A  6405    	ADD	A,%7
041EDD 4F                  A  6406    	LD	C,A
041EDE 0600                A  6407    	LD	B,%0
041EE0 C5                  A  6408    	PUSH	BC
041EE1 DD4E06              A  6409    	LD	C,(IX+%6)
041EE4 C5                  A  6410    	PUSH	BC
041EE5 CD C6 03 04         A  6411    	CALL	_vdp_cursorGoto
041EE9 C1                  A  6412    	POP	BC
041EEA C1                  A  6413    	POP	BC
                           A  6414    ;  698		vdp_fgcolour(255,255,255);
                           A  6415    .LINE 698
                           A  6416    
041EEB 01FF0000            A  6417    	LD	BC,255
041EEF C5                  A  6418    	PUSH	BC
041EF0 C5                  A  6419    	PUSH	BC
041EF1 C5                  A  6420    	PUSH	BC
041EF2 CD 57 04 04         A  6421    	CALL	_vdp_fgcolour
041EF6 C1                  A  6422    	POP	BC
041EF7 C1                  A  6423    	POP	BC
041EF8 C1                  A  6424    	POP	BC
                           A  6425    ;  699		puts("Legend");
                           A  6426    .LINE 699
                           A  6427    
041EF9 01 AC 4E 04         A  6428    	LD	BC,L__70
041EFD C5                  A  6429    	PUSH	BC
041EFE CD CF 30 04         A  6430    	CALL	_puts
041F02 C1                  A  6431    	POP	BC
                           A  6432    ;  700		
                           A  6433    ;  701		vdp_bitmapDraw(TILE_PLAYER_MINI,gxp
                           A  6434    .LINE 701
                           A  6435    
041F03 DD07FC              A  6436    	LD	BC,(IX+%FFFFFFFC)
041F06 C5                  A  6437    	PUSH	BC
041F07 DD07FE              A  6438    	LD	BC,(IX+%FFFFFFFE)
041F0A C5                  A  6439    	PUSH	BC
041F0B 01080000            A  6440    	LD	BC,8
041F0F C5                  A  6441    	PUSH	BC
041F10 CD C8 07 04         A  6442    	CALL	_vdp_bitmapDraw
041F14 C1                  A  6443    	POP	BC
041F15 C1                  A  6444    	POP	BC
041F16 C1                  A  6445    	POP	BC
                           A  6446    ;  702		vdp_bitmapDraw(TILE_BOX_MINI, gxpos
                           A  6447    .LINE 702
                           A  6448    
041F17 DD31FC              A  6449    	LD	IY,(IX+%FFFFFFFC)
041F1A ED0310              A  6450    	LEA	BC,IY+%10
041F1D C5                  A  6451    	PUSH	BC
041F1E DD07FE              A  6452    	LD	BC,(IX+%FFFFFFFE)
041F21 C5                  A  6453    	PUSH	BC
041F22 010A0000            A  6454    	LD	BC,10
041F26 C5                  A  6455    	PUSH	BC
041F27 CD C8 07 04         A  6456    	CALL	_vdp_bitmapDraw
041F2B C1                  A  6457    	POP	BC
041F2C C1                  A  6458    	POP	BC
041F2D C1                  A  6459    	POP	BC
                           A  6460    ;  703		vdp_bitmapDraw(TILE_BOXONGOAL_MINI,
                           A  6461    .LINE 703
                           A  6462    
041F2E DD31FC              A  6463    	LD	IY,(IX+%FFFFFFFC)
041F31 ED0320              A  6464    	LEA	BC,IY+%20
041F34 C5                  A  6465    	PUSH	BC
041F35 DD07FE              A  6466    	LD	BC,(IX+%FFFFFFFE)
041F38 C5                  A  6467    	PUSH	BC
041F39 010B0000            A  6468    	LD	BC,11
041F3D C5                  A  6469    	PUSH	BC
041F3E CD C8 07 04         A  6470    	CALL	_vdp_bitmapDraw
041F42 C1                  A  6471    	POP	BC
041F43 C1                  A  6472    	POP	BC
041F44 C1                  A  6473    	POP	BC
                           A  6474    ;  704		vdp_bitmapDraw(TILE_GOAL_MINI, gxpo
                           A  6475    .LINE 704
                           A  6476    
041F45 DD31FC              A  6477    	LD	IY,(IX+%FFFFFFFC)
041F48 ED0338              A  6478    	LEA	BC,IY+%38
041F4B C5                  A  6479    	PUSH	BC
041F4C DD07FE              A  6480    	LD	BC,(IX+%FFFFFFFE)
041F4F C5                  A  6481    	PUSH	BC
041F50 010C0000            A  6482    	LD	BC,12
041F54 C5                  A  6483    	PUSH	BC
041F55 CD C8 07 04         A  6484    	CALL	_vdp_bitmapDraw
041F59 C1                  A  6485    	POP	BC
041F5A C1                  A  6486    	POP	BC
041F5B C1                  A  6487    	POP	BC
                           A  6488    ;  705		
                           A  6489    ;  706		vdp_fgcolour(128,128,128);
                           A  6490    .LINE 706
                           A  6491    
041F5C 01800000            A  6492    	LD	BC,128
041F60 C5                  A  6493    	PUSH	BC
041F61 C5                  A  6494    	PUSH	BC
041F62 C5                  A  6495    	PUSH	BC
041F63 CD 57 04 04         A  6496    	CALL	_vdp_fgcolour
041F67 C1                  A  6497    	POP	BC
041F68 C1                  A  6498    	POP	BC
041F69 C1                  A  6499    	POP	BC
                           A  6500    ;  707		vdp_cursorGoto(xpos+2,ypos+9);
                           A  6501    .LINE 707
                           A  6502    
041F6A DD7E09              A  6503    	LD	A,(IX+%9)
041F6D C609                A  6504    	ADD	A,%9
041F6F 4F                  A  6505    	LD	C,A
041F70 0600                A  6506    	LD	B,%0
041F72 C5                  A  6507    	PUSH	BC
041F73 DD4E06              A  6508    	LD	C,(IX+%6)
041F76 0C                  A  6509    	INC	C
041F77 0C                  A  6510    	INC	C
041F78 C5                  A  6511    	PUSH	BC
041F79 CD C6 03 04         A  6512    	CALL	_vdp_cursorGoto
041F7D C1                  A  6513    	POP	BC
041F7E C1                  A  6514    	POP	BC
                           A  6515    ;  708		puts("You, hard at work");
                           A  6516    .LINE 708
                           A  6517    
041F7F 01 B3 4E 04         A  6518    	LD	BC,L__71
041F83 C5                  A  6519    	PUSH	BC
041F84 CD CF 30 04         A  6520    	CALL	_puts
041F88 C1                  A  6521    	POP	BC
                           A  6522    ;  709		vdp_cursorGoto(xpos+2,ypos+11);
                           A  6523    .LINE 709
                           A  6524    
041F89 DD7E09              A  6525    	LD	A,(IX+%9)
041F8C C60B                A  6526    	ADD	A,%B
041F8E 4F                  A  6527    	LD	C,A
041F8F 0600                A  6528    	LD	B,%0
041F91 C5                  A  6529    	PUSH	BC
041F92 DD4E06              A  6530    	LD	C,(IX+%6)
041F95 0C                  A  6531    	INC	C
041F96 0C                  A  6532    	INC	C
041F97 C5                  A  6533    	PUSH	BC
041F98 CD C6 03 04         A  6534    	CALL	_vdp_cursorGoto
041F9C C1                  A  6535    	POP	BC
041F9D C1                  A  6536    	POP	BC
                           A  6537    ;  710		puts("Boxes with stuff");
                           A  6538    .LINE 710
                           A  6539    
041F9E 01 C5 4E 04         A  6540    	LD	BC,L__72
041FA2 C5                  A  6541    	PUSH	BC
041FA3 CD CF 30 04         A  6542    	CALL	_puts
041FA7 C1                  A  6543    	POP	BC
                           A  6544    ;  711		vdp_cursorGoto(xpos+2,ypos+13);
                           A  6545    .LINE 711
                           A  6546    
041FA8 DD7E09              A  6547    	LD	A,(IX+%9)
041FAB C60D                A  6548    	ADD	A,%D
041FAD 4F                  A  6549    	LD	C,A
041FAE 0600                A  6550    	LD	B,%0
041FB0 C5                  A  6551    	PUSH	BC
041FB1 DD4E06              A  6552    	LD	C,(IX+%6)
041FB4 0C                  A  6553    	INC	C
041FB5 0C                  A  6554    	INC	C
041FB6 C5                  A  6555    	PUSH	BC
041FB7 CD C6 03 04         A  6556    	CALL	_vdp_cursorGoto
041FBB C1                  A  6557    	POP	BC
041FBC C1                  A  6558    	POP	BC
                           A  6559    ;  712		puts("Boxes in shipping");
                           A  6560    .LINE 712
                           A  6561    
041FBD 01 D6 4E 04         A  6562    	LD	BC,L__73
041FC1 C5                  A  6563    	PUSH	BC
041FC2 CD CF 30 04         A  6564    	CALL	_puts
041FC6 C1                  A  6565    	POP	BC
                           A  6566    ;  713		vdp_cursorGoto(xpos+2,ypos+14);
                           A  6567    .LINE 713
                           A  6568    
041FC7 DD7E09              A  6569    	LD	A,(IX+%9)
041FCA C60E                A  6570    	ADD	A,%E
041FCC 4F                  A  6571    	LD	C,A
041FCD 0600                A  6572    	LD	B,%0
041FCF C5                  A  6573    	PUSH	BC
041FD0 DD4E06              A  6574    	LD	C,(IX+%6)
041FD3 0C                  A  6575    	INC	C
041FD4 0C                  A  6576    	INC	C
041FD5 C5                  A  6577    	PUSH	BC
041FD6 CD C6 03 04         A  6578    	CALL	_vdp_cursorGoto
041FDA C1                  A  6579    	POP	BC
041FDB C1                  A  6580    	POP	BC
                           A  6581    ;  714		puts("position");
                           A  6582    .LINE 714
                           A  6583    
041FDC 01 E8 4E 04         A  6584    	LD	BC,L__74
041FE0 C5                  A  6585    	PUSH	BC
041FE1 CD CF 30 04         A  6586    	CALL	_puts
041FE5 C1                  A  6587    	POP	BC
                           A  6588    ;  715		vdp_cursorGoto(xpos+2,ypos+16);
                           A  6589    .LINE 715
                           A  6590    
041FE6 DD7E09              A  6591    	LD	A,(IX+%9)
041FE9 C610                A  6592    	ADD	A,%10
041FEB 4F                  A  6593    	LD	C,A
041FEC 0600                A  6594    	LD	B,%0
041FEE C5                  A  6595    	PUSH	BC
041FEF DD4E06              A  6596    	LD	C,(IX+%6)
041FF2 0C                  A  6597    	INC	C
041FF3 0C                  A  6598    	INC	C
041FF4 C5                  A  6599    	PUSH	BC
041FF5 CD C6 03 04         A  6600    	CALL	_vdp_cursorGoto
041FF9 C1                  A  6601    	POP	BC
041FFA C1                  A  6602    	POP	BC
                           A  6603    ;  716		puts("Shipping goal");
                           A  6604    .LINE 716
                           A  6605    
041FFB 01 F1 4E 04         A  6606    	LD	BC,L__75
041FFF C5                  A  6607    	PUSH	BC
042000 CD CF 30 04         A  6608    	CALL	_puts
042004 C1                  A  6609    	POP	BC
                           A  6610    ;  717		
                           A  6611    ;  718		vdp_fgcolour(255,255,255);
                           A  6612    .LINE 718
                           A  6613    
042005 01FF0000            A  6614    	LD	BC,255
042009 C5                  A  6615    	PUSH	BC
04200A C5                  A  6616    	PUSH	BC
04200B C5                  A  6617    	PUSH	BC
04200C CD 57 04 04         A  6618    	CALL	_vdp_fgcolour
042010 C1                  A  6619    	POP	BC
042011 C1                  A  6620    	POP	BC
042012 C1                  A  6621    	POP	BC
                           A  6622    ;  719		vdp_cursorGoto(xpos,ypos+19);
                           A  6623    .LINE 719
                           A  6624    
042013 DD7E09              A  6625    	LD	A,(IX+%9)
042016 C613                A  6626    	ADD	A,%13
042018 4F                  A  6627    	LD	C,A
042019 0600                A  6628    	LD	B,%0
04201B C5                  A  6629    	PUSH	BC
04201C DD4E06              A  6630    	LD	C,(IX+%6)
04201F C5                  A  6631    	PUSH	BC
042020 CD C6 03 04         A  6632    	CALL	_vdp_cursorGoto
042024 C1                  A  6633    	POP	BC
042025 C1                  A  6634    	POP	BC
                           A  6635    ;  720		puts("Game controls");
                           A  6636    .LINE 720
                           A  6637    
042026 01 FF 4E 04         A  6638    	LD	BC,L__76
04202A C5                  A  6639    	PUSH	BC
04202B CD CF 30 04         A  6640    	CALL	_puts
04202F C1                  A  6641    	POP	BC
                           A  6642    ;  721		
                           A  6643    ;  722		vdp_fgcolour(128,128,128);
                           A  6644    .LINE 722
                           A  6645    
042030 01800000            A  6646    	LD	BC,128
042034 C5                  A  6647    	PUSH	BC
042035 C5                  A  6648    	PUSH	BC
042036 C5                  A  6649    	PUSH	BC
042037 CD 57 04 04         A  6650    	CALL	_vdp_fgcolour
04203B C1                  A  6651    	POP	BC
04203C C1                  A  6652    	POP	BC
04203D C1                  A  6653    	POP	BC
                           A  6654    ;  723		vdp_cursorGoto(xpos,ypos+21);
                           A  6655    .LINE 723
                           A  6656    
04203E DD7E09              A  6657    	LD	A,(IX+%9)
042041 C615                A  6658    	ADD	A,%15
042043 4F                  A  6659    	LD	C,A
042044 0600                A  6660    	LD	B,%0
042046 C5                  A  6661    	PUSH	BC
042047 DD4E06              A  6662    	LD	C,(IX+%6)
04204A C5                  A  6663    	PUSH	BC
04204B CD C6 03 04         A  6664    	CALL	_vdp_cursorGoto
04204F C1                  A  6665    	POP	BC
042050 C1                  A  6666    	POP	BC
                           A  6667    ;  724		puts("Cursor");
                           A  6668    .LINE 724
                           A  6669    
042051 01 0D 4F 04         A  6670    	LD	BC,L__77
042055 C5                  A  6671    	PUSH	BC
042056 CD CF 30 04         A  6672    	CALL	_puts
04205A C1                  A  6673    	POP	BC
                           A  6674    ;  725		vdp_cursorGoto(xpos,ypos+22);
                           A  6675    .LINE 725
                           A  6676    
04205B DD7E09              A  6677    	LD	A,(IX+%9)
04205E C616                A  6678    	ADD	A,%16
042060 4F                  A  6679    	LD	C,A
042061 0600                A  6680    	LD	B,%0
042063 C5                  A  6681    	PUSH	BC
042064 DD4E06              A  6682    	LD	C,(IX+%6)
042067 C5                  A  6683    	PUSH	BC
042068 CD C6 03 04         A  6684    	CALL	_vdp_cursorGoto
04206C C1                  A  6685    	POP	BC
04206D C1                  A  6686    	POP	BC
                           A  6687    ;  726		puts(" keys  - move player");
                           A  6688    .LINE 726
                           A  6689    
04206E 01 14 4F 04         A  6690    	LD	BC,L__78
042072 C5                  A  6691    	PUSH	BC
042073 CD CF 30 04         A  6692    	CALL	_puts
042077 C1                  A  6693    	POP	BC
                           A  6694    ;  727		vdp_cursorGoto(xpos,ypos+23);
                           A  6695    .LINE 727
                           A  6696    
042078 DD7E09              A  6697    	LD	A,(IX+%9)
04207B C617                A  6698    	ADD	A,%17
04207D 4F                  A  6699    	LD	C,A
04207E 0600                A  6700    	LD	B,%0
042080 C5                  A  6701    	PUSH	BC
042081 DD4E06              A  6702    	LD	C,(IX+%6)
042084 C5                  A  6703    	PUSH	BC
042085 CD C6 03 04         A  6704    	CALL	_vdp_cursorGoto
042089 C1                  A  6705    	POP	BC
04208A C1                  A  6706    	POP	BC
                           A  6707    ;  728		puts("    u  - undo move");
                           A  6708    .LINE 728
                           A  6709    
04208B 01 29 4F 04         A  6710    	LD	BC,L__79
04208F C5                  A  6711    	PUSH	BC
042090 CD CF 30 04         A  6712    	CALL	_puts
042094 C1                  A  6713    	POP	BC
                           A  6714    ;  729		vdp_cursorGoto(xpos,ypos+24);
                           A  6715    .LINE 729
                           A  6716    
042095 DD7E09              A  6717    	LD	A,(IX+%9)
042098 C618                A  6718    	ADD	A,%18
04209A 4F                  A  6719    	LD	C,A
04209B 0600                A  6720    	LD	B,%0
04209D C5                  A  6721    	PUSH	BC
04209E DD4E06              A  6722    	LD	C,(IX+%6)
0420A1 C5                  A  6723    	PUSH	BC
0420A2 CD C6 03 04         A  6724    	CALL	_vdp_cursorGoto
0420A6 C1                  A  6725    	POP	BC
0420A7 C1                  A  6726    	POP	BC
                           A  6727    ;  730		puts("esc/q  - quit level");
                           A  6728    .LINE 730
                           A  6729    
0420A8 01 3C 4F 04         A  6730    	LD	BC,L__80
0420AC C5                  A  6731    	PUSH	BC
0420AD CD CF 30 04         A  6732    	CALL	_puts
0420B1 C1                  A  6733    	POP	BC
                           A  6734    ;  731		vdp_cursorGoto(xpos,ypos+26);
                           A  6735    .LINE 731
                           A  6736    
0420B2 DD7E09              A  6737    	LD	A,(IX+%9)
0420B5 C61A                A  6738    	ADD	A,%1A
0420B7 4F                  A  6739    	LD	C,A
0420B8 0600                A  6740    	LD	B,%0
0420BA C5                  A  6741    	PUSH	BC
0420BB DD4E06              A  6742    	LD	C,(IX+%6)
0420BE C5                  A  6743    	PUSH	BC
0420BF CD C6 03 04         A  6744    	CALL	_vdp_cursorGoto
0420C3 C1                  A  6745    	POP	BC
0420C4 C1                  A  6746    	POP	BC
                           A  6747    ;  732		puts("ENTER  - start level");
                           A  6748    .LINE 732
                           A  6749    
0420C5 01 50 4F 04         A  6750    	LD	BC,L__81
0420C9 C5                  A  6751    	PUSH	BC
0420CA CD CF 30 04         A  6752    	CALL	_puts
0420CE C1                  A  6753    	POP	BC
                           A  6754    ;  733	
                           A  6755    ;  734		return;
                           A  6756    ;  735	}
                           A  6757    .LINE 735
                           A  6758    
0420CF DDF9                A  6759    	LD	SP,IX
0420D1 DDE1                A  6760    	POP	IX
0420D3 C9                  A  6761    	RET	
                           A  6762    
                           A  6763    
                           A  6764    ;**************************** _game_displayHelp
                           A  6765    ;Name                         Addr/Register   S
                           A  6766    ;_vdp_bitmapDraw                     IMPORT  --
                           A  6767    ;_puts                               IMPORT  --
                           A  6768    ;_vdp_fgcolour                       IMPORT  --
                           A  6769    ;_vdp_cursorGoto                     IMPORT  --
                           A  6770    ;gypos                                 IX-4    
                           A  6771    ;gxpos                                 IX-2    
                           A  6772    ;ypos                                  IX+9    
                           A  6773    ;xpos                                  IX+6    
                           A  6774    
                           A  6775    
                           A  6776    ; Stack Frame Size: 16 (bytes)
                           A  6777    ;       Spill Code: 0 (instruction)
                           A  6778    
                           A  6779    
                           A  6780    .ENDFUNC "game_displayHelp",735,"_game_displayH
                           A  6781    	SEGMENT STRSECT
044E67                     A  6782    L__66:
044E67 47616D65 206F626A   A  6783    	DB	"Game objective"
044E6F 65637469 7665 
044E75 00                  A  6784    	DB	0
044E76                     A  6785    L__67:
044E76 50757368 20616C6C   A  6786    	DB	"Push all boxes"
044E7E 20626F78 6573 
044E84 00                  A  6787    	DB	0
044E85                     A  6788    L__68:
044E85 696E2074 68697320   A  6789    	DB	"in this warehouse"
044E8D 77617265 686F7573 
044E95 65 
044E96 00                  A  6790    	DB	0
044E97                     A  6791    L__69:
044E97 746F2074 68652074   A  6792    	DB	"to the target goals."
044E9F 61726765 7420676F 
044EA7 616C732E 
044EAB 00                  A  6793    	DB	0
044EAC                     A  6794    L__70:
044EAC 4C656765 6E64       A  6795    	DB	"Legend"
044EB2 00                  A  6796    	DB	0
044EB3                     A  6797    L__71:
044EB3 596F752C 20686172   A  6798    	DB	"You, hard at work"
044EBB 64206174 20776F72 
044EC3 6B 
044EC4 00                  A  6799    	DB	0
044EC5                     A  6800    L__72:
044EC5 426F7865 73207769   A  6801    	DB	"Boxes with stuff"
044ECD 74682073 74756666 
044ED5 00                  A  6802    	DB	0
044ED6                     A  6803    L__73:
044ED6 426F7865 7320696E   A  6804    	DB	"Boxes in shipping"
044EDE 20736869 7070696E 
044EE6 67 
044EE7 00                  A  6805    	DB	0
044EE8                     A  6806    L__74:
044EE8 706F7369 74696F6E   A  6807    	DB	"position"
044EF0 00                  A  6808    	DB	0
044EF1                     A  6809    L__75:
044EF1 53686970 70696E67   A  6810    	DB	"Shipping goal"
044EF9 20676F61 6C 
044EFE 00                  A  6811    	DB	0
044EFF                     A  6812    L__76:
044EFF 47616D65 20636F6E   A  6813    	DB	"Game controls"
044F07 74726F6C 73 
044F0C 00                  A  6814    	DB	0
044F0D                     A  6815    L__77:
044F0D 43757273 6F72       A  6816    	DB	"Cursor"
044F13 00                  A  6817    	DB	0
044F14                     A  6818    L__78:
044F14 206B6579 7320202D   A  6819    	DB	" keys  - move player"
044F1C 206D6F76 6520706C 
044F24 61796572 
044F28 00                  A  6820    	DB	0
044F29                     A  6821    L__79:
044F29 20202020 7520202D   A  6822    	DB	"    u  - undo move"
044F31 20756E64 6F206D6F 
044F39 7665 
044F3B 00                  A  6823    	DB	0
044F3C                     A  6824    L__80:
044F3C 6573632F 7120202D   A  6825    	DB	"esc/q  - quit level"
044F44 20717569 74206C65 
044F4C 76656C 
044F4F 00                  A  6826    	DB	0
044F50                     A  6827    L__81:
044F50 454E5445 5220202D   A  6828    	DB	"ENTER  - start level"
044F58 20737461 7274206C 
044F60 6576656C 
044F64 00                  A  6829    	DB	0
                           A  6830    	SEGMENT CODE
                           A  6831    ;  736	
                           A  6832    ;  737	INT16 game_selectLevel(UINT8 levels, UI
                           A  6833    ;  738	{
0420D4                     A  6834    _game_selectLevel:
                           A  6835    .DEFINE "_game_selectLevel"
                           A  6836    
                           A  6837    .VALUE _game_selectLevel
                           A  6838    
                           A  6839    .CLASS 2
                           A  6840    
                           A  6841    .TYPE 67
                           A  6842    
                           A  6843    .ENDEF
                           A  6844    
                           A  6845    .BEGFUNC "game_selectLevel",738,"_game_selectLe
                           A  6846    
                           A  6847    .LINE 738
                           A  6848    
                           A  6849    .DEFINE "levels"
                           A  6850    
                           A  6851    .CLASS 65
                           A  6852    
                           A  6853    .VALUE 6
                           A  6854    
                           A  6855    .TYPE 12
                           A  6856    
                           A  6857    .ENDEF
                           A  6858    
                           A  6859    .DEFINE "previouslevel"
                           A  6860    
                           A  6861    .CLASS 65
                           A  6862    
                           A  6863    .VALUE 9
                           A  6864    
                           A  6865    .TYPE 13
                           A  6866    
                           A  6867    .ENDEF
                           A  6868    
                           A  6869    .DEFINE "lvl"
                           A  6870    
                           A  6871    .CLASS 65
                           A  6872    
                           A  6873    .VALUE -2
                           A  6874    
                           A  6875    .TYPE 3
                           A  6876    
                           A  6877    .ENDEF
                           A  6878    
                           A  6879    .DEFINE "selected"
                           A  6880    
                           A  6881    .CLASS 65
                           A  6882    
                           A  6883    .VALUE -3
                           A  6884    
                           A  6885    .TYPE 12
                           A  6886    
                           A  6887    .ENDEF
                           A  6888    
0420D4 DDE5                A  6889    	PUSH	IX
0420D6 DD210000 00         A  6890    	LD	IX,0
0420DB DD39                A  6891    	ADD	IX,SP
0420DD C5                  A  6892    	PUSH	BC
                           A  6893    ;  739		INT16 lvl;
                           A  6894    ;  740		BOOL selected = FALSE;
                           A  6895    .LINE 740
                           A  6896    
0420DE DD36FD00            A  6897    	LD	(IX+%FFFFFFFD),%0
                           A  6898    ;  741		vdp_mode(1); // standard console mo
                           A  6899    .LINE 741
                           A  6900    
0420E2 01010000            A  6901    	LD	BC,1
0420E6 C5                  A  6902    	PUSH	BC
0420E7 CD 59 03 04         A  6903    	CALL	_vdp_mode
0420EB C1                  A  6904    	POP	BC
                           A  6905    ;  742		vdp_cls();
                           A  6906    .LINE 742
                           A  6907    
0420EC CD 7E 03 04         A  6908    	CALL	_vdp_cls
                           A  6909    ;  743		vdp_cursorDisable();
                           A  6910    .LINE 743
                           A  6911    
0420F0 CD 16 0D 04         A  6912    	CALL	_vdp_cursorDisable
                           A  6913    ;  744		
                           A  6914    ;  745		lvl = previouslevel + 1; // next le
                           A  6915    .LINE 745
                           A  6916    
0420F4 DD2709              A  6917    	LD	HL,(IX+%9)
0420F7 23                  A  6918    	INC	HL
0420F8 DD75FE              A  6919    	LD	(IX+%FFFFFFFE),L
0420FB DD74FF              A  6920    	LD	(IX+%FFFFFFFF),H
                           A  6921    ;  746		if(lvl == levels) lvl = 0;
                           A  6922    .LINE 746
                           A  6923    
0420FE DD07FE              A  6924    	LD	BC,(IX+%FFFFFFFE)
042101 CD FF 32 04         A  6925    	CALL	__stoi
042105 E5C1                A  6926    	LD	BC,HL
042107 DD7E06              A  6927    	LD	A,(IX+%6)
04210A B7ED62              A  6928    	UEXT	HL
04210D 6F                  A  6929    	LD	L,A
04210E E5D1                A  6930    	LD	DE,HL
042110 C5E1                A  6931    	LD	HL,BC
042112 B7                  A  6932    	OR	A,A
042113 ED52                A  6933    	SBC	HL,DE
042115 20 08               A  6934    	JR	NZ,L_141
042117 DD36FE00            A  6935    	LD	(IX+%FFFFFFFE),%0
04211B DD36FF00            A  6936    	LD	(IX+%FFFFFFFF),%0
04211F                     A  6937    L_141:
                           A  6938    ;  747		
                           A  6939    ;  748		game_resetSprites();			// 
                           A  6940    .LINE 748
                           A  6941    
04211F CD 73 10 04         A  6942    	CALL	_game_resetSprites
                           A  6943    ;  749	
                           A  6944    ;  750		while(!selected)
                           A  6945    .LINE 750
                           A  6946    
042123 C3 C6 22 04         A  6947    	JR	L_155
042127                     A  6948    L_156:
                           A  6949    ;  751		{
                           A  6950    ;  752			
                           A  6951    ;  753			game_initLevel(lvl);			
                           A  6952    .LINE 753
                           A  6953    
042127 DD4EFE              A  6954    	LD	C,(IX+%FFFFFFFE)
04212A 0600                A  6955    	LD	B,%0
04212C C5                  A  6956    	PUSH	BC
04212D CD 56 27 04         A  6957    	CALL	_game_initLevel
042131 C1                  A  6958    	POP	BC
                           A  6959    ;  754			vdp_clearGraphics();
                           A  6960    .LINE 754
                           A  6961    
042132 CD A9 04 04         A  6962    	CALL	_vdp_clearGraphics
                           A  6963    ;  755			game_displayMinimap();			
                           A  6964    .LINE 755
                           A  6965    
042136 CD A8 24 04         A  6966    	CALL	_game_displayMinimap
                           A  6967    ;  756	
                           A  6968    ;  757			vdp_cursorGoto(0,4);
                           A  6969    .LINE 757
                           A  6970    
04213A 01040000            A  6971    	LD	BC,4
04213E C5                  A  6972    	PUSH	BC
04213F 01000000            A  6973    	LD	BC,0
042143 C5                  A  6974    	PUSH	BC
042144 CD C6 03 04         A  6975    	CALL	_vdp_cursorGoto
042148 C1                  A  6976    	POP	BC
042149 C1                  A  6977    	POP	BC
                           A  6978    ;  758			vdp_fgcolour(255,255,255);
                           A  6979    .LINE 758
                           A  6980    
04214A 01FF0000            A  6981    	LD	BC,255
04214E C5                  A  6982    	PUSH	BC
04214F C5                  A  6983    	PUSH	BC
042150 C5                  A  6984    	PUSH	BC
042151 CD 57 04 04         A  6985    	CALL	_vdp_fgcolour
042155 C1                  A  6986    	POP	BC
042156 C1                  A  6987    	POP	BC
042157 C1                  A  6988    	POP	BC
                           A  6989    ;  759			printf("Level %03d / %03d",lvl+
                           A  6990    .LINE 759
                           A  6991    
042158 01 3A 2B 04         A  6992    	LD	BC,___print_uputch
04215C ED43 37 4C 04       A  6993    	LD	(___print_xputch),BC
042161 01 65 4F 04         A  6994    	LD	BC,L__84
042165 C5                  A  6995    	PUSH	BC
042166 CD C9 29 04         A  6996    	CALL	___print_sendstring
04216A C1                  A  6997    	POP	BC
04216B 3E03                A  6998    	LD	A,%3
04216D 32 2F 5D 04         A  6999    	LD	(___print_fmt+5),A
042171 3E40                A  7000    	LD	A,%40
042173 32 2B 5D 04         A  7001    	LD	(___print_fmt+1),A
042177 DD07FE              A  7002    	LD	BC,(IX+%FFFFFFFE)
04217A CD FF 32 04         A  7003    	CALL	__stoi
04217E 23                  A  7004    	INC	HL
04217F E5C1                A  7005    	LD	BC,HL
042181 CD 20 32 04         A  7006    	CALL	__itol
042185 C5D1                A  7007    	LD	DE,BC
042187 4F                  A  7008    	LD	C,A
042188 0600                A  7009    	LD	B,%0
04218A C5                  A  7010    	PUSH	BC
04218B D5                  A  7011    	PUSH	DE
04218C CD C0 2B 04         A  7012    	CALL	__u_itoa
042190 C1                  A  7013    	POP	BC
042191 C1                  A  7014    	POP	BC
042192 01 6C 4F 04         A  7015    	LD	BC,L__85
042196 C5                  A  7016    	PUSH	BC
042197 CD C9 29 04         A  7017    	CALL	___print_sendstring
04219B C1                  A  7018    	POP	BC
04219C 3E03                A  7019    	LD	A,%3
04219E 32 2F 5D 04         A  7020    	LD	(___print_fmt+5),A
0421A2 3E40                A  7021    	LD	A,%40
0421A4 32 2B 5D 04         A  7022    	LD	(___print_fmt+1),A
0421A8 DD7E06              A  7023    	LD	A,(IX+%6)
0421AB B7ED62              A  7024    	UEXT	HL
0421AE 6F                  A  7025    	LD	L,A
0421AF E5C1                A  7026    	LD	BC,HL
0421B1 CD 20 32 04         A  7027    	CALL	__itol
0421B5 C5D1                A  7028    	LD	DE,BC
0421B7 4F                  A  7029    	LD	C,A
0421B8 0600                A  7030    	LD	B,%0
0421BA C5                  A  7031    	PUSH	BC
0421BB D5                  A  7032    	PUSH	DE
0421BC CD C0 2B 04         A  7033    	CALL	__u_itoa
0421C0 C1                  A  7034    	POP	BC
0421C1 C1                  A  7035    	POP	BC
                           A  7036    ;  760	
                           A  7037    ;  761			vdp_cursorGoto(5,39);
                           A  7038    .LINE 761
                           A  7039    
0421C2 01270000            A  7040    	LD	BC,39
0421C6 C5                  A  7041    	PUSH	BC
0421C7 01050000            A  7042    	LD	BC,5
0421CB C5                  A  7043    	PUSH	BC
0421CC CD C6 03 04         A  7044    	CALL	_vdp_cursorGoto
0421D0 C1                  A  7045    	POP	BC
0421D1 C1                  A  7046    	POP	BC
                           A  7047    ;  762			puts("Select level with cursor 
                           A  7048    .LINE 762
                           A  7049    
0421D2 01 70 4F 04         A  7050    	LD	BC,L__86
0421D6 C5                  A  7051    	PUSH	BC
0421D7 CD CF 30 04         A  7052    	CALL	_puts
0421DB C1                  A  7053    	POP	BC
                           A  7054    ;  763			vdp_cursorGoto(14,41);
                           A  7055    .LINE 763
                           A  7056    
0421DC 01290000            A  7057    	LD	BC,41
0421E0 C5                  A  7058    	PUSH	BC
0421E1 010E0000            A  7059    	LD	BC,14
0421E5 C5                  A  7060    	PUSH	BC
0421E6 CD C6 03 04         A  7061    	CALL	_vdp_cursorGoto
0421EA C1                  A  7062    	POP	BC
0421EB C1                  A  7063    	POP	BC
                           A  7064    ;  764			vdp_fgcolour(128,128,128);
                           A  7065    .LINE 764
                           A  7066    
0421EC 01800000            A  7067    	LD	BC,128
0421F0 C5                  A  7068    	PUSH	BC
0421F1 C5                  A  7069    	PUSH	BC
0421F2 C5                  A  7070    	PUSH	BC
0421F3 CD 57 04 04         A  7071    	CALL	_vdp_fgcolour
0421F7 C1                  A  7072    	POP	BC
0421F8 C1                  A  7073    	POP	BC
0421F9 C1                  A  7074    	POP	BC
                           A  7075    ;  765			puts("ESC to quit");
                           A  7076    .LINE 765
                           A  7077    
0421FA 01 8E 4F 04         A  7078    	LD	BC,L__87
0421FE C5                  A  7079    	PUSH	BC
0421FF CD CF 30 04         A  7080    	CALL	_puts
042203 C1                  A  7081    	POP	BC
                           A  7082    ;  766	
                           A  7083    ;  767			vdp_plotMoveTo(328,48);
                           A  7084    .LINE 767
                           A  7085    
042204 01300000            A  7086    	LD	BC,48
042208 C5                  A  7087    	PUSH	BC
042209 01480100            A  7088    	LD	BC,328
04220D C5                  A  7089    	PUSH	BC
04220E CD 67 05 04         A  7090    	CALL	_vdp_plotMoveTo
042212 C1                  A  7091    	POP	BC
042213 C1                  A  7092    	POP	BC
                           A  7093    ;  768			vdp_plotColour(0,128,128);
                           A  7094    .LINE 768
                           A  7095    
042214 01800000            A  7096    	LD	BC,128
042218 C5                  A  7097    	PUSH	BC
042219 C5                  A  7098    	PUSH	BC
04221A 01000000            A  7099    	LD	BC,0
04221E C5                  A  7100    	PUSH	BC
04221F CD C1 04 04         A  7101    	CALL	_vdp_plotColour
042223 C1                  A  7102    	POP	BC
042224 C1                  A  7103    	POP	BC
042225 C1                  A  7104    	POP	BC
                           A  7105    ;  769			vdp_plotLineTo(328,328);
                           A  7106    .LINE 769
                           A  7107    
042226 01480100            A  7108    	LD	BC,328
04222A C5                  A  7109    	PUSH	BC
04222B C5                  A  7110    	PUSH	BC
04222C CD 89 05 04         A  7111    	CALL	_vdp_plotLineTo
042230 C1                  A  7112    	POP	BC
042231 C1                  A  7113    	POP	BC
                           A  7114    ;  770			
                           A  7115    ;  771	
                           A  7116    ;  772			game_displayHelp(HELP_XPOS_MODE
                           A  7117    .LINE 772
                           A  7118    
042232 010A0000            A  7119    	LD	BC,10
042236 C5                  A  7120    	PUSH	BC
042237 012C0000            A  7121    	LD	BC,44
04223B C5                  A  7122    	PUSH	BC
04223C CD 1F 1E 04         A  7123    	CALL	_game_displayHelp
042240 C1                  A  7124    	POP	BC
042241 C1                  A  7125    	POP	BC
                           A  7126    ;  773			
                           A  7127    ;  774			
                           A  7128    ;  775			switch(getch())
                           A  7129    .LINE 775
                           A  7130    
042242 CD D3 28 04         A  7131    	CALL	_getch
042246 47                  A  7132    	LD	B,A
042247 78                  A  7133    	LD	A,B
042248 17ED62              A  7134    	SEXT	HL
04224B 68                  A  7135    	LD	L,B
04224C CD 48 32 04         A  7136    	CALL	__case8D
042250 E9                  A  7137    	JP	(HL)
042251                     A  7138    L__88:
042251 0600                A  7139    	DW	6
042253 08                  A  7140    	DB	8
042254 6E2204              A  7141    	DW24	L_142	
                           A  7142    
042257 0A                  A  7143    	DB	10
042258 6E2204              A  7144    	DW24	L_143	
                           A  7145    
04225B 0B                  A  7146    	DB	11
04225C 8C2204              A  7147    	DW24	L_147	
                           A  7148    
04225F 0D                  A  7149    	DB	13
042260 B42204              A  7150    	DW24	L_152	
                           A  7151    
042263 15                  A  7152    	DB	21
042264 8C2204              A  7153    	DW24	L_148	
                           A  7154    
042267 1B                  A  7155    	DB	27
042268 BA2204              A  7156    	DW24	L_153	
                           A  7157    
04226B C62204              A  7158    	DW24	L_155	
                           A  7159    
                           A  7160    ;  776			{
                           A  7161    ;  777				case 0x8:
04226E                     A  7162    L_142:
                           A  7163    .LINE 777
                           A  7164    
                           A  7165    ;  778				case 0x0a:
04226E                     A  7166    L_143:
                           A  7167    .LINE 778
                           A  7168    
                           A  7169    ;  779					if(lvl > 0) lvl --;
                           A  7170    .LINE 779
                           A  7171    
04226E DD07FE              A  7172    	LD	BC,(IX+%FFFFFFFE)
042271 B7                  A  7173    	OR	A,A
042272 ED62                A  7174    	SBC	HL,HL
042274 B7                  A  7175    	OR	A,A
042275 40ED42              A  7176    	SBC.SIS	HL,BC
042278 CD 95 29 04         A  7177    	CALL	__setflag
04227C F2 C6 22 04         A  7178    	JP	P,L_155
042280 DD27FE              A  7179    	LD	HL,(IX+%FFFFFFFE)
042283 2B                  A  7180    	DEC	HL
042284 DD75FE              A  7181    	LD	(IX+%FFFFFFFE),L
042287 DD74FF              A  7182    	LD	(IX+%FFFFFFFF),H
                           A  7183    ;  780					break;
                           A  7184    .LINE 780
                           A  7185    
04228A 18 3A               A  7186    	JR	L_155
                           A  7187    ;  781				case 0x0b:
04228C                     A  7188    L_147:
                           A  7189    .LINE 781
                           A  7190    
                           A  7191    ;  782				case 0x15:
04228C                     A  7192    L_148:
                           A  7193    .LINE 782
                           A  7194    
                           A  7195    ;  783					if(lvl < levels-1) lvl+
                           A  7196    .LINE 783
                           A  7197    
04228C DD7E06              A  7198    	LD	A,(IX+%6)
04228F B7ED62              A  7199    	UEXT	HL
042292 6F                  A  7200    	LD	L,A
042293 E5D1                A  7201    	LD	DE,HL
042295 1B                  A  7202    	DEC	DE
042296 DD07FE              A  7203    	LD	BC,(IX+%FFFFFFFE)
042299 CD FF 32 04         A  7204    	CALL	__stoi
04229D B7                  A  7205    	OR	A,A
04229E ED52                A  7206    	SBC	HL,DE
0422A0 CD 95 29 04         A  7207    	CALL	__setflag
0422A4 F2 C6 22 04         A  7208    	JP	P,L_155
0422A8 DD27FE              A  7209    	LD	HL,(IX+%FFFFFFFE)
0422AB 23                  A  7210    	INC	HL
0422AC DD75FE              A  7211    	LD	(IX+%FFFFFFFE),L
0422AF DD74FF              A  7212    	LD	(IX+%FFFFFFFF),H
                           A  7213    ;  784					break;
                           A  7214    .LINE 784
                           A  7215    
0422B2 18 12               A  7216    	JR	L_155
                           A  7217    ;  785				case 0xd:
0422B4                     A  7218    L_152:
                           A  7219    .LINE 785
                           A  7220    
                           A  7221    ;  786					selected = TRUE;
                           A  7222    .LINE 786
                           A  7223    
0422B4 DD36FD01            A  7224    	LD	(IX+%FFFFFFFD),%1
                           A  7225    ;  787					break;
                           A  7226    .LINE 787
                           A  7227    
0422B8 18 0C               A  7228    	JR	L_155
                           A  7229    ;  788				case 27:
0422BA                     A  7230    L_153:
                           A  7231    .LINE 788
                           A  7232    
                           A  7233    ;  789					lvl = -1;
                           A  7234    .LINE 789
                           A  7235    
0422BA DD36FEFF            A  7236    	LD	(IX+%FFFFFFFE),%FF
0422BE DD36FFFF            A  7237    	LD	(IX+%FFFFFFFF),%FF
                           A  7238    ;  790					selected = TRUE;
                           A  7239    .LINE 790
                           A  7240    
0422C2 DD36FD01            A  7241    	LD	(IX+%FFFFFFFD),%1
                           A  7242    ;  791					break;
                           A  7243    ;  792				default:
                           A  7244    ;  793					break;
                           A  7245    ;  794			}
                           A  7246    ;  795		}
0422C6                     A  7247    L_155:
                           A  7248    .LINE 795
                           A  7249    
0422C6 DD7EFD              A  7250    	LD	A,(IX+%FFFFFFFD)
0422C9 B7                  A  7251    	OR	A,A
0422CA CA 27 21 04         A  7252    	JR	Z,L_156
                           A  7253    ;  796		return lvl;
                           A  7254    .LINE 796
                           A  7255    
0422CE DD27FE              A  7256    	LD	HL,(IX+%FFFFFFFE)
                           A  7257    ;  797	}
                           A  7258    .LINE 797
                           A  7259    
0422D1 DDF9                A  7260    	LD	SP,IX
0422D3 DDE1                A  7261    	POP	IX
0422D5 C9                  A  7262    	RET	
                           A  7263    
                           A  7264    
                           A  7265    ;**************************** _game_selectLevel
                           A  7266    ;Name                         Addr/Register   S
                           A  7267    ;_getch                              IMPORT  --
                           A  7268    ;_game_displayHelp                   IMPORT  --
                           A  7269    ;_vdp_plotLineTo                     IMPORT  --
                           A  7270    ;_vdp_plotColour                     IMPORT  --
                           A  7271    ;_vdp_plotMoveTo                     IMPORT  --
                           A  7272    ;_puts                               IMPORT  --
                           A  7273    ;__u_itoa                            IMPORT  --
                           A  7274    ;___print_fmt                        IMPORT    
                           A  7275    ;___print_sendstring                 IMPORT  --
                           A  7276    ;___print_xputch                     IMPORT    
                           A  7277    ;___print_uputch                     IMPORT  --
                           A  7278    ;_vdp_fgcolour                       IMPORT  --
                           A  7279    ;_vdp_cursorGoto                     IMPORT  --
                           A  7280    ;_game_displayMinimap                IMPORT  --
                           A  7281    ;_vdp_clearGraphics                  IMPORT  --
                           A  7282    ;_game_initLevel                     IMPORT  --
                           A  7283    ;_game_resetSprites                  IMPORT  --
                           A  7284    ;_vdp_cursorDisable                  IMPORT  --
                           A  7285    ;_vdp_cls                            IMPORT  --
                           A  7286    ;_vdp_mode                           IMPORT  --
                           A  7287    ;selected                              IX-3    
                           A  7288    ;lvl                                   IX-2    
                           A  7289    ;previouslevel                         IX+9    
                           A  7290    ;levels                                IX+6    
                           A  7291    
                           A  7292    
                           A  7293    ; Stack Frame Size: 15 (bytes)
                           A  7294    ;       Spill Code: 0 (instruction)
                           A  7295    
                           A  7296    
                           A  7297    .ENDFUNC "game_selectLevel",797,"_game_selectLe
                           A  7298    	SEGMENT STRSECT
044F65                     A  7299    L__84:
044F65 4C657665 6C20       A  7300    	DB	"Level "
044F6B 00                  A  7301    	DB	0
044F6C                     A  7302    L__85:
044F6C 202F20              A  7303    	DB	" / "
044F6F 00                  A  7304    	DB	0
044F70                     A  7305    L__86:
044F70 53656C65 6374206C   A  7306    	DB	"Select level with cursor keys"
044F78 6576656C 20776974 
044F80 68206375 72736F72 
044F88 206B6579 73 
044F8D 00                  A  7307    	DB	0
044F8E                     A  7308    L__87:
044F8E 45534320 746F2071   A  7309    	DB	"ESC to quit"
044F96 756974 
044F99 00                  A  7310    	DB	0
                           A  7311    	SEGMENT CODE
                           A  7312    ;  798	
                           A  7313    ;  799	void game_displayLevel(void)
                           A  7314    ;  800	{
0422D6                     A  7315    _game_displayLevel:
                           A  7316    .DEFINE "_game_displayLevel"
                           A  7317    
                           A  7318    .VALUE _game_displayLevel
                           A  7319    
                           A  7320    .CLASS 2
                           A  7321    
                           A  7322    .TYPE 65
                           A  7323    
                           A  7324    .ENDEF
                           A  7325    
                           A  7326    .BEGFUNC "game_displayLevel",800,"_game_display
                           A  7327    
                           A  7328    .LINE 800
                           A  7329    
                           A  7330    .DEFINE "x"
                           A  7331    
                           A  7332    .CLASS 65
                           A  7333    
                           A  7334    .VALUE -2
                           A  7335    
                           A  7336    .TYPE 13
                           A  7337    
                           A  7338    .ENDEF
                           A  7339    
                           A  7340    .DEFINE "y"
                           A  7341    
                           A  7342    .CLASS 65
                           A  7343    
                           A  7344    .VALUE -4
                           A  7345    
                           A  7346    .TYPE 13
                           A  7347    
                           A  7348    .ENDEF
                           A  7349    
                           A  7350    .DEFINE "width"
                           A  7351    
                           A  7352    .CLASS 65
                           A  7353    
                           A  7354    .VALUE -6
                           A  7355    
                           A  7356    .TYPE 13
                           A  7357    
                           A  7358    .ENDEF
                           A  7359    
                           A  7360    .DEFINE "height"
                           A  7361    
                           A  7362    .CLASS 65
                           A  7363    
                           A  7364    .VALUE -8
                           A  7365    
                           A  7366    .TYPE 13
                           A  7367    
                           A  7368    .ENDEF
                           A  7369    
                           A  7370    .DEFINE "c"
                           A  7371    
                           A  7372    .CLASS 65
                           A  7373    
                           A  7374    .VALUE -9
                           A  7375    
                           A  7376    .TYPE 2
                           A  7377    
                           A  7378    .ENDEF
                           A  7379    
                           A  7380    .DEFINE "xstart"
                           A  7381    
                           A  7382    .CLASS 65
                           A  7383    
                           A  7384    .VALUE -11
                           A  7385    
                           A  7386    .TYPE 13
                           A  7387    
                           A  7388    .ENDEF
                           A  7389    
                           A  7390    .DEFINE "ystart"
                           A  7391    
                           A  7392    .CLASS 65
                           A  7393    
                           A  7394    .VALUE -13
                           A  7395    
                           A  7396    .TYPE 13
                           A  7397    
                           A  7398    .ENDEF
                           A  7399    
0422D6 DDE5                A  7400    	PUSH	IX
0422D8 DD210000 00         A  7401    	LD	IX,0
0422DD DD39                A  7402    	ADD	IX,SP
0422DF ED22F0              A  7403    	LEA	HL,IX+%FFFFFFF0
0422E2 F9                  A  7404    	LD	SP,HL
                           A  7405    ;  801		UINT16 width, height;
                           A  7406    ;  802		UINT16 ystart,xstart,x,y;
                           A  7407    ;  803		char c;
                           A  7408    ;  804		
                           A  7409    ;  805		// calculate on-screen base coordin
                           A  7410    ;  806		xstart = ((MAXWIDTH - currentlevel.
                           A  7411    .LINE 806
                           A  7412    
0422E3 3A 66 58 04         A  7413    	LD	A,(_currentlevel+2)
0422E7 B7ED62              A  7414    	UEXT	HL
0422EA 6F                  A  7415    	LD	L,A
0422EB E5C1                A  7416    	LD	BC,HL
0422ED 21280000            A  7417    	LD	HL,40
0422F1 B7                  A  7418    	OR	A,A
0422F2 ED42                A  7419    	SBC	HL,BC
0422F4 01020000            A  7420    	LD	BC,2
0422F8 CD 7A 31 04         A  7421    	CALL	__idivs
0422FC 29                  A  7422    	ADD	HL,HL
0422FD 29                  A  7423    	ADD	HL,HL
0422FE 29                  A  7424    	ADD	HL,HL
0422FF 29                  A  7425    	ADD	HL,HL
042300 DD75F5              A  7426    	LD	(IX+%FFFFFFF5),L
042303 DD74F6              A  7427    	LD	(IX+%FFFFFFF6),H
                           A  7428    ;  807		ystart = ((MAXHEIGHT - currentlevel
                           A  7429    .LINE 807
                           A  7430    
042306 3A 67 58 04         A  7431    	LD	A,(_currentlevel+3)
04230A B7ED62              A  7432    	UEXT	HL
04230D 6F                  A  7433    	LD	L,A
04230E E5C1                A  7434    	LD	BC,HL
042310 211E0000            A  7435    	LD	HL,30
042314 B7                  A  7436    	OR	A,A
042315 ED42                A  7437    	SBC	HL,BC
042317 01020000            A  7438    	LD	BC,2
04231B CD 7A 31 04         A  7439    	CALL	__idivs
04231F 29                  A  7440    	ADD	HL,HL
042320 29                  A  7441    	ADD	HL,HL
042321 29                  A  7442    	ADD	HL,HL
042322 29                  A  7443    	ADD	HL,HL
042323 DD75F3              A  7444    	LD	(IX+%FFFFFFF3),L
042326 DD74F4              A  7445    	LD	(IX+%FFFFFFF4),H
                           A  7446    ;  808		
                           A  7447    ;  809		y = ystart;
                           A  7448    .LINE 809
                           A  7449    
042329 DD07F3              A  7450    	LD	BC,(IX+%FFFFFFF3)
04232C DD71FC              A  7451    	LD	(IX+%FFFFFFFC),C
04232F DD70FD              A  7452    	LD	(IX+%FFFFFFFD),B
                           A  7453    ;  810		for(height = 0; height < currentlev
                           A  7454    .LINE 810
                           A  7455    
042332 DD36F800            A  7456    	LD	(IX+%FFFFFFF8),%0
042336 DD36F900            A  7457    	LD	(IX+%FFFFFFF9),%0
04233A C3 8D 24 04         A  7458    	JR	L_178
04233E                     A  7459    L_176:
                           A  7460    ;  811		{
                           A  7461    ;  812			x = xstart;
                           A  7462    .LINE 812
                           A  7463    
04233E DD07F5              A  7464    	LD	BC,(IX+%FFFFFFF5)
042341 DD71FE              A  7465    	LD	(IX+%FFFFFFFE),C
042344 DD70FF              A  7466    	LD	(IX+%FFFFFFFF),B
                           A  7467    ;  813			for(width = 0; width < currentl
                           A  7468    .LINE 813
                           A  7469    
042347 DD36FA00            A  7470    	LD	(IX+%FFFFFFFA),%0
04234B DD36FB00            A  7471    	LD	(IX+%FFFFFFFB),%0
04234F C3 65 24 04         A  7472    	JR	L_174
042353                     A  7473    L_172:
                           A  7474    ;  814			{
                           A  7475    ;  815				c = currentlevel.data[heigh
                           A  7476    .LINE 815
                           A  7477    
042353 DD07F8              A  7478    	LD	BC,(IX+%FFFFFFF8)
042356 CD 34 2B 04         A  7479    	CALL	__stoiu
04235A 3E28                A  7480    	LD	A,%28
04235C CD B3 31 04         A  7481    	CALL	__imul_b
042360 DD2FF0              A  7482    	LD	(IX+%FFFFFFF0),HL
042363 01 6B 58 04         A  7483    	LD	BC,_currentlevel+7
042367 DD27F0              A  7484    	LD	HL,(IX+%FFFFFFF0)
04236A 09                  A  7485    	ADD	HL,BC
04236B E5D1                A  7486    	LD	DE,HL
04236D DD07FA              A  7487    	LD	BC,(IX+%FFFFFFFA)
042370 CD 34 2B 04         A  7488    	CALL	__stoiu
042374 19                  A  7489    	ADD	HL,DE
042375 7E                  A  7490    	LD	A,(HL)
042376 DD77F7              A  7491    	LD	(IX+%FFFFFFF7),A
                           A  7492    ;  816				switch(c)
                           A  7493    .LINE 816
                           A  7494    
042379 17ED62              A  7495    	SEXT	HL
04237C DD6EF7              A  7496    	LD	L,(IX+%FFFFFFF7)
04237F CD 48 32 04         A  7497    	CALL	__case8D
042383 E9                  A  7498    	JP	(HL)
042384                     A  7499    L__93:
042384 0700                A  7500    	DW	7
042386 20                  A  7501    	DB	32
042387 3B2404              A  7502    	DW24	L_169	
                           A  7503    
04238A 23                  A  7504    	DB	35
04238B A52304              A  7505    	DW24	L_161	
                           A  7506    
04238E 24                  A  7507    	DB	36
04238F DB2304              A  7508    	DW24	L_164	
                           A  7509    
042392 2A                  A  7510    	DB	42
042393 DB2304              A  7511    	DW24	L_165	
                           A  7512    
042396 2B                  A  7513    	DB	43
042397 BD2304              A  7514    	DW24	L_163	
                           A  7515    
04239A 2E                  A  7516    	DB	46
04239B 252404              A  7517    	DW24	L_168	
                           A  7518    
04239E 40                  A  7519    	DB	64
04239F BD2304              A  7520    	DW24	L_162	
                           A  7521    
0423A2 4F2404              A  7522    	DW24	L_171	
                           A  7523    
                           A  7524    ;  817				{
                           A  7525    ;  818					case CHAR_WALL:
0423A5                     A  7526    L_161:
                           A  7527    .LINE 818
                           A  7528    
                           A  7529    ;  819						vdp_bitmapDraw(TILE
                           A  7530    .LINE 819
                           A  7531    
0423A5 DD07FC              A  7532    	LD	BC,(IX+%FFFFFFFC)
0423A8 C5                  A  7533    	PUSH	BC
0423A9 DD07FE              A  7534    	LD	BC,(IX+%FFFFFFFE)
0423AC C5                  A  7535    	PUSH	BC
0423AD 01000000            A  7536    	LD	BC,0
0423B1 C5                  A  7537    	PUSH	BC
0423B2 CD C8 07 04         A  7538    	CALL	_vdp_bitmapDraw
0423B6 C1                  A  7539    	POP	BC
0423B7 C1                  A  7540    	POP	BC
0423B8 C1                  A  7541    	POP	BC
                           A  7542    ;  820						break;
                           A  7543    .LINE 820
                           A  7544    
0423B9 C3 4F 24 04         A  7545    	JR	L_171
                           A  7546    ;  821					case CHAR_PLAYER:
0423BD                     A  7547    L_162:
                           A  7548    .LINE 821
                           A  7549    
                           A  7550    ;  822					case CHAR_PLAYERONGOAL:
0423BD                     A  7551    L_163:
                           A  7552    .LINE 822
                           A  7553    
                           A  7554    ;  823						vdp_spriteSelect(0)
                           A  7555    .LINE 823
                           A  7556    
0423BD 01000000            A  7557    	LD	BC,0
0423C1 C5                  A  7558    	PUSH	BC
0423C2 CD 70 08 04         A  7559    	CALL	_vdp_spriteSelect
0423C6 C1                  A  7560    	POP	BC
                           A  7561    ;  824						vdp_spriteMoveToSel
                           A  7562    .LINE 824
                           A  7563    
0423C7 DD07FC              A  7564    	LD	BC,(IX+%FFFFFFFC)
0423CA C5                  A  7565    	PUSH	BC
0423CB DD07FE              A  7566    	LD	BC,(IX+%FFFFFFFE)
0423CE C5                  A  7567    	PUSH	BC
0423CF CD C9 0A 04         A  7568    	CALL	_vdp_spriteMoveToSelected
0423D3 C1                  A  7569    	POP	BC
0423D4 C1                  A  7570    	POP	BC
                           A  7571    ;  825						vdp_spriteShowSelec
                           A  7572    .LINE 825
                           A  7573    
0423D5 CD 37 0A 04         A  7574    	CALL	_vdp_spriteShowSelected
                           A  7575    ;  826						break;
                           A  7576    .LINE 826
                           A  7577    
0423D9 18 74               A  7578    	JR	L_171
                           A  7579    ;  827					case CHAR_BOX:
0423DB                     A  7580    L_164:
                           A  7581    .LINE 827
                           A  7582    
                           A  7583    ;  828					case CHAR_BOXONGOAL:
0423DB                     A  7584    L_165:
                           A  7585    .LINE 828
                           A  7586    
                           A  7587    ;  829						vdp_spriteSelect(sp
                           A  7588    .LINE 829
                           A  7589    
0423DB 01 B4 53 04         A  7590    	LD	BC,_sprites
0423DF DD27F0              A  7591    	LD	HL,(IX+%FFFFFFF0)
0423E2 09                  A  7592    	ADD	HL,BC
0423E3 E5D1                A  7593    	LD	DE,HL
0423E5 DD07FA              A  7594    	LD	BC,(IX+%FFFFFFFA)
0423E8 CD 34 2B 04         A  7595    	CALL	__stoiu
0423EC 19                  A  7596    	ADD	HL,DE
0423ED 4E                  A  7597    	LD	C,(HL)
0423EE 0600                A  7598    	LD	B,%0
0423F0 C5                  A  7599    	PUSH	BC
0423F1 CD 70 08 04         A  7600    	CALL	_vdp_spriteSelect
0423F5 C1                  A  7601    	POP	BC
                           A  7602    ;  830						vdp_spriteMoveToSel
                           A  7603    .LINE 830
                           A  7604    
0423F6 DD07FC              A  7605    	LD	BC,(IX+%FFFFFFFC)
0423F9 C5                  A  7606    	PUSH	BC
0423FA DD07FE              A  7607    	LD	BC,(IX+%FFFFFFFE)
0423FD C5                  A  7608    	PUSH	BC
0423FE CD C9 0A 04         A  7609    	CALL	_vdp_spriteMoveToSelected
042402 C1                  A  7610    	POP	BC
042403 C1                  A  7611    	POP	BC
                           A  7612    ;  831						vdp_spriteShowSelec
                           A  7613    .LINE 831
                           A  7614    
042404 CD 37 0A 04         A  7615    	CALL	_vdp_spriteShowSelected
                           A  7616    ;  832						if(c == CHAR_BOXONG
                           A  7617    .LINE 832
                           A  7618    
042408 DD7EF7              A  7619    	LD	A,(IX+%FFFFFFF7)
04240B FE2A                A  7620    	CP	A,%2A
04240D 20 40               A  7621    	JR	NZ,L_171
                           A  7622    ;  833						{
                           A  7623    ;  834							vdp_bitmapDraw(
                           A  7624    .LINE 834
                           A  7625    
04240F DD07FC              A  7626    	LD	BC,(IX+%FFFFFFFC)
042412 C5                  A  7627    	PUSH	BC
042413 DD07FE              A  7628    	LD	BC,(IX+%FFFFFFFE)
042416 C5                  A  7629    	PUSH	BC
042417 01050000            A  7630    	LD	BC,5
04241B C5                  A  7631    	PUSH	BC
04241C CD C8 07 04         A  7632    	CALL	_vdp_bitmapDraw
042420 C1                  A  7633    	POP	BC
042421 C1                  A  7634    	POP	BC
042422 C1                  A  7635    	POP	BC
                           A  7636    ;  835						}
                           A  7637    .LINE 835
                           A  7638    
                           A  7639    ;  836						break;
                           A  7640    .LINE 836
                           A  7641    
042423 18 2A               A  7642    	JR	L_171
                           A  7643    ;  837					case CHAR_GOAL:
042425                     A  7644    L_168:
                           A  7645    .LINE 837
                           A  7646    
                           A  7647    ;  838						vdp_bitmapDraw(TILE
                           A  7648    .LINE 838
                           A  7649    
042425 DD07FC              A  7650    	LD	BC,(IX+%FFFFFFFC)
042428 C5                  A  7651    	PUSH	BC
042429 DD07FE              A  7652    	LD	BC,(IX+%FFFFFFFE)
04242C C5                  A  7653    	PUSH	BC
04242D 01050000            A  7654    	LD	BC,5
042431 C5                  A  7655    	PUSH	BC
042432 CD C8 07 04         A  7656    	CALL	_vdp_bitmapDraw
042436 C1                  A  7657    	POP	BC
042437 C1                  A  7658    	POP	BC
042438 C1                  A  7659    	POP	BC
                           A  7660    ;  839						break;
                           A  7661    .LINE 839
                           A  7662    
042439 18 14               A  7663    	JR	L_171
                           A  7664    ;  840					case CHAR_FLOOR:
04243B                     A  7665    L_169:
                           A  7666    .LINE 840
                           A  7667    
                           A  7668    ;  841						vdp_bitmapDraw(TILE
                           A  7669    .LINE 841
                           A  7670    
04243B DD07FC              A  7671    	LD	BC,(IX+%FFFFFFFC)
04243E C5                  A  7672    	PUSH	BC
04243F DD07FE              A  7673    	LD	BC,(IX+%FFFFFFFE)
042442 C5                  A  7674    	PUSH	BC
042443 01060000            A  7675    	LD	BC,6
042447 C5                  A  7676    	PUSH	BC
042448 CD C8 07 04         A  7677    	CALL	_vdp_bitmapDraw
04244C C1                  A  7678    	POP	BC
04244D C1                  A  7679    	POP	BC
04244E C1                  A  7680    	POP	BC
                           A  7681    ;  842						break;
                           A  7682    ;  843					default:
                           A  7683    ;  844						break;
                           A  7684    ;  845				}
04244F                     A  7685    L_171:
                           A  7686    .LINE 845
                           A  7687    
                           A  7688    ;  846				x += BITMAP_WIDTH;
                           A  7689    .LINE 846
                           A  7690    
04244F DD31FE              A  7691    	LD	IY,(IX+%FFFFFFFE)
042452 ED2310              A  7692    	LEA	HL,IY+%10
042455 DD75FE              A  7693    	LD	(IX+%FFFFFFFE),L
042458 DD74FF              A  7694    	LD	(IX+%FFFFFFFF),H
04245B DD27FA              A  7695    	LD	HL,(IX+%FFFFFFFA)
04245E 23                  A  7696    	INC	HL
04245F DD75FA              A  7697    	LD	(IX+%FFFFFFFA),L
042462 DD74FB              A  7698    	LD	(IX+%FFFFFFFB),H
                           A  7699    ;  847			}
042465                     A  7700    L_174:
                           A  7701    .LINE 847
                           A  7702    
042465 3A 66 58 04         A  7703    	LD	A,(_currentlevel+2)
042469 4F                  A  7704    	LD	C,A
04246A 0600                A  7705    	LD	B,%0
04246C DD27FA              A  7706    	LD	HL,(IX+%FFFFFFFA)
04246F B7                  A  7707    	OR	A,A
042470 40ED42              A  7708    	SBC.SIS	HL,BC
042473 DA 53 23 04         A  7709    	JR	C,L_172
                           A  7710    ;  848			y += BITMAP_HEIGHT;
                           A  7711    .LINE 848
                           A  7712    
042477 DD31FC              A  7713    	LD	IY,(IX+%FFFFFFFC)
04247A ED2310              A  7714    	LEA	HL,IY+%10
04247D DD75FC              A  7715    	LD	(IX+%FFFFFFFC),L
042480 DD74FD              A  7716    	LD	(IX+%FFFFFFFD),H
042483 DD27F8              A  7717    	LD	HL,(IX+%FFFFFFF8)
042486 23                  A  7718    	INC	HL
042487 DD75F8              A  7719    	LD	(IX+%FFFFFFF8),L
04248A DD74F9              A  7720    	LD	(IX+%FFFFFFF9),H
                           A  7721    ;  849		}
04248D                     A  7722    L_178:
                           A  7723    .LINE 849
                           A  7724    
04248D 3A 67 58 04         A  7725    	LD	A,(_currentlevel+3)
042491 4F                  A  7726    	LD	C,A
042492 0600                A  7727    	LD	B,%0
042494 DD27F8              A  7728    	LD	HL,(IX+%FFFFFFF8)
042497 B7                  A  7729    	OR	A,A
042498 40ED42              A  7730    	SBC.SIS	HL,BC
04249B DA 3E 23 04         A  7731    	JR	C,L_176
                           A  7732    ;  850	
                           A  7733    ;  851		vdp_spriteRefresh();
                           A  7734    .LINE 851
                           A  7735    
04249F CD CC 0B 04         A  7736    	CALL	_vdp_spriteRefresh
                           A  7737    ;  852	}
                           A  7738    .LINE 852
                           A  7739    
0424A3 DDF9                A  7740    	LD	SP,IX
0424A5 DDE1                A  7741    	POP	IX
0424A7 C9                  A  7742    	RET	
                           A  7743    
                           A  7744    
                           A  7745    ;**************************** _game_displayLeve
                           A  7746    ;Name                         Addr/Register   S
                           A  7747    ;_vdp_spriteRefresh                  IMPORT  --
                           A  7748    ;_sprites                            STATIC   1
                           A  7749    ;_vdp_spriteShowSelected             IMPORT  --
                           A  7750    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  7751    ;_vdp_spriteSelect                   IMPORT  --
                           A  7752    ;_vdp_bitmapDraw                     IMPORT  --
                           A  7753    ;_currentlevel                       STATIC   1
                           A  7754    ;G_29                                 IX-16    
                           A  7755    ;ystart                               IX-13    
                           A  7756    ;xstart                               IX-11    
                           A  7757    ;c                                     IX-9    
                           A  7758    ;height                                IX-8    
                           A  7759    ;width                                 IX-6    
                           A  7760    ;y                                     IX-4    
                           A  7761    ;x                                     IX-2    
                           A  7762    
                           A  7763    
                           A  7764    ; Stack Frame Size: 22 (bytes)
                           A  7765    ;       Spill Code: 0 (instruction)
                           A  7766    
                           A  7767    
                           A  7768    .ENDFUNC "game_displayLevel",852,"_game_display
                           A  7769    ;  853	
                           A  7770    ;  854	void game_displayMinimap(void)
                           A  7771    ;  855	{
0424A8                     A  7772    _game_displayMinimap:
                           A  7773    .DEFINE "_game_displayMinimap"
                           A  7774    
                           A  7775    .VALUE _game_displayMinimap
                           A  7776    
                           A  7777    .CLASS 2
                           A  7778    
                           A  7779    .TYPE 65
                           A  7780    
                           A  7781    .ENDEF
                           A  7782    
                           A  7783    .BEGFUNC "game_displayMinimap",855,"_game_displ
                           A  7784    
                           A  7785    .LINE 855
                           A  7786    
                           A  7787    .DEFINE "x"
                           A  7788    
                           A  7789    .CLASS 65
                           A  7790    
                           A  7791    .VALUE -2
                           A  7792    
                           A  7793    .TYPE 13
                           A  7794    
                           A  7795    .ENDEF
                           A  7796    
                           A  7797    .DEFINE "y"
                           A  7798    
                           A  7799    .CLASS 65
                           A  7800    
                           A  7801    .VALUE -4
                           A  7802    
                           A  7803    .TYPE 13
                           A  7804    
                           A  7805    .ENDEF
                           A  7806    
                           A  7807    .DEFINE "width"
                           A  7808    
                           A  7809    .CLASS 65
                           A  7810    
                           A  7811    .VALUE -6
                           A  7812    
                           A  7813    .TYPE 13
                           A  7814    
                           A  7815    .ENDEF
                           A  7816    
                           A  7817    .DEFINE "height"
                           A  7818    
                           A  7819    .CLASS 65
                           A  7820    
                           A  7821    .VALUE -8
                           A  7822    
                           A  7823    .TYPE 13
                           A  7824    
                           A  7825    .ENDEF
                           A  7826    
                           A  7827    .DEFINE "c"
                           A  7828    
                           A  7829    .CLASS 65
                           A  7830    
                           A  7831    .VALUE -9
                           A  7832    
                           A  7833    .TYPE 2
                           A  7834    
                           A  7835    .ENDEF
                           A  7836    
                           A  7837    .DEFINE "xstart"
                           A  7838    
                           A  7839    .CLASS 65
                           A  7840    
                           A  7841    .VALUE -11
                           A  7842    
                           A  7843    .TYPE 13
                           A  7844    
                           A  7845    .ENDEF
                           A  7846    
                           A  7847    .DEFINE "ystart"
                           A  7848    
                           A  7849    .CLASS 65
                           A  7850    
                           A  7851    .VALUE -13
                           A  7852    
                           A  7853    .TYPE 13
                           A  7854    
                           A  7855    .ENDEF
                           A  7856    
0424A8 DDE5                A  7857    	PUSH	IX
0424AA DD210000 00         A  7858    	LD	IX,0
0424AF DD39                A  7859    	ADD	IX,SP
0424B1 ED22F3              A  7860    	LEA	HL,IX+%FFFFFFF3
0424B4 F9                  A  7861    	LD	SP,HL
                           A  7862    ;  856		UINT16 width, height;
                           A  7863    ;  857		UINT16 ystart,xstart,x,y;
                           A  7864    ;  858		char c;
                           A  7865    ;  859		
                           A  7866    ;  860		// calculate on-screen base coordin
                           A  7867    ;  861		xstart = ((MAXWIDTH - currentlevel.
                           A  7868    .LINE 861
                           A  7869    
0424B5 3A 66 58 04         A  7870    	LD	A,(_currentlevel+2)
0424B9 B7ED62              A  7871    	UEXT	HL
0424BC 6F                  A  7872    	LD	L,A
0424BD E5C1                A  7873    	LD	BC,HL
0424BF 21280000            A  7874    	LD	HL,40
0424C3 B7                  A  7875    	OR	A,A
0424C4 ED42                A  7876    	SBC	HL,BC
0424C6 01020000            A  7877    	LD	BC,2
0424CA CD 7A 31 04         A  7878    	CALL	__idivs
0424CE 29                  A  7879    	ADD	HL,HL
0424CF 29                  A  7880    	ADD	HL,HL
0424D0 29                  A  7881    	ADD	HL,HL
0424D1 DD75F5              A  7882    	LD	(IX+%FFFFFFF5),L
0424D4 DD74F6              A  7883    	LD	(IX+%FFFFFFF6),H
                           A  7884    ;  862		ystart = (((MAXHEIGHT - currentleve
                           A  7885    .LINE 862
                           A  7886    
0424D7 3A 67 58 04         A  7887    	LD	A,(_currentlevel+3)
0424DB B7ED62              A  7888    	UEXT	HL
0424DE 6F                  A  7889    	LD	L,A
0424DF E5C1                A  7890    	LD	BC,HL
0424E1 211E0000            A  7891    	LD	HL,30
0424E5 B7                  A  7892    	OR	A,A
0424E6 ED42                A  7893    	SBC	HL,BC
0424E8 01020000            A  7894    	LD	BC,2
0424EC CD 7A 31 04         A  7895    	CALL	__idivs
0424F0 29                  A  7896    	ADD	HL,HL
0424F1 29                  A  7897    	ADD	HL,HL
0424F2 29                  A  7898    	ADD	HL,HL
0424F3 E5FDE1              A  7899    	LD	IY,HL
0424F6 ED2338              A  7900    	LEA	HL,IY+%38
0424F9 DD75F3              A  7901    	LD	(IX+%FFFFFFF3),L
0424FC DD74F4              A  7902    	LD	(IX+%FFFFFFF4),H
                           A  7903    ;  863		
                           A  7904    ;  864		y = ystart;
                           A  7905    .LINE 864
                           A  7906    
0424FF DD07F3              A  7907    	LD	BC,(IX+%FFFFFFF3)
042502 DD71FC              A  7908    	LD	(IX+%FFFFFFFC),C
042505 DD70FD              A  7909    	LD	(IX+%FFFFFFFD),B
                           A  7910    ;  865		for(height = 0; height < currentlev
                           A  7911    .LINE 865
                           A  7912    
042508 DD36F800            A  7913    	LD	(IX+%FFFFFFF8),%0
04250C DD36F900            A  7914    	LD	(IX+%FFFFFFF9),%0
042510 C3 4D 26 04         A  7915    	JR	L_198
042514                     A  7916    L_196:
                           A  7917    ;  866		{
                           A  7918    ;  867			x = xstart;
                           A  7919    .LINE 867
                           A  7920    
042514 DD07F5              A  7921    	LD	BC,(IX+%FFFFFFF5)
042517 DD71FE              A  7922    	LD	(IX+%FFFFFFFE),C
04251A DD70FF              A  7923    	LD	(IX+%FFFFFFFF),B
                           A  7924    ;  868			for(width = 0; width < currentl
                           A  7925    .LINE 868
                           A  7926    
04251D DD36FA00            A  7927    	LD	(IX+%FFFFFFFA),%0
042521 DD36FB00            A  7928    	LD	(IX+%FFFFFFFB),%0
042525 C3 25 26 04         A  7929    	JR	L_194
042529                     A  7930    L_192:
                           A  7931    ;  869			{
                           A  7932    ;  870				c = currentlevel.data[heigh
                           A  7933    .LINE 870
                           A  7934    
042529 DD07F8              A  7935    	LD	BC,(IX+%FFFFFFF8)
04252C CD 34 2B 04         A  7936    	CALL	__stoiu
042530 3E28                A  7937    	LD	A,%28
042532 CD B3 31 04         A  7938    	CALL	__imul_b
042536 01 6B 58 04         A  7939    	LD	BC,_currentlevel+7
04253A 09                  A  7940    	ADD	HL,BC
04253B E5D1                A  7941    	LD	DE,HL
04253D DD07FA              A  7942    	LD	BC,(IX+%FFFFFFFA)
042540 CD 34 2B 04         A  7943    	CALL	__stoiu
042544 19                  A  7944    	ADD	HL,DE
042545 7E                  A  7945    	LD	A,(HL)
042546 DD77F7              A  7946    	LD	(IX+%FFFFFFF7),A
                           A  7947    ;  871				switch(c)
                           A  7948    .LINE 871
                           A  7949    
042549 17ED62              A  7950    	SEXT	HL
04254C DD6EF7              A  7951    	LD	L,(IX+%FFFFFFF7)
04254F CD 48 32 04         A  7952    	CALL	__case8D
042553 E9                  A  7953    	JP	(HL)
042554                     A  7954    L__98:
042554 0700                A  7955    	DW	7
042556 20                  A  7956    	DB	32
042557 FB2504              A  7957    	DW24	L_189	
                           A  7958    
04255A 23                  A  7959    	DB	35
04255B 752504              A  7960    	DW24	L_183	
                           A  7961    
04255E 24                  A  7962    	DB	36
04255F B92504              A  7963    	DW24	L_186	
                           A  7964    
042562 2A                  A  7965    	DB	42
042563 CF2504              A  7966    	DW24	L_187	
                           A  7967    
042566 2B                  A  7968    	DB	43
042567 A32504              A  7969    	DW24	L_185	
                           A  7970    
04256A 2E                  A  7971    	DB	46
04256B E52504              A  7972    	DW24	L_188	
                           A  7973    
04256E 40                  A  7974    	DB	64
04256F 8D2504              A  7975    	DW24	L_184	
                           A  7976    
042572 0F2604              A  7977    	DW24	L_191	
                           A  7978    
                           A  7979    ;  872				{
                           A  7980    ;  873					case CHAR_WALL:
042575                     A  7981    L_183:
                           A  7982    .LINE 873
                           A  7983    
                           A  7984    ;  874						vdp_bitmapDraw(TILE
                           A  7985    .LINE 874
                           A  7986    
042575 DD07FC              A  7987    	LD	BC,(IX+%FFFFFFFC)
042578 C5                  A  7988    	PUSH	BC
042579 DD07FE              A  7989    	LD	BC,(IX+%FFFFFFFE)
04257C C5                  A  7990    	PUSH	BC
04257D 01070000            A  7991    	LD	BC,7
042581 C5                  A  7992    	PUSH	BC
042582 CD C8 07 04         A  7993    	CALL	_vdp_bitmapDraw
042586 C1                  A  7994    	POP	BC
042587 C1                  A  7995    	POP	BC
042588 C1                  A  7996    	POP	BC
                           A  7997    ;  875						break;
                           A  7998    .LINE 875
                           A  7999    
042589 C3 0F 26 04         A  8000    	JR	L_191
                           A  8001    ;  876					case CHAR_PLAYER:
04258D                     A  8002    L_184:
                           A  8003    .LINE 876
                           A  8004    
                           A  8005    ;  877						vdp_bitmapDraw(TILE
                           A  8006    .LINE 877
                           A  8007    
04258D DD07FC              A  8008    	LD	BC,(IX+%FFFFFFFC)
042590 C5                  A  8009    	PUSH	BC
042591 DD07FE              A  8010    	LD	BC,(IX+%FFFFFFFE)
042594 C5                  A  8011    	PUSH	BC
042595 01080000            A  8012    	LD	BC,8
042599 C5                  A  8013    	PUSH	BC
04259A CD C8 07 04         A  8014    	CALL	_vdp_bitmapDraw
04259E C1                  A  8015    	POP	BC
04259F C1                  A  8016    	POP	BC
0425A0 C1                  A  8017    	POP	BC
                           A  8018    ;  878						break;
                           A  8019    .LINE 878
                           A  8020    
0425A1 18 6C               A  8021    	JR	L_191
                           A  8022    ;  879					case CHAR_PLAYERONGOAL:
0425A3                     A  8023    L_185:
                           A  8024    .LINE 879
                           A  8025    
                           A  8026    ;  880						vdp_bitmapDraw(TILE
                           A  8027    .LINE 880
                           A  8028    
0425A3 DD07FC              A  8029    	LD	BC,(IX+%FFFFFFFC)
0425A6 C5                  A  8030    	PUSH	BC
0425A7 DD07FE              A  8031    	LD	BC,(IX+%FFFFFFFE)
0425AA C5                  A  8032    	PUSH	BC
0425AB 01090000            A  8033    	LD	BC,9
0425AF C5                  A  8034    	PUSH	BC
0425B0 CD C8 07 04         A  8035    	CALL	_vdp_bitmapDraw
0425B4 C1                  A  8036    	POP	BC
0425B5 C1                  A  8037    	POP	BC
0425B6 C1                  A  8038    	POP	BC
                           A  8039    ;  881						break;
                           A  8040    .LINE 881
                           A  8041    
0425B7 18 56               A  8042    	JR	L_191
                           A  8043    ;  882					case CHAR_BOX:
0425B9                     A  8044    L_186:
                           A  8045    .LINE 882
                           A  8046    
                           A  8047    ;  883						vdp_bitmapDraw(TILE
                           A  8048    .LINE 883
                           A  8049    
0425B9 DD07FC              A  8050    	LD	BC,(IX+%FFFFFFFC)
0425BC C5                  A  8051    	PUSH	BC
0425BD DD07FE              A  8052    	LD	BC,(IX+%FFFFFFFE)
0425C0 C5                  A  8053    	PUSH	BC
0425C1 010A0000            A  8054    	LD	BC,10
0425C5 C5                  A  8055    	PUSH	BC
0425C6 CD C8 07 04         A  8056    	CALL	_vdp_bitmapDraw
0425CA C1                  A  8057    	POP	BC
0425CB C1                  A  8058    	POP	BC
0425CC C1                  A  8059    	POP	BC
                           A  8060    ;  884						break;
                           A  8061    .LINE 884
                           A  8062    
0425CD 18 40               A  8063    	JR	L_191
                           A  8064    ;  885					case CHAR_BOXONGOAL:
0425CF                     A  8065    L_187:
                           A  8066    .LINE 885
                           A  8067    
                           A  8068    ;  886						vdp_bitmapDraw(TILE
                           A  8069    .LINE 886
                           A  8070    
0425CF DD07FC              A  8071    	LD	BC,(IX+%FFFFFFFC)
0425D2 C5                  A  8072    	PUSH	BC
0425D3 DD07FE              A  8073    	LD	BC,(IX+%FFFFFFFE)
0425D6 C5                  A  8074    	PUSH	BC
0425D7 010B0000            A  8075    	LD	BC,11
0425DB C5                  A  8076    	PUSH	BC
0425DC CD C8 07 04         A  8077    	CALL	_vdp_bitmapDraw
0425E0 C1                  A  8078    	POP	BC
0425E1 C1                  A  8079    	POP	BC
0425E2 C1                  A  8080    	POP	BC
                           A  8081    ;  887						break;
                           A  8082    .LINE 887
                           A  8083    
0425E3 18 2A               A  8084    	JR	L_191
                           A  8085    ;  888						break;
                           A  8086    ;  889					case CHAR_GOAL:
0425E5                     A  8087    L_188:
                           A  8088    .LINE 889
                           A  8089    
                           A  8090    ;  890						vdp_bitmapDraw(TILE
                           A  8091    .LINE 890
                           A  8092    
0425E5 DD07FC              A  8093    	LD	BC,(IX+%FFFFFFFC)
0425E8 C5                  A  8094    	PUSH	BC
0425E9 DD07FE              A  8095    	LD	BC,(IX+%FFFFFFFE)
0425EC C5                  A  8096    	PUSH	BC
0425ED 010C0000            A  8097    	LD	BC,12
0425F1 C5                  A  8098    	PUSH	BC
0425F2 CD C8 07 04         A  8099    	CALL	_vdp_bitmapDraw
0425F6 C1                  A  8100    	POP	BC
0425F7 C1                  A  8101    	POP	BC
0425F8 C1                  A  8102    	POP	BC
                           A  8103    ;  891						break;
                           A  8104    .LINE 891
                           A  8105    
0425F9 18 14               A  8106    	JR	L_191
                           A  8107    ;  892					case CHAR_FLOOR:
0425FB                     A  8108    L_189:
                           A  8109    .LINE 892
                           A  8110    
                           A  8111    ;  893						vdp_bitmapDraw(TILE
                           A  8112    .LINE 893
                           A  8113    
0425FB DD07FC              A  8114    	LD	BC,(IX+%FFFFFFFC)
0425FE C5                  A  8115    	PUSH	BC
0425FF DD07FE              A  8116    	LD	BC,(IX+%FFFFFFFE)
042602 C5                  A  8117    	PUSH	BC
042603 010D0000            A  8118    	LD	BC,13
042607 C5                  A  8119    	PUSH	BC
042608 CD C8 07 04         A  8120    	CALL	_vdp_bitmapDraw
04260C C1                  A  8121    	POP	BC
04260D C1                  A  8122    	POP	BC
04260E C1                  A  8123    	POP	BC
                           A  8124    ;  894						break;
                           A  8125    ;  895					default:
                           A  8126    ;  896						break;
                           A  8127    ;  897				}
04260F                     A  8128    L_191:
                           A  8129    .LINE 897
                           A  8130    
                           A  8131    ;  898				x += MINIMAP_WIDTH;
                           A  8132    .LINE 898
                           A  8133    
04260F DD31FE              A  8134    	LD	IY,(IX+%FFFFFFFE)
042612 ED2308              A  8135    	LEA	HL,IY+%8
042615 DD75FE              A  8136    	LD	(IX+%FFFFFFFE),L
042618 DD74FF              A  8137    	LD	(IX+%FFFFFFFF),H
04261B DD27FA              A  8138    	LD	HL,(IX+%FFFFFFFA)
04261E 23                  A  8139    	INC	HL
04261F DD75FA              A  8140    	LD	(IX+%FFFFFFFA),L
042622 DD74FB              A  8141    	LD	(IX+%FFFFFFFB),H
                           A  8142    ;  899			}
042625                     A  8143    L_194:
                           A  8144    .LINE 899
                           A  8145    
042625 3A 66 58 04         A  8146    	LD	A,(_currentlevel+2)
042629 4F                  A  8147    	LD	C,A
04262A 0600                A  8148    	LD	B,%0
04262C DD27FA              A  8149    	LD	HL,(IX+%FFFFFFFA)
04262F B7                  A  8150    	OR	A,A
042630 40ED42              A  8151    	SBC.SIS	HL,BC
042633 DA 29 25 04         A  8152    	JR	C,L_192
                           A  8153    ;  900			y += MINIMAP_HEIGHT;
                           A  8154    .LINE 900
                           A  8155    
042637 DD31FC              A  8156    	LD	IY,(IX+%FFFFFFFC)
04263A ED2308              A  8157    	LEA	HL,IY+%8
04263D DD75FC              A  8158    	LD	(IX+%FFFFFFFC),L
042640 DD74FD              A  8159    	LD	(IX+%FFFFFFFD),H
042643 DD27F8              A  8160    	LD	HL,(IX+%FFFFFFF8)
042646 23                  A  8161    	INC	HL
042647 DD75F8              A  8162    	LD	(IX+%FFFFFFF8),L
04264A DD74F9              A  8163    	LD	(IX+%FFFFFFF9),H
                           A  8164    ;  901		}
04264D                     A  8165    L_198:
                           A  8166    .LINE 901
                           A  8167    
04264D 3A 67 58 04         A  8168    	LD	A,(_currentlevel+3)
042651 4F                  A  8169    	LD	C,A
042652 0600                A  8170    	LD	B,%0
042654 DD27F8              A  8171    	LD	HL,(IX+%FFFFFFF8)
042657 B7                  A  8172    	OR	A,A
042658 40ED42              A  8173    	SBC.SIS	HL,BC
04265B DA 14 25 04         A  8174    	JR	C,L_196
                           A  8175    ;  902	}
                           A  8176    .LINE 902
                           A  8177    
04265F DDF9                A  8178    	LD	SP,IX
042661 DDE1                A  8179    	POP	IX
042663 C9                  A  8180    	RET	
                           A  8181    
                           A  8182    
                           A  8183    ;**************************** _game_displayMini
                           A  8184    ;Name                         Addr/Register   S
                           A  8185    ;_vdp_bitmapDraw                     IMPORT  --
                           A  8186    ;_currentlevel                       STATIC   1
                           A  8187    ;ystart                               IX-13    
                           A  8188    ;xstart                               IX-11    
                           A  8189    ;c                                     IX-9    
                           A  8190    ;height                                IX-8    
                           A  8191    ;width                                 IX-6    
                           A  8192    ;y                                     IX-4    
                           A  8193    ;x                                     IX-2    
                           A  8194    
                           A  8195    
                           A  8196    ; Stack Frame Size: 19 (bytes)
                           A  8197    ;       Spill Code: 0 (instruction)
                           A  8198    
                           A  8199    
                           A  8200    .ENDFUNC "game_displayMinimap",902,"_game_displ
                           A  8201    ;  903	
                           A  8202    ;  904	
                           A  8203    ;  905	UINT8 game_readLevels(char *filename)
                           A  8204    ;  906	{
042664                     A  8205    _game_readLevels:
                           A  8206    .DEFINE "_game_readLevels"
                           A  8207    
                           A  8208    .VALUE _game_readLevels
                           A  8209    
                           A  8210    .CLASS 2
                           A  8211    
                           A  8212    .TYPE 76
                           A  8213    
                           A  8214    .ENDEF
                           A  8215    
                           A  8216    .BEGFUNC "game_readLevels",906,"_game_readLevel
                           A  8217    
                           A  8218    .LINE 906
                           A  8219    
                           A  8220    .DEFINE "filename"
                           A  8221    
                           A  8222    .CLASS 65
                           A  8223    
                           A  8224    .VALUE 6
                           A  8225    
                           A  8226    .TYPE 34
                           A  8227    
                           A  8228    .ENDEF
                           A  8229    
                           A  8230    .DEFINE "numlevels"
                           A  8231    
                           A  8232    .CLASS 65
                           A  8233    
                           A  8234    .VALUE -1
                           A  8235    
                           A  8236    .TYPE 12
                           A  8237    
                           A  8238    .ENDEF
                           A  8239    
                           A  8240    .DEFINE "file"
                           A  8241    
                           A  8242    .CLASS 65
                           A  8243    
                           A  8244    .VALUE -2
                           A  8245    
                           A  8246    .TYPE 12
                           A  8247    
                           A  8248    .ENDEF
                           A  8249    
                           A  8250    .DEFINE "size"
                           A  8251    
                           A  8252    .CLASS 65
                           A  8253    
                           A  8254    .VALUE -4
                           A  8255    
                           A  8256    .TYPE 13
                           A  8257    
                           A  8258    .ENDEF
                           A  8259    
                           A  8260    .DEFINE "ptr"
                           A  8261    
                           A  8262    .CLASS 65
                           A  8263    
                           A  8264    .VALUE -7
                           A  8265    
                           A  8266    .TYPE 34
                           A  8267    
                           A  8268    .ENDEF
                           A  8269    
042664 DDE5                A  8270    	PUSH	IX
042666 DD210000 00         A  8271    	LD	IX,0
04266B DD39                A  8272    	ADD	IX,SP
04266D C5                  A  8273    	PUSH	BC
04266E C5                  A  8274    	PUSH	BC
04266F 3B                  A  8275    	DEC	SP
                           A  8276    ;  907		// Reads all the levels in the stan
                           A  8277    ;  908		UINT8 numlevels = 0;
                           A  8278    .LINE 908
                           A  8279    
042670 DD36FF00            A  8280    	LD	(IX+%FFFFFFFF),%0
                           A  8281    ;  909		UINT16 size;
                           A  8282    ;  910		UINT8 file;
                           A  8283    ;  911		char* ptr = (char*)LEVELDATA;
                           A  8284    .LINE 911
                           A  8285    
042674 01000006            A  8286    	LD	BC,393216
042678 DD0FF9              A  8287    	LD	(IX+%FFFFFFF9),BC
                           A  8288    ;  912	
                           A  8289    ;  913		vdp_fgcolour(255,255,255);
                           A  8290    .LINE 913
                           A  8291    
04267B 01FF0000            A  8292    	LD	BC,255
04267F C5                  A  8293    	PUSH	BC
042680 C5                  A  8294    	PUSH	BC
042681 C5                  A  8295    	PUSH	BC
042682 CD 57 04 04         A  8296    	CALL	_vdp_fgcolour
042686 C1                  A  8297    	POP	BC
042687 C1                  A  8298    	POP	BC
042688 C1                  A  8299    	POP	BC
                           A  8300    ;  914	
                           A  8301    ;  915		file = mos_fopen(filename, fa_read)
                           A  8302    .LINE 915
                           A  8303    
042689 01010000            A  8304    	LD	BC,1
04268D C5                  A  8305    	PUSH	BC
04268E DD0706              A  8306    	LD	BC,(IX+%6)
042691 C5                  A  8307    	PUSH	BC
042692 CD 25 29 04         A  8308    	CALL	_mos_fopen
042696 C1                  A  8309    	POP	BC
042697 C1                  A  8310    	POP	BC
042698 DD77FE              A  8311    	LD	(IX+%FFFFFFFE),A
                           A  8312    ;  916		if(file)
                           A  8313    .LINE 916
                           A  8314    
04269B B7                  A  8315    	OR	A,A
04269C CA 4E 27 04         A  8316    	JR	Z,L_210
                           A  8317    ;  917		{
                           A  8318    ;  918			numlevels = 0;
                           A  8319    .LINE 918
                           A  8320    
0426A0 DD36FF00            A  8321    	LD	(IX+%FFFFFFFF),%0
                           A  8322    ;  919			
                           A  8323    ;  920			while(!mos_feof(file))
                           A  8324    .LINE 920
                           A  8325    
0426A4 C3 33 27 04         A  8326    	JR	L_206
0426A8                     A  8327    L_207:
                           A  8328    ;  921			{
                           A  8329    ;  922				size = sizeof(struct sokoba
                           A  8330    .LINE 922
                           A  8331    
0426A8 DD36FCB7            A  8332    	LD	(IX+%FFFFFFFC),%B7
0426AC DD36FD04            A  8333    	LD	(IX+%FFFFFFFD),%4
                           A  8334    ;  923				while(size)
                           A  8335    .LINE 923
                           A  8336    
0426B0 18 22               A  8337    	JR	L_202
0426B2                     A  8338    L_203:
                           A  8339    ;  924				{
                           A  8340    ;  925					*ptr = mos_fgetc(file);
                           A  8341    .LINE 925
                           A  8342    
0426B2 DD4EFE              A  8343    	LD	C,(IX+%FFFFFFFE)
0426B5 0600                A  8344    	LD	B,%0
0426B7 C5                  A  8345    	PUSH	BC
0426B8 CD 52 29 04         A  8346    	CALL	_mos_fgetc
0426BC C1                  A  8347    	POP	BC
0426BD DD27F9              A  8348    	LD	HL,(IX+%FFFFFFF9)
0426C0 77                  A  8349    	LD	(HL),A
                           A  8350    ;  926					ptr++;
                           A  8351    .LINE 926
                           A  8352    
0426C1 DD07F9              A  8353    	LD	BC,(IX+%FFFFFFF9)
0426C4 03                  A  8354    	INC	BC
0426C5 DD0FF9              A  8355    	LD	(IX+%FFFFFFF9),BC
                           A  8356    ;  927					size--;
                           A  8357    .LINE 927
                           A  8358    
0426C8 DD31FC              A  8359    	LD	IY,(IX+%FFFFFFFC)
0426CB ED23FF              A  8360    	LEA	HL,IY+%FFFFFFFF
0426CE DD75FC              A  8361    	LD	(IX+%FFFFFFFC),L
0426D1 DD74FD              A  8362    	LD	(IX+%FFFFFFFD),H
                           A  8363    ;  928				}
0426D4                     A  8364    L_202:
                           A  8365    .LINE 928
                           A  8366    
0426D4 DD27FC              A  8367    	LD	HL,(IX+%FFFFFFFC)
0426D7 CD A1 32 04         A  8368    	CALL	__scmpzero
0426DB 20 D5               A  8369    	JR	NZ,L_203
                           A  8370    ;  929				numlevels++;
                           A  8371    .LINE 929
                           A  8372    
0426DD DD34FF              A  8373    	INC	(IX+%FFFFFFFF)
                           A  8374    ;  930				vdp_cursorGoto(20,38);
                           A  8375    .LINE 930
                           A  8376    
0426E0 01260000            A  8377    	LD	BC,38
0426E4 C5                  A  8378    	PUSH	BC
0426E5 01140000            A  8379    	LD	BC,20
0426E9 C5                  A  8380    	PUSH	BC
0426EA CD C6 03 04         A  8381    	CALL	_vdp_cursorGoto
0426EE C1                  A  8382    	POP	BC
0426EF C1                  A  8383    	POP	BC
                           A  8384    ;  931				printf("Loading levels (%03
                           A  8385    .LINE 931
                           A  8386    
0426F0 01 3A 2B 04         A  8387    	LD	BC,___print_uputch
0426F4 ED43 37 4C 04       A  8388    	LD	(___print_xputch),BC
0426F9 01 9A 4F 04         A  8389    	LD	BC,L__104
0426FD C5                  A  8390    	PUSH	BC
0426FE CD C9 29 04         A  8391    	CALL	___print_sendstring
042702 C1                  A  8392    	POP	BC
042703 3E03                A  8393    	LD	A,%3
042705 32 2F 5D 04         A  8394    	LD	(___print_fmt+5),A
042709 3E40                A  8395    	LD	A,%40
04270B 32 2B 5D 04         A  8396    	LD	(___print_fmt+1),A
04270F DD7EFF              A  8397    	LD	A,(IX+%FFFFFFFF)
042712 B7ED62              A  8398    	UEXT	HL
042715 6F                  A  8399    	LD	L,A
042716 E5C1                A  8400    	LD	BC,HL
042718 CD 20 32 04         A  8401    	CALL	__itol
04271C C5D1                A  8402    	LD	DE,BC
04271E 4F                  A  8403    	LD	C,A
04271F 0600                A  8404    	LD	B,%0
042721 C5                  A  8405    	PUSH	BC
042722 D5                  A  8406    	PUSH	DE
042723 CD C0 2B 04         A  8407    	CALL	__u_itoa
042727 C1                  A  8408    	POP	BC
042728 C1                  A  8409    	POP	BC
042729 01 AB 4F 04         A  8410    	LD	BC,L__105
04272D C5                  A  8411    	PUSH	BC
04272E CD C9 29 04         A  8412    	CALL	___print_sendstring
042732 C1                  A  8413    	POP	BC
                           A  8414    ;  932	
                           A  8415    ;  933			}		
042733                     A  8416    L_206:
                           A  8417    .LINE 933
                           A  8418    
042733 DD4EFE              A  8419    	LD	C,(IX+%FFFFFFFE)
042736 0600                A  8420    	LD	B,%0
042738 C5                  A  8421    	PUSH	BC
042739 CD 7F 29 04         A  8422    	CALL	_mos_feof
04273D C1                  A  8423    	POP	BC
04273E B7                  A  8424    	OR	A,A
04273F CA A8 26 04         A  8425    	JR	Z,L_207
                           A  8426    ;  934			mos_fclose(file);
                           A  8427    .LINE 934
                           A  8428    
042743 DD4EFE              A  8429    	LD	C,(IX+%FFFFFFFE)
042746 0600                A  8430    	LD	B,%0
042748 C5                  A  8431    	PUSH	BC
042749 CD 3D 29 04         A  8432    	CALL	_mos_fclose
04274D C1                  A  8433    	POP	BC
                           A  8434    ;  935		}
04274E                     A  8435    L_210:
                           A  8436    .LINE 935
                           A  8437    
                           A  8438    ;  936		return numlevels;
                           A  8439    .LINE 936
                           A  8440    
04274E DD7EFF              A  8441    	LD	A,(IX+%FFFFFFFF)
                           A  8442    ;  937	}	
                           A  8443    .LINE 937
                           A  8444    
042751 DDF9                A  8445    	LD	SP,IX
042753 DDE1                A  8446    	POP	IX
042755 C9                  A  8447    	RET	
                           A  8448    
                           A  8449    
                           A  8450    ;**************************** _game_readLevels 
                           A  8451    ;Name                         Addr/Register   S
                           A  8452    ;_mos_fclose                         IMPORT  --
                           A  8453    ;_mos_feof                           IMPORT  --
                           A  8454    ;__u_itoa                            IMPORT  --
                           A  8455    ;___print_fmt                        IMPORT    
                           A  8456    ;___print_sendstring                 IMPORT  --
                           A  8457    ;___print_xputch                     IMPORT    
                           A  8458    ;___print_uputch                     IMPORT  --
                           A  8459    ;_vdp_cursorGoto                     IMPORT  --
                           A  8460    ;_mos_fgetc                          IMPORT  --
                           A  8461    ;_mos_fopen                          IMPORT  --
                           A  8462    ;_vdp_fgcolour                       IMPORT  --
                           A  8463    ;ptr                                   IX-7    
                           A  8464    ;size                                  IX-4    
                           A  8465    ;file                                  IX-2    
                           A  8466    ;numlevels                             IX-1    
                           A  8467    ;filename                              IX+6    
                           A  8468    
                           A  8469    
                           A  8470    ; Stack Frame Size: 16 (bytes)
                           A  8471    ;       Spill Code: 0 (instruction)
                           A  8472    
                           A  8473    
                           A  8474    .ENDFUNC "game_readLevels",937,"_game_readLevel
                           A  8475    	SEGMENT STRSECT
044F9A                     A  8476    L__104:
044F9A 4C6F6164 696E6720   A  8477    	DB	"Loading levels ("
044FA2 6C657665 6C732028 
044FAA 00                  A  8478    	DB	0
044FAB                     A  8479    L__105:
044FAB 292E2E2E 2E         A  8480    	DB	")...."
044FB0 00                  A  8481    	DB	0
                           A  8482    	SEGMENT CODE
                           A  8483    ;  938	
                           A  8484    ;  939	
                           A  8485    ;  940	void game_initLevel(UINT8 levelid)
                           A  8486    ;  941	{
042756                     A  8487    _game_initLevel:
                           A  8488    .DEFINE "_game_initLevel"
                           A  8489    
                           A  8490    .VALUE _game_initLevel
                           A  8491    
                           A  8492    .CLASS 2
                           A  8493    
                           A  8494    .TYPE 65
                           A  8495    
                           A  8496    .ENDEF
                           A  8497    
                           A  8498    .BEGFUNC "game_initLevel",941,"_game_initLevel"
                           A  8499    
                           A  8500    .LINE 941
                           A  8501    
                           A  8502    .DEFINE "levelid"
                           A  8503    
                           A  8504    .CLASS 65
                           A  8505    
                           A  8506    .VALUE 6
                           A  8507    
                           A  8508    .TYPE 12
                           A  8509    
                           A  8510    .ENDEF
                           A  8511    
042756 DDE5                A  8512    	PUSH	IX
042758 DD210000 00         A  8513    	LD	IX,0
04275D DD39                A  8514    	ADD	IX,SP
                           A  8515    ;  942		memcpy(&currentlevel, (void*)(LEVEL
                           A  8516    .LINE 942
                           A  8517    
04275F 01B70400            A  8518    	LD	BC,1207
042763 C5                  A  8519    	PUSH	BC
042764 DD7E06              A  8520    	LD	A,(IX+%6)
042767 B7ED62              A  8521    	UEXT	HL
04276A 6F                  A  8522    	LD	L,A
04276B E5C1                A  8523    	LD	BC,HL
04276D 21B70400            A  8524    	LD	HL,1207
042771 CD BF 31 04         A  8525    	CALL	__imulu
042775 01000006            A  8526    	LD	BC,393216
042779 09                  A  8527    	ADD	HL,BC
04277A E5                  A  8528    	PUSH	HL
04277B 01 64 58 04         A  8529    	LD	BC,_currentlevel
04277F C5                  A  8530    	PUSH	BC
042780 CD CD 2E 04         A  8531    	CALL	_memcpy
042784 C1                  A  8532    	POP	BC
042785 C1                  A  8533    	POP	BC
042786 C1                  A  8534    	POP	BC
                           A  8535    ;  943		num_undomoves = 0;
                           A  8536    .LINE 943
                           A  8537    
042787 AF                  A  8538    	XOR	A,A
042788 32 B3 4F 04         A  8539    	LD	(_num_undomoves),A
                           A  8540    ;  944	}
                           A  8541    .LINE 944
                           A  8542    
04278C DDF9                A  8543    	LD	SP,IX
04278E DDE1                A  8544    	POP	IX
042790 C9                  A  8545    	RET	
                           A  8546    
                           A  8547    
                           A  8548    ;**************************** _game_initLevel *
                           A  8549    ;Name                         Addr/Register   S
                           A  8550    ;_num_undomoves                      STATIC    
                           A  8551    ;_currentlevel                       STATIC   1
                           A  8552    ;_memcpy                             IMPORT  --
                           A  8553    ;levelid                               IX+6    
                           A  8554    
                           A  8555    
                           A  8556    ; Stack Frame Size: 9 (bytes)
                           A  8557    ;       Spill Code: 0 (instruction)
                           A  8558    
                           A  8559    
                           A  8560    .ENDFUNC "game_initLevel",944,"_game_initLevel"
                           A  8561    ;  945	
                           A  8562    ;  946	void game_initSprites(void)
                           A  8563    ;  947	{
042791                     A  8564    _game_initSprites:
                           A  8565    .DEFINE "_game_initSprites"
                           A  8566    
                           A  8567    .VALUE _game_initSprites
                           A  8568    
                           A  8569    .CLASS 2
                           A  8570    
                           A  8571    .TYPE 65
                           A  8572    
                           A  8573    .ENDEF
                           A  8574    
                           A  8575    .BEGFUNC "game_initSprites",947,"_game_initSpri
                           A  8576    
                           A  8577    .LINE 947
                           A  8578    
                           A  8579    .DEFINE "x"
                           A  8580    
                           A  8581    .CLASS 65
                           A  8582    
                           A  8583    .VALUE -1
                           A  8584    
                           A  8585    .TYPE 12
                           A  8586    
                           A  8587    .ENDEF
                           A  8588    
                           A  8589    .DEFINE "boxsprite"
                           A  8590    
                           A  8591    .CLASS 65
                           A  8592    
                           A  8593    .VALUE -2
                           A  8594    
                           A  8595    .TYPE 12
                           A  8596    
                           A  8597    .ENDEF
                           A  8598    
                           A  8599    .DEFINE "y"
                           A  8600    
                           A  8601    .CLASS 65
                           A  8602    
                           A  8603    .VALUE -3
                           A  8604    
                           A  8605    .TYPE 12
                           A  8606    
                           A  8607    .ENDEF
                           A  8608    
042791 DDE5                A  8609    	PUSH	IX
042793 DD210000 00         A  8610    	LD	IX,0
042798 DD39                A  8611    	ADD	IX,SP
04279A ED22F4              A  8612    	LEA	HL,IX+%FFFFFFF4
04279D F9                  A  8613    	LD	SP,HL
                           A  8614    ;  948		UINT8 x,y;
                           A  8615    ;  949		UINT8 boxsprite = 1;
                           A  8616    .LINE 949
                           A  8617    
04279E DD36FE01            A  8618    	LD	(IX+%FFFFFFFE),%1
                           A  8619    ;  950		
                           A  8620    ;  951		// Now build up the current level
                           A  8621    ;  952		// Player sprite
                           A  8622    ;  953		vdp_spriteSelect(0);
                           A  8623    .LINE 953
                           A  8624    
0427A2 01000000            A  8625    	LD	BC,0
0427A6 C5                  A  8626    	PUSH	BC
0427A7 CD 70 08 04         A  8627    	CALL	_vdp_spriteSelect
0427AB C1                  A  8628    	POP	BC
                           A  8629    ;  954		vdp_spriteClearFramesSelected();
                           A  8630    .LINE 954
                           A  8631    
0427AC CD A9 08 04         A  8632    	CALL	_vdp_spriteClearFramesSelected
                           A  8633    ;  955		vdp_spriteAddFrameSelected(TILE_PLA
                           A  8634    .LINE 955
                           A  8635    
0427B0 01010000            A  8636    	LD	BC,1
0427B4 C5                  A  8637    	PUSH	BC
0427B5 CD F2 08 04         A  8638    	CALL	_vdp_spriteAddFrameSelected
0427B9 C1                  A  8639    	POP	BC
                           A  8640    ;  956		vdp_spriteHideSelected();
                           A  8641    .LINE 956
                           A  8642    
0427BA CD 80 0A 04         A  8643    	CALL	_vdp_spriteHideSelected
                           A  8644    ;  957	
                           A  8645    ;  958		// set sprite positions
                           A  8646    ;  959		for(y = 0; y < currentlevel.height;
                           A  8647    .LINE 959
                           A  8648    
0427BE DD36FD00            A  8649    	LD	(IX+%FFFFFFFD),%0
0427C2 C3 9A 28 04         A  8650    	JR	L_227
0427C6                     A  8651    L_225:
                           A  8652    ;  960		{
                           A  8653    ;  961			for(x = 0; x < currentlevel.wid
                           A  8654    .LINE 961
                           A  8655    
0427C6 DD36FF00            A  8656    	LD	(IX+%FFFFFFFF),%0
0427CA C3 8B 28 04         A  8657    	JR	L_224
0427CE                     A  8658    L_222:
                           A  8659    ;  962			{
                           A  8660    ;  963				switch(currentlevel.data[y]
                           A  8661    .LINE 963
                           A  8662    
0427CE DD7EFD              A  8663    	LD	A,(IX+%FFFFFFFD)
0427D1 B7ED62              A  8664    	UEXT	HL
0427D4 6F                  A  8665    	LD	L,A
0427D5 3E28                A  8666    	LD	A,%28
0427D7 CD B3 31 04         A  8667    	CALL	__imul_b
0427DB DD2FFA              A  8668    	LD	(IX+%FFFFFFFA),HL
0427DE 01 6B 58 04         A  8669    	LD	BC,_currentlevel+7
0427E2 09                  A  8670    	ADD	HL,BC
0427E3 DD2FF4              A  8671    	LD	(IX+%FFFFFFF4),HL
0427E6 DD7EFF              A  8672    	LD	A,(IX+%FFFFFFFF)
0427E9 B7ED62              A  8673    	UEXT	HL
0427EC 6F                  A  8674    	LD	L,A
0427ED DD07F4              A  8675    	LD	BC,(IX+%FFFFFFF4)
0427F0 09                  A  8676    	ADD	HL,BC
0427F1 DD2FF7              A  8677    	LD	(IX+%FFFFFFF7),HL
0427F4 7E                  A  8678    	LD	A,(HL)
0427F5 B7ED62              A  8679    	UEXT	HL
0427F8 6F                  A  8680    	LD	L,A
0427F9 CD 48 32 04         A  8681    	CALL	__case8D
0427FD E9                  A  8682    	JP	(HL)
0427FE                     A  8683    L__109:
0427FE 0200                A  8684    	DW	2
042800 24                  A  8685    	DB	36
042801 0B2804              A  8686    	DW24	L_215	
                           A  8687    
042804 2A                  A  8688    	DB	42
042805 0B2804              A  8689    	DW24	L_216	
                           A  8690    
042808 742804              A  8691    	DW24	L_221	
                           A  8692    
                           A  8693    ;  964				{
                           A  8694    ;  965					case CHAR_BOX:
04280B                     A  8695    L_215:
                           A  8696    .LINE 965
                           A  8697    
                           A  8698    ;  966					case CHAR_BOXONGOAL:
04280B                     A  8699    L_216:
                           A  8700    .LINE 966
                           A  8701    
                           A  8702    ;  967						vdp_spriteSelect(bo
                           A  8703    .LINE 967
                           A  8704    
04280B DD4EFE              A  8705    	LD	C,(IX+%FFFFFFFE)
04280E 0600                A  8706    	LD	B,%0
042810 C5                  A  8707    	PUSH	BC
042811 CD 70 08 04         A  8708    	CALL	_vdp_spriteSelect
042815 C1                  A  8709    	POP	BC
                           A  8710    ;  968						vdp_spriteClearFram
                           A  8711    .LINE 968
                           A  8712    
042816 CD A9 08 04         A  8713    	CALL	_vdp_spriteClearFramesSelected
                           A  8714    ;  969						vdp_spriteAddFrameS
                           A  8715    .LINE 969
                           A  8716    
04281A 01030000            A  8717    	LD	BC,3
04281E C5                  A  8718    	PUSH	BC
04281F CD F2 08 04         A  8719    	CALL	_vdp_spriteAddFrameSelected
042823 C1                  A  8720    	POP	BC
                           A  8721    ;  970						vdp_spriteAddFrameS
                           A  8722    .LINE 970
                           A  8723    
042824 01040000            A  8724    	LD	BC,4
042828 C5                  A  8725    	PUSH	BC
042829 CD F2 08 04         A  8726    	CALL	_vdp_spriteAddFrameSelected
04282D C1                  A  8727    	POP	BC
                           A  8728    ;  971						if(currentlevel.dat
                           A  8729    .LINE 971
                           A  8730    
04282E DD27F7              A  8731    	LD	HL,(IX+%FFFFFFF7)
042831 7E                  A  8732    	LD	A,(HL)
042832 B7ED62              A  8733    	UEXT	HL
042835 6F                  A  8734    	LD	L,A
042836 012A0000            A  8735    	LD	BC,42
04283A B7                  A  8736    	OR	A,A
04283B ED42                A  8737    	SBC	HL,BC
04283D 20 0C               A  8738    	JR	NZ,L_218
04283F 01010000            A  8739    	LD	BC,1
042843 C5                  A  8740    	PUSH	BC
042844 CD E1 09 04         A  8741    	CALL	_vdp_spriteSetFrameSelected
042848 C1                  A  8742    	POP	BC
                           A  8743    ;  972						else vdp_spriteSetF
                           A  8744    .LINE 972
                           A  8745    
042849 18 0A               A  8746    	JR	L_219
04284B                     A  8747    L_218:
04284B 01000000            A  8748    	LD	BC,0
04284F C5                  A  8749    	PUSH	BC
042850 CD E1 09 04         A  8750    	CALL	_vdp_spriteSetFrameSelected
042854 C1                  A  8751    	POP	BC
042855                     A  8752    L_219:
                           A  8753    ;  973						vdp_spriteHideSelec
                           A  8754    .LINE 973
                           A  8755    
042855 CD 80 0A 04         A  8756    	CALL	_vdp_spriteHideSelected
                           A  8757    ;  974						sprites[y][x] = box
                           A  8758    .LINE 974
                           A  8759    
042859 01 B4 53 04         A  8760    	LD	BC,_sprites
04285D DD27FA              A  8761    	LD	HL,(IX+%FFFFFFFA)
042860 09                  A  8762    	ADD	HL,BC
042861 E5C1                A  8763    	LD	BC,HL
042863 DD7EFF              A  8764    	LD	A,(IX+%FFFFFFFF)
042866 B7ED62              A  8765    	UEXT	HL
042869 6F                  A  8766    	LD	L,A
04286A 09                  A  8767    	ADD	HL,BC
04286B DD7EFE              A  8768    	LD	A,(IX+%FFFFFFFE)
04286E 77                  A  8769    	LD	(HL),A
                           A  8770    ;  975						boxsprite++;
                           A  8771    .LINE 975
                           A  8772    
04286F DD34FE              A  8773    	INC	(IX+%FFFFFFFE)
                           A  8774    ;  976						break;
                           A  8775    .LINE 976
                           A  8776    
042872 18 14               A  8777    	JR	L_223
                           A  8778    ;  977					default:
042874                     A  8779    L_221:
                           A  8780    .LINE 977
                           A  8781    
                           A  8782    ;  978						sprites[y][x] = NOS
                           A  8783    .LINE 978
                           A  8784    
042874 01 B4 53 04         A  8785    	LD	BC,_sprites
042878 DD27FA              A  8786    	LD	HL,(IX+%FFFFFFFA)
04287B 09                  A  8787    	ADD	HL,BC
04287C E5C1                A  8788    	LD	BC,HL
04287E DD7EFF              A  8789    	LD	A,(IX+%FFFFFFFF)
042881 B7ED62              A  8790    	UEXT	HL
042884 6F                  A  8791    	LD	L,A
042885 09                  A  8792    	ADD	HL,BC
042886 36FF                A  8793    	LD	(HL),%FF
                           A  8794    ;  979						break;
                           A  8795    ;  980				}	
                           A  8796    ;  981			}
042888                     A  8797    L_223:
                           A  8798    .LINE 981
                           A  8799    
042888 DD34FF              A  8800    	INC	(IX+%FFFFFFFF)
04288B                     A  8801    L_224:
04288B DD7EFF              A  8802    	LD	A,(IX+%FFFFFFFF)
04288E 21 66 58 04         A  8803    	LD	HL,_currentlevel+2
042892 BE                  A  8804    	CP	A,(HL)
042893 DA CE 27 04         A  8805    	JR	C,L_222
042897 DD34FD              A  8806    	INC	(IX+%FFFFFFFD)
                           A  8807    ;  982		}
04289A                     A  8808    L_227:
                           A  8809    .LINE 982
                           A  8810    
04289A DD7EFD              A  8811    	LD	A,(IX+%FFFFFFFD)
04289D 21 67 58 04         A  8812    	LD	HL,_currentlevel+3
0428A1 BE                  A  8813    	CP	A,(HL)
0428A2 DA C6 27 04         A  8814    	JR	C,L_225
                           A  8815    ;  983	
                           A  8816    ;  984		// activate all sprites. boxsprite 
                           A  8817    ;  985		spritenumber = boxsprite;
                           A  8818    .LINE 985
                           A  8819    
0428A6 DD7EFE              A  8820    	LD	A,(IX+%FFFFFFFE)
0428A9 32 1B 5D 04         A  8821    	LD	(_spritenumber),A
                           A  8822    ;  986		vdp_spriteActivateTotal(spritenumbe
                           A  8823    .LINE 986
                           A  8824    
0428AD 4F                  A  8825    	LD	C,A
0428AE 0600                A  8826    	LD	B,%0
0428B0 C5                  A  8827    	PUSH	BC
0428B1 CD 93 0B 04         A  8828    	CALL	_vdp_spriteActivateTotal
0428B5 C1                  A  8829    	POP	BC
                           A  8830    ;  987	}
                           A  8831    .LINE 987
                           A  8832    
0428B6 DDF9                A  8833    	LD	SP,IX
0428B8 DDE1                A  8834    	POP	IX
0428BA C9                  A  8835    	RET	
                           A  8836    
                           A  8837    
                           A  8838    ;**************************** _game_initSprites
                           A  8839    ;Name                         Addr/Register   S
                           A  8840    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  8841    ;_spritenumber                       STATIC    
                           A  8842    ;_sprites                            STATIC   1
                           A  8843    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  8844    ;_currentlevel                       STATIC   1
                           A  8845    ;_vdp_spriteHideSelected             IMPORT  --
                           A  8846    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  8847    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  8848    ;_vdp_spriteSelect                   IMPORT  --
                           A  8849    ;G_30                                 IX-12    
                           A  8850    ;G_31                                  IX-9    
                           A  8851    ;G_32                                  IX-6    
                           A  8852    ;y                                     IX-3    
                           A  8853    ;boxsprite                             IX-2    
                           A  8854    ;x                                     IX-1    
                           A  8855    
                           A  8856    
                           A  8857    ; Stack Frame Size: 18 (bytes)
                           A  8858    ;       Spill Code: 0 (instruction)
                           A  8859    
                           A  8860    
                           A  8861    .ENDFUNC "game_initSprites",987,"_game_initSpri
                           A  8862    	XREF _strlen:ROM
                           A  8863    	XREF _memset:ROM
                           A  8864    	XREF _memcpy:ROM
                           A  8865    	XREF _puts:ROM
                           A  8866    	XREF __u_itoa:ROM
                           A  8867    	XREF ___print_sendstring:ROM
                           A  8868    	XREF ___print_xputch:ROM
                           A  8869    	XREF ___print_uputch:ROM
                           A  8870    	XREF ___print_fmt:ROM
                           A  8871    	XREF _vdp_spriteRefresh:ROM
                           A  8872    	XREF _vdp_spriteActivateTotal:ROM
                           A  8873    	XREF _vdp_spriteMoveBySelected:ROM
                           A  8874    	XREF _vdp_spriteMoveToSelected:ROM
                           A  8875    	XREF _vdp_spriteHide:ROM
                           A  8876    	XREF _vdp_spriteHideSelected:ROM
                           A  8877    	XREF _vdp_spriteShowSelected:ROM
                           A  8878    	XREF _vdp_spriteSetFrame:ROM
                           A  8879    	XREF _vdp_spriteSetFrameSelected:ROM
                           A  8880    	XREF _vdp_spriteAddFrameSelected:ROM
                           A  8881    	XREF _vdp_spriteClearFramesSelected:ROM
                           A  8882    	XREF _vdp_spriteSelect:ROM
                           A  8883    	XREF _vdp_bitmapCreateSolidColor:ROM
                           A  8884    	XREF _vdp_bitmapDraw:ROM
                           A  8885    	XREF _vdp_bitmapSendData:ROM
                           A  8886    	XREF _vdp_plotLineTo:ROM
                           A  8887    	XREF _vdp_plotMoveTo:ROM
                           A  8888    	XREF _vdp_plotColour:ROM
                           A  8889    	XREF _vdp_clearGraphics:ROM
                           A  8890    	XREF _vdp_fgcolour:ROM
                           A  8891    	XREF _vdp_cursorDisable:ROM
                           A  8892    	XREF _vdp_cursorGoto:ROM
                           A  8893    	XREF _vdp_cls:ROM
                           A  8894    	XREF _vdp_mode:ROM
                           A  8895    	XREF _mos_feof:ROM
                           A  8896    	XREF _mos_fgetc:ROM
                           A  8897    	XREF _mos_fclose:ROM
                           A  8898    	XREF _mos_fopen:ROM
                           A  8899    	XREF _getch:ROM
                           A  8900    	XREF _putch:ROM
                           A  8901    	XREF __idivs:ROM
                           A  8902    	XREF __imulu:ROM
                           A  8903    	XREF __stoi:ROM
                           A  8904    	XREF __stoiu:ROM
                           A  8905    	XREF __itol:ROM
                           A  8906    	XREF __setflag:ROM
                           A  8907    	XREF __scmpzero:ROM
                           A  8908    	XREF __case8D:ROM
                           A  8909    	XREF __imul_b:ROM
                           A  8910    	XDEF _game_initSprites
                           A  8911    	XDEF _game_initLevel
                           A  8912    	XDEF _game_readLevels
                           A  8913    	XDEF _game_displayMinimap
                           A  8914    	XDEF _game_displayLevel
                           A  8915    	XDEF _game_selectLevel
                           A  8916    	XDEF _game_displayHelp
                           A  8917    	XDEF _game_splash_screen
                           A  8918    	XDEF _game_getResponse
                           A  8919    	XDEF _game_handleKey
                           A  8920    	XDEF _game_handleUndoMove
                           A  8921    	XDEF _undomove_updatelevel
                           A  8922    	XDEF _move_updatelevel
                           A  8923    	XDEF _undomove_sprites
                           A  8924    	XDEF _move_sprites
                           A  8925    	XDEF _canmove
                           A  8926    	XDEF _game_resetSprites
                           A  8927    	XDEF _game_sendSpriteData
                           A  8928    	XDEF _debug_print_playfieldText
                           A  8929    	XDEF _playermini_data
                           A  8930    	XDEF _boxongoalmini_data
                           A  8931    	XDEF _goalmini_data
                           A  8932    	XDEF _wallmini_data
                           A  8933    	XDEF _boxmini_data
                           A  8934    	XDEF _boxongoal_data
                           A  8935    	XDEF _box_data
                           A  8936    	XDEF _goal_data
                           A  8937    	XDEF _player_data
                           A  8938    	XDEF _wall_data
                           A  8939    	XDEF _spritenumber
                           A  8940    	XDEF _currentlevel
                           A  8941    	XDEF _sprites
                           A  8942    	XDEF _bitmapbuffer
                           A  8943    	XDEF _num_undomoves
                           A  8944    	XDEF _undomove
                           A  8945    	END


Errors: 0
Warnings: 0
Lines Assembled: 8946
