Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED20-Dec-22     19:42:13     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\game.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "sokobanlevel",1207
                           A     9    .DEFINE "xpos"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "ypos"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "width"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "height"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "goals"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "goalstaken"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "crates"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "data"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .DIM 30
                           A    48    .DIM 40
                           A    49    .TYPE 876
                           A    50    .ENDEF
                           A    51    .ENDREC "sokobanlevel"
                           A    52    .BEGREC "NONAME0",2
                           A    53    .DEFINE "ch"
                           A    54    .VALUE 0
                           A    55    .CLASS 8
                           A    56    .TYPE 2
                           A    57    .ENDEF
                           A    58    .DEFINE "tile_id"
                           A    59    .VALUE 1
                           A    60    .CLASS 8
                           A    61    .TYPE 12
                           A    62    .ENDEF
                           A    63    .ENDREC "NONAME0"
                           A    64    .BEGREC "fmt_type",19
                           A    65    .DEFINE "status"
                           A    66    .VALUE 0
                           A    67    .CLASS 8
                           A    68    .TYPE 12
                           A    69    .ENDEF
                           A    70    .DEFINE "flags"
                           A    71    .VALUE 1
                           A    72    .CLASS 8
                           A    73    .TYPE 12
                           A    74    .ENDEF
                           A    75    .DEFINE "size"
                           A    76    .VALUE 2
                           A    77    .CLASS 8
                           A    78    .TYPE 2
                           A    79    .ENDEF
                           A    80    .DEFINE "chr"
                           A    81    .VALUE 3
                           A    82    .CLASS 8
                           A    83    .TYPE 2
                           A    84    .ENDEF
                           A    85    .DEFINE "type"
                           A    86    .VALUE 4
                           A    87    .CLASS 8
                           A    88    .TYPE 2
                           A    89    .ENDEF
                           A    90    .DEFINE "field_width"
                           A    91    .VALUE 5
                           A    92    .CLASS 8
                           A    93    .TYPE 2
                           A    94    .ENDEF
                           A    95    .DEFINE "precision"
                           A    96    .VALUE 6
                           A    97    .CLASS 8
                           A    98    .TYPE 2
                           A    99    .ENDEF
                           A   100    .DEFINE "set_begin"
                           A   101    .VALUE 7
                           A   102    .CLASS 8
                           A   103    .TYPE 34
                           A   104    .ENDEF
                           A   105    .DEFINE "set_end"
                           A   106    .VALUE 10
                           A   107    .CLASS 8
                           A   108    .TYPE 34
                           A   109    .ENDEF
                           A   110    .DEFINE "pad_whole"
                           A   111    .VALUE 13
                           A   112    .CLASS 8
                           A   113    .TYPE 12
                           A   114    .ENDEF
                           A   115    .DEFINE "pad_pre_fract"
                           A   116    .VALUE 14
                           A   117    .CLASS 8
                           A   118    .TYPE 12
                           A   119    .ENDEF
                           A   120    .DEFINE "pad_post_fract"
                           A   121    .VALUE 15
                           A   122    .CLASS 8
                           A   123    .TYPE 12
                           A   124    .ENDEF
                           A   125    .DEFINE "pad_at"
                           A   126    .VALUE 16
                           A   127    .CLASS 8
                           A   128    .TYPE 34
                           A   129    .ENDEF
                           A   130    .ENDREC "fmt_type"
                           A   131    .BEGREC "flt_info",12
                           A   132    .DEFINE "flags"
                           A   133    .VALUE 0
                           A   134    .CLASS 8
                           A   135    .TYPE 12
                           A   136    .ENDEF
                           A   137    .DEFINE "exp"
                           A   138    .VALUE 1
                           A   139    .CLASS 8
                           A   140    .TYPE 2
                           A   141    .ENDEF
                           A   142    .DEFINE "digits"
                           A   143    .VALUE 2
                           A   144    .CLASS 8
                           A   145    .DIM 10
                           A   146    .TYPE 108
                           A   147    .ENDEF
                           A   148    .ENDREC "flt_info"
                           A   149    ;    1	#include "game.h"
                           A   150    ;    2	#include "sokobanprep.h"
                           A   151    ;    3	#include "vdp.h"
                           A   152    ;    4	#include <ctype.h>
                           A   153    ;    5	#include <stdio.h>
                           A   154    ;    6	#include <string.h>
                           A   155    ;    7	
                           A   156    ;    8	struct undoitem
                           A   157    ;    9	{
                           A   158    ;   10		UINT8 movekey;	// the key pressed 
                           A   159    ;   11		BOOL  pushed;	// an item was push
                           A   160    ;   12	};
                           A   161    .BEGREC "undoitem",2
                           A   162    .DEFINE "movekey"
                           A   163    .VALUE 0
                           A   164    .CLASS 8
                           A   165    .TYPE 12
                           A   166    .ENDEF
                           A   167    .DEFINE "pushed"
                           A   168    .VALUE 1
                           A   169    .CLASS 8
                           A   170    .TYPE 12
                           A   171    .ENDEF
                           A   172    .ENDREC "undoitem"
                           A   173    	SEGMENT BSS
044FB8                     A   174    _undomove:
044FB8                     A   175    	DS	2
                           A   176    .DEFINE "undomove"
                           A   177    .ALIAS "_undomove"
                           A   178    .CLASS 83
                           A   179    .VALUE _undomove
                           A   180    .TAG "undoitem"
                           A   181    .TYPE 8
                           A   182    .ENDEF
044FBA                     A   183    _num_undomoves:
044FBA                     A   184    	DS	1
                           A   185    .DEFINE "num_undomoves"
                           A   186    .ALIAS "_num_undomoves"
                           A   187    .CLASS 83
                           A   188    .VALUE _num_undomoves
                           A   189    .TYPE 12
                           A   190    .ENDEF
044FBB                     A   191    _bitmapbuffer:
044FBB                     A   192    	DS	1024
                           A   193    .DEFINE "bitmapbuffer"
                           A   194    .ALIAS "_bitmapbuffer"
                           A   195    .CLASS 83
                           A   196    .VALUE _bitmapbuffer
                           A   197    .DIM 256
                           A   198    .TYPE 111
                           A   199    .ENDEF
0453BB                     A   200    _sprites:
0453BB                     A   201    	DS	1200
                           A   202    .DEFINE "sprites"
                           A   203    .ALIAS "_sprites"
                           A   204    .CLASS 83
                           A   205    .VALUE _sprites
                           A   206    .DIM 30
                           A   207    .DIM 40
                           A   208    .TYPE 876
                           A   209    .ENDEF
04586B                     A   210    _currentlevel:
04586B                     A   211    	DS	1207
                           A   212    .DEFINE "currentlevel"
                           A   213    .ALIAS "_currentlevel"
                           A   214    .CLASS 83
                           A   215    .VALUE _currentlevel
                           A   216    .TAG "sokobanlevel"
                           A   217    .TYPE 8
                           A   218    .ENDEF
045D22                     A   219    _spritenumber:
045D22                     A   220    	DS	1
                           A   221    .DEFINE "spritenumber"
                           A   222    .ALIAS "_spritenumber"
                           A   223    .CLASS 83
                           A   224    .VALUE _spritenumber
                           A   225    .TYPE 12
                           A   226    .ENDEF
                           A   227    	SEGMENT DATA
04333E                     A   228    _wall_data:
04333E 808000FF            A   229    	DL	-16744320
043342 808000FF            A   230    	DL	-16744320
043346 808000FF            A   231    	DL	-16744320
04334A 808000FF            A   232    	DL	-16744320
04334E 808000FF            A   233    	DL	-16744320
043352 808000FF            A   234    	DL	-16744320
043356 808000FF            A   235    	DL	-16744320
04335A 404040FF            A   236    	DL	-12566464
04335E 808000FF            A   237    	DL	-16744320
043362 808000FF            A   238    	DL	-16744320
043366 808000FF            A   239    	DL	-16744320
04336A 808000FF            A   240    	DL	-16744320
04336E 808000FF            A   241    	DL	-16744320
043372 808000FF            A   242    	DL	-16744320
043376 808000FF            A   243    	DL	-16744320
04337A 808000FF            A   244    	DL	-16744320
04337E 800000FF            A   245    	DL	-16777088
043382 800000FF            A   246    	DL	-16777088
043386 800000FF            A   247    	DL	-16777088
04338A 800000FF            A   248    	DL	-16777088
04338E 800000FF            A   249    	DL	-16777088
043392 800000FF            A   250    	DL	-16777088
043396 808080FF            A   251    	DL	-8355712
04339A 404040FF            A   252    	DL	-12566464
04339E 808000FF            A   253    	DL	-16744320
0433A2 800000FF            A   254    	DL	-16777088
0433A6 800000FF            A   255    	DL	-16777088
0433AA 800000FF            A   256    	DL	-16777088
0433AE 800000FF            A   257    	DL	-16777088
0433B2 800000FF            A   258    	DL	-16777088
0433B6 800000FF            A   259    	DL	-16777088
0433BA 800000FF            A   260    	DL	-16777088
0433BE 800000FF            A   261    	DL	-16777088
0433C2 800000FF            A   262    	DL	-16777088
0433C6 800000FF            A   263    	DL	-16777088
0433CA 800000FF            A   264    	DL	-16777088
0433CE 800000FF            A   265    	DL	-16777088
0433D2 800000FF            A   266    	DL	-16777088
0433D6 808080FF            A   267    	DL	-8355712
0433DA 404040FF            A   268    	DL	-12566464
0433DE 808000FF            A   269    	DL	-16744320
0433E2 800000FF            A   270    	DL	-16777088
0433E6 808080FF            A   271    	DL	-8355712
0433EA 800000FF            A   272    	DL	-16777088
0433EE 800000FF            A   273    	DL	-16777088
0433F2 800000FF            A   274    	DL	-16777088
0433F6 800000FF            A   275    	DL	-16777088
0433FA 800000FF            A   276    	DL	-16777088
0433FE 800000FF            A   277    	DL	-16777088
043402 800000FF            A   278    	DL	-16777088
043406 808080FF            A   279    	DL	-8355712
04340A 808080FF            A   280    	DL	-8355712
04340E 800000FF            A   281    	DL	-16777088
043412 800000FF            A   282    	DL	-16777088
043416 808080FF            A   283    	DL	-8355712
04341A 404040FF            A   284    	DL	-12566464
04341E 808000FF            A   285    	DL	-16744320
043422 800000FF            A   286    	DL	-16777088
043426 800000FF            A   287    	DL	-16777088
04342A 800000FF            A   288    	DL	-16777088
04342E 800000FF            A   289    	DL	-16777088
043432 800000FF            A   290    	DL	-16777088
043436 800000FF            A   291    	DL	-16777088
04343A 800000FF            A   292    	DL	-16777088
04343E 800000FF            A   293    	DL	-16777088
043442 800000FF            A   294    	DL	-16777088
043446 800000FF            A   295    	DL	-16777088
04344A 800000FF            A   296    	DL	-16777088
04344E 800000FF            A   297    	DL	-16777088
043452 800000FF            A   298    	DL	-16777088
043456 808080FF            A   299    	DL	-8355712
04345A 404040FF            A   300    	DL	-12566464
04345E 808000FF            A   301    	DL	-16744320
043462 800000FF            A   302    	DL	-16777088
043466 800000FF            A   303    	DL	-16777088
04346A 800000FF            A   304    	DL	-16777088
04346E 800000FF            A   305    	DL	-16777088
043472 800000FF            A   306    	DL	-16777088
043476 800000FF            A   307    	DL	-16777088
04347A 800000FF            A   308    	DL	-16777088
04347E 800000FF            A   309    	DL	-16777088
043482 800000FF            A   310    	DL	-16777088
043486 800000FF            A   311    	DL	-16777088
04348A 800000FF            A   312    	DL	-16777088
04348E 800000FF            A   313    	DL	-16777088
043492 800000FF            A   314    	DL	-16777088
043496 808080FF            A   315    	DL	-8355712
04349A 404040FF            A   316    	DL	-12566464
04349E 808000FF            A   317    	DL	-16744320
0434A2 800000FF            A   318    	DL	-16777088
0434A6 800000FF            A   319    	DL	-16777088
0434AA 800000FF            A   320    	DL	-16777088
0434AE 800000FF            A   321    	DL	-16777088
0434B2 808080FF            A   322    	DL	-8355712
0434B6 808080FF            A   323    	DL	-8355712
0434BA 800000FF            A   324    	DL	-16777088
0434BE 808080FF            A   325    	DL	-8355712
0434C2 808080FF            A   326    	DL	-8355712
0434C6 808080FF            A   327    	DL	-8355712
0434CA 808080FF            A   328    	DL	-8355712
0434CE 808080FF            A   329    	DL	-8355712
0434D2 808080FF            A   330    	DL	-8355712
0434D6 808080FF            A   331    	DL	-8355712
0434DA 404040FF            A   332    	DL	-12566464
0434DE 808000FF            A   333    	DL	-16744320
0434E2 808080FF            A   334    	DL	-8355712
0434E6 808080FF            A   335    	DL	-8355712
0434EA 808080FF            A   336    	DL	-8355712
0434EE 808080FF            A   337    	DL	-8355712
0434F2 808080FF            A   338    	DL	-8355712
0434F6 808080FF            A   339    	DL	-8355712
0434FA 808080FF            A   340    	DL	-8355712
0434FE 404040FF            A   341    	DL	-12566464
043502 404040FF            A   342    	DL	-12566464
043506 404040FF            A   343    	DL	-12566464
04350A 404040FF            A   344    	DL	-12566464
04350E 404040FF            A   345    	DL	-12566464
043512 404040FF            A   346    	DL	-12566464
043516 404040FF            A   347    	DL	-12566464
04351A 404040FF            A   348    	DL	-12566464
04351E 404040FF            A   349    	DL	-12566464
043522 404040FF            A   350    	DL	-12566464
043526 404040FF            A   351    	DL	-12566464
04352A 404040FF            A   352    	DL	-12566464
04352E 404040FF            A   353    	DL	-12566464
043532 404040FF            A   354    	DL	-12566464
043536 404040FF            A   355    	DL	-12566464
04353A 404040FF            A   356    	DL	-12566464
04353E 404040FF            A   357    	DL	-12566464
043542 808000FF            A   358    	DL	-16744320
043546 808000FF            A   359    	DL	-16744320
04354A 808000FF            A   360    	DL	-16744320
04354E 808000FF            A   361    	DL	-16744320
043552 808000FF            A   362    	DL	-16744320
043556 808000FF            A   363    	DL	-16744320
04355A 808000FF            A   364    	DL	-16744320
04355E 808000FF            A   365    	DL	-16744320
043562 808000FF            A   366    	DL	-16744320
043566 808000FF            A   367    	DL	-16744320
04356A 808000FF            A   368    	DL	-16744320
04356E 808000FF            A   369    	DL	-16744320
043572 808000FF            A   370    	DL	-16744320
043576 808000FF            A   371    	DL	-16744320
04357A 808000FF            A   372    	DL	-16744320
04357E 404040FF            A   373    	DL	-12566464
043582 808000FF            A   374    	DL	-16744320
043586 808000FF            A   375    	DL	-16744320
04358A 800000FF            A   376    	DL	-16777088
04358E 808080FF            A   377    	DL	-8355712
043592 808080FF            A   378    	DL	-8355712
043596 800000FF            A   379    	DL	-16777088
04359A 800000FF            A   380    	DL	-16777088
04359E 800000FF            A   381    	DL	-16777088
0435A2 800000FF            A   382    	DL	-16777088
0435A6 800000FF            A   383    	DL	-16777088
0435AA 800000FF            A   384    	DL	-16777088
0435AE 800000FF            A   385    	DL	-16777088
0435B2 800000FF            A   386    	DL	-16777088
0435B6 800000FF            A   387    	DL	-16777088
0435BA 808080FF            A   388    	DL	-8355712
0435BE 404040FF            A   389    	DL	-12566464
0435C2 808000FF            A   390    	DL	-16744320
0435C6 800000FF            A   391    	DL	-16777088
0435CA 800000FF            A   392    	DL	-16777088
0435CE 800000FF            A   393    	DL	-16777088
0435D2 800000FF            A   394    	DL	-16777088
0435D6 800000FF            A   395    	DL	-16777088
0435DA 800000FF            A   396    	DL	-16777088
0435DE 800000FF            A   397    	DL	-16777088
0435E2 800000FF            A   398    	DL	-16777088
0435E6 800000FF            A   399    	DL	-16777088
0435EA 800000FF            A   400    	DL	-16777088
0435EE 800000FF            A   401    	DL	-16777088
0435F2 800000FF            A   402    	DL	-16777088
0435F6 800000FF            A   403    	DL	-16777088
0435FA 808080FF            A   404    	DL	-8355712
0435FE 404040FF            A   405    	DL	-12566464
043602 808000FF            A   406    	DL	-16744320
043606 800000FF            A   407    	DL	-16777088
04360A 800000FF            A   408    	DL	-16777088
04360E 800000FF            A   409    	DL	-16777088
043612 800000FF            A   410    	DL	-16777088
043616 808080FF            A   411    	DL	-8355712
04361A 808080FF            A   412    	DL	-8355712
04361E 800000FF            A   413    	DL	-16777088
043622 800000FF            A   414    	DL	-16777088
043626 800000FF            A   415    	DL	-16777088
04362A 800000FF            A   416    	DL	-16777088
04362E 800000FF            A   417    	DL	-16777088
043632 800000FF            A   418    	DL	-16777088
043636 800000FF            A   419    	DL	-16777088
04363A 808080FF            A   420    	DL	-8355712
04363E 404040FF            A   421    	DL	-12566464
043642 808000FF            A   422    	DL	-16744320
043646 800000FF            A   423    	DL	-16777088
04364A 800000FF            A   424    	DL	-16777088
04364E 800000FF            A   425    	DL	-16777088
043652 800000FF            A   426    	DL	-16777088
043656 800000FF            A   427    	DL	-16777088
04365A 800000FF            A   428    	DL	-16777088
04365E 800000FF            A   429    	DL	-16777088
043662 800000FF            A   430    	DL	-16777088
043666 800000FF            A   431    	DL	-16777088
04366A 800000FF            A   432    	DL	-16777088
04366E 800000FF            A   433    	DL	-16777088
043672 808080FF            A   434    	DL	-8355712
043676 800000FF            A   435    	DL	-16777088
04367A 808080FF            A   436    	DL	-8355712
04367E 404040FF            A   437    	DL	-12566464
043682 808000FF            A   438    	DL	-16744320
043686 800000FF            A   439    	DL	-16777088
04368A 800000FF            A   440    	DL	-16777088
04368E 800000FF            A   441    	DL	-16777088
043692 800000FF            A   442    	DL	-16777088
043696 800000FF            A   443    	DL	-16777088
04369A 800000FF            A   444    	DL	-16777088
04369E 800000FF            A   445    	DL	-16777088
0436A2 800000FF            A   446    	DL	-16777088
0436A6 800000FF            A   447    	DL	-16777088
0436AA 800000FF            A   448    	DL	-16777088
0436AE 800000FF            A   449    	DL	-16777088
0436B2 800000FF            A   450    	DL	-16777088
0436B6 800000FF            A   451    	DL	-16777088
0436BA 808080FF            A   452    	DL	-8355712
0436BE 404040FF            A   453    	DL	-12566464
0436C2 808000FF            A   454    	DL	-16744320
0436C6 808080FF            A   455    	DL	-8355712
0436CA 808080FF            A   456    	DL	-8355712
0436CE 808080FF            A   457    	DL	-8355712
0436D2 808080FF            A   458    	DL	-8355712
0436D6 808080FF            A   459    	DL	-8355712
0436DA 808080FF            A   460    	DL	-8355712
0436DE 808080FF            A   461    	DL	-8355712
0436E2 808080FF            A   462    	DL	-8355712
0436E6 808080FF            A   463    	DL	-8355712
0436EA 808080FF            A   464    	DL	-8355712
0436EE 808080FF            A   465    	DL	-8355712
0436F2 808080FF            A   466    	DL	-8355712
0436F6 808080FF            A   467    	DL	-8355712
0436FA 808080FF            A   468    	DL	-8355712
0436FE 404040FF            A   469    	DL	-12566464
043702 404040FF            A   470    	DL	-12566464
043706 404040FF            A   471    	DL	-12566464
04370A 404040FF            A   472    	DL	-12566464
04370E 404040FF            A   473    	DL	-12566464
043712 404040FF            A   474    	DL	-12566464
043716 404040FF            A   475    	DL	-12566464
04371A 404040FF            A   476    	DL	-12566464
04371E 404040FF            A   477    	DL	-12566464
043722 404040FF            A   478    	DL	-12566464
043726 404040FF            A   479    	DL	-12566464
04372A 404040FF            A   480    	DL	-12566464
04372E 404040FF            A   481    	DL	-12566464
043732 404040FF            A   482    	DL	-12566464
043736 404040FF            A   483    	DL	-12566464
04373A 404040FF            A   484    	DL	-12566464
                           A   485    .DEFINE "wall_data"
                           A   486    .ALIAS "_wall_data"
                           A   487    .CLASS 69
                           A   488    .VALUE _wall_data
                           A   489    .DIM 1
                           A   490    .DIM 256
                           A   491    .TYPE 879
                           A   492    .ENDEF
04373E                     A   493    _player_data:
04373E 00000000            A   494    	DL	0
043742 00000000            A   495    	DL	0
043746 00000000            A   496    	DL	0
04374A 00000000            A   497    	DL	0
04374E 00000000            A   498    	DL	0
043752 000000FF            A   499    	DL	-16777216
043756 000000FF            A   500    	DL	-16777216
04375A 000000FF            A   501    	DL	-16777216
04375E 000000FF            A   502    	DL	-16777216
043762 404040FF            A   503    	DL	-12566464
043766 00000000            A   504    	DL	0
04376A 00000000            A   505    	DL	0
04376E 00000000            A   506    	DL	0
043772 00000000            A   507    	DL	0
043776 00000000            A   508    	DL	0
04377A 00000000            A   509    	DL	0
04377E 00000000            A   510    	DL	0
043782 00000000            A   511    	DL	0
043786 00000000            A   512    	DL	0
04378A 00000000            A   513    	DL	0
04378E 000000FF            A   514    	DL	-16777216
043792 000000FF            A   515    	DL	-16777216
043796 000000FF            A   516    	DL	-16777216
04379A 000000FF            A   517    	DL	-16777216
04379E 000000FF            A   518    	DL	-16777216
0437A2 000000FF            A   519    	DL	-16777216
0437A6 000000FF            A   520    	DL	-16777216
0437AA 00000000            A   521    	DL	0
0437AE 00000000            A   522    	DL	0
0437B2 00000000            A   523    	DL	0
0437B6 00000000            A   524    	DL	0
0437BA 00000000            A   525    	DL	0
0437BE 00000000            A   526    	DL	0
0437C2 00000000            A   527    	DL	0
0437C6 00000000            A   528    	DL	0
0437CA 404040FF            A   529    	DL	-12566464
0437CE 000000FF            A   530    	DL	-16777216
0437D2 404040FF            A   531    	DL	-12566464
0437D6 808000FF            A   532    	DL	-16744320
0437DA 808000FF            A   533    	DL	-16744320
0437DE 808000FF            A   534    	DL	-16744320
0437E2 404040FF            A   535    	DL	-12566464
0437E6 000000FF            A   536    	DL	-16777216
0437EA 404040FF            A   537    	DL	-12566464
0437EE 00000000            A   538    	DL	0
0437F2 00000000            A   539    	DL	0
0437F6 00000000            A   540    	DL	0
0437FA 00000000            A   541    	DL	0
0437FE 00000000            A   542    	DL	0
043802 00000000            A   543    	DL	0
043806 00000000            A   544    	DL	0
04380A 000000FF            A   545    	DL	-16777216
04380E 404040FF            A   546    	DL	-12566464
043812 808000FF            A   547    	DL	-16744320
043816 808000FF            A   548    	DL	-16744320
04381A 808000FF            A   549    	DL	-16744320
04381E 808000FF            A   550    	DL	-16744320
043822 808000FF            A   551    	DL	-16744320
043826 404040FF            A   552    	DL	-12566464
04382A 000000FF            A   553    	DL	-16777216
04382E 00000000            A   554    	DL	0
043832 00000000            A   555    	DL	0
043836 00000000            A   556    	DL	0
04383A 00000000            A   557    	DL	0
04383E 00000000            A   558    	DL	0
043842 00000000            A   559    	DL	0
043846 00000000            A   560    	DL	0
04384A 404040FF            A   561    	DL	-12566464
04384E 808080FF            A   562    	DL	-8355712
043852 000000FF            A   563    	DL	-16777216
043856 000000FF            A   564    	DL	-16777216
04385A 808000FF            A   565    	DL	-16744320
04385E 000000FF            A   566    	DL	-16777216
043862 000000FF            A   567    	DL	-16777216
043866 808080FF            A   568    	DL	-8355712
04386A 404040FF            A   569    	DL	-12566464
04386E 00000000            A   570    	DL	0
043872 00000000            A   571    	DL	0
043876 00000000            A   572    	DL	0
04387A 00000000            A   573    	DL	0
04387E 00000000            A   574    	DL	0
043882 00000000            A   575    	DL	0
043886 00000000            A   576    	DL	0
04388A 00000000            A   577    	DL	0
04388E 000000FF            A   578    	DL	-16777216
043892 808000FF            A   579    	DL	-16744320
043896 808000FF            A   580    	DL	-16744320
04389A 808000FF            A   581    	DL	-16744320
04389E 808000FF            A   582    	DL	-16744320
0438A2 808000FF            A   583    	DL	-16744320
0438A6 000000FF            A   584    	DL	-16777216
0438AA 00000000            A   585    	DL	0
0438AE 00000000            A   586    	DL	0
0438B2 00000000            A   587    	DL	0
0438B6 00000000            A   588    	DL	0
0438BA 00000000            A   589    	DL	0
0438BE 00000000            A   590    	DL	0
0438C2 00000000            A   591    	DL	0
0438C6 00000000            A   592    	DL	0
0438CA 00000000            A   593    	DL	0
0438CE 00000000            A   594    	DL	0
0438D2 000000FF            A   595    	DL	-16777216
0438D6 808080FF            A   596    	DL	-8355712
0438DA 808080FF            A   597    	DL	-8355712
0438DE 808080FF            A   598    	DL	-8355712
0438E2 000000FF            A   599    	DL	-16777216
0438E6 00000000            A   600    	DL	0
0438EA 00000000            A   601    	DL	0
0438EE 00000000            A   602    	DL	0
0438F2 00000000            A   603    	DL	0
0438F6 00000000            A   604    	DL	0
0438FA 00000000            A   605    	DL	0
0438FE 00000000            A   606    	DL	0
043902 00000000            A   607    	DL	0
043906 00000000            A   608    	DL	0
04390A 00000000            A   609    	DL	0
04390E 000000FF            A   610    	DL	-16777216
043912 800000FF            A   611    	DL	-16777088
043916 000000FF            A   612    	DL	-16777216
04391A 000000FF            A   613    	DL	-16777216
04391E 000000FF            A   614    	DL	-16777216
043922 800000FF            A   615    	DL	-16777088
043926 000000FF            A   616    	DL	-16777216
04392A 00000000            A   617    	DL	0
04392E 00000000            A   618    	DL	0
043932 00000000            A   619    	DL	0
043936 00000000            A   620    	DL	0
04393A 00000000            A   621    	DL	0
04393E 00000000            A   622    	DL	0
043942 00000000            A   623    	DL	0
043946 00000000            A   624    	DL	0
04394A 000000FF            A   625    	DL	-16777216
04394E 800000FF            A   626    	DL	-16777088
043952 FF0000FF            A   627    	DL	-16776961
043956 FF0000FF            A   628    	DL	-16776961
04395A FF0000FF            A   629    	DL	-16776961
04395E FF0000FF            A   630    	DL	-16776961
043962 FF0000FF            A   631    	DL	-16776961
043966 800000FF            A   632    	DL	-16777088
04396A 000000FF            A   633    	DL	-16777216
04396E 00000000            A   634    	DL	0
043972 00000000            A   635    	DL	0
043976 00000000            A   636    	DL	0
04397A 00000000            A   637    	DL	0
04397E 00000000            A   638    	DL	0
043982 00000000            A   639    	DL	0
043986 000000FF            A   640    	DL	-16777216
04398A FF0000FF            A   641    	DL	-16776961
04398E FF0000FF            A   642    	DL	-16776961
043992 FF0000FF            A   643    	DL	-16776961
043996 FF0000FF            A   644    	DL	-16776961
04399A FF0000FF            A   645    	DL	-16776961
04399E FF0000FF            A   646    	DL	-16776961
0439A2 FF0000FF            A   647    	DL	-16776961
0439A6 FF0000FF            A   648    	DL	-16776961
0439AA FF0000FF            A   649    	DL	-16776961
0439AE 000000FF            A   650    	DL	-16777216
0439B2 00000000            A   651    	DL	0
0439B6 00000000            A   652    	DL	0
0439BA 00000000            A   653    	DL	0
0439BE 00000000            A   654    	DL	0
0439C2 00000000            A   655    	DL	0
0439C6 404040FF            A   656    	DL	-12566464
0439CA 800000FF            A   657    	DL	-16777088
0439CE FF0000FF            A   658    	DL	-16776961
0439D2 800000FF            A   659    	DL	-16777088
0439D6 FF0000FF            A   660    	DL	-16776961
0439DA FF0000FF            A   661    	DL	-16776961
0439DE FF0000FF            A   662    	DL	-16776961
0439E2 800000FF            A   663    	DL	-16777088
0439E6 FF0000FF            A   664    	DL	-16776961
0439EA 800000FF            A   665    	DL	-16777088
0439EE 404040FF            A   666    	DL	-12566464
0439F2 00000000            A   667    	DL	0
0439F6 00000000            A   668    	DL	0
0439FA 00000000            A   669    	DL	0
0439FE 00000000            A   670    	DL	0
043A02 000000FF            A   671    	DL	-16777216
043A06 808000FF            A   672    	DL	-16744320
043A0A 808000FF            A   673    	DL	-16744320
043A0E 800000FF            A   674    	DL	-16777088
043A12 800000FF            A   675    	DL	-16777088
043A16 FF0000FF            A   676    	DL	-16776961
043A1A FF0000FF            A   677    	DL	-16776961
043A1E FF0000FF            A   678    	DL	-16776961
043A22 800000FF            A   679    	DL	-16777088
043A26 800000FF            A   680    	DL	-16777088
043A2A 808000FF            A   681    	DL	-16744320
043A2E 808000FF            A   682    	DL	-16744320
043A32 000000FF            A   683    	DL	-16777216
043A36 00000000            A   684    	DL	0
043A3A 00000000            A   685    	DL	0
043A3E 00000000            A   686    	DL	0
043A42 000000FF            A   687    	DL	-16777216
043A46 808000FF            A   688    	DL	-16744320
043A4A 808000FF            A   689    	DL	-16744320
043A4E 000000FF            A   690    	DL	-16777216
043A52 000080FF            A   691    	DL	-8388608
043A56 000080FF            A   692    	DL	-8388608
043A5A 000080FF            A   693    	DL	-8388608
043A5E 000080FF            A   694    	DL	-8388608
043A62 000080FF            A   695    	DL	-8388608
043A66 000000FF            A   696    	DL	-16777216
043A6A 808000FF            A   697    	DL	-16744320
043A6E 808000FF            A   698    	DL	-16744320
043A72 000000FF            A   699    	DL	-16777216
043A76 00000000            A   700    	DL	0
043A7A 00000000            A   701    	DL	0
043A7E 00000000            A   702    	DL	0
043A82 00000000            A   703    	DL	0
043A86 000000FF            A   704    	DL	-16777216
043A8A 000000FF            A   705    	DL	-16777216
043A8E 000080FF            A   706    	DL	-8388608
043A92 0000FFFF            A   707    	DL	-65536
043A96 0000FFFF            A   708    	DL	-65536
043A9A 0000FFFF            A   709    	DL	-65536
043A9E 0000FFFF            A   710    	DL	-65536
043AA2 0000FFFF            A   711    	DL	-65536
043AA6 000080FF            A   712    	DL	-8388608
043AAA 000000FF            A   713    	DL	-16777216
043AAE 000000FF            A   714    	DL	-16777216
043AB2 00000000            A   715    	DL	0
043AB6 00000000            A   716    	DL	0
043ABA 00000000            A   717    	DL	0
043ABE 00000000            A   718    	DL	0
043AC2 00000000            A   719    	DL	0
043AC6 00000000            A   720    	DL	0
043ACA 000000FF            A   721    	DL	-16777216
043ACE 000080FF            A   722    	DL	-8388608
043AD2 0000FFFF            A   723    	DL	-65536
043AD6 0000FFFF            A   724    	DL	-65536
043ADA 000080FF            A   725    	DL	-8388608
043ADE 0000FFFF            A   726    	DL	-65536
043AE2 0000FFFF            A   727    	DL	-65536
043AE6 000080FF            A   728    	DL	-8388608
043AEA 000000FF            A   729    	DL	-16777216
043AEE 00000000            A   730    	DL	0
043AF2 00000000            A   731    	DL	0
043AF6 00000000            A   732    	DL	0
043AFA 00000000            A   733    	DL	0
043AFE 00000000            A   734    	DL	0
043B02 00000000            A   735    	DL	0
043B06 00000000            A   736    	DL	0
043B0A 000000FF            A   737    	DL	-16777216
043B0E 0000FFFF            A   738    	DL	-65536
043B12 0000FFFF            A   739    	DL	-65536
043B16 000080FF            A   740    	DL	-8388608
043B1A 000000FF            A   741    	DL	-16777216
043B1E 0000FFFF            A   742    	DL	-65536
043B22 0000FFFF            A   743    	DL	-65536
043B26 0000FFFF            A   744    	DL	-65536
043B2A 000000FF            A   745    	DL	-16777216
043B2E 00000000            A   746    	DL	0
043B32 00000000            A   747    	DL	0
043B36 00000000            A   748    	DL	0
043B3A 00000000            A   749    	DL	0
                           A   750    .DEFINE "player_data"
                           A   751    .ALIAS "_player_data"
                           A   752    .CLASS 69
                           A   753    .VALUE _player_data
                           A   754    .DIM 1
                           A   755    .DIM 256
                           A   756    .TYPE 879
                           A   757    .ENDEF
043B3E                     A   758    _goal_data:
043B3E 00000000            A   759    	DL	0
043B42 00000000            A   760    	DL	0
043B46 00000000            A   761    	DL	0
043B4A 00000000            A   762    	DL	0
043B4E 00000000            A   763    	DL	0
043B52 00000000            A   764    	DL	0
043B56 00000000            A   765    	DL	0
043B5A 00000000            A   766    	DL	0
043B5E 00000000            A   767    	DL	0
043B62 00000000            A   768    	DL	0
043B66 00000000            A   769    	DL	0
043B6A 00000000            A   770    	DL	0
043B6E 00000000            A   771    	DL	0
043B72 00000000            A   772    	DL	0
043B76 00000000            A   773    	DL	0
043B7A 00000000            A   774    	DL	0
043B7E 00000000            A   775    	DL	0
043B82 00000000            A   776    	DL	0
043B86 00000000            A   777    	DL	0
043B8A 00000000            A   778    	DL	0
043B8E 00000000            A   779    	DL	0
043B92 00000000            A   780    	DL	0
043B96 00000000            A   781    	DL	0
043B9A 00000000            A   782    	DL	0
043B9E 00000000            A   783    	DL	0
043BA2 00000000            A   784    	DL	0
043BA6 00000000            A   785    	DL	0
043BAA 00000000            A   786    	DL	0
043BAE 00000000            A   787    	DL	0
043BB2 00000000            A   788    	DL	0
043BB6 00000000            A   789    	DL	0
043BBA 00000000            A   790    	DL	0
043BBE 00000000            A   791    	DL	0
043BC2 00000000            A   792    	DL	0
043BC6 00000000            A   793    	DL	0
043BCA 00000000            A   794    	DL	0
043BCE 00000000            A   795    	DL	0
043BD2 00000000            A   796    	DL	0
043BD6 00000000            A   797    	DL	0
043BDA 00000000            A   798    	DL	0
043BDE 00000000            A   799    	DL	0
043BE2 00000000            A   800    	DL	0
043BE6 00000000            A   801    	DL	0
043BEA 00000000            A   802    	DL	0
043BEE 00000000            A   803    	DL	0
043BF2 00000000            A   804    	DL	0
043BF6 00000000            A   805    	DL	0
043BFA 00000000            A   806    	DL	0
043BFE 00000000            A   807    	DL	0
043C02 00000000            A   808    	DL	0
043C06 00000000            A   809    	DL	0
043C0A 00000000            A   810    	DL	0
043C0E 00000000            A   811    	DL	0
043C12 00000000            A   812    	DL	0
043C16 008000FF            A   813    	DL	-16744448
043C1A 00000000            A   814    	DL	0
043C1E 00000000            A   815    	DL	0
043C22 008000FF            A   816    	DL	-16744448
043C26 00000000            A   817    	DL	0
043C2A 00000000            A   818    	DL	0
043C2E 00000000            A   819    	DL	0
043C32 00000000            A   820    	DL	0
043C36 00000000            A   821    	DL	0
043C3A 00000000            A   822    	DL	0
043C3E 00000000            A   823    	DL	0
043C42 00000000            A   824    	DL	0
043C46 00000000            A   825    	DL	0
043C4A 00000000            A   826    	DL	0
043C4E 00000000            A   827    	DL	0
043C52 00000000            A   828    	DL	0
043C56 00000000            A   829    	DL	0
043C5A 008000FF            A   830    	DL	-16744448
043C5E 008000FF            A   831    	DL	-16744448
043C62 00000000            A   832    	DL	0
043C66 00000000            A   833    	DL	0
043C6A 00000000            A   834    	DL	0
043C6E 00000000            A   835    	DL	0
043C72 00000000            A   836    	DL	0
043C76 00000000            A   837    	DL	0
043C7A 00000000            A   838    	DL	0
043C7E 00000000            A   839    	DL	0
043C82 00000000            A   840    	DL	0
043C86 00000000            A   841    	DL	0
043C8A 00000000            A   842    	DL	0
043C8E 00000000            A   843    	DL	0
043C92 00000000            A   844    	DL	0
043C96 00000000            A   845    	DL	0
043C9A 00000000            A   846    	DL	0
043C9E 00000000            A   847    	DL	0
043CA2 00000000            A   848    	DL	0
043CA6 00000000            A   849    	DL	0
043CAA 00000000            A   850    	DL	0
043CAE 00000000            A   851    	DL	0
043CB2 00000000            A   852    	DL	0
043CB6 00000000            A   853    	DL	0
043CBA 00000000            A   854    	DL	0
043CBE 00000000            A   855    	DL	0
043CC2 00000000            A   856    	DL	0
043CC6 00000000            A   857    	DL	0
043CCA 008000FF            A   858    	DL	-16744448
043CCE 00000000            A   859    	DL	0
043CD2 00000000            A   860    	DL	0
043CD6 00000000            A   861    	DL	0
043CDA 00000000            A   862    	DL	0
043CDE 00000000            A   863    	DL	0
043CE2 00000000            A   864    	DL	0
043CE6 00000000            A   865    	DL	0
043CEA 00000000            A   866    	DL	0
043CEE 008000FF            A   867    	DL	-16744448
043CF2 00000000            A   868    	DL	0
043CF6 00000000            A   869    	DL	0
043CFA 00000000            A   870    	DL	0
043CFE 00000000            A   871    	DL	0
043D02 00000000            A   872    	DL	0
043D06 00000000            A   873    	DL	0
043D0A 00000000            A   874    	DL	0
043D0E 008000FF            A   875    	DL	-16744448
043D12 00000000            A   876    	DL	0
043D16 00000000            A   877    	DL	0
043D1A 00FF00FF            A   878    	DL	-16711936
043D1E 00FF00FF            A   879    	DL	-16711936
043D22 00000000            A   880    	DL	0
043D26 00000000            A   881    	DL	0
043D2A 008000FF            A   882    	DL	-16744448
043D2E 00000000            A   883    	DL	0
043D32 00000000            A   884    	DL	0
043D36 00000000            A   885    	DL	0
043D3A 00000000            A   886    	DL	0
043D3E 00000000            A   887    	DL	0
043D42 00000000            A   888    	DL	0
043D46 00000000            A   889    	DL	0
043D4A 00000000            A   890    	DL	0
043D4E 008000FF            A   891    	DL	-16744448
043D52 00000000            A   892    	DL	0
043D56 00000000            A   893    	DL	0
043D5A 00FF00FF            A   894    	DL	-16711936
043D5E 00FF00FF            A   895    	DL	-16711936
043D62 00000000            A   896    	DL	0
043D66 00000000            A   897    	DL	0
043D6A 008000FF            A   898    	DL	-16744448
043D6E 00000000            A   899    	DL	0
043D72 00000000            A   900    	DL	0
043D76 00000000            A   901    	DL	0
043D7A 00000000            A   902    	DL	0
043D7E 00000000            A   903    	DL	0
043D82 00000000            A   904    	DL	0
043D86 00000000            A   905    	DL	0
043D8A 008000FF            A   906    	DL	-16744448
043D8E 00000000            A   907    	DL	0
043D92 00000000            A   908    	DL	0
043D96 00000000            A   909    	DL	0
043D9A 00000000            A   910    	DL	0
043D9E 00000000            A   911    	DL	0
043DA2 00000000            A   912    	DL	0
043DA6 00000000            A   913    	DL	0
043DAA 00000000            A   914    	DL	0
043DAE 008000FF            A   915    	DL	-16744448
043DB2 00000000            A   916    	DL	0
043DB6 00000000            A   917    	DL	0
043DBA 00000000            A   918    	DL	0
043DBE 00000000            A   919    	DL	0
043DC2 00000000            A   920    	DL	0
043DC6 00000000            A   921    	DL	0
043DCA 00000000            A   922    	DL	0
043DCE 00000000            A   923    	DL	0
043DD2 00000000            A   924    	DL	0
043DD6 00000000            A   925    	DL	0
043DDA 00000000            A   926    	DL	0
043DDE 00000000            A   927    	DL	0
043DE2 00000000            A   928    	DL	0
043DE6 00000000            A   929    	DL	0
043DEA 00000000            A   930    	DL	0
043DEE 00000000            A   931    	DL	0
043DF2 00000000            A   932    	DL	0
043DF6 00000000            A   933    	DL	0
043DFA 00000000            A   934    	DL	0
043DFE 00000000            A   935    	DL	0
043E02 00000000            A   936    	DL	0
043E06 00000000            A   937    	DL	0
043E0A 00000000            A   938    	DL	0
043E0E 00000000            A   939    	DL	0
043E12 00000000            A   940    	DL	0
043E16 00000000            A   941    	DL	0
043E1A 008000FF            A   942    	DL	-16744448
043E1E 008000FF            A   943    	DL	-16744448
043E22 00000000            A   944    	DL	0
043E26 00000000            A   945    	DL	0
043E2A 00000000            A   946    	DL	0
043E2E 00000000            A   947    	DL	0
043E32 00000000            A   948    	DL	0
043E36 00000000            A   949    	DL	0
043E3A 00000000            A   950    	DL	0
043E3E 00000000            A   951    	DL	0
043E42 00000000            A   952    	DL	0
043E46 00000000            A   953    	DL	0
043E4A 00000000            A   954    	DL	0
043E4E 00000000            A   955    	DL	0
043E52 00000000            A   956    	DL	0
043E56 008000FF            A   957    	DL	-16744448
043E5A 00000000            A   958    	DL	0
043E5E 00000000            A   959    	DL	0
043E62 008000FF            A   960    	DL	-16744448
043E66 00000000            A   961    	DL	0
043E6A 00000000            A   962    	DL	0
043E6E 00000000            A   963    	DL	0
043E72 00000000            A   964    	DL	0
043E76 00000000            A   965    	DL	0
043E7A 00000000            A   966    	DL	0
043E7E 00000000            A   967    	DL	0
043E82 00000000            A   968    	DL	0
043E86 00000000            A   969    	DL	0
043E8A 00000000            A   970    	DL	0
043E8E 00000000            A   971    	DL	0
043E92 00000000            A   972    	DL	0
043E96 00000000            A   973    	DL	0
043E9A 00000000            A   974    	DL	0
043E9E 00000000            A   975    	DL	0
043EA2 00000000            A   976    	DL	0
043EA6 00000000            A   977    	DL	0
043EAA 00000000            A   978    	DL	0
043EAE 00000000            A   979    	DL	0
043EB2 00000000            A   980    	DL	0
043EB6 00000000            A   981    	DL	0
043EBA 00000000            A   982    	DL	0
043EBE 00000000            A   983    	DL	0
043EC2 00000000            A   984    	DL	0
043EC6 00000000            A   985    	DL	0
043ECA 00000000            A   986    	DL	0
043ECE 00000000            A   987    	DL	0
043ED2 00000000            A   988    	DL	0
043ED6 00000000            A   989    	DL	0
043EDA 00000000            A   990    	DL	0
043EDE 00000000            A   991    	DL	0
043EE2 00000000            A   992    	DL	0
043EE6 00000000            A   993    	DL	0
043EEA 00000000            A   994    	DL	0
043EEE 00000000            A   995    	DL	0
043EF2 00000000            A   996    	DL	0
043EF6 00000000            A   997    	DL	0
043EFA 00000000            A   998    	DL	0
043EFE 00000000            A   999    	DL	0
043F02 00000000            A  1000    	DL	0
043F06 00000000            A  1001    	DL	0
043F0A 00000000            A  1002    	DL	0
043F0E 00000000            A  1003    	DL	0
043F12 00000000            A  1004    	DL	0
043F16 00000000            A  1005    	DL	0
043F1A 00000000            A  1006    	DL	0
043F1E 00000000            A  1007    	DL	0
043F22 00000000            A  1008    	DL	0
043F26 00000000            A  1009    	DL	0
043F2A 00000000            A  1010    	DL	0
043F2E 00000000            A  1011    	DL	0
043F32 00000000            A  1012    	DL	0
043F36 00000000            A  1013    	DL	0
043F3A 00000000            A  1014    	DL	0
                           A  1015    .DEFINE "goal_data"
                           A  1016    .ALIAS "_goal_data"
                           A  1017    .CLASS 69
                           A  1018    .VALUE _goal_data
                           A  1019    .DIM 1
                           A  1020    .DIM 256
                           A  1021    .TYPE 879
                           A  1022    .ENDEF
043F3E                     A  1023    _box_data:
043F3E FFFF00FF            A  1024    	DL	-16711681
043F42 FFFF00FF            A  1025    	DL	-16711681
043F46 FFFF00FF            A  1026    	DL	-16711681
043F4A FFFF00FF            A  1027    	DL	-16711681
043F4E FFFF00FF            A  1028    	DL	-16711681
043F52 FFFF00FF            A  1029    	DL	-16711681
043F56 FFFF00FF            A  1030    	DL	-16711681
043F5A FFFF00FF            A  1031    	DL	-16711681
043F5E FFFF00FF            A  1032    	DL	-16711681
043F62 FFFF00FF            A  1033    	DL	-16711681
043F66 FFFF00FF            A  1034    	DL	-16711681
043F6A FFFF00FF            A  1035    	DL	-16711681
043F6E FFFF00FF            A  1036    	DL	-16711681
043F72 FFFF00FF            A  1037    	DL	-16711681
043F76 FFFF00FF            A  1038    	DL	-16711681
043F7A FFFF00FF            A  1039    	DL	-16711681
043F7E FFFF00FF            A  1040    	DL	-16711681
043F82 808000FF            A  1041    	DL	-16744320
043F86 808000FF            A  1042    	DL	-16744320
043F8A 808000FF            A  1043    	DL	-16744320
043F8E 808000FF            A  1044    	DL	-16744320
043F92 808000FF            A  1045    	DL	-16744320
043F96 808000FF            A  1046    	DL	-16744320
043F9A 808000FF            A  1047    	DL	-16744320
043F9E 808000FF            A  1048    	DL	-16744320
043FA2 808000FF            A  1049    	DL	-16744320
043FA6 808000FF            A  1050    	DL	-16744320
043FAA 808000FF            A  1051    	DL	-16744320
043FAE 808000FF            A  1052    	DL	-16744320
043FB2 808000FF            A  1053    	DL	-16744320
043FB6 FFFF00FF            A  1054    	DL	-16711681
043FBA 808000FF            A  1055    	DL	-16744320
043FBE FFFF00FF            A  1056    	DL	-16711681
043FC2 808000FF            A  1057    	DL	-16744320
043FC6 000000FF            A  1058    	DL	-16777216
043FCA 000000FF            A  1059    	DL	-16777216
043FCE 000000FF            A  1060    	DL	-16777216
043FD2 000000FF            A  1061    	DL	-16777216
043FD6 000000FF            A  1062    	DL	-16777216
043FDA 000000FF            A  1063    	DL	-16777216
043FDE 000000FF            A  1064    	DL	-16777216
043FE2 000000FF            A  1065    	DL	-16777216
043FE6 000000FF            A  1066    	DL	-16777216
043FEA 000000FF            A  1067    	DL	-16777216
043FEE 000000FF            A  1068    	DL	-16777216
043FF2 000000FF            A  1069    	DL	-16777216
043FF6 FFFF00FF            A  1070    	DL	-16711681
043FFA 808000FF            A  1071    	DL	-16744320
043FFE FFFF00FF            A  1072    	DL	-16711681
044002 808000FF            A  1073    	DL	-16744320
044006 000000FF            A  1074    	DL	-16777216
04400A 808000FF            A  1075    	DL	-16744320
04400E 808000FF            A  1076    	DL	-16744320
044012 000000FF            A  1077    	DL	-16777216
044016 808000FF            A  1078    	DL	-16744320
04401A 808000FF            A  1079    	DL	-16744320
04401E 808000FF            A  1080    	DL	-16744320
044022 808000FF            A  1081    	DL	-16744320
044026 000000FF            A  1082    	DL	-16777216
04402A 808000FF            A  1083    	DL	-16744320
04402E 808000FF            A  1084    	DL	-16744320
044032 000000FF            A  1085    	DL	-16777216
044036 FFFF00FF            A  1086    	DL	-16711681
04403A 808000FF            A  1087    	DL	-16744320
04403E FFFF00FF            A  1088    	DL	-16711681
044042 808000FF            A  1089    	DL	-16744320
044046 000000FF            A  1090    	DL	-16777216
04404A 808000FF            A  1091    	DL	-16744320
04404E FFFF00FF            A  1092    	DL	-16711681
044052 808000FF            A  1093    	DL	-16744320
044056 000000FF            A  1094    	DL	-16777216
04405A FFFF00FF            A  1095    	DL	-16711681
04405E FFFF00FF            A  1096    	DL	-16711681
044062 000000FF            A  1097    	DL	-16777216
044066 808000FF            A  1098    	DL	-16744320
04406A FFFF00FF            A  1099    	DL	-16711681
04406E 808000FF            A  1100    	DL	-16744320
044072 000000FF            A  1101    	DL	-16777216
044076 FFFF00FF            A  1102    	DL	-16711681
04407A 808000FF            A  1103    	DL	-16744320
04407E FFFF00FF            A  1104    	DL	-16711681
044082 808000FF            A  1105    	DL	-16744320
044086 000000FF            A  1106    	DL	-16777216
04408A 000000FF            A  1107    	DL	-16777216
04408E 808000FF            A  1108    	DL	-16744320
044092 FFFF00FF            A  1109    	DL	-16711681
044096 808000FF            A  1110    	DL	-16744320
04409A 000000FF            A  1111    	DL	-16777216
04409E 000000FF            A  1112    	DL	-16777216
0440A2 808000FF            A  1113    	DL	-16744320
0440A6 FFFF00FF            A  1114    	DL	-16711681
0440AA 808000FF            A  1115    	DL	-16744320
0440AE 000000FF            A  1116    	DL	-16777216
0440B2 000000FF            A  1117    	DL	-16777216
0440B6 FFFF00FF            A  1118    	DL	-16711681
0440BA 808000FF            A  1119    	DL	-16744320
0440BE FFFF00FF            A  1120    	DL	-16711681
0440C2 808000FF            A  1121    	DL	-16744320
0440C6 000000FF            A  1122    	DL	-16777216
0440CA 808000FF            A  1123    	DL	-16744320
0440CE 000000FF            A  1124    	DL	-16777216
0440D2 808000FF            A  1125    	DL	-16744320
0440D6 FFFF00FF            A  1126    	DL	-16711681
0440DA 808000FF            A  1127    	DL	-16744320
0440DE FFFF00FF            A  1128    	DL	-16711681
0440E2 FFFF00FF            A  1129    	DL	-16711681
0440E6 808000FF            A  1130    	DL	-16744320
0440EA 000000FF            A  1131    	DL	-16777216
0440EE 808000FF            A  1132    	DL	-16744320
0440F2 000000FF            A  1133    	DL	-16777216
0440F6 FFFF00FF            A  1134    	DL	-16711681
0440FA 808000FF            A  1135    	DL	-16744320
0440FE FFFF00FF            A  1136    	DL	-16711681
044102 808000FF            A  1137    	DL	-16744320
044106 000000FF            A  1138    	DL	-16777216
04410A 808000FF            A  1139    	DL	-16744320
04410E FFFF00FF            A  1140    	DL	-16711681
044112 000000FF            A  1141    	DL	-16777216
044116 808000FF            A  1142    	DL	-16744320
04411A FFFF00FF            A  1143    	DL	-16711681
04411E FFFF00FF            A  1144    	DL	-16711681
044122 808000FF            A  1145    	DL	-16744320
044126 000000FF            A  1146    	DL	-16777216
04412A 808000FF            A  1147    	DL	-16744320
04412E FFFF00FF            A  1148    	DL	-16711681
044132 000000FF            A  1149    	DL	-16777216
044136 FFFF00FF            A  1150    	DL	-16711681
04413A 808000FF            A  1151    	DL	-16744320
04413E FFFF00FF            A  1152    	DL	-16711681
044142 808000FF            A  1153    	DL	-16744320
044146 000000FF            A  1154    	DL	-16777216
04414A 808000FF            A  1155    	DL	-16744320
04414E 808000FF            A  1156    	DL	-16744320
044152 000000FF            A  1157    	DL	-16777216
044156 FFFF00FF            A  1158    	DL	-16711681
04415A FFFF00FF            A  1159    	DL	-16711681
04415E FFFF00FF            A  1160    	DL	-16711681
044162 FFFF00FF            A  1161    	DL	-16711681
044166 000000FF            A  1162    	DL	-16777216
04416A 808000FF            A  1163    	DL	-16744320
04416E FFFF00FF            A  1164    	DL	-16711681
044172 000000FF            A  1165    	DL	-16777216
044176 FFFF00FF            A  1166    	DL	-16711681
04417A 808000FF            A  1167    	DL	-16744320
04417E FFFF00FF            A  1168    	DL	-16711681
044182 808000FF            A  1169    	DL	-16744320
044186 000000FF            A  1170    	DL	-16777216
04418A 808000FF            A  1171    	DL	-16744320
04418E 000000FF            A  1172    	DL	-16777216
044192 808000FF            A  1173    	DL	-16744320
044196 FFFF00FF            A  1174    	DL	-16711681
04419A 808000FF            A  1175    	DL	-16744320
04419E FFFF00FF            A  1176    	DL	-16711681
0441A2 FFFF00FF            A  1177    	DL	-16711681
0441A6 808000FF            A  1178    	DL	-16744320
0441AA 000000FF            A  1179    	DL	-16777216
0441AE FFFF00FF            A  1180    	DL	-16711681
0441B2 000000FF            A  1181    	DL	-16777216
0441B6 FFFF00FF            A  1182    	DL	-16711681
0441BA 808000FF            A  1183    	DL	-16744320
0441BE FFFF00FF            A  1184    	DL	-16711681
0441C2 808000FF            A  1185    	DL	-16744320
0441C6 000000FF            A  1186    	DL	-16777216
0441CA 000000FF            A  1187    	DL	-16777216
0441CE 808000FF            A  1188    	DL	-16744320
0441D2 FFFF00FF            A  1189    	DL	-16711681
0441D6 808000FF            A  1190    	DL	-16744320
0441DA 000000FF            A  1191    	DL	-16777216
0441DE 000000FF            A  1192    	DL	-16777216
0441E2 808000FF            A  1193    	DL	-16744320
0441E6 FFFF00FF            A  1194    	DL	-16711681
0441EA 808000FF            A  1195    	DL	-16744320
0441EE 000000FF            A  1196    	DL	-16777216
0441F2 000000FF            A  1197    	DL	-16777216
0441F6 FFFF00FF            A  1198    	DL	-16711681
0441FA 808000FF            A  1199    	DL	-16744320
0441FE FFFF00FF            A  1200    	DL	-16711681
044202 808000FF            A  1201    	DL	-16744320
044206 000000FF            A  1202    	DL	-16777216
04420A 808000FF            A  1203    	DL	-16744320
04420E FFFF00FF            A  1204    	DL	-16711681
044212 808000FF            A  1205    	DL	-16744320
044216 000000FF            A  1206    	DL	-16777216
04421A 808000FF            A  1207    	DL	-16744320
04421E FFFF00FF            A  1208    	DL	-16711681
044222 000000FF            A  1209    	DL	-16777216
044226 808000FF            A  1210    	DL	-16744320
04422A FFFF00FF            A  1211    	DL	-16711681
04422E 808000FF            A  1212    	DL	-16744320
044232 000000FF            A  1213    	DL	-16777216
044236 FFFF00FF            A  1214    	DL	-16711681
04423A 808000FF            A  1215    	DL	-16744320
04423E FFFF00FF            A  1216    	DL	-16711681
044242 808000FF            A  1217    	DL	-16744320
044246 000000FF            A  1218    	DL	-16777216
04424A 808000FF            A  1219    	DL	-16744320
04424E 808000FF            A  1220    	DL	-16744320
044252 000000FF            A  1221    	DL	-16777216
044256 808000FF            A  1222    	DL	-16744320
04425A FFFF00FF            A  1223    	DL	-16711681
04425E FFFF00FF            A  1224    	DL	-16711681
044262 FFFF00FF            A  1225    	DL	-16711681
044266 000000FF            A  1226    	DL	-16777216
04426A 808000FF            A  1227    	DL	-16744320
04426E 808000FF            A  1228    	DL	-16744320
044272 000000FF            A  1229    	DL	-16777216
044276 FFFF00FF            A  1230    	DL	-16711681
04427A 808000FF            A  1231    	DL	-16744320
04427E FFFF00FF            A  1232    	DL	-16711681
044282 808000FF            A  1233    	DL	-16744320
044286 000000FF            A  1234    	DL	-16777216
04428A 000000FF            A  1235    	DL	-16777216
04428E 000000FF            A  1236    	DL	-16777216
044292 000000FF            A  1237    	DL	-16777216
044296 000000FF            A  1238    	DL	-16777216
04429A 000000FF            A  1239    	DL	-16777216
04429E 000000FF            A  1240    	DL	-16777216
0442A2 000000FF            A  1241    	DL	-16777216
0442A6 000000FF            A  1242    	DL	-16777216
0442AA 000000FF            A  1243    	DL	-16777216
0442AE 000000FF            A  1244    	DL	-16777216
0442B2 000000FF            A  1245    	DL	-16777216
0442B6 FFFF00FF            A  1246    	DL	-16711681
0442BA 808000FF            A  1247    	DL	-16744320
0442BE FFFF00FF            A  1248    	DL	-16711681
0442C2 FFFF00FF            A  1249    	DL	-16711681
0442C6 FFFF00FF            A  1250    	DL	-16711681
0442CA FFFF00FF            A  1251    	DL	-16711681
0442CE FFFF00FF            A  1252    	DL	-16711681
0442D2 FFFF00FF            A  1253    	DL	-16711681
0442D6 FFFF00FF            A  1254    	DL	-16711681
0442DA FFFF00FF            A  1255    	DL	-16711681
0442DE FFFF00FF            A  1256    	DL	-16711681
0442E2 FFFF00FF            A  1257    	DL	-16711681
0442E6 FFFF00FF            A  1258    	DL	-16711681
0442EA FFFF00FF            A  1259    	DL	-16711681
0442EE FFFF00FF            A  1260    	DL	-16711681
0442F2 FFFF00FF            A  1261    	DL	-16711681
0442F6 FFFF00FF            A  1262    	DL	-16711681
0442FA 808000FF            A  1263    	DL	-16744320
0442FE FFFF00FF            A  1264    	DL	-16711681
044302 808000FF            A  1265    	DL	-16744320
044306 808000FF            A  1266    	DL	-16744320
04430A 808000FF            A  1267    	DL	-16744320
04430E 808000FF            A  1268    	DL	-16744320
044312 808000FF            A  1269    	DL	-16744320
044316 808000FF            A  1270    	DL	-16744320
04431A 808000FF            A  1271    	DL	-16744320
04431E 808000FF            A  1272    	DL	-16744320
044322 808000FF            A  1273    	DL	-16744320
044326 808000FF            A  1274    	DL	-16744320
04432A 808000FF            A  1275    	DL	-16744320
04432E 808000FF            A  1276    	DL	-16744320
044332 808000FF            A  1277    	DL	-16744320
044336 808000FF            A  1278    	DL	-16744320
04433A 808000FF            A  1279    	DL	-16744320
                           A  1280    .DEFINE "box_data"
                           A  1281    .ALIAS "_box_data"
                           A  1282    .CLASS 69
                           A  1283    .VALUE _box_data
                           A  1284    .DIM 1
                           A  1285    .DIM 256
                           A  1286    .TYPE 879
                           A  1287    .ENDEF
04433E                     A  1288    _boxongoal_data:
04433E FFFF00FF            A  1289    	DL	-16711681
044342 FFFF00FF            A  1290    	DL	-16711681
044346 FFFF00FF            A  1291    	DL	-16711681
04434A FFFF00FF            A  1292    	DL	-16711681
04434E FFFF00FF            A  1293    	DL	-16711681
044352 FFFF00FF            A  1294    	DL	-16711681
044356 FFFF00FF            A  1295    	DL	-16711681
04435A FFFF00FF            A  1296    	DL	-16711681
04435E FFFF00FF            A  1297    	DL	-16711681
044362 FFFF00FF            A  1298    	DL	-16711681
044366 FFFF00FF            A  1299    	DL	-16711681
04436A FFFF00FF            A  1300    	DL	-16711681
04436E FFFF00FF            A  1301    	DL	-16711681
044372 FFFF00FF            A  1302    	DL	-16711681
044376 FFFF00FF            A  1303    	DL	-16711681
04437A FFFF00FF            A  1304    	DL	-16711681
04437E FFFF00FF            A  1305    	DL	-16711681
044382 808000FF            A  1306    	DL	-16744320
044386 808000FF            A  1307    	DL	-16744320
04438A 808000FF            A  1308    	DL	-16744320
04438E 808000FF            A  1309    	DL	-16744320
044392 808000FF            A  1310    	DL	-16744320
044396 808000FF            A  1311    	DL	-16744320
04439A 808000FF            A  1312    	DL	-16744320
04439E 808000FF            A  1313    	DL	-16744320
0443A2 808000FF            A  1314    	DL	-16744320
0443A6 808000FF            A  1315    	DL	-16744320
0443AA 808000FF            A  1316    	DL	-16744320
0443AE 808000FF            A  1317    	DL	-16744320
0443B2 808000FF            A  1318    	DL	-16744320
0443B6 FFFF00FF            A  1319    	DL	-16711681
0443BA 808000FF            A  1320    	DL	-16744320
0443BE FFFF00FF            A  1321    	DL	-16711681
0443C2 808000FF            A  1322    	DL	-16744320
0443C6 000000FF            A  1323    	DL	-16777216
0443CA 000000FF            A  1324    	DL	-16777216
0443CE 000000FF            A  1325    	DL	-16777216
0443D2 000000FF            A  1326    	DL	-16777216
0443D6 000000FF            A  1327    	DL	-16777216
0443DA 000000FF            A  1328    	DL	-16777216
0443DE 000000FF            A  1329    	DL	-16777216
0443E2 000000FF            A  1330    	DL	-16777216
0443E6 000000FF            A  1331    	DL	-16777216
0443EA 000000FF            A  1332    	DL	-16777216
0443EE 000000FF            A  1333    	DL	-16777216
0443F2 000000FF            A  1334    	DL	-16777216
0443F6 FFFF00FF            A  1335    	DL	-16711681
0443FA 808000FF            A  1336    	DL	-16744320
0443FE FFFF00FF            A  1337    	DL	-16711681
044402 808000FF            A  1338    	DL	-16744320
044406 000000FF            A  1339    	DL	-16777216
04440A 808000FF            A  1340    	DL	-16744320
04440E 808000FF            A  1341    	DL	-16744320
044412 000000FF            A  1342    	DL	-16777216
044416 008000FF            A  1343    	DL	-16744448
04441A 008000FF            A  1344    	DL	-16744448
04441E 008000FF            A  1345    	DL	-16744448
044422 008000FF            A  1346    	DL	-16744448
044426 000000FF            A  1347    	DL	-16777216
04442A 808000FF            A  1348    	DL	-16744320
04442E 808000FF            A  1349    	DL	-16744320
044432 000000FF            A  1350    	DL	-16777216
044436 FFFF00FF            A  1351    	DL	-16711681
04443A 808000FF            A  1352    	DL	-16744320
04443E FFFF00FF            A  1353    	DL	-16711681
044442 808000FF            A  1354    	DL	-16744320
044446 000000FF            A  1355    	DL	-16777216
04444A 808000FF            A  1356    	DL	-16744320
04444E FFFF00FF            A  1357    	DL	-16711681
044452 808000FF            A  1358    	DL	-16744320
044456 000000FF            A  1359    	DL	-16777216
04445A 00FF00FF            A  1360    	DL	-16711936
04445E 00FF00FF            A  1361    	DL	-16711936
044462 000000FF            A  1362    	DL	-16777216
044466 808000FF            A  1363    	DL	-16744320
04446A FFFF00FF            A  1364    	DL	-16711681
04446E 808000FF            A  1365    	DL	-16744320
044472 000000FF            A  1366    	DL	-16777216
044476 FFFF00FF            A  1367    	DL	-16711681
04447A 808000FF            A  1368    	DL	-16744320
04447E FFFF00FF            A  1369    	DL	-16711681
044482 808000FF            A  1370    	DL	-16744320
044486 000000FF            A  1371    	DL	-16777216
04448A 000000FF            A  1372    	DL	-16777216
04448E 808000FF            A  1373    	DL	-16744320
044492 FFFF00FF            A  1374    	DL	-16711681
044496 808000FF            A  1375    	DL	-16744320
04449A 000000FF            A  1376    	DL	-16777216
04449E 000000FF            A  1377    	DL	-16777216
0444A2 808000FF            A  1378    	DL	-16744320
0444A6 FFFF00FF            A  1379    	DL	-16711681
0444AA 808000FF            A  1380    	DL	-16744320
0444AE 000000FF            A  1381    	DL	-16777216
0444B2 000000FF            A  1382    	DL	-16777216
0444B6 FFFF00FF            A  1383    	DL	-16711681
0444BA 808000FF            A  1384    	DL	-16744320
0444BE FFFF00FF            A  1385    	DL	-16711681
0444C2 808000FF            A  1386    	DL	-16744320
0444C6 000000FF            A  1387    	DL	-16777216
0444CA 008000FF            A  1388    	DL	-16744448
0444CE 000000FF            A  1389    	DL	-16777216
0444D2 808000FF            A  1390    	DL	-16744320
0444D6 FFFF00FF            A  1391    	DL	-16711681
0444DA 808000FF            A  1392    	DL	-16744320
0444DE FFFF00FF            A  1393    	DL	-16711681
0444E2 FFFF00FF            A  1394    	DL	-16711681
0444E6 808000FF            A  1395    	DL	-16744320
0444EA 000000FF            A  1396    	DL	-16777216
0444EE 008000FF            A  1397    	DL	-16744448
0444F2 000000FF            A  1398    	DL	-16777216
0444F6 FFFF00FF            A  1399    	DL	-16711681
0444FA 808000FF            A  1400    	DL	-16744320
0444FE FFFF00FF            A  1401    	DL	-16711681
044502 808000FF            A  1402    	DL	-16744320
044506 000000FF            A  1403    	DL	-16777216
04450A 008000FF            A  1404    	DL	-16744448
04450E 00FF00FF            A  1405    	DL	-16711936
044512 000000FF            A  1406    	DL	-16777216
044516 808000FF            A  1407    	DL	-16744320
04451A 00FF00FF            A  1408    	DL	-16711936
04451E 00FF00FF            A  1409    	DL	-16711936
044522 808000FF            A  1410    	DL	-16744320
044526 000000FF            A  1411    	DL	-16777216
04452A 00FF00FF            A  1412    	DL	-16711936
04452E 008000FF            A  1413    	DL	-16744448
044532 000000FF            A  1414    	DL	-16777216
044536 FFFF00FF            A  1415    	DL	-16711681
04453A 808000FF            A  1416    	DL	-16744320
04453E FFFF00FF            A  1417    	DL	-16711681
044542 808000FF            A  1418    	DL	-16744320
044546 000000FF            A  1419    	DL	-16777216
04454A 008000FF            A  1420    	DL	-16744448
04454E 00FF00FF            A  1421    	DL	-16711936
044552 000000FF            A  1422    	DL	-16777216
044556 FFFF00FF            A  1423    	DL	-16711681
04455A 00FF00FF            A  1424    	DL	-16711936
04455E 00FF00FF            A  1425    	DL	-16711936
044562 FFFF00FF            A  1426    	DL	-16711681
044566 000000FF            A  1427    	DL	-16777216
04456A 00FF00FF            A  1428    	DL	-16711936
04456E 008000FF            A  1429    	DL	-16744448
044572 000000FF            A  1430    	DL	-16777216
044576 FFFF00FF            A  1431    	DL	-16711681
04457A 808000FF            A  1432    	DL	-16744320
04457E FFFF00FF            A  1433    	DL	-16711681
044582 808000FF            A  1434    	DL	-16744320
044586 000000FF            A  1435    	DL	-16777216
04458A 008000FF            A  1436    	DL	-16744448
04458E 000000FF            A  1437    	DL	-16777216
044592 808000FF            A  1438    	DL	-16744320
044596 FFFF00FF            A  1439    	DL	-16711681
04459A 808000FF            A  1440    	DL	-16744320
04459E FFFF00FF            A  1441    	DL	-16711681
0445A2 FFFF00FF            A  1442    	DL	-16711681
0445A6 808000FF            A  1443    	DL	-16744320
0445AA 000000FF            A  1444    	DL	-16777216
0445AE 008000FF            A  1445    	DL	-16744448
0445B2 000000FF            A  1446    	DL	-16777216
0445B6 FFFF00FF            A  1447    	DL	-16711681
0445BA 808000FF            A  1448    	DL	-16744320
0445BE FFFF00FF            A  1449    	DL	-16711681
0445C2 808000FF            A  1450    	DL	-16744320
0445C6 000000FF            A  1451    	DL	-16777216
0445CA 000000FF            A  1452    	DL	-16777216
0445CE 808000FF            A  1453    	DL	-16744320
0445D2 FFFF00FF            A  1454    	DL	-16711681
0445D6 808000FF            A  1455    	DL	-16744320
0445DA 000000FF            A  1456    	DL	-16777216
0445DE 000000FF            A  1457    	DL	-16777216
0445E2 808000FF            A  1458    	DL	-16744320
0445E6 FFFF00FF            A  1459    	DL	-16711681
0445EA 808000FF            A  1460    	DL	-16744320
0445EE 000000FF            A  1461    	DL	-16777216
0445F2 000000FF            A  1462    	DL	-16777216
0445F6 FFFF00FF            A  1463    	DL	-16711681
0445FA 808000FF            A  1464    	DL	-16744320
0445FE FFFF00FF            A  1465    	DL	-16711681
044602 808000FF            A  1466    	DL	-16744320
044606 000000FF            A  1467    	DL	-16777216
04460A 808000FF            A  1468    	DL	-16744320
04460E FFFF00FF            A  1469    	DL	-16711681
044612 808000FF            A  1470    	DL	-16744320
044616 000000FF            A  1471    	DL	-16777216
04461A 00FF00FF            A  1472    	DL	-16711936
04461E 00FF00FF            A  1473    	DL	-16711936
044622 000000FF            A  1474    	DL	-16777216
044626 808000FF            A  1475    	DL	-16744320
04462A FFFF00FF            A  1476    	DL	-16711681
04462E 808000FF            A  1477    	DL	-16744320
044632 000000FF            A  1478    	DL	-16777216
044636 FFFF00FF            A  1479    	DL	-16711681
04463A 808000FF            A  1480    	DL	-16744320
04463E FFFF00FF            A  1481    	DL	-16711681
044642 808000FF            A  1482    	DL	-16744320
044646 000000FF            A  1483    	DL	-16777216
04464A 808000FF            A  1484    	DL	-16744320
04464E 808000FF            A  1485    	DL	-16744320
044652 000000FF            A  1486    	DL	-16777216
044656 008000FF            A  1487    	DL	-16744448
04465A 008000FF            A  1488    	DL	-16744448
04465E 008000FF            A  1489    	DL	-16744448
044662 008000FF            A  1490    	DL	-16744448
044666 000000FF            A  1491    	DL	-16777216
04466A 808000FF            A  1492    	DL	-16744320
04466E 808000FF            A  1493    	DL	-16744320
044672 000000FF            A  1494    	DL	-16777216
044676 FFFF00FF            A  1495    	DL	-16711681
04467A 808000FF            A  1496    	DL	-16744320
04467E FFFF00FF            A  1497    	DL	-16711681
044682 808000FF            A  1498    	DL	-16744320
044686 000000FF            A  1499    	DL	-16777216
04468A 000000FF            A  1500    	DL	-16777216
04468E 000000FF            A  1501    	DL	-16777216
044692 000000FF            A  1502    	DL	-16777216
044696 000000FF            A  1503    	DL	-16777216
04469A 000000FF            A  1504    	DL	-16777216
04469E 000000FF            A  1505    	DL	-16777216
0446A2 000000FF            A  1506    	DL	-16777216
0446A6 000000FF            A  1507    	DL	-16777216
0446AA 000000FF            A  1508    	DL	-16777216
0446AE 000000FF            A  1509    	DL	-16777216
0446B2 000000FF            A  1510    	DL	-16777216
0446B6 FFFF00FF            A  1511    	DL	-16711681
0446BA 808000FF            A  1512    	DL	-16744320
0446BE FFFF00FF            A  1513    	DL	-16711681
0446C2 FFFF00FF            A  1514    	DL	-16711681
0446C6 FFFF00FF            A  1515    	DL	-16711681
0446CA FFFF00FF            A  1516    	DL	-16711681
0446CE FFFF00FF            A  1517    	DL	-16711681
0446D2 FFFF00FF            A  1518    	DL	-16711681
0446D6 FFFF00FF            A  1519    	DL	-16711681
0446DA FFFF00FF            A  1520    	DL	-16711681
0446DE FFFF00FF            A  1521    	DL	-16711681
0446E2 FFFF00FF            A  1522    	DL	-16711681
0446E6 FFFF00FF            A  1523    	DL	-16711681
0446EA FFFF00FF            A  1524    	DL	-16711681
0446EE FFFF00FF            A  1525    	DL	-16711681
0446F2 FFFF00FF            A  1526    	DL	-16711681
0446F6 FFFF00FF            A  1527    	DL	-16711681
0446FA 808000FF            A  1528    	DL	-16744320
0446FE FFFF00FF            A  1529    	DL	-16711681
044702 808000FF            A  1530    	DL	-16744320
044706 808000FF            A  1531    	DL	-16744320
04470A 808000FF            A  1532    	DL	-16744320
04470E 808000FF            A  1533    	DL	-16744320
044712 808000FF            A  1534    	DL	-16744320
044716 808000FF            A  1535    	DL	-16744320
04471A 808000FF            A  1536    	DL	-16744320
04471E 808000FF            A  1537    	DL	-16744320
044722 808000FF            A  1538    	DL	-16744320
044726 808000FF            A  1539    	DL	-16744320
04472A 808000FF            A  1540    	DL	-16744320
04472E 808000FF            A  1541    	DL	-16744320
044732 808000FF            A  1542    	DL	-16744320
044736 808000FF            A  1543    	DL	-16744320
04473A 808000FF            A  1544    	DL	-16744320
                           A  1545    .DEFINE "boxongoal_data"
                           A  1546    .ALIAS "_boxongoal_data"
                           A  1547    .CLASS 69
                           A  1548    .VALUE _boxongoal_data
                           A  1549    .DIM 1
                           A  1550    .DIM 256
                           A  1551    .TYPE 879
                           A  1552    .ENDEF
04473E                     A  1553    _boxmini_data:
04473E 000000FF            A  1554    	DL	-16777216
044742 000000FF            A  1555    	DL	-16777216
044746 000000FF            A  1556    	DL	-16777216
04474A 000000FF            A  1557    	DL	-16777216
04474E 000000FF            A  1558    	DL	-16777216
044752 000000FF            A  1559    	DL	-16777216
044756 000000FF            A  1560    	DL	-16777216
04475A 000000FF            A  1561    	DL	-16777216
04475E 000000FF            A  1562    	DL	-16777216
044762 808000FF            A  1563    	DL	-16744320
044766 FFFF00FF            A  1564    	DL	-16711681
04476A FFFF00FF            A  1565    	DL	-16711681
04476E FFFF00FF            A  1566    	DL	-16711681
044772 FFFF00FF            A  1567    	DL	-16711681
044776 808000FF            A  1568    	DL	-16744320
04477A 000000FF            A  1569    	DL	-16777216
04477E 000000FF            A  1570    	DL	-16777216
044782 FFFF00FF            A  1571    	DL	-16711681
044786 000000FF            A  1572    	DL	-16777216
04478A 808000FF            A  1573    	DL	-16744320
04478E 808000FF            A  1574    	DL	-16744320
044792 000000FF            A  1575    	DL	-16777216
044796 FFFF00FF            A  1576    	DL	-16711681
04479A 000000FF            A  1577    	DL	-16777216
04479E 000000FF            A  1578    	DL	-16777216
0447A2 FFFF00FF            A  1579    	DL	-16711681
0447A6 808000FF            A  1580    	DL	-16744320
0447AA 000000FF            A  1581    	DL	-16777216
0447AE 000000FF            A  1582    	DL	-16777216
0447B2 808000FF            A  1583    	DL	-16744320
0447B6 FFFF00FF            A  1584    	DL	-16711681
0447BA 000000FF            A  1585    	DL	-16777216
0447BE 000000FF            A  1586    	DL	-16777216
0447C2 FFFF00FF            A  1587    	DL	-16711681
0447C6 808000FF            A  1588    	DL	-16744320
0447CA 000000FF            A  1589    	DL	-16777216
0447CE 000000FF            A  1590    	DL	-16777216
0447D2 808000FF            A  1591    	DL	-16744320
0447D6 FFFF00FF            A  1592    	DL	-16711681
0447DA 000000FF            A  1593    	DL	-16777216
0447DE 000000FF            A  1594    	DL	-16777216
0447E2 FFFF00FF            A  1595    	DL	-16711681
0447E6 000000FF            A  1596    	DL	-16777216
0447EA 808000FF            A  1597    	DL	-16744320
0447EE 808000FF            A  1598    	DL	-16744320
0447F2 000000FF            A  1599    	DL	-16777216
0447F6 FFFF00FF            A  1600    	DL	-16711681
0447FA 000000FF            A  1601    	DL	-16777216
0447FE 000000FF            A  1602    	DL	-16777216
044802 808000FF            A  1603    	DL	-16744320
044806 FFFF00FF            A  1604    	DL	-16711681
04480A FFFF00FF            A  1605    	DL	-16711681
04480E FFFF00FF            A  1606    	DL	-16711681
044812 FFFF00FF            A  1607    	DL	-16711681
044816 808000FF            A  1608    	DL	-16744320
04481A 000000FF            A  1609    	DL	-16777216
04481E 000000FF            A  1610    	DL	-16777216
044822 000000FF            A  1611    	DL	-16777216
044826 000000FF            A  1612    	DL	-16777216
04482A 000000FF            A  1613    	DL	-16777216
04482E 000000FF            A  1614    	DL	-16777216
044832 000000FF            A  1615    	DL	-16777216
044836 000000FF            A  1616    	DL	-16777216
04483A 000000FF            A  1617    	DL	-16777216
                           A  1618    .DEFINE "boxmini_data"
                           A  1619    .ALIAS "_boxmini_data"
                           A  1620    .CLASS 69
                           A  1621    .VALUE _boxmini_data
                           A  1622    .DIM 1
                           A  1623    .DIM 64
                           A  1624    .TYPE 879
                           A  1625    .ENDEF
04483E                     A  1626    _wallmini_data:
04483E 808000FF            A  1627    	DL	-16744320
044842 808000FF            A  1628    	DL	-16744320
044846 808000FF            A  1629    	DL	-16744320
04484A 404040FF            A  1630    	DL	-12566464
04484E 808000FF            A  1631    	DL	-16744320
044852 808000FF            A  1632    	DL	-16744320
044856 808000FF            A  1633    	DL	-16744320
04485A 808000FF            A  1634    	DL	-16744320
04485E 800000FF            A  1635    	DL	-16777088
044862 800000FF            A  1636    	DL	-16777088
044866 800000FF            A  1637    	DL	-16777088
04486A 404040FF            A  1638    	DL	-12566464
04486E 808000FF            A  1639    	DL	-16744320
044872 800000FF            A  1640    	DL	-16777088
044876 800000FF            A  1641    	DL	-16777088
04487A 808080FF            A  1642    	DL	-8355712
04487E 800000FF            A  1643    	DL	-16777088
044882 800000FF            A  1644    	DL	-16777088
044886 800000FF            A  1645    	DL	-16777088
04488A 404040FF            A  1646    	DL	-12566464
04488E 808000FF            A  1647    	DL	-16744320
044892 800000FF            A  1648    	DL	-16777088
044896 800000FF            A  1649    	DL	-16777088
04489A 800000FF            A  1650    	DL	-16777088
04489E 404040FF            A  1651    	DL	-12566464
0448A2 404040FF            A  1652    	DL	-12566464
0448A6 404040FF            A  1653    	DL	-12566464
0448AA 404040FF            A  1654    	DL	-12566464
0448AE 404040FF            A  1655    	DL	-12566464
0448B2 404040FF            A  1656    	DL	-12566464
0448B6 404040FF            A  1657    	DL	-12566464
0448BA 404040FF            A  1658    	DL	-12566464
0448BE 404040FF            A  1659    	DL	-12566464
0448C2 808000FF            A  1660    	DL	-16744320
0448C6 808000FF            A  1661    	DL	-16744320
0448CA 808000FF            A  1662    	DL	-16744320
0448CE 808000FF            A  1663    	DL	-16744320
0448D2 808000FF            A  1664    	DL	-16744320
0448D6 808000FF            A  1665    	DL	-16744320
0448DA 808000FF            A  1666    	DL	-16744320
0448DE 404040FF            A  1667    	DL	-12566464
0448E2 808000FF            A  1668    	DL	-16744320
0448E6 800000FF            A  1669    	DL	-16777088
0448EA 800000FF            A  1670    	DL	-16777088
0448EE 808080FF            A  1671    	DL	-8355712
0448F2 800000FF            A  1672    	DL	-16777088
0448F6 800000FF            A  1673    	DL	-16777088
0448FA 800000FF            A  1674    	DL	-16777088
0448FE 404040FF            A  1675    	DL	-12566464
044902 808000FF            A  1676    	DL	-16744320
044906 800000FF            A  1677    	DL	-16777088
04490A 800000FF            A  1678    	DL	-16777088
04490E 800000FF            A  1679    	DL	-16777088
044912 800000FF            A  1680    	DL	-16777088
044916 800000FF            A  1681    	DL	-16777088
04491A 800000FF            A  1682    	DL	-16777088
04491E 404040FF            A  1683    	DL	-12566464
044922 404040FF            A  1684    	DL	-12566464
044926 404040FF            A  1685    	DL	-12566464
04492A 404040FF            A  1686    	DL	-12566464
04492E 404040FF            A  1687    	DL	-12566464
044932 404040FF            A  1688    	DL	-12566464
044936 404040FF            A  1689    	DL	-12566464
04493A 404040FF            A  1690    	DL	-12566464
                           A  1691    .DEFINE "wallmini_data"
                           A  1692    .ALIAS "_wallmini_data"
                           A  1693    .CLASS 69
                           A  1694    .VALUE _wallmini_data
                           A  1695    .DIM 1
                           A  1696    .DIM 64
                           A  1697    .TYPE 879
                           A  1698    .ENDEF
04493E                     A  1699    _goalmini_data:
04493E 000000FF            A  1700    	DL	-16777216
044942 000000FF            A  1701    	DL	-16777216
044946 000000FF            A  1702    	DL	-16777216
04494A 000000FF            A  1703    	DL	-16777216
04494E 000000FF            A  1704    	DL	-16777216
044952 000000FF            A  1705    	DL	-16777216
044956 000000FF            A  1706    	DL	-16777216
04495A 000000FF            A  1707    	DL	-16777216
04495E 000000FF            A  1708    	DL	-16777216
044962 000000FF            A  1709    	DL	-16777216
044966 000000FF            A  1710    	DL	-16777216
04496A 000000FF            A  1711    	DL	-16777216
04496E 000000FF            A  1712    	DL	-16777216
044972 000000FF            A  1713    	DL	-16777216
044976 000000FF            A  1714    	DL	-16777216
04497A 000000FF            A  1715    	DL	-16777216
04497E 000000FF            A  1716    	DL	-16777216
044982 000000FF            A  1717    	DL	-16777216
044986 00FF00FF            A  1718    	DL	-16711936
04498A 000000FF            A  1719    	DL	-16777216
04498E 000000FF            A  1720    	DL	-16777216
044992 00FF00FF            A  1721    	DL	-16711936
044996 000000FF            A  1722    	DL	-16777216
04499A 000000FF            A  1723    	DL	-16777216
04499E 000000FF            A  1724    	DL	-16777216
0449A2 000000FF            A  1725    	DL	-16777216
0449A6 000000FF            A  1726    	DL	-16777216
0449AA 00FF00FF            A  1727    	DL	-16711936
0449AE 00FF00FF            A  1728    	DL	-16711936
0449B2 000000FF            A  1729    	DL	-16777216
0449B6 000000FF            A  1730    	DL	-16777216
0449BA 000000FF            A  1731    	DL	-16777216
0449BE 000000FF            A  1732    	DL	-16777216
0449C2 000000FF            A  1733    	DL	-16777216
0449C6 000000FF            A  1734    	DL	-16777216
0449CA 00FF00FF            A  1735    	DL	-16711936
0449CE 00FF00FF            A  1736    	DL	-16711936
0449D2 000000FF            A  1737    	DL	-16777216
0449D6 000000FF            A  1738    	DL	-16777216
0449DA 000000FF            A  1739    	DL	-16777216
0449DE 000000FF            A  1740    	DL	-16777216
0449E2 000000FF            A  1741    	DL	-16777216
0449E6 00FF00FF            A  1742    	DL	-16711936
0449EA 000000FF            A  1743    	DL	-16777216
0449EE 000000FF            A  1744    	DL	-16777216
0449F2 00FF00FF            A  1745    	DL	-16711936
0449F6 000000FF            A  1746    	DL	-16777216
0449FA 000000FF            A  1747    	DL	-16777216
0449FE 000000FF            A  1748    	DL	-16777216
044A02 000000FF            A  1749    	DL	-16777216
044A06 000000FF            A  1750    	DL	-16777216
044A0A 000000FF            A  1751    	DL	-16777216
044A0E 000000FF            A  1752    	DL	-16777216
044A12 000000FF            A  1753    	DL	-16777216
044A16 000000FF            A  1754    	DL	-16777216
044A1A 000000FF            A  1755    	DL	-16777216
044A1E 000000FF            A  1756    	DL	-16777216
044A22 000000FF            A  1757    	DL	-16777216
044A26 000000FF            A  1758    	DL	-16777216
044A2A 000000FF            A  1759    	DL	-16777216
044A2E 000000FF            A  1760    	DL	-16777216
044A32 000000FF            A  1761    	DL	-16777216
044A36 000000FF            A  1762    	DL	-16777216
044A3A 000000FF            A  1763    	DL	-16777216
                           A  1764    .DEFINE "goalmini_data"
                           A  1765    .ALIAS "_goalmini_data"
                           A  1766    .CLASS 69
                           A  1767    .VALUE _goalmini_data
                           A  1768    .DIM 1
                           A  1769    .DIM 64
                           A  1770    .TYPE 879
                           A  1771    .ENDEF
044A3E                     A  1772    _boxongoalmini_data:
044A3E 000000FF            A  1773    	DL	-16777216
044A42 000000FF            A  1774    	DL	-16777216
044A46 000000FF            A  1775    	DL	-16777216
044A4A 000000FF            A  1776    	DL	-16777216
044A4E 000000FF            A  1777    	DL	-16777216
044A52 000000FF            A  1778    	DL	-16777216
044A56 000000FF            A  1779    	DL	-16777216
044A5A 000000FF            A  1780    	DL	-16777216
044A5E 000000FF            A  1781    	DL	-16777216
044A62 808000FF            A  1782    	DL	-16744320
044A66 FFFF00FF            A  1783    	DL	-16711681
044A6A FFFF00FF            A  1784    	DL	-16711681
044A6E FFFF00FF            A  1785    	DL	-16711681
044A72 FFFF00FF            A  1786    	DL	-16711681
044A76 808000FF            A  1787    	DL	-16744320
044A7A 000000FF            A  1788    	DL	-16777216
044A7E 000000FF            A  1789    	DL	-16777216
044A82 FFFF00FF            A  1790    	DL	-16711681
044A86 000000FF            A  1791    	DL	-16777216
044A8A 808000FF            A  1792    	DL	-16744320
044A8E 808000FF            A  1793    	DL	-16744320
044A92 000000FF            A  1794    	DL	-16777216
044A96 FFFF00FF            A  1795    	DL	-16711681
044A9A 000000FF            A  1796    	DL	-16777216
044A9E 000000FF            A  1797    	DL	-16777216
044AA2 FFFF00FF            A  1798    	DL	-16711681
044AA6 808000FF            A  1799    	DL	-16744320
044AAA 00FF00FF            A  1800    	DL	-16711936
044AAE 00FF00FF            A  1801    	DL	-16711936
044AB2 808000FF            A  1802    	DL	-16744320
044AB6 FFFF00FF            A  1803    	DL	-16711681
044ABA 000000FF            A  1804    	DL	-16777216
044ABE 000000FF            A  1805    	DL	-16777216
044AC2 FFFF00FF            A  1806    	DL	-16711681
044AC6 808000FF            A  1807    	DL	-16744320
044ACA 00FF00FF            A  1808    	DL	-16711936
044ACE 00FF00FF            A  1809    	DL	-16711936
044AD2 808000FF            A  1810    	DL	-16744320
044AD6 FFFF00FF            A  1811    	DL	-16711681
044ADA 000000FF            A  1812    	DL	-16777216
044ADE 000000FF            A  1813    	DL	-16777216
044AE2 FFFF00FF            A  1814    	DL	-16711681
044AE6 000000FF            A  1815    	DL	-16777216
044AEA 808000FF            A  1816    	DL	-16744320
044AEE 808000FF            A  1817    	DL	-16744320
044AF2 000000FF            A  1818    	DL	-16777216
044AF6 FFFF00FF            A  1819    	DL	-16711681
044AFA 000000FF            A  1820    	DL	-16777216
044AFE 000000FF            A  1821    	DL	-16777216
044B02 808000FF            A  1822    	DL	-16744320
044B06 FFFF00FF            A  1823    	DL	-16711681
044B0A FFFF00FF            A  1824    	DL	-16711681
044B0E FFFF00FF            A  1825    	DL	-16711681
044B12 FFFF00FF            A  1826    	DL	-16711681
044B16 808000FF            A  1827    	DL	-16744320
044B1A 000000FF            A  1828    	DL	-16777216
044B1E 000000FF            A  1829    	DL	-16777216
044B22 000000FF            A  1830    	DL	-16777216
044B26 000000FF            A  1831    	DL	-16777216
044B2A 000000FF            A  1832    	DL	-16777216
044B2E 000000FF            A  1833    	DL	-16777216
044B32 000000FF            A  1834    	DL	-16777216
044B36 000000FF            A  1835    	DL	-16777216
044B3A 000000FF            A  1836    	DL	-16777216
                           A  1837    .DEFINE "boxongoalmini_data"
                           A  1838    .ALIAS "_boxongoalmini_data"
                           A  1839    .CLASS 69
                           A  1840    .VALUE _boxongoalmini_data
                           A  1841    .DIM 1
                           A  1842    .DIM 64
                           A  1843    .TYPE 879
                           A  1844    .ENDEF
044B3E                     A  1845    _playermini_data:
044B3E 000000FF            A  1846    	DL	-16777216
044B42 000000FF            A  1847    	DL	-16777216
044B46 404040FF            A  1848    	DL	-12566464
044B4A 404040FF            A  1849    	DL	-12566464
044B4E 404040FF            A  1850    	DL	-12566464
044B52 404040FF            A  1851    	DL	-12566464
044B56 404040FF            A  1852    	DL	-12566464
044B5A 000000FF            A  1853    	DL	-16777216
044B5E 000000FF            A  1854    	DL	-16777216
044B62 000000FF            A  1855    	DL	-16777216
044B66 404040FF            A  1856    	DL	-12566464
044B6A 808000FF            A  1857    	DL	-16744320
044B6E 808000FF            A  1858    	DL	-16744320
044B72 808000FF            A  1859    	DL	-16744320
044B76 404040FF            A  1860    	DL	-12566464
044B7A 000000FF            A  1861    	DL	-16777216
044B7E 000000FF            A  1862    	DL	-16777216
044B82 000000FF            A  1863    	DL	-16777216
044B86 000000FF            A  1864    	DL	-16777216
044B8A 808000FF            A  1865    	DL	-16744320
044B8E 808000FF            A  1866    	DL	-16744320
044B92 808000FF            A  1867    	DL	-16744320
044B96 000000FF            A  1868    	DL	-16777216
044B9A 000000FF            A  1869    	DL	-16777216
044B9E 000000FF            A  1870    	DL	-16777216
044BA2 000000FF            A  1871    	DL	-16777216
044BA6 000000FF            A  1872    	DL	-16777216
044BAA 404040FF            A  1873    	DL	-12566464
044BAE 800000FF            A  1874    	DL	-16777088
044BB2 404040FF            A  1875    	DL	-12566464
044BB6 000000FF            A  1876    	DL	-16777216
044BBA 000000FF            A  1877    	DL	-16777216
044BBE 000000FF            A  1878    	DL	-16777216
044BC2 000000FF            A  1879    	DL	-16777216
044BC6 808000FF            A  1880    	DL	-16744320
044BCA FF0000FF            A  1881    	DL	-16776961
044BCE FF0000FF            A  1882    	DL	-16776961
044BD2 FF0000FF            A  1883    	DL	-16776961
044BD6 808000FF            A  1884    	DL	-16744320
044BDA 000000FF            A  1885    	DL	-16777216
044BDE 000000FF            A  1886    	DL	-16777216
044BE2 000000FF            A  1887    	DL	-16777216
044BE6 000000FF            A  1888    	DL	-16777216
044BEA FF0000FF            A  1889    	DL	-16776961
044BEE FF0000FF            A  1890    	DL	-16776961
044BF2 FF0000FF            A  1891    	DL	-16776961
044BF6 000000FF            A  1892    	DL	-16777216
044BFA 000000FF            A  1893    	DL	-16777216
044BFE 000000FF            A  1894    	DL	-16777216
044C02 000000FF            A  1895    	DL	-16777216
044C06 000000FF            A  1896    	DL	-16777216
044C0A 0000FFFF            A  1897    	DL	-65536
044C0E 000080FF            A  1898    	DL	-8388608
044C12 0000FFFF            A  1899    	DL	-65536
044C16 000000FF            A  1900    	DL	-16777216
044C1A 000000FF            A  1901    	DL	-16777216
044C1E 000000FF            A  1902    	DL	-16777216
044C22 000000FF            A  1903    	DL	-16777216
044C26 0000FFFF            A  1904    	DL	-65536
044C2A 0000FFFF            A  1905    	DL	-65536
044C2E 000000FF            A  1906    	DL	-16777216
044C32 0000FFFF            A  1907    	DL	-65536
044C36 0000FFFF            A  1908    	DL	-65536
044C3A 000000FF            A  1909    	DL	-16777216
                           A  1910    .DEFINE "playermini_data"
                           A  1911    .ALIAS "_playermini_data"
                           A  1912    .CLASS 69
                           A  1913    .VALUE _playermini_data
                           A  1914    .DIM 1
                           A  1915    .DIM 64
                           A  1916    .TYPE 879
                           A  1917    .ENDEF
                           A  1918    ;   13	
                           A  1919    ;   14	struct undoitem undomove;			// 
                           A  1920    ;   15	UINT8 num_undomoves;
                           A  1921    ;   16	
                           A  1922    ;   17	UINT32 bitmapbuffer[BITMAPSIZE];	// 
                           A  1923    ;   18	UINT8 sprites[MAXHEIGHT][MAXWIDTH]; // 
                           A  1924    ;   19	struct sokobanlevel currentlevel;	// 
                           A  1925    ;   20	UINT8 spritenumber;					// 
                           A  1926    ;   21	
                           A  1927    ;   22	UINT32 wall_data[1][256] = {
                           A  1928    ;   23	{
                           A  1929    ;   24	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  1930    ;   25	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1931    ;   26	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1932    ;   27	0xff000080, 0xff000080, 0xff808080, 0xf
                           A  1933    ;   28	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1934    ;   29	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1935    ;   30	0xff808080, 0xff808080, 0xff808080, 0xf
                           A  1936    ;   31	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1937    ;   32	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1938    ;   33	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1939    ;   34	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1940    ;   35	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1941    ;   36	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1942    ;   37	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1943    ;   38	0xff404040, 0xff008080, 0xff808080, 0xf
                           A  1944    ;   39	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1945    ;   40	}
                           A  1946    ;   41	};
                           A  1947    ;   42	
                           A  1948    ;   43	UINT32 player_data[1][256] = {
                           A  1949    ;   44	{
                           A  1950    ;   45	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1951    ;   46	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1952    ;   47	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1953    ;   48	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1954    ;   49	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1955    ;   50	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1956    ;   51	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1957    ;   52	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1958    ;   53	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1959    ;   54	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1960    ;   55	0x00000000, 0x00000000, 0xff404040, 0xf
                           A  1961    ;   56	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1962    ;   57	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1963    ;   58	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1964    ;   59	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1965    ;   60	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1966    ;   61	}
                           A  1967    ;   62	};
                           A  1968    ;   63	
                           A  1969    ;   64	UINT32 goal_data[1][256] = {
                           A  1970    ;   65	{
                           A  1971    ;   66	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1972    ;   67	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1973    ;   68	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1974    ;   69	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1975    ;   70	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1976    ;   71	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1977    ;   72	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1978    ;   73	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1979    ;   74	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1980    ;   75	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1981    ;   76	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1982    ;   77	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1983    ;   78	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1984    ;   79	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1985    ;   80	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1986    ;   81	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1987    ;   82	}
                           A  1988    ;   83	};
                           A  1989    ;   84	
                           A  1990    ;   85	UINT32 box_data[1][256] = {
                           A  1991    ;   86	{
                           A  1992    ;   87	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1993    ;   88	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1994    ;   89	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1995    ;   90	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1996    ;   91	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1997    ;   92	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1998    ;   93	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1999    ;   94	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2000    ;   95	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2001    ;   96	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2002    ;   97	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2003    ;   98	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2004    ;   99	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2005    ;  100	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2006    ;  101	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2007    ;  102	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2008    ;  103	}
                           A  2009    ;  104	};
                           A  2010    ;  105	
                           A  2011    ;  106	UINT32 boxongoal_data[1][256] = {
                           A  2012    ;  107	{
                           A  2013    ;  108	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2014    ;  109	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2015    ;  110	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2016    ;  111	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2017    ;  112	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2018    ;  113	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2019    ;  114	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2020    ;  115	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2021    ;  116	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2022    ;  117	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2023    ;  118	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2024    ;  119	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2025    ;  120	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2026    ;  121	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2027    ;  122	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2028    ;  123	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2029    ;  124	}
                           A  2030    ;  125	};
                           A  2031    ;  126	
                           A  2032    ;  127	UINT32 boxmini_data[1][64] = {
                           A  2033    ;  128	{
                           A  2034    ;  129	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2035    ;  130	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2036    ;  131	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2037    ;  132	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2038    ;  133	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2039    ;  134	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2040    ;  135	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2041    ;  136	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2042    ;  137	}
                           A  2043    ;  138	};
                           A  2044    ;  139	
                           A  2045    ;  140	UINT32 wallmini_data[1][64] = {
                           A  2046    ;  141	{
                           A  2047    ;  142	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  2048    ;  143	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2049    ;  144	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2050    ;  145	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2051    ;  146	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  2052    ;  147	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2053    ;  148	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2054    ;  149	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2055    ;  150	}
                           A  2056    ;  151	};
                           A  2057    ;  152	
                           A  2058    ;  153	UINT32 goalmini_data[1][64] = {
                           A  2059    ;  154	{
                           A  2060    ;  155	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2061    ;  156	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2062    ;  157	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2063    ;  158	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2064    ;  159	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2065    ;  160	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2066    ;  161	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2067    ;  162	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2068    ;  163	}
                           A  2069    ;  164	};
                           A  2070    ;  165	
                           A  2071    ;  166	UINT32 boxongoalmini_data[1][64] = {
                           A  2072    ;  167	{
                           A  2073    ;  168	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2074    ;  169	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2075    ;  170	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2076    ;  171	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2077    ;  172	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2078    ;  173	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2079    ;  174	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2080    ;  175	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2081    ;  176	}
                           A  2082    ;  177	};
                           A  2083    ;  178	
                           A  2084    ;  179	UINT32 playermini_data[1][64] = {
                           A  2085    	SEGMENT CODE
                           A  2086    ;  180	{
                           A  2087    ;  181	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2088    ;  182	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2089    ;  183	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2090    ;  184	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2091    ;  185	0xff000000, 0xff000000, 0xff008080, 0xf
                           A  2092    ;  186	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2093    ;  187	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2094    ;  188	0xff000000, 0xff000000, 0xffff0000, 0xf
                           A  2095    ;  189	}
                           A  2096    ;  190	};
                           A  2097    ;  191	
                           A  2098    ;  192	void debug_print_playfieldText(void)
                           A  2099    ;  193	{
040DE0                     A  2100    _debug_print_playfieldText:
                           A  2101    .DEFINE "_debug_print_playfieldText"
                           A  2102    
                           A  2103    .VALUE _debug_print_playfieldText
                           A  2104    
                           A  2105    .CLASS 2
                           A  2106    
                           A  2107    .TYPE 65
                           A  2108    
                           A  2109    .ENDEF
                           A  2110    
                           A  2111    .BEGFUNC "debug_print_playfieldText",193,"_debu
                           A  2112    
                           A  2113    .LINE 193
                           A  2114    
                           A  2115    .DEFINE "width"
                           A  2116    
                           A  2117    .CLASS 65
                           A  2118    
                           A  2119    .VALUE -2
                           A  2120    
                           A  2121    .TYPE 13
                           A  2122    
                           A  2123    .ENDEF
                           A  2124    
                           A  2125    .DEFINE "c"
                           A  2126    
                           A  2127    .CLASS 65
                           A  2128    
                           A  2129    .VALUE -3
                           A  2130    
                           A  2131    .TYPE 2
                           A  2132    
                           A  2133    .ENDEF
                           A  2134    
                           A  2135    .DEFINE "height"
                           A  2136    
                           A  2137    .CLASS 65
                           A  2138    
                           A  2139    .VALUE -5
                           A  2140    
                           A  2141    .TYPE 13
                           A  2142    
                           A  2143    .ENDEF
                           A  2144    
040DE0 DDE5                A  2145    	PUSH	IX
040DE2 DD210000 00         A  2146    	LD	IX,0
040DE7 DD39                A  2147    	ADD	IX,SP
040DE9 C5                  A  2148    	PUSH	BC
040DEA C5                  A  2149    	PUSH	BC
040DEB 3B                  A  2150    	DEC	SP
040DEC 3B                  A  2151    	DEC	SP
                           A  2152    ;  194		UINT16 width, height;
                           A  2153    ;  195		char c;
                           A  2154    ;  196		
                           A  2155    ;  197		for(height = 0; height < currentlev
                           A  2156    .LINE 197
                           A  2157    
040DED DD36FB00            A  2158    	LD	(IX+%FFFFFFFB),%0
040DF1 DD36FC00            A  2159    	LD	(IX+%FFFFFFFC),%0
040DF5 C3 01 0F 04         A  2160    	JR	L_19
040DF9                     A  2161    L_17:
                           A  2162    ;  198		{
                           A  2163    ;  199			for(width = 0; width < currentl
                           A  2164    .LINE 199
                           A  2165    
040DF9 DD36FE00            A  2166    	LD	(IX+%FFFFFFFE),%0
040DFD DD36FF00            A  2167    	LD	(IX+%FFFFFFFF),%0
040E01 18 56               A  2168    	JR	L_8
040E03                     A  2169    L_6:
                           A  2170    ;  200			{
                           A  2171    ;  201				c = currentlevel.data[heigh
                           A  2172    .LINE 201
                           A  2173    
040E03 DD07FB              A  2174    	LD	BC,(IX+%FFFFFFFB)
040E06 CD 3B 2B 04         A  2175    	CALL	__stoiu
040E0A 3E28                A  2176    	LD	A,%28
040E0C CD BA 31 04         A  2177    	CALL	__imul_b
040E10 01 72 58 04         A  2178    	LD	BC,_currentlevel+7
040E14 09                  A  2179    	ADD	HL,BC
040E15 E5D1                A  2180    	LD	DE,HL
040E17 DD07FE              A  2181    	LD	BC,(IX+%FFFFFFFE)
040E1A CD 3B 2B 04         A  2182    	CALL	__stoiu
040E1E 19                  A  2183    	ADD	HL,DE
040E1F 7E                  A  2184    	LD	A,(HL)
040E20 DD77FD              A  2185    	LD	(IX+%FFFFFFFD),A
                           A  2186    ;  202				printf("%c",c?c:' ');
                           A  2187    .LINE 202
                           A  2188    
040E23 B7                  A  2189    	OR	A,A
040E24 28 0E               A  2190    	JR	Z,L_4
040E26 DD7EFD              A  2191    	LD	A,(IX+%FFFFFFFD)
040E29 17ED62              A  2192    	SEXT	HL
040E2C DD6EFD              A  2193    	LD	L,(IX+%FFFFFFFD)
040E2F DD2FF8              A  2194    	LD	(IX+%FFFFFFF8),HL
040E32 18 07               A  2195    	JR	L_5
040E34                     A  2196    L_4:
040E34 01200000            A  2197    	LD	BC,32
040E38 DD0FF8              A  2198    	LD	(IX+%FFFFFFF8),BC
040E3B                     A  2199    L_5:
040E3B 01 41 2B 04         A  2200    	LD	BC,___print_uputch
040E3F ED43 3E 4C 04       A  2201    	LD	(___print_xputch),BC
040E44 DD4EF8              A  2202    	LD	C,(IX+%FFFFFFF8)
040E47 0600                A  2203    	LD	B,%0
040E49 C5                  A  2204    	PUSH	BC
040E4A CD 41 2B 04         A  2205    	CALL	___print_uputch
040E4E C1                  A  2206    	POP	BC
040E4F DD27FE              A  2207    	LD	HL,(IX+%FFFFFFFE)
040E52 23                  A  2208    	INC	HL
040E53 DD75FE              A  2209    	LD	(IX+%FFFFFFFE),L
040E56 DD74FF              A  2210    	LD	(IX+%FFFFFFFF),H
                           A  2211    ;  203			}
040E59                     A  2212    L_8:
                           A  2213    .LINE 203
                           A  2214    
040E59 3A 6D 58 04         A  2215    	LD	A,(_currentlevel+2)
040E5D 4F                  A  2216    	LD	C,A
040E5E 0600                A  2217    	LD	B,%0
040E60 DD27FE              A  2218    	LD	HL,(IX+%FFFFFFFE)
040E63 B7                  A  2219    	OR	A,A
040E64 40ED42              A  2220    	SBC.SIS	HL,BC
040E67 38 9A               A  2221    	JR	C,L_6
                           A  2222    ;  204			printf(" ");
                           A  2223    .LINE 204
                           A  2224    
040E69 01 41 2B 04         A  2225    	LD	BC,___print_uputch
040E6D ED43 3E 4C 04       A  2226    	LD	(___print_xputch),BC
040E72 01200000            A  2227    	LD	BC,32
040E76 C5                  A  2228    	PUSH	BC
040E77 CD 41 2B 04         A  2229    	CALL	___print_uputch
040E7B C1                  A  2230    	POP	BC
                           A  2231    ;  205			for(width = 0; width < currentl
                           A  2232    .LINE 205
                           A  2233    
040E7C DD36FE00            A  2234    	LD	(IX+%FFFFFFFE),%0
040E80 DD36FF00            A  2235    	LD	(IX+%FFFFFFFF),%0
040E84 18 4E               A  2236    	JR	L_15
040E86                     A  2237    L_13:
                           A  2238    ;  206			{
                           A  2239    ;  207				c = sprites[height][width] 
                           A  2240    .LINE 207
                           A  2241    
040E86 DD07FB              A  2242    	LD	BC,(IX+%FFFFFFFB)
040E89 CD 3B 2B 04         A  2243    	CALL	__stoiu
040E8D 3E28                A  2244    	LD	A,%28
040E8F CD BA 31 04         A  2245    	CALL	__imul_b
040E93 01 BB 53 04         A  2246    	LD	BC,_sprites
040E97 09                  A  2247    	ADD	HL,BC
040E98 E5D1                A  2248    	LD	DE,HL
040E9A DD07FE              A  2249    	LD	BC,(IX+%FFFFFFFE)
040E9D CD 3B 2B 04         A  2250    	CALL	__stoiu
040EA1 19                  A  2251    	ADD	HL,DE
040EA2 7E                  A  2252    	LD	A,(HL)
040EA3 C630                A  2253    	ADD	A,%30
040EA5 DD77FD              A  2254    	LD	(IX+%FFFFFFFD),A
                           A  2255    ;  208				if(c > '9') c = 'X';
                           A  2256    .LINE 208
                           A  2257    
040EA8 3E39                A  2258    	LD	A,%39
040EAA DDBEFD              A  2259    	CP	A,(IX+%FFFFFFFD)
040EAD F2 B5 0E 04         A  2260    	JP	P,L_12
040EB1 DD36FD58            A  2261    	LD	(IX+%FFFFFFFD),%58
040EB5                     A  2262    L_12:
                           A  2263    ;  209				printf("%c",c);
                           A  2264    .LINE 209
                           A  2265    
040EB5 01 41 2B 04         A  2266    	LD	BC,___print_uputch
040EB9 ED43 3E 4C 04       A  2267    	LD	(___print_xputch),BC
040EBE DD6EFD              A  2268    	LD	L,(IX+%FFFFFFFD)
040EC1 4D                  A  2269    	LD	C,L
040EC2 0600                A  2270    	LD	B,%0
040EC4 C5                  A  2271    	PUSH	BC
040EC5 CD 41 2B 04         A  2272    	CALL	___print_uputch
040EC9 C1                  A  2273    	POP	BC
040ECA DD27FE              A  2274    	LD	HL,(IX+%FFFFFFFE)
040ECD 23                  A  2275    	INC	HL
040ECE DD75FE              A  2276    	LD	(IX+%FFFFFFFE),L
040ED1 DD74FF              A  2277    	LD	(IX+%FFFFFFFF),H
                           A  2278    ;  210			}
040ED4                     A  2279    L_15:
                           A  2280    .LINE 210
                           A  2281    
040ED4 3A 6D 58 04         A  2282    	LD	A,(_currentlevel+2)
040ED8 4F                  A  2283    	LD	C,A
040ED9 0600                A  2284    	LD	B,%0
040EDB DD27FE              A  2285    	LD	HL,(IX+%FFFFFFFE)
040EDE B7                  A  2286    	OR	A,A
040EDF 40ED42              A  2287    	SBC.SIS	HL,BC
040EE2 38 A2               A  2288    	JR	C,L_13
                           A  2289    ;  211			printf("\n\r");
                           A  2290    .LINE 211
                           A  2291    
040EE4 01 41 2B 04         A  2292    	LD	BC,___print_uputch
040EE8 ED43 3E 4C 04       A  2293    	LD	(___print_xputch),BC
040EED 01 B9 4C 04         A  2294    	LD	BC,L__4
040EF1 C5                  A  2295    	PUSH	BC
040EF2 CD D0 29 04         A  2296    	CALL	___print_sendstring
040EF6 C1                  A  2297    	POP	BC
040EF7 DD27FB              A  2298    	LD	HL,(IX+%FFFFFFFB)
040EFA 23                  A  2299    	INC	HL
040EFB DD75FB              A  2300    	LD	(IX+%FFFFFFFB),L
040EFE DD74FC              A  2301    	LD	(IX+%FFFFFFFC),H
                           A  2302    ;  212		}
040F01                     A  2303    L_19:
                           A  2304    .LINE 212
                           A  2305    
040F01 3A 6E 58 04         A  2306    	LD	A,(_currentlevel+3)
040F05 4F                  A  2307    	LD	C,A
040F06 0600                A  2308    	LD	B,%0
040F08 DD27FB              A  2309    	LD	HL,(IX+%FFFFFFFB)
040F0B B7                  A  2310    	OR	A,A
040F0C 40ED42              A  2311    	SBC.SIS	HL,BC
040F0F DA F9 0D 04         A  2312    	JR	C,L_17
                           A  2313    ;  213	}
                           A  2314    .LINE 213
                           A  2315    
040F13 DDF9                A  2316    	LD	SP,IX
040F15 DDE1                A  2317    	POP	IX
040F17 C9                  A  2318    	RET	
                           A  2319    
                           A  2320    
                           A  2321    ;**************************** _debug_print_play
                           A  2322    ;Name                         Addr/Register   S
                           A  2323    ;___print_sendstring                 IMPORT  --
                           A  2324    ;_sprites                            STATIC   1
                           A  2325    ;___print_xputch                     IMPORT    
                           A  2326    ;___print_uputch                     IMPORT  --
                           A  2327    ;_currentlevel                       STATIC   1
                           A  2328    ;temp2                                 IX-8    
                           A  2329    ;height                                IX-5    
                           A  2330    ;c                                     IX-3    
                           A  2331    ;width                                 IX-2    
                           A  2332    
                           A  2333    
                           A  2334    ; Stack Frame Size: 14 (bytes)
                           A  2335    ;       Spill Code: 0 (instruction)
                           A  2336    
                           A  2337    
                           A  2338    .ENDFUNC "debug_print_playfieldText",213,"_debu
                           A  2339    	SEGMENT STRSECT
044CB9                     A  2340    L__4:
044CB9 0A0D00              A  2341    	DB	10,13,0
                           A  2342    	SEGMENT CODE
                           A  2343    ;  214	
                           A  2344    ;  215	void game_sendSpriteData(void)
                           A  2345    ;  216	{
040F18                     A  2346    _game_sendSpriteData:
                           A  2347    .DEFINE "_game_sendSpriteData"
                           A  2348    
                           A  2349    .VALUE _game_sendSpriteData
                           A  2350    
                           A  2351    .CLASS 2
                           A  2352    
                           A  2353    .TYPE 65
                           A  2354    
                           A  2355    .ENDEF
                           A  2356    
                           A  2357    .BEGFUNC "game_sendSpriteData",216,"_game_sendS
                           A  2358    
040F18 DDE5                A  2359    	PUSH	IX
040F1A DD210000 00         A  2360    	LD	IX,0
040F1F DD39                A  2361    	ADD	IX,SP
                           A  2362    ;  217		// needs to be called once, to load
                           A  2363    ;  218		
                           A  2364    ;  219		vdp_bitmapSendData(TILE_WALL, BITMA
                           A  2365    .LINE 219
                           A  2366    
040F21 01 3E 33 04         A  2367    	LD	BC,_wall_data
040F25 C5                  A  2368    	PUSH	BC
040F26 01100000            A  2369    	LD	BC,16
040F2A C5                  A  2370    	PUSH	BC
040F2B C5                  A  2371    	PUSH	BC
040F2C 01000000            A  2372    	LD	BC,0
040F30 C5                  A  2373    	PUSH	BC
040F31 CD 87 07 04         A  2374    	CALL	_vdp_bitmapSendData
040F35 C1                  A  2375    	POP	BC
040F36 C1                  A  2376    	POP	BC
040F37 C1                  A  2377    	POP	BC
040F38 C1                  A  2378    	POP	BC
                           A  2379    ;  220		vdp_bitmapSendData(TILE_PLAYER, BIT
                           A  2380    .LINE 220
                           A  2381    
040F39 01 3E 37 04         A  2382    	LD	BC,_player_data
040F3D C5                  A  2383    	PUSH	BC
040F3E 01100000            A  2384    	LD	BC,16
040F42 C5                  A  2385    	PUSH	BC
040F43 C5                  A  2386    	PUSH	BC
040F44 01010000            A  2387    	LD	BC,1
040F48 C5                  A  2388    	PUSH	BC
040F49 CD 87 07 04         A  2389    	CALL	_vdp_bitmapSendData
040F4D C1                  A  2390    	POP	BC
040F4E C1                  A  2391    	POP	BC
040F4F C1                  A  2392    	POP	BC
040F50 C1                  A  2393    	POP	BC
                           A  2394    ;  221		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2395    .LINE 221
                           A  2396    
040F51 01 3E 37 04         A  2397    	LD	BC,_player_data
040F55 C5                  A  2398    	PUSH	BC
040F56 01100000            A  2399    	LD	BC,16
040F5A C5                  A  2400    	PUSH	BC
040F5B C5                  A  2401    	PUSH	BC
040F5C 01020000            A  2402    	LD	BC,2
040F60 C5                  A  2403    	PUSH	BC
040F61 CD 87 07 04         A  2404    	CALL	_vdp_bitmapSendData
040F65 C1                  A  2405    	POP	BC
040F66 C1                  A  2406    	POP	BC
040F67 C1                  A  2407    	POP	BC
040F68 C1                  A  2408    	POP	BC
                           A  2409    ;  222		vdp_bitmapSendData(TILE_BOX, BITMAP
                           A  2410    .LINE 222
                           A  2411    
040F69 01 3E 3F 04         A  2412    	LD	BC,_box_data
040F6D C5                  A  2413    	PUSH	BC
040F6E 01100000            A  2414    	LD	BC,16
040F72 C5                  A  2415    	PUSH	BC
040F73 C5                  A  2416    	PUSH	BC
040F74 01030000            A  2417    	LD	BC,3
040F78 C5                  A  2418    	PUSH	BC
040F79 CD 87 07 04         A  2419    	CALL	_vdp_bitmapSendData
040F7D C1                  A  2420    	POP	BC
040F7E C1                  A  2421    	POP	BC
040F7F C1                  A  2422    	POP	BC
040F80 C1                  A  2423    	POP	BC
                           A  2424    ;  223		vdp_bitmapSendData(TILE_BOXONGOAL, 
                           A  2425    .LINE 223
                           A  2426    
040F81 01 3E 43 04         A  2427    	LD	BC,_boxongoal_data
040F85 C5                  A  2428    	PUSH	BC
040F86 01100000            A  2429    	LD	BC,16
040F8A C5                  A  2430    	PUSH	BC
040F8B C5                  A  2431    	PUSH	BC
040F8C 01040000            A  2432    	LD	BC,4
040F90 C5                  A  2433    	PUSH	BC
040F91 CD 87 07 04         A  2434    	CALL	_vdp_bitmapSendData
040F95 C1                  A  2435    	POP	BC
040F96 C1                  A  2436    	POP	BC
040F97 C1                  A  2437    	POP	BC
040F98 C1                  A  2438    	POP	BC
                           A  2439    ;  224		vdp_bitmapSendData(TILE_GOAL, BITMA
                           A  2440    .LINE 224
                           A  2441    
040F99 01 3E 3B 04         A  2442    	LD	BC,_goal_data
040F9D C5                  A  2443    	PUSH	BC
040F9E 01100000            A  2444    	LD	BC,16
040FA2 C5                  A  2445    	PUSH	BC
040FA3 C5                  A  2446    	PUSH	BC
040FA4 01050000            A  2447    	LD	BC,5
040FA8 C5                  A  2448    	PUSH	BC
040FA9 CD 87 07 04         A  2449    	CALL	_vdp_bitmapSendData
040FAD C1                  A  2450    	POP	BC
040FAE C1                  A  2451    	POP	BC
040FAF C1                  A  2452    	POP	BC
040FB0 C1                  A  2453    	POP	BC
                           A  2454    ;  225		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2455    .LINE 225
                           A  2456    
040FB1 01FF0000            A  2457    	LD	BC,255
040FB5 C5                  A  2458    	PUSH	BC
040FB6 01000000            A  2459    	LD	BC,0
040FBA C5                  A  2460    	PUSH	BC
040FBB 01100000            A  2461    	LD	BC,16
040FBF C5                  A  2462    	PUSH	BC
040FC0 C5                  A  2463    	PUSH	BC
040FC1 01060000            A  2464    	LD	BC,6
040FC5 C5                  A  2465    	PUSH	BC
040FC6 CD 66 08 04         A  2466    	CALL	_vdp_bitmapCreateSolidColor
040FCA C1                  A  2467    	POP	BC
040FCB C1                  A  2468    	POP	BC
040FCC C1                  A  2469    	POP	BC
040FCD C1                  A  2470    	POP	BC
040FCE C1                  A  2471    	POP	BC
                           A  2472    ;  226		
                           A  2473    ;  227		vdp_bitmapSendData(TILE_WALL_MINI, 
                           A  2474    .LINE 227
                           A  2475    
040FCF 01 3E 48 04         A  2476    	LD	BC,_wallmini_data
040FD3 C5                  A  2477    	PUSH	BC
040FD4 01080000            A  2478    	LD	BC,8
040FD8 C5                  A  2479    	PUSH	BC
040FD9 C5                  A  2480    	PUSH	BC
040FDA 01070000            A  2481    	LD	BC,7
040FDE C5                  A  2482    	PUSH	BC
040FDF CD 87 07 04         A  2483    	CALL	_vdp_bitmapSendData
040FE3 C1                  A  2484    	POP	BC
040FE4 C1                  A  2485    	POP	BC
040FE5 C1                  A  2486    	POP	BC
040FE6 C1                  A  2487    	POP	BC
                           A  2488    ;  228		vdp_bitmapSendData(TILE_PLAYER_MINI
                           A  2489    .LINE 228
                           A  2490    
040FE7 01 3E 4B 04         A  2491    	LD	BC,_playermini_data
040FEB C5                  A  2492    	PUSH	BC
040FEC 01080000            A  2493    	LD	BC,8
040FF0 C5                  A  2494    	PUSH	BC
040FF1 C5                  A  2495    	PUSH	BC
040FF2 C5                  A  2496    	PUSH	BC
040FF3 CD 87 07 04         A  2497    	CALL	_vdp_bitmapSendData
040FF7 C1                  A  2498    	POP	BC
040FF8 C1                  A  2499    	POP	BC
040FF9 C1                  A  2500    	POP	BC
040FFA C1                  A  2501    	POP	BC
                           A  2502    ;  229		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2503    .LINE 229
                           A  2504    
040FFB 01 3E 4B 04         A  2505    	LD	BC,_playermini_data
040FFF C5                  A  2506    	PUSH	BC
041000 01080000            A  2507    	LD	BC,8
041004 C5                  A  2508    	PUSH	BC
041005 C5                  A  2509    	PUSH	BC
041006 01090000            A  2510    	LD	BC,9
04100A C5                  A  2511    	PUSH	BC
04100B CD 87 07 04         A  2512    	CALL	_vdp_bitmapSendData
04100F C1                  A  2513    	POP	BC
041010 C1                  A  2514    	POP	BC
041011 C1                  A  2515    	POP	BC
041012 C1                  A  2516    	POP	BC
                           A  2517    ;  230		vdp_bitmapSendData(TILE_BOX_MINI, M
                           A  2518    .LINE 230
                           A  2519    
041013 01 3E 47 04         A  2520    	LD	BC,_boxmini_data
041017 C5                  A  2521    	PUSH	BC
041018 01080000            A  2522    	LD	BC,8
04101C C5                  A  2523    	PUSH	BC
04101D C5                  A  2524    	PUSH	BC
04101E 010A0000            A  2525    	LD	BC,10
041022 C5                  A  2526    	PUSH	BC
041023 CD 87 07 04         A  2527    	CALL	_vdp_bitmapSendData
041027 C1                  A  2528    	POP	BC
041028 C1                  A  2529    	POP	BC
041029 C1                  A  2530    	POP	BC
04102A C1                  A  2531    	POP	BC
                           A  2532    ;  231		vdp_bitmapSendData(TILE_BOXONGOAL_M
                           A  2533    .LINE 231
                           A  2534    
04102B 01 3E 4A 04         A  2535    	LD	BC,_boxongoalmini_data
04102F C5                  A  2536    	PUSH	BC
041030 01080000            A  2537    	LD	BC,8
041034 C5                  A  2538    	PUSH	BC
041035 C5                  A  2539    	PUSH	BC
041036 010B0000            A  2540    	LD	BC,11
04103A C5                  A  2541    	PUSH	BC
04103B CD 87 07 04         A  2542    	CALL	_vdp_bitmapSendData
04103F C1                  A  2543    	POP	BC
041040 C1                  A  2544    	POP	BC
041041 C1                  A  2545    	POP	BC
041042 C1                  A  2546    	POP	BC
                           A  2547    ;  232		vdp_bitmapSendData(TILE_GOAL_MINI, 
                           A  2548    .LINE 232
                           A  2549    
041043 01 3E 49 04         A  2550    	LD	BC,_goalmini_data
041047 C5                  A  2551    	PUSH	BC
041048 01080000            A  2552    	LD	BC,8
04104C C5                  A  2553    	PUSH	BC
04104D C5                  A  2554    	PUSH	BC
04104E 010C0000            A  2555    	LD	BC,12
041052 C5                  A  2556    	PUSH	BC
041053 CD 87 07 04         A  2557    	CALL	_vdp_bitmapSendData
041057 C1                  A  2558    	POP	BC
041058 C1                  A  2559    	POP	BC
041059 C1                  A  2560    	POP	BC
04105A C1                  A  2561    	POP	BC
                           A  2562    ;  233		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2563    .LINE 233
                           A  2564    
04105B 01FF0000            A  2565    	LD	BC,255
04105F C5                  A  2566    	PUSH	BC
041060 01000000            A  2567    	LD	BC,0
041064 C5                  A  2568    	PUSH	BC
041065 01080000            A  2569    	LD	BC,8
041069 C5                  A  2570    	PUSH	BC
04106A C5                  A  2571    	PUSH	BC
04106B 010D0000            A  2572    	LD	BC,13
04106F C5                  A  2573    	PUSH	BC
041070 CD 66 08 04         A  2574    	CALL	_vdp_bitmapCreateSolidColor
041074 C1                  A  2575    	POP	BC
041075 C1                  A  2576    	POP	BC
041076 C1                  A  2577    	POP	BC
041077 C1                  A  2578    	POP	BC
041078 C1                  A  2579    	POP	BC
                           A  2580    ;  234		vdp_bitmapCreateSolidColor(TILE_MIN
                           A  2581    .LINE 234
                           A  2582    
041079 01FF0000            A  2583    	LD	BC,255
04107D C5                  A  2584    	PUSH	BC
04107E 01000000            A  2585    	LD	BC,0
041082 C5                  A  2586    	PUSH	BC
041083 01080000            A  2587    	LD	BC,8
041087 C5                  A  2588    	PUSH	BC
041088 C5                  A  2589    	PUSH	BC
041089 010E0000            A  2590    	LD	BC,14
04108D C5                  A  2591    	PUSH	BC
04108E CD 66 08 04         A  2592    	CALL	_vdp_bitmapCreateSolidColor
041092 C1                  A  2593    	POP	BC
041093 C1                  A  2594    	POP	BC
041094 C1                  A  2595    	POP	BC
041095 C1                  A  2596    	POP	BC
041096 C1                  A  2597    	POP	BC
                           A  2598    ;  235		
                           A  2599    ;  236		return;
                           A  2600    ;  237	}
                           A  2601    .LINE 237
                           A  2602    
041097 DDF9                A  2603    	LD	SP,IX
041099 DDE1                A  2604    	POP	IX
04109B C9                  A  2605    	RET	
                           A  2606    
                           A  2607    
                           A  2608    ;**************************** _game_sendSpriteD
                           A  2609    ;Name                         Addr/Register   S
                           A  2610    ;_goalmini_data                      STATIC    
                           A  2611    ;_boxongoalmini_data                 STATIC    
                           A  2612    ;_boxmini_data                       STATIC    
                           A  2613    ;_playermini_data                    STATIC    
                           A  2614    ;_wallmini_data                      STATIC    
                           A  2615    ;_vdp_bitmapCreateSolidColor         IMPORT  --
                           A  2616    ;_goal_data                          STATIC   1
                           A  2617    ;_boxongoal_data                     STATIC   1
                           A  2618    ;_box_data                           STATIC   1
                           A  2619    ;_player_data                        STATIC   1
                           A  2620    ;_wall_data                          STATIC   1
                           A  2621    ;_vdp_bitmapSendData                 IMPORT  --
                           A  2622    
                           A  2623    
                           A  2624    ; Stack Frame Size: 6 (bytes)
                           A  2625    ;       Spill Code: 0 (instruction)
                           A  2626    
                           A  2627    
                           A  2628    .ENDFUNC "game_sendSpriteData",237,"_game_sendS
                           A  2629    ;  238	
                           A  2630    ;  239	void game_resetSprites(void)
                           A  2631    ;  240	{
04109C                     A  2632    _game_resetSprites:
                           A  2633    .DEFINE "_game_resetSprites"
                           A  2634    
                           A  2635    .VALUE _game_resetSprites
                           A  2636    
                           A  2637    .CLASS 2
                           A  2638    
                           A  2639    .TYPE 65
                           A  2640    
                           A  2641    .ENDEF
                           A  2642    
                           A  2643    .BEGFUNC "game_resetSprites",240,"_game_resetSp
                           A  2644    
                           A  2645    .LINE 240
                           A  2646    
                           A  2647    .DEFINE "n"
                           A  2648    
                           A  2649    .CLASS 65
                           A  2650    
                           A  2651    .VALUE -1
                           A  2652    
                           A  2653    .TYPE 12
                           A  2654    
                           A  2655    .ENDEF
                           A  2656    
04109C DDE5                A  2657    	PUSH	IX
04109E DD210000 00         A  2658    	LD	IX,0
0410A3 DD39                A  2659    	ADD	IX,SP
0410A5 3B                  A  2660    	DEC	SP
                           A  2661    ;  241		UINT8 n;
                           A  2662    ;  242		
                           A  2663    ;  243		// disable all sprites
                           A  2664    ;  244		for(n = 0; n < spritenumber; n++)
                           A  2665    .LINE 244
                           A  2666    
0410A6 DD36FF00            A  2667    	LD	(IX+%FFFFFFFF),%0
0410AA 18 2E               A  2668    	JR	L_25
0410AC                     A  2669    L_23:
                           A  2670    ;  245		{
                           A  2671    ;  246			vdp_spriteSelect(n);
                           A  2672    .LINE 246
                           A  2673    
0410AC DD4EFF              A  2674    	LD	C,(IX+%FFFFFFFF)
0410AF 0600                A  2675    	LD	B,%0
0410B1 C5                  A  2676    	PUSH	BC
0410B2 CD 99 08 04         A  2677    	CALL	_vdp_spriteSelect
0410B6 C1                  A  2678    	POP	BC
                           A  2679    ;  247			vdp_spriteHide(n);
                           A  2680    .LINE 247
                           A  2681    
0410B7 DD4EFF              A  2682    	LD	C,(IX+%FFFFFFFF)
0410BA 0600                A  2683    	LD	B,%0
0410BC C5                  A  2684    	PUSH	BC
0410BD CD D5 0A 04         A  2685    	CALL	_vdp_spriteHide
0410C1 C1                  A  2686    	POP	BC
                           A  2687    ;  248			vdp_spriteSetFrame(n,0);
                           A  2688    .LINE 248
                           A  2689    
0410C2 01000000            A  2690    	LD	BC,0
0410C6 C5                  A  2691    	PUSH	BC
0410C7 DD4EFF              A  2692    	LD	C,(IX+%FFFFFFFF)
0410CA 0600                A  2693    	LD	B,%0
0410CC C5                  A  2694    	PUSH	BC
0410CD CD 43 0A 04         A  2695    	CALL	_vdp_spriteSetFrame
0410D1 C1                  A  2696    	POP	BC
0410D2 C1                  A  2697    	POP	BC
                           A  2698    ;  249			vdp_spriteClearFramesSelected()
                           A  2699    .LINE 249
                           A  2700    
0410D3 CD D2 08 04         A  2701    	CALL	_vdp_spriteClearFramesSelected
0410D7 DD34FF              A  2702    	INC	(IX+%FFFFFFFF)
                           A  2703    ;  250		}
0410DA                     A  2704    L_25:
                           A  2705    .LINE 250
                           A  2706    
0410DA DD7EFF              A  2707    	LD	A,(IX+%FFFFFFFF)
0410DD 21 22 5D 04         A  2708    	LD	HL,_spritenumber
0410E1 BE                  A  2709    	CP	A,(HL)
0410E2 38 C8               A  2710    	JR	C,L_23
                           A  2711    ;  251		vdp_spriteActivateTotal(0);
                           A  2712    .LINE 251
                           A  2713    
0410E4 01000000            A  2714    	LD	BC,0
0410E8 C5                  A  2715    	PUSH	BC
0410E9 CD BC 0B 04         A  2716    	CALL	_vdp_spriteActivateTotal
0410ED C1                  A  2717    	POP	BC
                           A  2718    ;  252		spritenumber = 0;
                           A  2719    .LINE 252
                           A  2720    
0410EE AF                  A  2721    	XOR	A,A
0410EF 32 22 5D 04         A  2722    	LD	(_spritenumber),A
                           A  2723    ;  253	
                           A  2724    ;  254		// reset all sprite positions and c
                           A  2725    ;  255		memset(sprites, 255, MAXHEIGHT*MAXW
                           A  2726    .LINE 255
                           A  2727    
0410F3 01B00400            A  2728    	LD	BC,1200
0410F7 C5                  A  2729    	PUSH	BC
0410F8 01FF0000            A  2730    	LD	BC,255
0410FC C5                  A  2731    	PUSH	BC
0410FD 01 BB 53 04         A  2732    	LD	BC,_sprites
041101 C5                  A  2733    	PUSH	BC
041102 CD E5 32 04         A  2734    	CALL	_memset
041106 C1                  A  2735    	POP	BC
041107 C1                  A  2736    	POP	BC
041108 C1                  A  2737    	POP	BC
                           A  2738    ;  256	
                           A  2739    ;  257		vdp_spriteRefresh();
                           A  2740    .LINE 257
                           A  2741    
041109 CD F5 0B 04         A  2742    	CALL	_vdp_spriteRefresh
                           A  2743    ;  258		return;
                           A  2744    ;  259	}
                           A  2745    .LINE 259
                           A  2746    
04110D DDF9                A  2747    	LD	SP,IX
04110F DDE1                A  2748    	POP	IX
041111 C9                  A  2749    	RET	
                           A  2750    
                           A  2751    
                           A  2752    ;**************************** _game_resetSprite
                           A  2753    ;Name                         Addr/Register   S
                           A  2754    ;_vdp_spriteRefresh                  IMPORT  --
                           A  2755    ;_sprites                            STATIC   1
                           A  2756    ;_memset                             IMPORT  --
                           A  2757    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  2758    ;_spritenumber                       STATIC    
                           A  2759    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2760    ;_vdp_spriteSetFrame                 IMPORT  --
                           A  2761    ;_vdp_spriteHide                     IMPORT  --
                           A  2762    ;_vdp_spriteSelect                   IMPORT  --
                           A  2763    ;n                                     IX-1    
                           A  2764    
                           A  2765    
                           A  2766    ; Stack Frame Size: 7 (bytes)
                           A  2767    ;       Spill Code: 0 (instruction)
                           A  2768    
                           A  2769    
                           A  2770    .ENDFUNC "game_resetSprites",259,"_game_resetSp
                           A  2771    ;  260	
                           A  2772    ;  261	BOOL canmove(UINT16 xn1, UINT16 yn1, UI
                           A  2773    ;  262	{
041112                     A  2774    _canmove:
                           A  2775    .DEFINE "_canmove"
                           A  2776    
                           A  2777    .VALUE _canmove
                           A  2778    
                           A  2779    .CLASS 2
                           A  2780    
                           A  2781    .TYPE 76
                           A  2782    
                           A  2783    .ENDEF
                           A  2784    
                           A  2785    .BEGFUNC "canmove",262,"_canmove"
                           A  2786    
                           A  2787    .LINE 262
                           A  2788    
                           A  2789    .DEFINE "xn1"
                           A  2790    
                           A  2791    .CLASS 65
                           A  2792    
                           A  2793    .VALUE 6
                           A  2794    
                           A  2795    .TYPE 13
                           A  2796    
                           A  2797    .ENDEF
                           A  2798    
                           A  2799    .DEFINE "yn1"
                           A  2800    
                           A  2801    .CLASS 65
                           A  2802    
                           A  2803    .VALUE 9
                           A  2804    
                           A  2805    .TYPE 13
                           A  2806    
                           A  2807    .ENDEF
                           A  2808    
                           A  2809    .DEFINE "xn2"
                           A  2810    
                           A  2811    .CLASS 65
                           A  2812    
                           A  2813    .VALUE 12
                           A  2814    
                           A  2815    .TYPE 13
                           A  2816    
                           A  2817    .ENDEF
                           A  2818    
                           A  2819    .DEFINE "yn2"
                           A  2820    
                           A  2821    .CLASS 65
                           A  2822    
                           A  2823    .VALUE 15
                           A  2824    
                           A  2825    .TYPE 13
                           A  2826    
                           A  2827    .ENDEF
                           A  2828    
                           A  2829    .DEFINE "n1"
                           A  2830    
                           A  2831    .CLASS 65
                           A  2832    
                           A  2833    .VALUE -1
                           A  2834    
                           A  2835    .TYPE 12
                           A  2836    
                           A  2837    .ENDEF
                           A  2838    
                           A  2839    .DEFINE "n2"
                           A  2840    
                           A  2841    .CLASS 65
                           A  2842    
                           A  2843    .VALUE -2
                           A  2844    
                           A  2845    .TYPE 12
                           A  2846    
                           A  2847    .ENDEF
                           A  2848    
041112 DDE5                A  2849    	PUSH	IX
041114 DD210000 00         A  2850    	LD	IX,0
041119 DD39                A  2851    	ADD	IX,SP
04111B 3B                  A  2852    	DEC	SP
04111C 3B                  A  2853    	DEC	SP
                           A  2854    ;  263		BOOL can = FALSE;
                           A  2855    ;  264		UINT8 n1, n2;
                           A  2856    ;  265		
                           A  2857    ;  266		n1 = currentlevel.data[yn1][xn1];
                           A  2858    .LINE 266
                           A  2859    
04111D DD0709              A  2860    	LD	BC,(IX+%9)
041120 CD 3B 2B 04         A  2861    	CALL	__stoiu
041124 3E28                A  2862    	LD	A,%28
041126 CD BA 31 04         A  2863    	CALL	__imul_b
04112A 01 72 58 04         A  2864    	LD	BC,_currentlevel+7
04112E 09                  A  2865    	ADD	HL,BC
04112F E5D1                A  2866    	LD	DE,HL
041131 DD0706              A  2867    	LD	BC,(IX+%6)
041134 CD 3B 2B 04         A  2868    	CALL	__stoiu
041138 19                  A  2869    	ADD	HL,DE
041139 7E                  A  2870    	LD	A,(HL)
04113A DD77FF              A  2871    	LD	(IX+%FFFFFFFF),A
                           A  2872    ;  267		n2 = currentlevel.data[yn2][xn2];
                           A  2873    .LINE 267
                           A  2874    
04113D DD070F              A  2875    	LD	BC,(IX+%F)
041140 CD 3B 2B 04         A  2876    	CALL	__stoiu
041144 3E28                A  2877    	LD	A,%28
041146 CD BA 31 04         A  2878    	CALL	__imul_b
04114A 01 72 58 04         A  2879    	LD	BC,_currentlevel+7
04114E 09                  A  2880    	ADD	HL,BC
04114F E5D1                A  2881    	LD	DE,HL
041151 DD070C              A  2882    	LD	BC,(IX+%C)
041154 CD 3B 2B 04         A  2883    	CALL	__stoiu
041158 19                  A  2884    	ADD	HL,DE
041159 7E                  A  2885    	LD	A,(HL)
04115A DD77FE              A  2886    	LD	(IX+%FFFFFFFE),A
                           A  2887    ;  268		
                           A  2888    ;  269		switch(n1)
                           A  2889    .LINE 269
                           A  2890    
04115D DD7EFF              A  2891    	LD	A,(IX+%FFFFFFFF)
041160 B7ED62              A  2892    	UEXT	HL
041163 6F                  A  2893    	LD	L,A
041164 CD 4F 32 04         A  2894    	CALL	__case8D
041168 E9                  A  2895    	JP	(HL)
041169                     A  2896    L__10:
041169 0300                A  2897    	DW	3
04116B 20                  A  2898    	DB	32
04116C 7D1104              A  2899    	DW24	L_29	
                           A  2900    
04116F 23                  A  2901    	DB	35
041170 7A1104              A  2902    	DW24	L_28	
                           A  2903    
041173 2E                  A  2904    	DB	46
041174 7D1104              A  2905    	DW24	L_30	
                           A  2906    
041177 811104              A  2907    	DW24	L_34	
                           A  2908    
                           A  2909    ;  270		{
                           A  2910    ;  271			case CHAR_WALL:
04117A                     A  2911    L_28:
                           A  2912    .LINE 271
                           A  2913    
                           A  2914    ;  272				return FALSE;
                           A  2915    .LINE 272
                           A  2916    
04117A AF                  A  2917    	XOR	A,A
04117B 18 29               A  2918    	JR	L_36
                           A  2919    ;  273				break;
                           A  2920    ;  274			case CHAR_FLOOR:
04117D                     A  2921    L_29:
                           A  2922    .LINE 274
                           A  2923    
                           A  2924    ;  275			case CHAR_GOAL:
04117D                     A  2925    L_30:
                           A  2926    .LINE 275
                           A  2927    
                           A  2928    ;  276				return TRUE;
                           A  2929    .LINE 276
                           A  2930    
04117D 3E01                A  2931    	LD	A,%1
04117F 18 25               A  2932    	JR	L_36
                           A  2933    ;  277				break;
                           A  2934    ;  278		}
041181                     A  2935    L_34:
                           A  2936    .LINE 278
                           A  2937    
                           A  2938    ;  279		// either BOX or BOXONGOAL next to 
                           A  2939    ;  280		switch(n2)
                           A  2940    .LINE 280
                           A  2941    
041181 DD7EFE              A  2942    	LD	A,(IX+%FFFFFFFE)
041184 B7ED62              A  2943    	UEXT	HL
041187 6F                  A  2944    	LD	L,A
041188 CD 4F 32 04         A  2945    	CALL	__case8D
04118C E9                  A  2946    	JP	(HL)
04118D                     A  2947    L__11:
04118D 0300                A  2948    	DW	3
04118F 23                  A  2949    	DB	35
041190 9E1104              A  2950    	DW24	L_31	
                           A  2951    
041193 24                  A  2952    	DB	36
041194 A11104              A  2953    	DW24	L_32	
                           A  2954    
041197 2A                  A  2955    	DB	42
041198 A11104              A  2956    	DW24	L_33	
                           A  2957    
04119B A41104              A  2958    	DW24	L_35	
                           A  2959    
                           A  2960    ;  281		{
                           A  2961    ;  282			case CHAR_WALL:
04119E                     A  2962    L_31:
                           A  2963    .LINE 282
                           A  2964    
                           A  2965    ;  283				return FALSE;
                           A  2966    .LINE 283
                           A  2967    
04119E AF                  A  2968    	XOR	A,A
04119F 18 05               A  2969    	JR	L_36
                           A  2970    ;  284				break;
                           A  2971    ;  285			case CHAR_BOX:
0411A1                     A  2972    L_32:
                           A  2973    .LINE 285
                           A  2974    
                           A  2975    ;  286			case CHAR_BOXONGOAL:
0411A1                     A  2976    L_33:
                           A  2977    .LINE 286
                           A  2978    
                           A  2979    ;  287				return FALSE;
                           A  2980    .LINE 287
                           A  2981    
0411A1 AF                  A  2982    	XOR	A,A
0411A2 18 02               A  2983    	JR	L_36
                           A  2984    ;  288				break;
                           A  2985    ;  289		}
0411A4                     A  2986    L_35:
                           A  2987    .LINE 289
                           A  2988    
                           A  2989    ;  290		// only FLOOR or empty GOAL remaini
                           A  2990    ;  291		return TRUE;
                           A  2991    .LINE 291
                           A  2992    
0411A4 3E01                A  2993    	LD	A,%1
                           A  2994    ;  292	}
0411A6                     A  2995    L_36:
                           A  2996    .LINE 292
                           A  2997    
0411A6 DDF9                A  2998    	LD	SP,IX
0411A8 DDE1                A  2999    	POP	IX
0411AA C9                  A  3000    	RET	
                           A  3001    
                           A  3002    
                           A  3003    ;**************************** _canmove ********
                           A  3004    ;Name                         Addr/Register   S
                           A  3005    ;_currentlevel                       STATIC   1
                           A  3006    ;n2                                    IX-2    
                           A  3007    ;n1                                    IX-1    
                           A  3008    ;yn2                                  IX+15    
                           A  3009    ;xn2                                  IX+12    
                           A  3010    ;yn1                                   IX+9    
                           A  3011    ;xn1                                   IX+6    
                           A  3012    
                           A  3013    
                           A  3014    ; Stack Frame Size: 20 (bytes)
                           A  3015    ;       Spill Code: 0 (instruction)
                           A  3016    
                           A  3017    
                           A  3018    .ENDFUNC "canmove",292,"_canmove"
                           A  3019    ;  293	
                           A  3020    ;  294	void move_sprites(UINT16 xn1, UINT16 yn
                           A  3021    ;  295	{
0411AB                     A  3022    _move_sprites:
                           A  3023    .DEFINE "_move_sprites"
                           A  3024    
                           A  3025    .VALUE _move_sprites
                           A  3026    
                           A  3027    .CLASS 2
                           A  3028    
                           A  3029    .TYPE 65
                           A  3030    
                           A  3031    .ENDEF
                           A  3032    
                           A  3033    .BEGFUNC "move_sprites",295,"_move_sprites"
                           A  3034    
                           A  3035    .LINE 295
                           A  3036    
                           A  3037    .DEFINE "xn1"
                           A  3038    
                           A  3039    .CLASS 65
                           A  3040    
                           A  3041    .VALUE 6
                           A  3042    
                           A  3043    .TYPE 13
                           A  3044    
                           A  3045    .ENDEF
                           A  3046    
                           A  3047    .DEFINE "yn1"
                           A  3048    
                           A  3049    .CLASS 65
                           A  3050    
                           A  3051    .VALUE 9
                           A  3052    
                           A  3053    .TYPE 13
                           A  3054    
                           A  3055    .ENDEF
                           A  3056    
                           A  3057    .DEFINE "xn2"
                           A  3058    
                           A  3059    .CLASS 65
                           A  3060    
                           A  3061    .VALUE 12
                           A  3062    
                           A  3063    .TYPE 13
                           A  3064    
                           A  3065    .ENDEF
                           A  3066    
                           A  3067    .DEFINE "yn2"
                           A  3068    
                           A  3069    .CLASS 65
                           A  3070    
                           A  3071    .VALUE 15
                           A  3072    
                           A  3073    .TYPE 13
                           A  3074    
                           A  3075    .ENDEF
                           A  3076    
                           A  3077    .DEFINE "spriteid"
                           A  3078    
                           A  3079    .CLASS 65
                           A  3080    
                           A  3081    .VALUE -1
                           A  3082    
                           A  3083    .TYPE 12
                           A  3084    
                           A  3085    .ENDEF
                           A  3086    
                           A  3087    .DEFINE "n"
                           A  3088    
                           A  3089    .CLASS 65
                           A  3090    
                           A  3091    .VALUE -2
                           A  3092    
                           A  3093    .TYPE 12
                           A  3094    
                           A  3095    .ENDEF
                           A  3096    
                           A  3097    .DEFINE "dx"
                           A  3098    
                           A  3099    .CLASS 65
                           A  3100    
                           A  3101    .VALUE -4
                           A  3102    
                           A  3103    .TYPE 3
                           A  3104    
                           A  3105    .ENDEF
                           A  3106    
                           A  3107    .DEFINE "dy"
                           A  3108    
                           A  3109    .CLASS 65
                           A  3110    
                           A  3111    .VALUE -6
                           A  3112    
                           A  3113    .TYPE 3
                           A  3114    
                           A  3115    .ENDEF
                           A  3116    
                           A  3117    .DEFINE "n2"
                           A  3118    
                           A  3119    .CLASS 65
                           A  3120    
                           A  3121    .VALUE -7
                           A  3122    
                           A  3123    .TYPE 12
                           A  3124    
                           A  3125    .ENDEF
                           A  3126    
0411AB DDE5                A  3127    	PUSH	IX
0411AD DD210000 00         A  3128    	LD	IX,0
0411B2 DD39                A  3129    	ADD	IX,SP
0411B4 C5                  A  3130    	PUSH	BC
0411B5 C5                  A  3131    	PUSH	BC
0411B6 3B                  A  3132    	DEC	SP
                           A  3133    ;  296		// move can happen, no need to chec
                           A  3134    ;  297		UINT8 spriteid = sprites[yn1][xn1];
                           A  3135    .LINE 297
                           A  3136    
0411B7 DD0709              A  3137    	LD	BC,(IX+%9)
0411BA CD 3B 2B 04         A  3138    	CALL	__stoiu
0411BE 3E28                A  3139    	LD	A,%28
0411C0 CD BA 31 04         A  3140    	CALL	__imul_b
0411C4 01 BB 53 04         A  3141    	LD	BC,_sprites
0411C8 09                  A  3142    	ADD	HL,BC
0411C9 E5D1                A  3143    	LD	DE,HL
0411CB DD0706              A  3144    	LD	BC,(IX+%6)
0411CE CD 3B 2B 04         A  3145    	CALL	__stoiu
0411D2 19                  A  3146    	ADD	HL,DE
0411D3 7E                  A  3147    	LD	A,(HL)
0411D4 DD77FF              A  3148    	LD	(IX+%FFFFFFFF),A
                           A  3149    ;  298		UINT8 n;
                           A  3150    ;  299		INT16 dx, dy;
                           A  3151    ;  300		UINT8 n2;
                           A  3152    ;  301			
                           A  3153    ;  302		dx = xn2 - xn1;
                           A  3154    .LINE 302
                           A  3155    
0411D7 DD0706              A  3156    	LD	BC,(IX+%6)
0411DA DD270C              A  3157    	LD	HL,(IX+%C)
0411DD B7                  A  3158    	OR	A,A
0411DE 40ED42              A  3159    	SBC.SIS	HL,BC
0411E1 DD75FC              A  3160    	LD	(IX+%FFFFFFFC),L
0411E4 DD74FD              A  3161    	LD	(IX+%FFFFFFFD),H
                           A  3162    ;  303		dy = yn2 - yn1;
                           A  3163    .LINE 303
                           A  3164    
0411E7 DD0709              A  3165    	LD	BC,(IX+%9)
0411EA DD270F              A  3166    	LD	HL,(IX+%F)
0411ED B7                  A  3167    	OR	A,A
0411EE 40ED42              A  3168    	SBC.SIS	HL,BC
0411F1 DD75FA              A  3169    	LD	(IX+%FFFFFFFA),L
0411F4 DD74FB              A  3170    	LD	(IX+%FFFFFFFB),H
                           A  3171    ;  304		
                           A  3172    ;  305		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3173    .LINE 305
                           A  3174    
0411F7 DD36FE00            A  3175    	LD	(IX+%FFFFFFFE),%0
0411FB 18 3B               A  3176    	JR	L_42
0411FD                     A  3177    L_40:
                           A  3178    ;  306		{
                           A  3179    ;  307			if(spriteid != NOSPRITE)
                           A  3180    .LINE 307
                           A  3181    
0411FD DD7EFF              A  3182    	LD	A,(IX+%FFFFFFFF)
041200 FEFF                A  3183    	CP	A,%FF
041202 28 19               A  3184    	JR	Z,L_39
                           A  3185    ;  308			{
                           A  3186    ;  309				vdp_spriteSelect(spriteid);
                           A  3187    .LINE 309
                           A  3188    
041204 DD4EFF              A  3189    	LD	C,(IX+%FFFFFFFF)
041207 0600                A  3190    	LD	B,%0
041209 C5                  A  3191    	PUSH	BC
04120A CD 99 08 04         A  3192    	CALL	_vdp_spriteSelect
04120E C1                  A  3193    	POP	BC
                           A  3194    ;  310				vdp_spriteMoveBySelected(dx
                           A  3195    .LINE 310
                           A  3196    
04120F DD07FA              A  3197    	LD	BC,(IX+%FFFFFFFA)
041212 C5                  A  3198    	PUSH	BC
041213 DD07FC              A  3199    	LD	BC,(IX+%FFFFFFFC)
041216 C5                  A  3200    	PUSH	BC
041217 CD 57 0B 04         A  3201    	CALL	_vdp_spriteMoveBySelected
04121B C1                  A  3202    	POP	BC
04121C C1                  A  3203    	POP	BC
                           A  3204    ;  311			}
04121D                     A  3205    L_39:
                           A  3206    .LINE 311
                           A  3207    
                           A  3208    ;  312			vdp_spriteSelect(0); // player
                           A  3209    .LINE 312
                           A  3210    
04121D 01000000            A  3211    	LD	BC,0
041221 C5                  A  3212    	PUSH	BC
041222 CD 99 08 04         A  3213    	CALL	_vdp_spriteSelect
041226 C1                  A  3214    	POP	BC
                           A  3215    ;  313			vdp_spriteMoveBySelected(dx, dy
                           A  3216    .LINE 313
                           A  3217    
041227 DD07FA              A  3218    	LD	BC,(IX+%FFFFFFFA)
04122A C5                  A  3219    	PUSH	BC
04122B DD07FC              A  3220    	LD	BC,(IX+%FFFFFFFC)
04122E C5                  A  3221    	PUSH	BC
04122F CD 57 0B 04         A  3222    	CALL	_vdp_spriteMoveBySelected
041233 C1                  A  3223    	POP	BC
041234 C1                  A  3224    	POP	BC
041235 DD34FE              A  3225    	INC	(IX+%FFFFFFFE)
                           A  3226    ;  314		}
041238                     A  3227    L_42:
                           A  3228    .LINE 314
                           A  3229    
041238 DD7EFE              A  3230    	LD	A,(IX+%FFFFFFFE)
04123B FE10                A  3231    	CP	A,%10
04123D 38 BE               A  3232    	JR	C,L_40
                           A  3233    ;  315	
                           A  3234    ;  316		// set destination sprite frame
                           A  3235    ;  317		if(spriteid != NOSPRITE)
                           A  3236    .LINE 317
                           A  3237    
04123F DD7EFF              A  3238    	LD	A,(IX+%FFFFFFFF)
041242 FEFF                A  3239    	CP	A,%FF
041244 28 57               A  3240    	JR	Z,L_48
                           A  3241    ;  318		{
                           A  3242    ;  319			vdp_spriteSelect(spriteid);
                           A  3243    .LINE 319
                           A  3244    
041246 DD4EFF              A  3245    	LD	C,(IX+%FFFFFFFF)
041249 0600                A  3246    	LD	B,%0
04124B C5                  A  3247    	PUSH	BC
04124C CD 99 08 04         A  3248    	CALL	_vdp_spriteSelect
041250 C1                  A  3249    	POP	BC
                           A  3250    ;  320			// Check if the sprite moved to
                           A  3251    ;  321			n2 = currentlevel.data[yn2][xn2
                           A  3252    .LINE 321
                           A  3253    
041251 DD070F              A  3254    	LD	BC,(IX+%F)
041254 CD 3B 2B 04         A  3255    	CALL	__stoiu
041258 3E28                A  3256    	LD	A,%28
04125A CD BA 31 04         A  3257    	CALL	__imul_b
04125E 01 72 58 04         A  3258    	LD	BC,_currentlevel+7
041262 09                  A  3259    	ADD	HL,BC
041263 E5D1                A  3260    	LD	DE,HL
041265 DD070C              A  3261    	LD	BC,(IX+%C)
041268 CD 3B 2B 04         A  3262    	CALL	__stoiu
04126C 19                  A  3263    	ADD	HL,DE
04126D 7E                  A  3264    	LD	A,(HL)
04126E DD77F9              A  3265    	LD	(IX+%FFFFFFF9),A
                           A  3266    ;  322			switch(n2)
                           A  3267    .LINE 322
                           A  3268    
041271 B7ED62              A  3269    	UEXT	HL
041274 6F                  A  3270    	LD	L,A
041275 CD 4F 32 04         A  3271    	CALL	__case8D
041279 E9                  A  3272    	JP	(HL)
04127A                     A  3273    L__16:
04127A 0200                A  3274    	DW	2
04127C 20                  A  3275    	DB	32
04127D 871204              A  3276    	DW24	L_43	
                           A  3277    
041280 2E                  A  3278    	DB	46
041281 931204              A  3279    	DW24	L_44	
                           A  3280    
041284 9D1204              A  3281    	DW24	L_48	
                           A  3282    
                           A  3283    ;  323			{
                           A  3284    ;  324				case CHAR_FLOOR:
041287                     A  3285    L_43:
                           A  3286    .LINE 324
                           A  3287    
                           A  3288    ;  325					vdp_spriteSetFrameSelec
                           A  3289    .LINE 325
                           A  3290    
041287 01000000            A  3291    	LD	BC,0
04128B C5                  A  3292    	PUSH	BC
04128C CD 0A 0A 04         A  3293    	CALL	_vdp_spriteSetFrameSelected
041290 C1                  A  3294    	POP	BC
                           A  3295    ;  326					break;
                           A  3296    .LINE 326
                           A  3297    
041291 18 0A               A  3298    	JR	L_48
                           A  3299    ;  327				case CHAR_GOAL:
041293                     A  3300    L_44:
                           A  3301    .LINE 327
                           A  3302    
                           A  3303    ;  328					vdp_spriteSetFrameSelec
                           A  3304    .LINE 328
                           A  3305    
041293 01010000            A  3306    	LD	BC,1
041297 C5                  A  3307    	PUSH	BC
041298 CD 0A 0A 04         A  3308    	CALL	_vdp_spriteSetFrameSelected
04129C C1                  A  3309    	POP	BC
                           A  3310    ;  329					break;
                           A  3311    ;  330			}
                           A  3312    ;  331		}
04129D                     A  3313    L_48:
                           A  3314    .LINE 331
                           A  3315    
                           A  3316    ;  332		// update sprite number matrix
                           A  3317    ;  333		if(spriteid != NOSPRITE)
                           A  3318    .LINE 333
                           A  3319    
04129D DD7EFF              A  3320    	LD	A,(IX+%FFFFFFFF)
0412A0 FEFF                A  3321    	CP	A,%FF
0412A2 28 3F               A  3322    	JR	Z,L_49
                           A  3323    ;  334		{
                           A  3324    ;  335			// player shoves a box here
                           A  3325    ;  336			sprites[yn2][xn2] = sprites[yn1
                           A  3326    .LINE 336
                           A  3327    
0412A4 DD0709              A  3328    	LD	BC,(IX+%9)
0412A7 CD 3B 2B 04         A  3329    	CALL	__stoiu
0412AB 3E28                A  3330    	LD	A,%28
0412AD CD BA 31 04         A  3331    	CALL	__imul_b
0412B1 01 BB 53 04         A  3332    	LD	BC,_sprites
0412B5 09                  A  3333    	ADD	HL,BC
0412B6 E5D1                A  3334    	LD	DE,HL
0412B8 DD0706              A  3335    	LD	BC,(IX+%6)
0412BB CD 3B 2B 04         A  3336    	CALL	__stoiu
0412BF 19                  A  3337    	ADD	HL,DE
0412C0 E5FDE1              A  3338    	LD	IY,HL
0412C3 DD070F              A  3339    	LD	BC,(IX+%F)
0412C6 CD 3B 2B 04         A  3340    	CALL	__stoiu
0412CA 3E28                A  3341    	LD	A,%28
0412CC CD BA 31 04         A  3342    	CALL	__imul_b
0412D0 01 BB 53 04         A  3343    	LD	BC,_sprites
0412D4 09                  A  3344    	ADD	HL,BC
0412D5 E5D1                A  3345    	LD	DE,HL
0412D7 DD070C              A  3346    	LD	BC,(IX+%C)
0412DA CD 3B 2B 04         A  3347    	CALL	__stoiu
0412DE 19                  A  3348    	ADD	HL,DE
0412DF FD7E00              A  3349    	LD	A,(IY)
0412E2 77                  A  3350    	LD	(HL),A
                           A  3351    ;  337		}
0412E3                     A  3352    L_49:
                           A  3353    .LINE 337
                           A  3354    
                           A  3355    ;  338		sprites[yn1][xn1] = NOSPRITE; // pl
                           A  3356    .LINE 338
                           A  3357    
0412E3 DD0709              A  3358    	LD	BC,(IX+%9)
0412E6 CD 3B 2B 04         A  3359    	CALL	__stoiu
0412EA 3E28                A  3360    	LD	A,%28
0412EC CD BA 31 04         A  3361    	CALL	__imul_b
0412F0 01 BB 53 04         A  3362    	LD	BC,_sprites
0412F4 09                  A  3363    	ADD	HL,BC
0412F5 E5D1                A  3364    	LD	DE,HL
0412F7 DD0706              A  3365    	LD	BC,(IX+%6)
0412FA CD 3B 2B 04         A  3366    	CALL	__stoiu
0412FE 19                  A  3367    	ADD	HL,DE
0412FF 36FF                A  3368    	LD	(HL),%FF
                           A  3369    ;  339		sprites[currentlevel.ypos][currentl
                           A  3370    .LINE 339
                           A  3371    
041301 3A 6C 58 04         A  3372    	LD	A,(_currentlevel+1)
041305 B7ED62              A  3373    	UEXT	HL
041308 6F                  A  3374    	LD	L,A
041309 3E28                A  3375    	LD	A,%28
04130B CD BA 31 04         A  3376    	CALL	__imul_b
04130F 01 BB 53 04         A  3377    	LD	BC,_sprites
041313 09                  A  3378    	ADD	HL,BC
041314 E5C1                A  3379    	LD	BC,HL
041316 3A 6B 58 04         A  3380    	LD	A,(_currentlevel)
04131A B7ED62              A  3381    	UEXT	HL
04131D 6F                  A  3382    	LD	L,A
04131E 09                  A  3383    	ADD	HL,BC
04131F 36FF                A  3384    	LD	(HL),%FF
                           A  3385    ;  340		
                           A  3386    ;  341		vdp_spriteRefresh();
                           A  3387    .LINE 341
                           A  3388    
041321 CD F5 0B 04         A  3389    	CALL	_vdp_spriteRefresh
                           A  3390    ;  342	}
                           A  3391    .LINE 342
                           A  3392    
041325 DDF9                A  3393    	LD	SP,IX
041327 DDE1                A  3394    	POP	IX
041329 C9                  A  3395    	RET	
                           A  3396    
                           A  3397    
                           A  3398    ;**************************** _move_sprites ***
                           A  3399    ;Name                         Addr/Register   S
                           A  3400    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3401    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3402    ;_currentlevel                       STATIC   1
                           A  3403    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3404    ;_vdp_spriteSelect                   IMPORT  --
                           A  3405    ;_sprites                            STATIC   1
                           A  3406    ;n2                                    IX-7    
                           A  3407    ;dy                                    IX-6    
                           A  3408    ;dx                                    IX-4    
                           A  3409    ;n                                     IX-2    
                           A  3410    ;spriteid                              IX-1    
                           A  3411    ;yn2                                  IX+15    
                           A  3412    ;xn2                                  IX+12    
                           A  3413    ;yn1                                   IX+9    
                           A  3414    ;xn1                                   IX+6    
                           A  3415    
                           A  3416    
                           A  3417    ; Stack Frame Size: 25 (bytes)
                           A  3418    ;       Spill Code: 0 (instruction)
                           A  3419    
                           A  3420    
                           A  3421    .ENDFUNC "move_sprites",342,"_move_sprites"
                           A  3422    ;  343	
                           A  3423    ;  344	void undomove_sprites(UINT16 xn1, UINT1
                           A  3424    ;  345	{
04132A                     A  3425    _undomove_sprites:
                           A  3426    .DEFINE "_undomove_sprites"
                           A  3427    
                           A  3428    .VALUE _undomove_sprites
                           A  3429    
                           A  3430    .CLASS 2
                           A  3431    
                           A  3432    .TYPE 65
                           A  3433    
                           A  3434    .ENDEF
                           A  3435    
                           A  3436    .BEGFUNC "undomove_sprites",345,"_undomove_spri
                           A  3437    
                           A  3438    .LINE 345
                           A  3439    
                           A  3440    .DEFINE "xn1"
                           A  3441    
                           A  3442    .CLASS 65
                           A  3443    
                           A  3444    .VALUE 6
                           A  3445    
                           A  3446    .TYPE 13
                           A  3447    
                           A  3448    .ENDEF
                           A  3449    
                           A  3450    .DEFINE "yn1"
                           A  3451    
                           A  3452    .CLASS 65
                           A  3453    
                           A  3454    .VALUE 9
                           A  3455    
                           A  3456    .TYPE 13
                           A  3457    
                           A  3458    .ENDEF
                           A  3459    
                           A  3460    .DEFINE "xn2"
                           A  3461    
                           A  3462    .CLASS 65
                           A  3463    
                           A  3464    .VALUE 12
                           A  3465    
                           A  3466    .TYPE 13
                           A  3467    
                           A  3468    .ENDEF
                           A  3469    
                           A  3470    .DEFINE "yn2"
                           A  3471    
                           A  3472    .CLASS 65
                           A  3473    
                           A  3474    .VALUE 15
                           A  3475    
                           A  3476    .TYPE 13
                           A  3477    
                           A  3478    .ENDEF
                           A  3479    
                           A  3480    .DEFINE "spriteid"
                           A  3481    
                           A  3482    .CLASS 65
                           A  3483    
                           A  3484    .VALUE -1
                           A  3485    
                           A  3486    .TYPE 12
                           A  3487    
                           A  3488    .ENDEF
                           A  3489    
                           A  3490    .DEFINE "n"
                           A  3491    
                           A  3492    .CLASS 65
                           A  3493    
                           A  3494    .VALUE -2
                           A  3495    
                           A  3496    .TYPE 12
                           A  3497    
                           A  3498    .ENDEF
                           A  3499    
                           A  3500    .DEFINE "dx"
                           A  3501    
                           A  3502    .CLASS 65
                           A  3503    
                           A  3504    .VALUE -4
                           A  3505    
                           A  3506    .TYPE 3
                           A  3507    
                           A  3508    .ENDEF
                           A  3509    
                           A  3510    .DEFINE "dy"
                           A  3511    
                           A  3512    .CLASS 65
                           A  3513    
                           A  3514    .VALUE -6
                           A  3515    
                           A  3516    .TYPE 3
                           A  3517    
                           A  3518    .ENDEF
                           A  3519    
                           A  3520    .DEFINE "n2"
                           A  3521    
                           A  3522    .CLASS 65
                           A  3523    
                           A  3524    .VALUE -7
                           A  3525    
                           A  3526    .TYPE 12
                           A  3527    
                           A  3528    .ENDEF
                           A  3529    
04132A DDE5                A  3530    	PUSH	IX
04132C DD210000 00         A  3531    	LD	IX,0
041331 DD39                A  3532    	ADD	IX,SP
041333 C5                  A  3533    	PUSH	BC
041334 C5                  A  3534    	PUSH	BC
041335 3B                  A  3535    	DEC	SP
                           A  3536    ;  346		// move can happen, no need to chec
                           A  3537    ;  347		UINT8 spriteid = sprites[yn1][xn1];
                           A  3538    .LINE 347
                           A  3539    
041336 DD0709              A  3540    	LD	BC,(IX+%9)
041339 CD 3B 2B 04         A  3541    	CALL	__stoiu
04133D 3E28                A  3542    	LD	A,%28
04133F CD BA 31 04         A  3543    	CALL	__imul_b
041343 01 BB 53 04         A  3544    	LD	BC,_sprites
041347 09                  A  3545    	ADD	HL,BC
041348 E5D1                A  3546    	LD	DE,HL
04134A DD0706              A  3547    	LD	BC,(IX+%6)
04134D CD 3B 2B 04         A  3548    	CALL	__stoiu
041351 19                  A  3549    	ADD	HL,DE
041352 7E                  A  3550    	LD	A,(HL)
041353 DD77FF              A  3551    	LD	(IX+%FFFFFFFF),A
                           A  3552    ;  348		UINT8 n;
                           A  3553    ;  349		INT16 dx, dy;
                           A  3554    ;  350		UINT8 n2;
                           A  3555    ;  351			
                           A  3556    ;  352		dx = xn2 - xn1;
                           A  3557    .LINE 352
                           A  3558    
041356 DD0706              A  3559    	LD	BC,(IX+%6)
041359 DD270C              A  3560    	LD	HL,(IX+%C)
04135C B7                  A  3561    	OR	A,A
04135D 40ED42              A  3562    	SBC.SIS	HL,BC
041360 DD75FC              A  3563    	LD	(IX+%FFFFFFFC),L
041363 DD74FD              A  3564    	LD	(IX+%FFFFFFFD),H
                           A  3565    ;  353		dy = yn2 - yn1;
                           A  3566    .LINE 353
                           A  3567    
041366 DD0709              A  3568    	LD	BC,(IX+%9)
041369 DD270F              A  3569    	LD	HL,(IX+%F)
04136C B7                  A  3570    	OR	A,A
04136D 40ED42              A  3571    	SBC.SIS	HL,BC
041370 DD75FA              A  3572    	LD	(IX+%FFFFFFFA),L
041373 DD74FB              A  3573    	LD	(IX+%FFFFFFFB),H
                           A  3574    ;  354		
                           A  3575    ;  355		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3576    .LINE 355
                           A  3577    
041376 DD36FE00            A  3578    	LD	(IX+%FFFFFFFE),%0
04137A 18 42               A  3579    	JR	L_57
04137C                     A  3580    L_55:
                           A  3581    ;  356		{
                           A  3582    ;  357			if((undomove.pushed) && (sprite
                           A  3583    .LINE 357
                           A  3584    
04137C 3A B9 4F 04         A  3585    	LD	A,(_undomove+1)
041380 B7                  A  3586    	OR	A,A
041381 28 20               A  3587    	JR	Z,L_54
041383 DD7EFF              A  3588    	LD	A,(IX+%FFFFFFFF)
041386 FEFF                A  3589    	CP	A,%FF
041388 28 19               A  3590    	JR	Z,L_54
                           A  3591    ;  358			{
                           A  3592    ;  359				vdp_spriteSelect(spriteid);
                           A  3593    .LINE 359
                           A  3594    
04138A DD4EFF              A  3595    	LD	C,(IX+%FFFFFFFF)
04138D 0600                A  3596    	LD	B,%0
04138F C5                  A  3597    	PUSH	BC
041390 CD 99 08 04         A  3598    	CALL	_vdp_spriteSelect
041394 C1                  A  3599    	POP	BC
                           A  3600    ;  360				vdp_spriteMoveBySelected(dx
                           A  3601    .LINE 360
                           A  3602    
041395 DD07FA              A  3603    	LD	BC,(IX+%FFFFFFFA)
041398 C5                  A  3604    	PUSH	BC
041399 DD07FC              A  3605    	LD	BC,(IX+%FFFFFFFC)
04139C C5                  A  3606    	PUSH	BC
04139D CD 57 0B 04         A  3607    	CALL	_vdp_spriteMoveBySelected
0413A1 C1                  A  3608    	POP	BC
0413A2 C1                  A  3609    	POP	BC
                           A  3610    ;  361			}
0413A3                     A  3611    L_54:
                           A  3612    .LINE 361
                           A  3613    
                           A  3614    ;  362			vdp_spriteSelect(0); // player
                           A  3615    .LINE 362
                           A  3616    
0413A3 01000000            A  3617    	LD	BC,0
0413A7 C5                  A  3618    	PUSH	BC
0413A8 CD 99 08 04         A  3619    	CALL	_vdp_spriteSelect
0413AC C1                  A  3620    	POP	BC
                           A  3621    ;  363			vdp_spriteMoveBySelected(dx, dy
                           A  3622    .LINE 363
                           A  3623    
0413AD DD07FA              A  3624    	LD	BC,(IX+%FFFFFFFA)
0413B0 C5                  A  3625    	PUSH	BC
0413B1 DD07FC              A  3626    	LD	BC,(IX+%FFFFFFFC)
0413B4 C5                  A  3627    	PUSH	BC
0413B5 CD 57 0B 04         A  3628    	CALL	_vdp_spriteMoveBySelected
0413B9 C1                  A  3629    	POP	BC
0413BA C1                  A  3630    	POP	BC
0413BB DD34FE              A  3631    	INC	(IX+%FFFFFFFE)
                           A  3632    ;  364		}
0413BE                     A  3633    L_57:
                           A  3634    .LINE 364
                           A  3635    
0413BE DD7EFE              A  3636    	LD	A,(IX+%FFFFFFFE)
0413C1 FE10                A  3637    	CP	A,%10
0413C3 38 B7               A  3638    	JR	C,L_55
                           A  3639    ;  365	
                           A  3640    ;  366		// set destination sprite frame
                           A  3641    ;  367		if((undomove.pushed) && (spriteid !
                           A  3642    .LINE 367
                           A  3643    
0413C5 3A B9 4F 04         A  3644    	LD	A,(_undomove+1)
0413C9 B7                  A  3645    	OR	A,A
0413CA 28 5E               A  3646    	JR	Z,L_66
0413CC DD7EFF              A  3647    	LD	A,(IX+%FFFFFFFF)
0413CF FEFF                A  3648    	CP	A,%FF
0413D1 28 57               A  3649    	JR	Z,L_66
                           A  3650    ;  368		{
                           A  3651    ;  369			vdp_spriteSelect(spriteid);
                           A  3652    .LINE 369
                           A  3653    
0413D3 DD4EFF              A  3654    	LD	C,(IX+%FFFFFFFF)
0413D6 0600                A  3655    	LD	B,%0
0413D8 C5                  A  3656    	PUSH	BC
0413D9 CD 99 08 04         A  3657    	CALL	_vdp_spriteSelect
0413DD C1                  A  3658    	POP	BC
                           A  3659    ;  370			// Check if the sprite moved to
                           A  3660    ;  371			n2 = currentlevel.data[yn2][xn2
                           A  3661    .LINE 371
                           A  3662    
0413DE DD070F              A  3663    	LD	BC,(IX+%F)
0413E1 CD 3B 2B 04         A  3664    	CALL	__stoiu
0413E5 3E28                A  3665    	LD	A,%28
0413E7 CD BA 31 04         A  3666    	CALL	__imul_b
0413EB 01 72 58 04         A  3667    	LD	BC,_currentlevel+7
0413EF 09                  A  3668    	ADD	HL,BC
0413F0 E5D1                A  3669    	LD	DE,HL
0413F2 DD070C              A  3670    	LD	BC,(IX+%C)
0413F5 CD 3B 2B 04         A  3671    	CALL	__stoiu
0413F9 19                  A  3672    	ADD	HL,DE
0413FA 7E                  A  3673    	LD	A,(HL)
0413FB DD77F9              A  3674    	LD	(IX+%FFFFFFF9),A
                           A  3675    ;  372			switch(n2)
                           A  3676    .LINE 372
                           A  3677    
0413FE B7ED62              A  3678    	UEXT	HL
041401 6F                  A  3679    	LD	L,A
041402 CD 4F 32 04         A  3680    	CALL	__case8D
041406 E9                  A  3681    	JP	(HL)
041407                     A  3682    L__24:
041407 0200                A  3683    	DW	2
041409 2B                  A  3684    	DB	43
04140A 201404              A  3685    	DW24	L_60	
                           A  3686    
04140D 40                  A  3687    	DB	64
04140E 141404              A  3688    	DW24	L_59	
                           A  3689    
041411 2A1404              A  3690    	DW24	L_66	
                           A  3691    
                           A  3692    ;  373			{
                           A  3693    ;  374				case CHAR_PLAYER:
041414                     A  3694    L_59:
                           A  3695    .LINE 374
                           A  3696    
                           A  3697    ;  375					vdp_spriteSetFrameSelec
                           A  3698    .LINE 375
                           A  3699    
041414 01000000            A  3700    	LD	BC,0
041418 C5                  A  3701    	PUSH	BC
041419 CD 0A 0A 04         A  3702    	CALL	_vdp_spriteSetFrameSelected
04141D C1                  A  3703    	POP	BC
                           A  3704    ;  376					break;
                           A  3705    .LINE 376
                           A  3706    
04141E 18 0A               A  3707    	JR	L_66
                           A  3708    ;  377				case CHAR_PLAYERONGOAL:
041420                     A  3709    L_60:
                           A  3710    .LINE 377
                           A  3711    
                           A  3712    ;  378					vdp_spriteSetFrameSelec
                           A  3713    .LINE 378
                           A  3714    
041420 01010000            A  3715    	LD	BC,1
041424 C5                  A  3716    	PUSH	BC
041425 CD 0A 0A 04         A  3717    	CALL	_vdp_spriteSetFrameSelected
041429 C1                  A  3718    	POP	BC
                           A  3719    ;  379					break;
                           A  3720    ;  380			}
                           A  3721    ;  381		}
04142A                     A  3722    L_66:
                           A  3723    .LINE 381
                           A  3724    
                           A  3725    ;  382		// update sprite number matrix
                           A  3726    ;  383		if(undomove.pushed)
                           A  3727    .LINE 383
                           A  3728    
04142A 3A B9 4F 04         A  3729    	LD	A,(_undomove+1)
04142E B7                  A  3730    	OR	A,A
04142F 28 64               A  3731    	JR	Z,L_67
                           A  3732    ;  384		{
                           A  3733    ;  385			if(spriteid != NOSPRITE)
                           A  3734    .LINE 385
                           A  3735    
041431 DD7EFF              A  3736    	LD	A,(IX+%FFFFFFFF)
041434 FEFF                A  3737    	CP	A,%FF
041436 28 3F               A  3738    	JR	Z,L_64
                           A  3739    ;  386			{
                           A  3740    ;  387				// player shoved a box here
                           A  3741    ;  388				sprites[yn2][xn2] = sprites
                           A  3742    .LINE 388
                           A  3743    
041438 DD0709              A  3744    	LD	BC,(IX+%9)
04143B CD 3B 2B 04         A  3745    	CALL	__stoiu
04143F 3E28                A  3746    	LD	A,%28
041441 CD BA 31 04         A  3747    	CALL	__imul_b
041445 01 BB 53 04         A  3748    	LD	BC,_sprites
041449 09                  A  3749    	ADD	HL,BC
04144A E5D1                A  3750    	LD	DE,HL
04144C DD0706              A  3751    	LD	BC,(IX+%6)
04144F CD 3B 2B 04         A  3752    	CALL	__stoiu
041453 19                  A  3753    	ADD	HL,DE
041454 E5FDE1              A  3754    	LD	IY,HL
041457 DD070F              A  3755    	LD	BC,(IX+%F)
04145A CD 3B 2B 04         A  3756    	CALL	__stoiu
04145E 3E28                A  3757    	LD	A,%28
041460 CD BA 31 04         A  3758    	CALL	__imul_b
041464 01 BB 53 04         A  3759    	LD	BC,_sprites
041468 09                  A  3760    	ADD	HL,BC
041469 E5D1                A  3761    	LD	DE,HL
04146B DD070C              A  3762    	LD	BC,(IX+%C)
04146E CD 3B 2B 04         A  3763    	CALL	__stoiu
041472 19                  A  3764    	ADD	HL,DE
041473 FD7E00              A  3765    	LD	A,(IY)
041476 77                  A  3766    	LD	(HL),A
                           A  3767    ;  389			}
041477                     A  3768    L_64:
                           A  3769    .LINE 389
                           A  3770    
                           A  3771    ;  390			sprites[yn1][xn1] = NOSPRITE; /
                           A  3772    .LINE 390
                           A  3773    
041477 DD0709              A  3774    	LD	BC,(IX+%9)
04147A CD 3B 2B 04         A  3775    	CALL	__stoiu
04147E 3E28                A  3776    	LD	A,%28
041480 CD BA 31 04         A  3777    	CALL	__imul_b
041484 01 BB 53 04         A  3778    	LD	BC,_sprites
041488 09                  A  3779    	ADD	HL,BC
041489 E5D1                A  3780    	LD	DE,HL
04148B DD0706              A  3781    	LD	BC,(IX+%6)
04148E CD 3B 2B 04         A  3782    	CALL	__stoiu
041492 19                  A  3783    	ADD	HL,DE
041493 36FF                A  3784    	LD	(HL),%FF
                           A  3785    ;  391		}
041495                     A  3786    L_67:
                           A  3787    .LINE 391
                           A  3788    
                           A  3789    ;  392		
                           A  3790    ;  393		vdp_spriteRefresh();
                           A  3791    .LINE 393
                           A  3792    
041495 CD F5 0B 04         A  3793    	CALL	_vdp_spriteRefresh
                           A  3794    ;  394	}
                           A  3795    .LINE 394
                           A  3796    
041499 DDF9                A  3797    	LD	SP,IX
04149B DDE1                A  3798    	POP	IX
04149D C9                  A  3799    	RET	
                           A  3800    
                           A  3801    
                           A  3802    ;**************************** _undomove_sprites
                           A  3803    ;Name                         Addr/Register   S
                           A  3804    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3805    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3806    ;_currentlevel                       STATIC   1
                           A  3807    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3808    ;_vdp_spriteSelect                   IMPORT  --
                           A  3809    ;_undomove                           STATIC    
                           A  3810    ;_sprites                            STATIC   1
                           A  3811    ;n2                                    IX-7    
                           A  3812    ;dy                                    IX-6    
                           A  3813    ;dx                                    IX-4    
                           A  3814    ;n                                     IX-2    
                           A  3815    ;spriteid                              IX-1    
                           A  3816    ;yn2                                  IX+15    
                           A  3817    ;xn2                                  IX+12    
                           A  3818    ;yn1                                   IX+9    
                           A  3819    ;xn1                                   IX+6    
                           A  3820    
                           A  3821    
                           A  3822    ; Stack Frame Size: 25 (bytes)
                           A  3823    ;       Spill Code: 0 (instruction)
                           A  3824    
                           A  3825    
                           A  3826    .ENDFUNC "undomove_sprites",394,"_undomove_spri
                           A  3827    ;  395	
                           A  3828    ;  396	void move_updatelevel(UINT16 xn1, UINT1
                           A  3829    ;  397	{
04149E                     A  3830    _move_updatelevel:
                           A  3831    .DEFINE "_move_updatelevel"
                           A  3832    
                           A  3833    .VALUE _move_updatelevel
                           A  3834    
                           A  3835    .CLASS 2
                           A  3836    
                           A  3837    .TYPE 65
                           A  3838    
                           A  3839    .ENDEF
                           A  3840    
                           A  3841    .BEGFUNC "move_updatelevel",397,"_move_updatele
                           A  3842    
                           A  3843    .LINE 397
                           A  3844    
                           A  3845    .DEFINE "xn1"
                           A  3846    
                           A  3847    .CLASS 65
                           A  3848    
                           A  3849    .VALUE 6
                           A  3850    
                           A  3851    .TYPE 13
                           A  3852    
                           A  3853    .ENDEF
                           A  3854    
                           A  3855    .DEFINE "yn1"
                           A  3856    
                           A  3857    .CLASS 65
                           A  3858    
                           A  3859    .VALUE 9
                           A  3860    
                           A  3861    .TYPE 13
                           A  3862    
                           A  3863    .ENDEF
                           A  3864    
                           A  3865    .DEFINE "xn2"
                           A  3866    
                           A  3867    .CLASS 65
                           A  3868    
                           A  3869    .VALUE 12
                           A  3870    
                           A  3871    .TYPE 13
                           A  3872    
                           A  3873    .ENDEF
                           A  3874    
                           A  3875    .DEFINE "yn2"
                           A  3876    
                           A  3877    .CLASS 65
                           A  3878    
                           A  3879    .VALUE 15
                           A  3880    
                           A  3881    .TYPE 13
                           A  3882    
                           A  3883    .ENDEF
                           A  3884    
                           A  3885    .DEFINE "onlyplayermoves"
                           A  3886    
                           A  3887    .CLASS 65
                           A  3888    
                           A  3889    .VALUE -4
                           A  3890    
                           A  3891    .TYPE 12
                           A  3892    
                           A  3893    .ENDEF
                           A  3894    
                           A  3895    .DEFINE "n1"
                           A  3896    
                           A  3897    .CLASS 65
                           A  3898    
                           A  3899    .VALUE -5
                           A  3900    
                           A  3901    .TYPE 12
                           A  3902    
                           A  3903    .ENDEF
                           A  3904    
                           A  3905    .DEFINE "n2"
                           A  3906    
                           A  3907    .CLASS 65
                           A  3908    
                           A  3909    .VALUE -21
                           A  3910    
                           A  3911    .TYPE 12
                           A  3912    
                           A  3913    .ENDEF
                           A  3914    
04149E DDE5                A  3915    	PUSH	IX
0414A0 DD210000 00         A  3916    	LD	IX,0
0414A5 DD39                A  3917    	ADD	IX,SP
0414A7 ED22E5              A  3918    	LEA	HL,IX+%FFFFFFE5
0414AA F9                  A  3919    	LD	SP,HL
                           A  3920    ;  398		// move can happen, no need to chec
                           A  3921    ;  399		UINT8 n1, n2;
                           A  3922    ;  400		BOOL onlyplayermoves;
                           A  3923    ;  401		
                           A  3924    ;  402		// move n1 => n2
                           A  3925    ;  403		n1 = currentlevel.data[yn1][xn1];
                           A  3926    .LINE 403
                           A  3927    
0414AB 01 72 58 04         A  3928    	LD	BC,_currentlevel+7
0414AF DD0FE5              A  3929    	LD	(IX+%FFFFFFE5),BC
0414B2 DD0FEC              A  3930    	LD	(IX+%FFFFFFEC),BC
0414B5 DD0709              A  3931    	LD	BC,(IX+%9)
0414B8 CD 3B 2B 04         A  3932    	CALL	__stoiu
0414BC 3E28                A  3933    	LD	A,%28
0414BE CD BA 31 04         A  3934    	CALL	__imul_b
0414C2 DD2FFD              A  3935    	LD	(IX+%FFFFFFFD),HL
0414C5 DD2FEF              A  3936    	LD	(IX+%FFFFFFEF),HL
0414C8 DD2FF2              A  3937    	LD	(IX+%FFFFFFF2),HL
0414CB DD2FE8              A  3938    	LD	(IX+%FFFFFFE8),HL
0414CE 01 72 58 04         A  3939    	LD	BC,_currentlevel+7
0414D2 DD27FD              A  3940    	LD	HL,(IX+%FFFFFFFD)
0414D5 09                  A  3941    	ADD	HL,BC
0414D6 E5D1                A  3942    	LD	DE,HL
0414D8 DD0706              A  3943    	LD	BC,(IX+%6)
0414DB CD 3B 2B 04         A  3944    	CALL	__stoiu
0414DF 19                  A  3945    	ADD	HL,DE
0414E0 7E                  A  3946    	LD	A,(HL)
0414E1 DD77FB              A  3947    	LD	(IX+%FFFFFFFB),A
                           A  3948    ;  404		n2 = currentlevel.data[yn2][xn2];
                           A  3949    .LINE 404
                           A  3950    
0414E4 DD070F              A  3951    	LD	BC,(IX+%F)
0414E7 CD 3B 2B 04         A  3952    	CALL	__stoiu
0414EB 3E28                A  3953    	LD	A,%28
0414ED CD BA 31 04         A  3954    	CALL	__imul_b
0414F1 DD2FF8              A  3955    	LD	(IX+%FFFFFFF8),HL
0414F4 01 72 58 04         A  3956    	LD	BC,_currentlevel+7
0414F8 DD27F8              A  3957    	LD	HL,(IX+%FFFFFFF8)
0414FB 09                  A  3958    	ADD	HL,BC
0414FC E5D1                A  3959    	LD	DE,HL
0414FE DD070C              A  3960    	LD	BC,(IX+%C)
041501 CD 3B 2B 04         A  3961    	CALL	__stoiu
041505 19                  A  3962    	ADD	HL,DE
041506 7E                  A  3963    	LD	A,(HL)
041507 DD77EB              A  3964    	LD	(IX+%FFFFFFEB),A
                           A  3965    ;  405	
                           A  3966    ;  406		
                           A  3967    ;  407		switch(n1)
                           A  3968    .LINE 407
                           A  3969    
04150A DD7EFB              A  3970    	LD	A,(IX+%FFFFFFFB)
04150D B7ED62              A  3971    	UEXT	HL
041510 6F                  A  3972    	LD	L,A
041511 CD 4F 32 04         A  3973    	CALL	__case8D
041515 E9                  A  3974    	JP	(HL)
041516                     A  3975    L__28:
041516 0200                A  3976    	DW	2
041518 20                  A  3977    	DB	32
041519 231504              A  3978    	DW24	L_69	
                           A  3979    
04151C 2E                  A  3980    	DB	46
04151D 591504              A  3981    	DW24	L_70	
                           A  3982    
041520 8F1504              A  3983    	DW24	L_71	
                           A  3984    
                           A  3985    ;  408		{
                           A  3986    ;  409			case CHAR_FLOOR:
041523                     A  3987    L_69:
                           A  3988    .LINE 409
                           A  3989    
                           A  3990    ;  410				onlyplayermoves = TRUE;
                           A  3991    .LINE 410
                           A  3992    
041523 DD36FC01            A  3993    	LD	(IX+%FFFFFFFC),%1
                           A  3994    ;  411				currentlevel.data[yn1][xn1]
                           A  3995    .LINE 411
                           A  3996    
041527 01 72 58 04         A  3997    	LD	BC,_currentlevel+7
04152B DD0FE5              A  3998    	LD	(IX+%FFFFFFE5),BC
04152E DD0FEC              A  3999    	LD	(IX+%FFFFFFEC),BC
041531 DD07FD              A  4000    	LD	BC,(IX+%FFFFFFFD)
041534 DD0FEF              A  4001    	LD	(IX+%FFFFFFEF),BC
041537 DD07FD              A  4002    	LD	BC,(IX+%FFFFFFFD)
04153A DD0FF2              A  4003    	LD	(IX+%FFFFFFF2),BC
04153D DD07FD              A  4004    	LD	BC,(IX+%FFFFFFFD)
041540 DD0FE8              A  4005    	LD	(IX+%FFFFFFE8),BC
041543 01 72 58 04         A  4006    	LD	BC,_currentlevel+7
041547 DD27FD              A  4007    	LD	HL,(IX+%FFFFFFFD)
04154A 09                  A  4008    	ADD	HL,BC
04154B E5D1                A  4009    	LD	DE,HL
04154D DD0706              A  4010    	LD	BC,(IX+%6)
041550 CD 3B 2B 04         A  4011    	CALL	__stoiu
041554 19                  A  4012    	ADD	HL,DE
041555 3640                A  4013    	LD	(HL),%40
                           A  4014    ;  412				break;
                           A  4015    .LINE 412
                           A  4016    
041557 18 3A               A  4017    	JR	L_82
                           A  4018    ;  413			case CHAR_GOAL:
041559                     A  4019    L_70:
                           A  4020    .LINE 413
                           A  4021    
                           A  4022    ;  414				onlyplayermoves = TRUE;
                           A  4023    .LINE 414
                           A  4024    
041559 DD36FC01            A  4025    	LD	(IX+%FFFFFFFC),%1
                           A  4026    ;  415				currentlevel.data[yn1][xn1]
                           A  4027    .LINE 415
                           A  4028    
04155D 01 72 58 04         A  4029    	LD	BC,_currentlevel+7
041561 DD0FE5              A  4030    	LD	(IX+%FFFFFFE5),BC
041564 DD0FEC              A  4031    	LD	(IX+%FFFFFFEC),BC
041567 DD07FD              A  4032    	LD	BC,(IX+%FFFFFFFD)
04156A DD0FEF              A  4033    	LD	(IX+%FFFFFFEF),BC
04156D DD07FD              A  4034    	LD	BC,(IX+%FFFFFFFD)
041570 DD0FF2              A  4035    	LD	(IX+%FFFFFFF2),BC
041573 DD07FD              A  4036    	LD	BC,(IX+%FFFFFFFD)
041576 DD0FE8              A  4037    	LD	(IX+%FFFFFFE8),BC
041579 01 72 58 04         A  4038    	LD	BC,_currentlevel+7
04157D DD27FD              A  4039    	LD	HL,(IX+%FFFFFFFD)
041580 09                  A  4040    	ADD	HL,BC
041581 E5D1                A  4041    	LD	DE,HL
041583 DD0706              A  4042    	LD	BC,(IX+%6)
041586 CD 3B 2B 04         A  4043    	CALL	__stoiu
04158A 19                  A  4044    	ADD	HL,DE
04158B 362B                A  4045    	LD	(HL),%2B
                           A  4046    ;  416				break;
                           A  4047    .LINE 416
                           A  4048    
04158D 18 04               A  4049    	JR	L_82
                           A  4050    ;  417			default:
04158F                     A  4051    L_71:
                           A  4052    .LINE 417
                           A  4053    
                           A  4054    ;  418				onlyplayermoves = FALSE;
                           A  4055    .LINE 418
                           A  4056    
04158F DD36FC00            A  4057    	LD	(IX+%FFFFFFFC),%0
                           A  4058    ;  419				break;
                           A  4059    ;  420		}
041593                     A  4060    L_82:
                           A  4061    .LINE 420
                           A  4062    
                           A  4063    ;  421		if(!onlyplayermoves)
                           A  4064    .LINE 421
                           A  4065    
041593 DD7EFC              A  4066    	LD	A,(IX+%FFFFFFFC)
041596 B7                  A  4067    	OR	A,A
041597 C2 4B 16 04         A  4068    	JR	NZ,L_85
                           A  4069    ;  422		{
                           A  4070    ;  423			switch(n2)
                           A  4071    .LINE 423
                           A  4072    
04159B DD7EEB              A  4073    	LD	A,(IX+%FFFFFFEB)
04159E B7ED62              A  4074    	UEXT	HL
0415A1 6F                  A  4075    	LD	L,A
0415A2 CD 4F 32 04         A  4076    	CALL	__case8D
0415A6 E9                  A  4077    	JP	(HL)
0415A7                     A  4078    L__30:
0415A7 0200                A  4079    	DW	2
0415A9 20                  A  4080    	DB	32
0415AA B41504              A  4081    	DW24	L_72	
                           A  4082    
0415AD 2E                  A  4083    	DB	46
0415AE C91504              A  4084    	DW24	L_73	
                           A  4085    
0415B1 E51504              A  4086    	DW24	L_80	
                           A  4087    
                           A  4088    ;  424			{
                           A  4089    ;  425				case CHAR_FLOOR:
0415B4                     A  4090    L_72:
                           A  4091    .LINE 425
                           A  4092    
                           A  4093    ;  426					currentlevel.data[yn2][
                           A  4094    .LINE 426
                           A  4095    
0415B4 DD07F8              A  4096    	LD	BC,(IX+%FFFFFFF8)
0415B7 DD27E5              A  4097    	LD	HL,(IX+%FFFFFFE5)
0415BA 09                  A  4098    	ADD	HL,BC
0415BB E5D1                A  4099    	LD	DE,HL
0415BD DD070C              A  4100    	LD	BC,(IX+%C)
0415C0 CD 3B 2B 04         A  4101    	CALL	__stoiu
0415C4 19                  A  4102    	ADD	HL,DE
0415C5 3624                A  4103    	LD	(HL),%24
                           A  4104    ;  427					break;
                           A  4105    .LINE 427
                           A  4106    
0415C7 18 1C               A  4107    	JR	L_80
                           A  4108    ;  428				case CHAR_GOAL:
0415C9                     A  4109    L_73:
                           A  4110    .LINE 428
                           A  4111    
                           A  4112    ;  429					currentlevel.data[yn2][
                           A  4113    .LINE 429
                           A  4114    
0415C9 DD07F8              A  4115    	LD	BC,(IX+%FFFFFFF8)
0415CC DD27EC              A  4116    	LD	HL,(IX+%FFFFFFEC)
0415CF 09                  A  4117    	ADD	HL,BC
0415D0 E5D1                A  4118    	LD	DE,HL
0415D2 DD070C              A  4119    	LD	BC,(IX+%C)
0415D5 CD 3B 2B 04         A  4120    	CALL	__stoiu
0415D9 19                  A  4121    	ADD	HL,DE
0415DA 362A                A  4122    	LD	(HL),%2A
                           A  4123    ;  430					currentlevel.goalstaken
                           A  4124    .LINE 430
                           A  4125    
0415DC 3A 70 58 04         A  4126    	LD	A,(_currentlevel+5)
0415E0 3C                  A  4127    	INC	A
0415E1 32 70 58 04         A  4128    	LD	(_currentlevel+5),A
                           A  4129    ;  431					break;
                           A  4130    ;  432				default:
                           A  4131    ;  433					break; // ignore the re
                           A  4132    ;  434			}
0415E5                     A  4133    L_80:
                           A  4134    .LINE 434
                           A  4135    
                           A  4136    ;  435			switch(n1)
                           A  4137    .LINE 435
                           A  4138    
0415E5 DD7EFB              A  4139    	LD	A,(IX+%FFFFFFFB)
0415E8 B7ED62              A  4140    	UEXT	HL
0415EB 6F                  A  4141    	LD	L,A
0415EC CD 4F 32 04         A  4142    	CALL	__case8D
0415F0 E9                  A  4143    	JP	(HL)
0415F1                     A  4144    L__31:
0415F1 0300                A  4145    	DW	3
0415F3 24                  A  4146    	DB	36
0415F4 021604              A  4147    	DW24	L_76	
                           A  4148    
0415F7 2A                  A  4149    	DB	42
0415F8 181604              A  4150    	DW24	L_77	
                           A  4151    
0415FB 2E                  A  4152    	DB	46
0415FC 371604              A  4153    	DW24	L_79	
                           A  4154    
0415FF 4B1604              A  4155    	DW24	L_85	
                           A  4156    
                           A  4157    ;  436			{
                           A  4158    ;  437				case CHAR_BOX:
041602                     A  4159    L_76:
                           A  4160    .LINE 437
                           A  4161    
                           A  4162    ;  438					currentlevel.data[yn1][
                           A  4163    .LINE 438
                           A  4164    
041602 01 72 58 04         A  4165    	LD	BC,_currentlevel+7
041606 DD27EF              A  4166    	LD	HL,(IX+%FFFFFFEF)
041609 09                  A  4167    	ADD	HL,BC
04160A E5D1                A  4168    	LD	DE,HL
04160C DD0706              A  4169    	LD	BC,(IX+%6)
04160F CD 3B 2B 04         A  4170    	CALL	__stoiu
041613 19                  A  4171    	ADD	HL,DE
041614 3640                A  4172    	LD	(HL),%40
                           A  4173    ;  439					break;
                           A  4174    .LINE 439
                           A  4175    
041616 18 33               A  4176    	JR	L_85
                           A  4177    ;  440				case CHAR_BOXONGOAL:
041618                     A  4178    L_77:
                           A  4179    .LINE 440
                           A  4180    
                           A  4181    ;  441					currentlevel.data[yn1][
                           A  4182    .LINE 441
                           A  4183    
041618 01 72 58 04         A  4184    	LD	BC,_currentlevel+7
04161C DD27F2              A  4185    	LD	HL,(IX+%FFFFFFF2)
04161F 09                  A  4186    	ADD	HL,BC
041620 E5D1                A  4187    	LD	DE,HL
041622 DD0706              A  4188    	LD	BC,(IX+%6)
041625 CD 3B 2B 04         A  4189    	CALL	__stoiu
041629 19                  A  4190    	ADD	HL,DE
04162A 362B                A  4191    	LD	(HL),%2B
                           A  4192    ;  442					currentlevel.goalstaken
                           A  4193    .LINE 442
                           A  4194    
04162C 3A 70 58 04         A  4195    	LD	A,(_currentlevel+5)
041630 3D                  A  4196    	DEC	A
041631 32 70 58 04         A  4197    	LD	(_currentlevel+5),A
                           A  4198    ;  443					break;
                           A  4199    .LINE 443
                           A  4200    
041635 18 14               A  4201    	JR	L_85
                           A  4202    ;  444				case CHAR_GOAL:
041637                     A  4203    L_79:
                           A  4204    .LINE 444
                           A  4205    
                           A  4206    ;  445					currentlevel.data[yn1][
                           A  4207    .LINE 445
                           A  4208    
041637 01 72 58 04         A  4209    	LD	BC,_currentlevel+7
04163B DD27E8              A  4210    	LD	HL,(IX+%FFFFFFE8)
04163E 09                  A  4211    	ADD	HL,BC
04163F E5D1                A  4212    	LD	DE,HL
041641 DD0706              A  4213    	LD	BC,(IX+%6)
041644 CD 3B 2B 04         A  4214    	CALL	__stoiu
041648 19                  A  4215    	ADD	HL,DE
041649 362B                A  4216    	LD	(HL),%2B
                           A  4217    ;  446					break;
                           A  4218    ;  447			}
                           A  4219    ;  448		}
04164B                     A  4220    L_85:
                           A  4221    .LINE 448
                           A  4222    
                           A  4223    ;  449		
                           A  4224    ;  450		
                           A  4225    ;  451		// check where the player was stand
                           A  4226    ;  452		if(currentlevel.data[currentlevel.y
                           A  4227    .LINE 452
                           A  4228    
04164B 01 72 58 04         A  4229    	LD	BC,_currentlevel+7
04164F DD0FF5              A  4230    	LD	(IX+%FFFFFFF5),BC
041652 3A 6C 58 04         A  4231    	LD	A,(_currentlevel+1)
041656 B7ED62              A  4232    	UEXT	HL
041659 6F                  A  4233    	LD	L,A
04165A 3E28                A  4234    	LD	A,%28
04165C CD BA 31 04         A  4235    	CALL	__imul_b
041660 DD07F5              A  4236    	LD	BC,(IX+%FFFFFFF5)
041663 09                  A  4237    	ADD	HL,BC
041664 E5C1                A  4238    	LD	BC,HL
041666 3A 6B 58 04         A  4239    	LD	A,(_currentlevel)
04166A B7ED62              A  4240    	UEXT	HL
04166D 6F                  A  4241    	LD	L,A
04166E 09                  A  4242    	ADD	HL,BC
04166F 7E                  A  4243    	LD	A,(HL)
041670 B7ED62              A  4244    	UEXT	HL
041673 6F                  A  4245    	LD	L,A
041674 012B0000            A  4246    	LD	BC,43
041678 B7                  A  4247    	OR	A,A
041679 ED42                A  4248    	SBC	HL,BC
04167B 20 21               A  4249    	JR	NZ,L_84
04167D 3A 6C 58 04         A  4250    	LD	A,(_currentlevel+1)
041681 B7ED62              A  4251    	UEXT	HL
041684 6F                  A  4252    	LD	L,A
041685 3E28                A  4253    	LD	A,%28
041687 CD BA 31 04         A  4254    	CALL	__imul_b
04168B DD07F5              A  4255    	LD	BC,(IX+%FFFFFFF5)
04168E 09                  A  4256    	ADD	HL,BC
04168F E5C1                A  4257    	LD	BC,HL
041691 3A 6B 58 04         A  4258    	LD	A,(_currentlevel)
041695 B7ED62              A  4259    	UEXT	HL
041698 6F                  A  4260    	LD	L,A
041699 09                  A  4261    	ADD	HL,BC
04169A 362E                A  4262    	LD	(HL),%2E
                           A  4263    ;  453		else currentlevel.data[currentlevel
                           A  4264    .LINE 453
                           A  4265    
04169C 18 1F               A  4266    	JR	L_86
04169E                     A  4267    L_84:
04169E 3A 6C 58 04         A  4268    	LD	A,(_currentlevel+1)
0416A2 B7ED62              A  4269    	UEXT	HL
0416A5 6F                  A  4270    	LD	L,A
0416A6 3E28                A  4271    	LD	A,%28
0416A8 CD BA 31 04         A  4272    	CALL	__imul_b
0416AC DD07F5              A  4273    	LD	BC,(IX+%FFFFFFF5)
0416AF 09                  A  4274    	ADD	HL,BC
0416B0 E5C1                A  4275    	LD	BC,HL
0416B2 3A 6B 58 04         A  4276    	LD	A,(_currentlevel)
0416B6 B7ED62              A  4277    	UEXT	HL
0416B9 6F                  A  4278    	LD	L,A
0416BA 09                  A  4279    	ADD	HL,BC
0416BB 3620                A  4280    	LD	(HL),%20
0416BD                     A  4281    L_86:
                           A  4282    ;  454		
                           A  4283    ;  455		// update player position
                           A  4284    ;  456		currentlevel.xpos = xn1;
                           A  4285    .LINE 456
                           A  4286    
0416BD DD7E06              A  4287    	LD	A,(IX+%6)
0416C0 32 6B 58 04         A  4288    	LD	(_currentlevel),A
                           A  4289    ;  457		currentlevel.ypos = yn1;
                           A  4290    .LINE 457
                           A  4291    
0416C4 DD7E09              A  4292    	LD	A,(IX+%9)
0416C7 32 6C 58 04         A  4293    	LD	(_currentlevel+1),A
                           A  4294    ;  458	}
                           A  4295    .LINE 458
                           A  4296    
0416CB DDF9                A  4297    	LD	SP,IX
0416CD DDE1                A  4298    	POP	IX
0416CF C9                  A  4299    	RET	
                           A  4300    
                           A  4301    
                           A  4302    ;**************************** _move_updatelevel
                           A  4303    ;Name                         Addr/Register   S
                           A  4304    ;_currentlevel                       STATIC   1
                           A  4305    ;G_4                                  IX-27    
                           A  4306    ;G_10                                 IX-24    
                           A  4307    ;n2                                   IX-21    
                           A  4308    ;G_6                                  IX-20    
                           A  4309    ;G_8                                  IX-17    
                           A  4310    ;G_9                                  IX-14    
                           A  4311    ;G_11                                 IX-11    
                           A  4312    ;G_5                                   IX-8    
                           A  4313    ;n1                                    IX-5    
                           A  4314    ;onlyplayermoves                       IX-4    
                           A  4315    ;G_1                                   IX-3    
                           A  4316    ;yn2                                  IX+15    
                           A  4317    ;xn2                                  IX+12    
                           A  4318    ;yn1                                   IX+9    
                           A  4319    ;xn1                                   IX+6    
                           A  4320    
                           A  4321    
                           A  4322    ; Stack Frame Size: 45 (bytes)
                           A  4323    ;       Spill Code: 0 (instruction)
                           A  4324    
                           A  4325    
                           A  4326    .ENDFUNC "move_updatelevel",458,"_move_updatele
                           A  4327    ;  459	
                           A  4328    ;  460	void undomove_updatelevel(UINT16 xn1, U
                           A  4329    ;  461	{
0416D0                     A  4330    _undomove_updatelevel:
                           A  4331    .DEFINE "_undomove_updatelevel"
                           A  4332    
                           A  4333    .VALUE _undomove_updatelevel
                           A  4334    
                           A  4335    .CLASS 2
                           A  4336    
                           A  4337    .TYPE 65
                           A  4338    
                           A  4339    .ENDEF
                           A  4340    
                           A  4341    .BEGFUNC "undomove_updatelevel",461,"_undomove_
                           A  4342    
                           A  4343    .LINE 461
                           A  4344    
                           A  4345    .DEFINE "xn1"
                           A  4346    
                           A  4347    .CLASS 65
                           A  4348    
                           A  4349    .VALUE 6
                           A  4350    
                           A  4351    .TYPE 13
                           A  4352    
                           A  4353    .ENDEF
                           A  4354    
                           A  4355    .DEFINE "yn1"
                           A  4356    
                           A  4357    .CLASS 65
                           A  4358    
                           A  4359    .VALUE 9
                           A  4360    
                           A  4361    .TYPE 13
                           A  4362    
                           A  4363    .ENDEF
                           A  4364    
                           A  4365    .DEFINE "xn2"
                           A  4366    
                           A  4367    .CLASS 65
                           A  4368    
                           A  4369    .VALUE 12
                           A  4370    
                           A  4371    .TYPE 13
                           A  4372    
                           A  4373    .ENDEF
                           A  4374    
                           A  4375    .DEFINE "yn2"
                           A  4376    
                           A  4377    .CLASS 65
                           A  4378    
                           A  4379    .VALUE 15
                           A  4380    
                           A  4381    .TYPE 13
                           A  4382    
                           A  4383    .ENDEF
                           A  4384    
                           A  4385    .DEFINE "xn3"
                           A  4386    
                           A  4387    .CLASS 65
                           A  4388    
                           A  4389    .VALUE 18
                           A  4390    
                           A  4391    .TYPE 13
                           A  4392    
                           A  4393    .ENDEF
                           A  4394    
                           A  4395    .DEFINE "yn3"
                           A  4396    
                           A  4397    .CLASS 65
                           A  4398    
                           A  4399    .VALUE 21
                           A  4400    
                           A  4401    .TYPE 13
                           A  4402    
                           A  4403    .ENDEF
                           A  4404    
                           A  4405    .DEFINE "n2"
                           A  4406    
                           A  4407    .CLASS 65
                           A  4408    
                           A  4409    .VALUE -13
                           A  4410    
                           A  4411    .TYPE 12
                           A  4412    
                           A  4413    .ENDEF
                           A  4414    
                           A  4415    .DEFINE "n1"
                           A  4416    
                           A  4417    .CLASS 65
                           A  4418    
                           A  4419    .VALUE -23
                           A  4420    
                           A  4421    .TYPE 12
                           A  4422    
                           A  4423    .ENDEF
                           A  4424    
                           A  4425    .DEFINE "n3"
                           A  4426    
                           A  4427    .CLASS 65
                           A  4428    
                           A  4429    .VALUE -27
                           A  4430    
                           A  4431    .TYPE 12
                           A  4432    
                           A  4433    .ENDEF
                           A  4434    
0416D0 DDE5                A  4435    	PUSH	IX
0416D2 DD210000 00         A  4436    	LD	IX,0
0416D7 DD39                A  4437    	ADD	IX,SP
0416D9 ED22E5              A  4438    	LEA	HL,IX+%FFFFFFE5
0416DC F9                  A  4439    	LD	SP,HL
                           A  4440    ;  462		UINT8 n1, n2, n3;
                           A  4441    ;  463		
                           A  4442    ;  464		// move n1 => n2 => n3
                           A  4443    ;  465		n1 = currentlevel.data[yn1][xn1]; /
                           A  4444    .LINE 465
                           A  4445    
0416DD 01 72 58 04         A  4446    	LD	BC,_currentlevel+7
0416E1 DD0FE6              A  4447    	LD	(IX+%FFFFFFE6),BC
0416E4 DD0FED              A  4448    	LD	(IX+%FFFFFFED),BC
0416E7 DD0FEA              A  4449    	LD	(IX+%FFFFFFEA),BC
0416EA DD0FF0              A  4450    	LD	(IX+%FFFFFFF0),BC
0416ED DD0FFD              A  4451    	LD	(IX+%FFFFFFFD),BC
0416F0 DD0709              A  4452    	LD	BC,(IX+%9)
0416F3 CD 3B 2B 04         A  4453    	CALL	__stoiu
0416F7 3E28                A  4454    	LD	A,%28
0416F9 CD BA 31 04         A  4455    	CALL	__imul_b
0416FD DD2FF4              A  4456    	LD	(IX+%FFFFFFF4),HL
041700 DD07FD              A  4457    	LD	BC,(IX+%FFFFFFFD)
041703 09                  A  4458    	ADD	HL,BC
041704 E5D1                A  4459    	LD	DE,HL
041706 DD0706              A  4460    	LD	BC,(IX+%6)
041709 CD 3B 2B 04         A  4461    	CALL	__stoiu
04170D 19                  A  4462    	ADD	HL,DE
04170E 7E                  A  4463    	LD	A,(HL)
04170F DD77E9              A  4464    	LD	(IX+%FFFFFFE9),A
                           A  4465    ;  466		n2 = currentlevel.data[yn2][xn2]; /
                           A  4466    .LINE 466
                           A  4467    
041712 DD070F              A  4468    	LD	BC,(IX+%F)
041715 CD 3B 2B 04         A  4469    	CALL	__stoiu
041719 3E28                A  4470    	LD	A,%28
04171B CD BA 31 04         A  4471    	CALL	__imul_b
04171F DD2FFA              A  4472    	LD	(IX+%FFFFFFFA),HL
041722 DD07FD              A  4473    	LD	BC,(IX+%FFFFFFFD)
041725 09                  A  4474    	ADD	HL,BC
041726 E5D1                A  4475    	LD	DE,HL
041728 DD070C              A  4476    	LD	BC,(IX+%C)
04172B CD 3B 2B 04         A  4477    	CALL	__stoiu
04172F 19                  A  4478    	ADD	HL,DE
041730 7E                  A  4479    	LD	A,(HL)
041731 DD77F3              A  4480    	LD	(IX+%FFFFFFF3),A
                           A  4481    ;  467		n3 = currentlevel.data[yn3][xn3]; /
                           A  4482    .LINE 467
                           A  4483    
041734 DD0715              A  4484    	LD	BC,(IX+%15)
041737 CD 3B 2B 04         A  4485    	CALL	__stoiu
04173B 3E28                A  4486    	LD	A,%28
04173D CD BA 31 04         A  4487    	CALL	__imul_b
041741 DD2FF7              A  4488    	LD	(IX+%FFFFFFF7),HL
041744 DD07FD              A  4489    	LD	BC,(IX+%FFFFFFFD)
041747 09                  A  4490    	ADD	HL,BC
041748 E5D1                A  4491    	LD	DE,HL
04174A DD0712              A  4492    	LD	BC,(IX+%12)
04174D CD 3B 2B 04         A  4493    	CALL	__stoiu
041751 19                  A  4494    	ADD	HL,DE
041752 7E                  A  4495    	LD	A,(HL)
041753 DD77E5              A  4496    	LD	(IX+%FFFFFFE5),A
                           A  4497    ;  468		
                           A  4498    ;  469		switch(n3)
                           A  4499    .LINE 469
                           A  4500    
041756 B7ED62              A  4501    	UEXT	HL
041759 6F                  A  4502    	LD	L,A
04175A CD 4F 32 04         A  4503    	CALL	__case8D
04175E E9                  A  4504    	JP	(HL)
04175F                     A  4505    L__34:
04175F 0200                A  4506    	DW	2
041761 20                  A  4507    	DB	32
041762 6C1704              A  4508    	DW24	L_88	
                           A  4509    
041765 2E                  A  4510    	DB	46
041766 8E1704              A  4511    	DW24	L_89	
                           A  4512    
041769 AE1704              A  4513    	DW24	L_103	
                           A  4514    
                           A  4515    ;  470		{
                           A  4516    ;  471			case CHAR_FLOOR:
04176C                     A  4517    L_88:
                           A  4518    .LINE 471
                           A  4519    
                           A  4520    ;  472				currentlevel.data[yn3][xn3]
                           A  4521    .LINE 472
                           A  4522    
04176C 01 72 58 04         A  4523    	LD	BC,_currentlevel+7
041770 DD0FE6              A  4524    	LD	(IX+%FFFFFFE6),BC
041773 DD0FED              A  4525    	LD	(IX+%FFFFFFED),BC
041776 DD0FEA              A  4526    	LD	(IX+%FFFFFFEA),BC
041779 DD0FF0              A  4527    	LD	(IX+%FFFFFFF0),BC
04177C DD27F7              A  4528    	LD	HL,(IX+%FFFFFFF7)
04177F 09                  A  4529    	ADD	HL,BC
041780 E5D1                A  4530    	LD	DE,HL
041782 DD0712              A  4531    	LD	BC,(IX+%12)
041785 CD 3B 2B 04         A  4532    	CALL	__stoiu
041789 19                  A  4533    	ADD	HL,DE
04178A 3640                A  4534    	LD	(HL),%40
                           A  4535    ;  473				break;
                           A  4536    .LINE 473
                           A  4537    
04178C 18 20               A  4538    	JR	L_103
                           A  4539    ;  474			case CHAR_GOAL:
04178E                     A  4540    L_89:
                           A  4541    .LINE 474
                           A  4542    
                           A  4543    ;  475				currentlevel.data[yn3][xn3]
                           A  4544    .LINE 475
                           A  4545    
04178E 01 72 58 04         A  4546    	LD	BC,_currentlevel+7
041792 DD0FE6              A  4547    	LD	(IX+%FFFFFFE6),BC
041795 DD0FED              A  4548    	LD	(IX+%FFFFFFED),BC
041798 DD0FEA              A  4549    	LD	(IX+%FFFFFFEA),BC
04179B DD0FF0              A  4550    	LD	(IX+%FFFFFFF0),BC
04179E DD27F7              A  4551    	LD	HL,(IX+%FFFFFFF7)
0417A1 09                  A  4552    	ADD	HL,BC
0417A2 E5D1                A  4553    	LD	DE,HL
0417A4 DD0712              A  4554    	LD	BC,(IX+%12)
0417A7 CD 3B 2B 04         A  4555    	CALL	__stoiu
0417AB 19                  A  4556    	ADD	HL,DE
0417AC 362B                A  4557    	LD	(HL),%2B
                           A  4558    ;  476				break;
                           A  4559    ;  477			default:
                           A  4560    ;  478				break;
                           A  4561    ;  479		}
0417AE                     A  4562    L_103:
                           A  4563    .LINE 479
                           A  4564    
                           A  4565    ;  480		
                           A  4566    ;  481		if(undomove.pushed)
                           A  4567    .LINE 481
                           A  4568    
0417AE 3A B9 4F 04         A  4569    	LD	A,(_undomove+1)
0417B2 B7                  A  4570    	OR	A,A
0417B3 CA 46 18 04         A  4571    	JR	Z,L_102
                           A  4572    ;  482		{
                           A  4573    ;  483			switch(n1)
                           A  4574    .LINE 483
                           A  4575    
0417B7 DD7EE9              A  4576    	LD	A,(IX+%FFFFFFE9)
0417BA B7ED62              A  4577    	UEXT	HL
0417BD 6F                  A  4578    	LD	L,A
0417BE CD 4F 32 04         A  4579    	CALL	__case8D
0417C2 E9                  A  4580    	JP	(HL)
0417C3                     A  4581    L__36:
0417C3 0200                A  4582    	DW	2
0417C5 24                  A  4583    	DB	36
0417C6 D01704              A  4584    	DW24	L_91	
                           A  4585    
0417C9 2A                  A  4586    	DB	42
0417CA E51704              A  4587    	DW24	L_92	
                           A  4588    
0417CD 011804              A  4589    	DW24	L_98	
                           A  4590    
                           A  4591    ;  484			{
                           A  4592    ;  485				case CHAR_BOX:
0417D0                     A  4593    L_91:
                           A  4594    .LINE 485
                           A  4595    
                           A  4596    ;  486					currentlevel.data[yn1][
                           A  4597    .LINE 486
                           A  4598    
0417D0 DD07F4              A  4599    	LD	BC,(IX+%FFFFFFF4)
0417D3 DD27E6              A  4600    	LD	HL,(IX+%FFFFFFE6)
0417D6 09                  A  4601    	ADD	HL,BC
0417D7 E5D1                A  4602    	LD	DE,HL
0417D9 DD0706              A  4603    	LD	BC,(IX+%6)
0417DC CD 3B 2B 04         A  4604    	CALL	__stoiu
0417E0 19                  A  4605    	ADD	HL,DE
0417E1 3620                A  4606    	LD	(HL),%20
                           A  4607    ;  487					break;
                           A  4608    .LINE 487
                           A  4609    
0417E3 18 1C               A  4610    	JR	L_98
                           A  4611    ;  488				case CHAR_BOXONGOAL:
0417E5                     A  4612    L_92:
                           A  4613    .LINE 488
                           A  4614    
                           A  4615    ;  489					currentlevel.data[yn1][
                           A  4616    .LINE 489
                           A  4617    
0417E5 DD07F4              A  4618    	LD	BC,(IX+%FFFFFFF4)
0417E8 DD27ED              A  4619    	LD	HL,(IX+%FFFFFFED)
0417EB 09                  A  4620    	ADD	HL,BC
0417EC E5D1                A  4621    	LD	DE,HL
0417EE DD0706              A  4622    	LD	BC,(IX+%6)
0417F1 CD 3B 2B 04         A  4623    	CALL	__stoiu
0417F5 19                  A  4624    	ADD	HL,DE
0417F6 362E                A  4625    	LD	(HL),%2E
                           A  4626    ;  490					currentlevel.goalstaken
                           A  4627    .LINE 490
                           A  4628    
0417F8 3A 70 58 04         A  4629    	LD	A,(_currentlevel+5)
0417FC 3D                  A  4630    	DEC	A
0417FD 32 70 58 04         A  4631    	LD	(_currentlevel+5),A
                           A  4632    ;  491					break;
                           A  4633    ;  492				default:
                           A  4634    ;  493					break;
                           A  4635    ;  494			}
041801                     A  4636    L_98:
                           A  4637    .LINE 494
                           A  4638    
                           A  4639    ;  495			switch(n2) // revert push to bo
                           A  4640    .LINE 495
                           A  4641    
041801 DD7EF3              A  4642    	LD	A,(IX+%FFFFFFF3)
041804 B7ED62              A  4643    	UEXT	HL
041807 6F                  A  4644    	LD	L,A
041808 012B0000            A  4645    	LD	BC,43
04180C B7                  A  4646    	OR	A,A
04180D ED42                A  4647    	SBC	HL,BC
04180F 20 1F               A  4648    	JR	NZ,L_97
                           A  4649    ;  496			{
                           A  4650    ;  497				case CHAR_PLAYERONGOAL:
                           A  4651    .LINE 497
                           A  4652    
                           A  4653    ;  498					currentlevel.data[yn2][
                           A  4654    .LINE 498
                           A  4655    
041811 01 72 58 04         A  4656    	LD	BC,_currentlevel+7
041815 DD27FA              A  4657    	LD	HL,(IX+%FFFFFFFA)
041818 09                  A  4658    	ADD	HL,BC
041819 E5D1                A  4659    	LD	DE,HL
04181B DD070C              A  4660    	LD	BC,(IX+%C)
04181E CD 3B 2B 04         A  4661    	CALL	__stoiu
041822 19                  A  4662    	ADD	HL,DE
041823 362A                A  4663    	LD	(HL),%2A
                           A  4664    ;  499					currentlevel.goalstaken
                           A  4665    .LINE 499
                           A  4666    
041825 3A 70 58 04         A  4667    	LD	A,(_currentlevel+5)
041829 3C                  A  4668    	INC	A
04182A 32 70 58 04         A  4669    	LD	(_currentlevel+5),A
                           A  4670    ;  500					break;
                           A  4671    .LINE 500
                           A  4672    
04182E 18 4E               A  4673    	JR	L_104
                           A  4674    ;  501				default:
041830                     A  4675    L_97:
                           A  4676    .LINE 501
                           A  4677    
                           A  4678    ;  502					currentlevel.data[yn2][
                           A  4679    .LINE 502
                           A  4680    
041830 01 72 58 04         A  4681    	LD	BC,_currentlevel+7
041834 DD27FA              A  4682    	LD	HL,(IX+%FFFFFFFA)
041837 09                  A  4683    	ADD	HL,BC
041838 E5D1                A  4684    	LD	DE,HL
04183A DD070C              A  4685    	LD	BC,(IX+%C)
04183D CD 3B 2B 04         A  4686    	CALL	__stoiu
041841 19                  A  4687    	ADD	HL,DE
041842 3624                A  4688    	LD	(HL),%24
                           A  4689    ;  503					break;
                           A  4690    .LINE 503
                           A  4691    
041844 18 38               A  4692    	JR	L_104
                           A  4693    ;  504			}
                           A  4694    ;  505		}
                           A  4695    ;  506		else // only the player switched po
041846                     A  4696    L_102:
                           A  4697    .LINE 506
                           A  4698    
                           A  4699    ;  507		{
                           A  4700    ;  508			switch(n2)
                           A  4701    .LINE 508
                           A  4702    
041846 DD7EF3              A  4703    	LD	A,(IX+%FFFFFFF3)
041849 B7ED62              A  4704    	UEXT	HL
04184C 6F                  A  4705    	LD	L,A
04184D 012B0000            A  4706    	LD	BC,43
041851 B7                  A  4707    	OR	A,A
041852 ED42                A  4708    	SBC	HL,BC
041854 20 15               A  4709    	JR	NZ,L_100
                           A  4710    ;  509			{
                           A  4711    ;  510				case CHAR_PLAYERONGOAL:
                           A  4712    .LINE 510
                           A  4713    
                           A  4714    ;  511					currentlevel.data[yn2][
                           A  4715    .LINE 511
                           A  4716    
041856 DD07FA              A  4717    	LD	BC,(IX+%FFFFFFFA)
041859 DD27EA              A  4718    	LD	HL,(IX+%FFFFFFEA)
04185C 09                  A  4719    	ADD	HL,BC
04185D E5D1                A  4720    	LD	DE,HL
04185F DD070C              A  4721    	LD	BC,(IX+%C)
041862 CD 3B 2B 04         A  4722    	CALL	__stoiu
041866 19                  A  4723    	ADD	HL,DE
041867 362E                A  4724    	LD	(HL),%2E
                           A  4725    ;  512					break;
                           A  4726    .LINE 512
                           A  4727    
041869 18 13               A  4728    	JR	L_104
                           A  4729    ;  513				default:
04186B                     A  4730    L_100:
                           A  4731    .LINE 513
                           A  4732    
                           A  4733    ;  514					currentlevel.data[yn2][
                           A  4734    .LINE 514
                           A  4735    
04186B DD07FA              A  4736    	LD	BC,(IX+%FFFFFFFA)
04186E DD27F0              A  4737    	LD	HL,(IX+%FFFFFFF0)
041871 09                  A  4738    	ADD	HL,BC
041872 E5D1                A  4739    	LD	DE,HL
041874 DD070C              A  4740    	LD	BC,(IX+%C)
041877 CD 3B 2B 04         A  4741    	CALL	__stoiu
04187B 19                  A  4742    	ADD	HL,DE
04187C 3620                A  4743    	LD	(HL),%20
                           A  4744    ;  515					break;
                           A  4745    ;  516			}
                           A  4746    ;  517		}
04187E                     A  4747    L_104:
                           A  4748    .LINE 517
                           A  4749    
                           A  4750    ;  518		
                           A  4751    ;  519		// update player position
                           A  4752    ;  520		currentlevel.xpos = xn3;
                           A  4753    .LINE 520
                           A  4754    
04187E DD7E12              A  4755    	LD	A,(IX+%12)
041881 32 6B 58 04         A  4756    	LD	(_currentlevel),A
                           A  4757    ;  521		currentlevel.ypos = yn3;
                           A  4758    .LINE 521
                           A  4759    
041885 DD7E15              A  4760    	LD	A,(IX+%15)
041888 32 6C 58 04         A  4761    	LD	(_currentlevel+1),A
                           A  4762    ;  522	}
                           A  4763    .LINE 522
                           A  4764    
04188C DDF9                A  4765    	LD	SP,IX
04188E DDE1                A  4766    	POP	IX
041890 C9                  A  4767    	RET	
                           A  4768    
                           A  4769    
                           A  4770    ;**************************** _undomove_updatel
                           A  4771    ;Name                         Addr/Register   S
                           A  4772    ;_undomove                           STATIC    
                           A  4773    ;_currentlevel                       STATIC   1
                           A  4774    ;n3                                   IX-27    
                           A  4775    ;G_17                                 IX-26    
                           A  4776    ;n1                                   IX-23    
                           A  4777    ;G_23                                 IX-22    
                           A  4778    ;G_19                                 IX-19    
                           A  4779    ;G_25                                 IX-16    
                           A  4780    ;n2                                   IX-13    
                           A  4781    ;G_18                                 IX-12    
                           A  4782    ;G_14                                  IX-9    
                           A  4783    ;G_21                                  IX-6    
                           A  4784    ;yn3                                  IX+21    
                           A  4785    ;xn3                                  IX+18    
                           A  4786    ;yn2                                  IX+15    
                           A  4787    ;xn2                                  IX+12    
                           A  4788    ;yn1                                   IX+9    
                           A  4789    ;xn1                                   IX+6    
                           A  4790    
                           A  4791    
                           A  4792    ; Stack Frame Size: 51 (bytes)
                           A  4793    ;       Spill Code: 0 (instruction)
                           A  4794    
                           A  4795    
                           A  4796    .ENDFUNC "undomove_updatelevel",522,"_undomove_
                           A  4797    ;  523	
                           A  4798    ;  524	void game_handleUndoMove(void)
                           A  4799    ;  525	{
041891                     A  4800    _game_handleUndoMove:
                           A  4801    .DEFINE "_game_handleUndoMove"
                           A  4802    
                           A  4803    .VALUE _game_handleUndoMove
                           A  4804    
                           A  4805    .CLASS 2
                           A  4806    
                           A  4807    .TYPE 65
                           A  4808    
                           A  4809    .ENDEF
                           A  4810    
                           A  4811    .BEGFUNC "game_handleUndoMove",525,"_game_handl
                           A  4812    
                           A  4813    .LINE 525
                           A  4814    
                           A  4815    .DEFINE "xn2"
                           A  4816    
                           A  4817    .CLASS 65
                           A  4818    
                           A  4819    .VALUE -2
                           A  4820    
                           A  4821    .TYPE 3
                           A  4822    
                           A  4823    .ENDEF
                           A  4824    
                           A  4825    .DEFINE "yn2"
                           A  4826    
                           A  4827    .CLASS 65
                           A  4828    
                           A  4829    .VALUE -4
                           A  4830    
                           A  4831    .TYPE 3
                           A  4832    
                           A  4833    .ENDEF
                           A  4834    
                           A  4835    .DEFINE "yn1"
                           A  4836    
                           A  4837    .CLASS 65
                           A  4838    
                           A  4839    .VALUE -6
                           A  4840    
                           A  4841    .TYPE 3
                           A  4842    
                           A  4843    .ENDEF
                           A  4844    
                           A  4845    .DEFINE "xn1"
                           A  4846    
                           A  4847    .CLASS 65
                           A  4848    
                           A  4849    .VALUE -8
                           A  4850    
                           A  4851    .TYPE 3
                           A  4852    
                           A  4853    .ENDEF
                           A  4854    
                           A  4855    .DEFINE "xn3"
                           A  4856    
                           A  4857    .CLASS 65
                           A  4858    
                           A  4859    .VALUE -10
                           A  4860    
                           A  4861    .TYPE 3
                           A  4862    
                           A  4863    .ENDEF
                           A  4864    
                           A  4865    .DEFINE "yn3"
                           A  4866    
                           A  4867    .CLASS 65
                           A  4868    
                           A  4869    .VALUE -12
                           A  4870    
                           A  4871    .TYPE 3
                           A  4872    
                           A  4873    .ENDEF
                           A  4874    
041891 DDE5                A  4875    	PUSH	IX
041893 DD210000 00         A  4876    	LD	IX,0
041898 DD39                A  4877    	ADD	IX,SP
04189A ED22F4              A  4878    	LEA	HL,IX+%FFFFFFF4
04189D F9                  A  4879    	LD	SP,HL
                           A  4880    ;  526		INT16 xn1 = 0, xn2 = 0, yn1 = 0, yn
                           A  4881    .LINE 526
                           A  4882    
04189E DD36F800            A  4883    	LD	(IX+%FFFFFFF8),%0
0418A2 DD36F900            A  4884    	LD	(IX+%FFFFFFF9),%0
0418A6 DD36FA00            A  4885    	LD	(IX+%FFFFFFFA),%0
0418AA DD36FB00            A  4886    	LD	(IX+%FFFFFFFB),%0
0418AE DD36F600            A  4887    	LD	(IX+%FFFFFFF6),%0
0418B2 DD36F700            A  4888    	LD	(IX+%FFFFFFF7),%0
0418B6 DD36F400            A  4889    	LD	(IX+%FFFFFFF4),%0
0418BA DD36F500            A  4890    	LD	(IX+%FFFFFFF5),%0
                           A  4891    ;  527		
                           A  4892    ;  528		if(num_undomoves)
                           A  4893    .LINE 528
                           A  4894    
0418BE 3A BA 4F 04         A  4895    	LD	A,(_num_undomoves)
0418C2 B7                  A  4896    	OR	A,A
0418C3 CA E2 19 04         A  4897    	JR	Z,L_112
                           A  4898    ;  529		{
                           A  4899    ;  530			xn2 = currentlevel.xpos;
                           A  4900    .LINE 530
                           A  4901    
0418C7 3A 6B 58 04         A  4902    	LD	A,(_currentlevel)
0418CB 4F                  A  4903    	LD	C,A
0418CC 0600                A  4904    	LD	B,%0
0418CE C5E1                A  4905    	LD	HL,BC
0418D0 DD75FE              A  4906    	LD	(IX+%FFFFFFFE),L
0418D3 DD74FF              A  4907    	LD	(IX+%FFFFFFFF),H
                           A  4908    ;  531			yn2 = currentlevel.ypos;
                           A  4909    .LINE 531
                           A  4910    
0418D6 3A 6C 58 04         A  4911    	LD	A,(_currentlevel+1)
0418DA 4F                  A  4912    	LD	C,A
0418DB C5E1                A  4913    	LD	HL,BC
0418DD DD75FC              A  4914    	LD	(IX+%FFFFFFFC),L
0418E0 DD74FD              A  4915    	LD	(IX+%FFFFFFFD),H
                           A  4916    ;  532			
                           A  4917    ;  533			switch(undomove.movekey)
                           A  4918    .LINE 533
                           A  4919    
0418E3 3A B8 4F 04         A  4920    	LD	A,(_undomove)
0418E7 B7ED62              A  4921    	UEXT	HL
0418EA 6F                  A  4922    	LD	L,A
0418EB CD 4F 32 04         A  4923    	CALL	__case8D
0418EF E9                  A  4924    	JP	(HL)
0418F0                     A  4925    L__39:
0418F0 0400                A  4926    	DW	4
0418F2 08                  A  4927    	DB	8
0418F3 051904              A  4928    	DW24	L_106	
                           A  4929    
0418F6 0A                  A  4930    	DB	10
0418F7 551904              A  4931    	DW24	L_108	
                           A  4932    
0418FA 0B                  A  4933    	DB	11
0418FB 2D1904              A  4934    	DW24	L_107	
                           A  4935    
0418FE 15                  A  4936    	DB	21
0418FF 7D1904              A  4937    	DW24	L_109	
                           A  4938    
041902 A31904              A  4939    	DW24	L_110	
                           A  4940    
                           A  4941    ;  534			{
                           A  4942    ;  535				case 0x8: // undo LEFT
041905                     A  4943    L_106:
                           A  4944    .LINE 535
                           A  4945    
                           A  4946    ;  536					yn1 = yn2;
                           A  4947    .LINE 536
                           A  4948    
041905 DD07FC              A  4949    	LD	BC,(IX+%FFFFFFFC)
041908 DD71FA              A  4950    	LD	(IX+%FFFFFFFA),C
04190B DD70FB              A  4951    	LD	(IX+%FFFFFFFB),B
                           A  4952    ;  537					yn3 = yn2;
                           A  4953    .LINE 537
                           A  4954    
04190E DD07FC              A  4955    	LD	BC,(IX+%FFFFFFFC)
041911 DD71F4              A  4956    	LD	(IX+%FFFFFFF4),C
041914 DD70F5              A  4957    	LD	(IX+%FFFFFFF5),B
                           A  4958    ;  538					xn1 = xn2 - 1;
                           A  4959    .LINE 538
                           A  4960    
041917 DD27FE              A  4961    	LD	HL,(IX+%FFFFFFFE)
04191A 2B                  A  4962    	DEC	HL
04191B DD75F8              A  4963    	LD	(IX+%FFFFFFF8),L
04191E DD74F9              A  4964    	LD	(IX+%FFFFFFF9),H
                           A  4965    ;  539					xn3 = xn2 + 1;
                           A  4966    .LINE 539
                           A  4967    
041921 DD27FE              A  4968    	LD	HL,(IX+%FFFFFFFE)
041924 23                  A  4969    	INC	HL
041925 DD75F6              A  4970    	LD	(IX+%FFFFFFF6),L
041928 DD74F7              A  4971    	LD	(IX+%FFFFFFF7),H
                           A  4972    ;  540					break;
                           A  4973    .LINE 540
                           A  4974    
04192B 18 76               A  4975    	JR	L_110
                           A  4976    ;  541				case 0xb: // undo UP
04192D                     A  4977    L_107:
                           A  4978    .LINE 541
                           A  4979    
                           A  4980    ;  542					xn1 = xn2;
                           A  4981    .LINE 542
                           A  4982    
04192D DD07FE              A  4983    	LD	BC,(IX+%FFFFFFFE)
041930 DD71F8              A  4984    	LD	(IX+%FFFFFFF8),C
041933 DD70F9              A  4985    	LD	(IX+%FFFFFFF9),B
                           A  4986    ;  543					xn3 = xn2;
                           A  4987    .LINE 543
                           A  4988    
041936 DD07FE              A  4989    	LD	BC,(IX+%FFFFFFFE)
041939 DD71F6              A  4990    	LD	(IX+%FFFFFFF6),C
04193C DD70F7              A  4991    	LD	(IX+%FFFFFFF7),B
                           A  4992    ;  544					yn1 = yn2 - 1;
                           A  4993    .LINE 544
                           A  4994    
04193F DD27FC              A  4995    	LD	HL,(IX+%FFFFFFFC)
041942 2B                  A  4996    	DEC	HL
041943 DD75FA              A  4997    	LD	(IX+%FFFFFFFA),L
041946 DD74FB              A  4998    	LD	(IX+%FFFFFFFB),H
                           A  4999    ;  545					yn3 = yn2 + 1;
                           A  5000    .LINE 545
                           A  5001    
041949 DD27FC              A  5002    	LD	HL,(IX+%FFFFFFFC)
04194C 23                  A  5003    	INC	HL
04194D DD75F4              A  5004    	LD	(IX+%FFFFFFF4),L
041950 DD74F5              A  5005    	LD	(IX+%FFFFFFF5),H
                           A  5006    ;  546					break;
                           A  5007    .LINE 546
                           A  5008    
041953 18 4E               A  5009    	JR	L_110
                           A  5010    ;  547				case 0xa: // undo DOWN
041955                     A  5011    L_108:
                           A  5012    .LINE 547
                           A  5013    
                           A  5014    ;  548					xn1 = xn2;
                           A  5015    .LINE 548
                           A  5016    
041955 DD07FE              A  5017    	LD	BC,(IX+%FFFFFFFE)
041958 DD71F8              A  5018    	LD	(IX+%FFFFFFF8),C
04195B DD70F9              A  5019    	LD	(IX+%FFFFFFF9),B
                           A  5020    ;  549					xn3 = xn2;
                           A  5021    .LINE 549
                           A  5022    
04195E DD07FE              A  5023    	LD	BC,(IX+%FFFFFFFE)
041961 DD71F6              A  5024    	LD	(IX+%FFFFFFF6),C
041964 DD70F7              A  5025    	LD	(IX+%FFFFFFF7),B
                           A  5026    ;  550					yn1 = yn2 + 1;
                           A  5027    .LINE 550
                           A  5028    
041967 DD27FC              A  5029    	LD	HL,(IX+%FFFFFFFC)
04196A 23                  A  5030    	INC	HL
04196B DD75FA              A  5031    	LD	(IX+%FFFFFFFA),L
04196E DD74FB              A  5032    	LD	(IX+%FFFFFFFB),H
                           A  5033    ;  551					yn3 = yn2 - 1;
                           A  5034    .LINE 551
                           A  5035    
041971 DD27FC              A  5036    	LD	HL,(IX+%FFFFFFFC)
041974 2B                  A  5037    	DEC	HL
041975 DD75F4              A  5038    	LD	(IX+%FFFFFFF4),L
041978 DD74F5              A  5039    	LD	(IX+%FFFFFFF5),H
                           A  5040    ;  552					break;
                           A  5041    .LINE 552
                           A  5042    
04197B 18 26               A  5043    	JR	L_110
                           A  5044    ;  553				case 0x15: // undo RIGHT
04197D                     A  5045    L_109:
                           A  5046    .LINE 553
                           A  5047    
                           A  5048    ;  554					yn1 = yn2;
                           A  5049    .LINE 554
                           A  5050    
04197D DD07FC              A  5051    	LD	BC,(IX+%FFFFFFFC)
041980 DD71FA              A  5052    	LD	(IX+%FFFFFFFA),C
041983 DD70FB              A  5053    	LD	(IX+%FFFFFFFB),B
                           A  5054    ;  555					yn3 = yn2;
                           A  5055    .LINE 555
                           A  5056    
041986 DD07FC              A  5057    	LD	BC,(IX+%FFFFFFFC)
041989 DD71F4              A  5058    	LD	(IX+%FFFFFFF4),C
04198C DD70F5              A  5059    	LD	(IX+%FFFFFFF5),B
                           A  5060    ;  556					xn1 = xn2 + 1;
                           A  5061    .LINE 556
                           A  5062    
04198F DD27FE              A  5063    	LD	HL,(IX+%FFFFFFFE)
041992 23                  A  5064    	INC	HL
041993 DD75F8              A  5065    	LD	(IX+%FFFFFFF8),L
041996 DD74F9              A  5066    	LD	(IX+%FFFFFFF9),H
                           A  5067    ;  557					xn3 = xn2 - 1;
                           A  5068    .LINE 557
                           A  5069    
041999 DD27FE              A  5070    	LD	HL,(IX+%FFFFFFFE)
04199C 2B                  A  5071    	DEC	HL
04199D DD75F6              A  5072    	LD	(IX+%FFFFFFF6),L
0419A0 DD74F7              A  5073    	LD	(IX+%FFFFFFF7),H
                           A  5074    ;  558					break;
                           A  5075    ;  559			}
0419A3                     A  5076    L_110:
                           A  5077    .LINE 559
                           A  5078    
                           A  5079    ;  560			undomove_sprites(xn1,yn1,xn2,yn
                           A  5080    .LINE 560
                           A  5081    
0419A3 DD07FC              A  5082    	LD	BC,(IX+%FFFFFFFC)
0419A6 C5                  A  5083    	PUSH	BC
0419A7 DD07FE              A  5084    	LD	BC,(IX+%FFFFFFFE)
0419AA C5                  A  5085    	PUSH	BC
0419AB DD07FA              A  5086    	LD	BC,(IX+%FFFFFFFA)
0419AE C5                  A  5087    	PUSH	BC
0419AF DD07F8              A  5088    	LD	BC,(IX+%FFFFFFF8)
0419B2 C5                  A  5089    	PUSH	BC
0419B3 CD 2A 13 04         A  5090    	CALL	_undomove_sprites
0419B7 C1                  A  5091    	POP	BC
0419B8 C1                  A  5092    	POP	BC
0419B9 C1                  A  5093    	POP	BC
0419BA C1                  A  5094    	POP	BC
                           A  5095    ;  561			undomove_updatelevel(xn1, yn1, 
                           A  5096    .LINE 561
                           A  5097    
0419BB DD07F4              A  5098    	LD	BC,(IX+%FFFFFFF4)
0419BE C5                  A  5099    	PUSH	BC
0419BF DD07F6              A  5100    	LD	BC,(IX+%FFFFFFF6)
0419C2 C5                  A  5101    	PUSH	BC
0419C3 DD07FC              A  5102    	LD	BC,(IX+%FFFFFFFC)
0419C6 C5                  A  5103    	PUSH	BC
0419C7 DD07FE              A  5104    	LD	BC,(IX+%FFFFFFFE)
0419CA C5                  A  5105    	PUSH	BC
0419CB DD07FA              A  5106    	LD	BC,(IX+%FFFFFFFA)
0419CE C5                  A  5107    	PUSH	BC
0419CF DD07F8              A  5108    	LD	BC,(IX+%FFFFFFF8)
0419D2 C5                  A  5109    	PUSH	BC
0419D3 CD D0 16 04         A  5110    	CALL	_undomove_updatelevel
0419D7 C1                  A  5111    	POP	BC
0419D8 C1                  A  5112    	POP	BC
0419D9 C1                  A  5113    	POP	BC
0419DA C1                  A  5114    	POP	BC
0419DB C1                  A  5115    	POP	BC
0419DC C1                  A  5116    	POP	BC
                           A  5117    ;  562			num_undomoves = 0;
                           A  5118    .LINE 562
                           A  5119    
0419DD AF                  A  5120    	XOR	A,A
0419DE 32 BA 4F 04         A  5121    	LD	(_num_undomoves),A
                           A  5122    ;  563		}
                           A  5123    ;  564	}
0419E2                     A  5124    L_112:
                           A  5125    .LINE 564
                           A  5126    
0419E2 DDF9                A  5127    	LD	SP,IX
0419E4 DDE1                A  5128    	POP	IX
0419E6 C9                  A  5129    	RET	
                           A  5130    
                           A  5131    
                           A  5132    ;**************************** _game_handleUndoM
                           A  5133    ;Name                         Addr/Register   S
                           A  5134    ;_undomove                           STATIC    
                           A  5135    ;_currentlevel                       STATIC   1
                           A  5136    ;_num_undomoves                      STATIC    
                           A  5137    ;yn3                                  IX-12    
                           A  5138    ;xn3                                  IX-10    
                           A  5139    ;xn1                                   IX-8    
                           A  5140    ;yn1                                   IX-6    
                           A  5141    ;yn2                                   IX-4    
                           A  5142    ;xn2                                   IX-2    
                           A  5143    
                           A  5144    
                           A  5145    ; Stack Frame Size: 18 (bytes)
                           A  5146    ;       Spill Code: 0 (instruction)
                           A  5147    
                           A  5148    
                           A  5149    .ENDFUNC "game_handleUndoMove",564,"_game_handl
                           A  5150    ;  565	
                           A  5151    ;  566	BOOL game_handleKey(char key)
                           A  5152    ;  567	{
0419E7                     A  5153    _game_handleKey:
                           A  5154    .DEFINE "_game_handleKey"
                           A  5155    
                           A  5156    .VALUE _game_handleKey
                           A  5157    
                           A  5158    .CLASS 2
                           A  5159    
                           A  5160    .TYPE 76
                           A  5161    
                           A  5162    .ENDEF
                           A  5163    
                           A  5164    .BEGFUNC "game_handleKey",567,"_game_handleKey"
                           A  5165    
                           A  5166    .LINE 567
                           A  5167    
                           A  5168    .DEFINE "key"
                           A  5169    
                           A  5170    .CLASS 65
                           A  5171    
                           A  5172    .VALUE 6
                           A  5173    
                           A  5174    .TYPE 2
                           A  5175    
                           A  5176    .ENDEF
                           A  5177    
                           A  5178    .DEFINE "xn1"
                           A  5179    
                           A  5180    .CLASS 65
                           A  5181    
                           A  5182    .VALUE -2
                           A  5183    
                           A  5184    .TYPE 3
                           A  5185    
                           A  5186    .ENDEF
                           A  5187    
                           A  5188    .DEFINE "yn1"
                           A  5189    
                           A  5190    .CLASS 65
                           A  5191    
                           A  5192    .VALUE -4
                           A  5193    
                           A  5194    .TYPE 3
                           A  5195    
                           A  5196    .ENDEF
                           A  5197    
                           A  5198    .DEFINE "xn2"
                           A  5199    
                           A  5200    .CLASS 65
                           A  5201    
                           A  5202    .VALUE -6
                           A  5203    
                           A  5204    .TYPE 3
                           A  5205    
                           A  5206    .ENDEF
                           A  5207    
                           A  5208    .DEFINE "yn2"
                           A  5209    
                           A  5210    .CLASS 65
                           A  5211    
                           A  5212    .VALUE -8
                           A  5213    
                           A  5214    .TYPE 3
                           A  5215    
                           A  5216    .ENDEF
                           A  5217    
                           A  5218    .DEFINE "move"
                           A  5219    
                           A  5220    .CLASS 65
                           A  5221    
                           A  5222    .VALUE -9
                           A  5223    
                           A  5224    .TYPE 12
                           A  5225    
                           A  5226    .ENDEF
                           A  5227    
                           A  5228    .DEFINE "done"
                           A  5229    
                           A  5230    .CLASS 65
                           A  5231    
                           A  5232    .VALUE -10
                           A  5233    
                           A  5234    .TYPE 12
                           A  5235    
                           A  5236    .ENDEF
                           A  5237    
0419E7 DDE5                A  5238    	PUSH	IX
0419E9 DD210000 00         A  5239    	LD	IX,0
0419EE DD39                A  5240    	ADD	IX,SP
0419F0 ED22ED              A  5241    	LEA	HL,IX+%FFFFFFED
0419F3 F9                  A  5242    	LD	SP,HL
                           A  5243    ;  568		BOOL done = FALSE;
                           A  5244    .LINE 568
                           A  5245    
0419F4 DD36F600            A  5246    	LD	(IX+%FFFFFFF6),%0
                           A  5247    ;  569		BOOL move = FALSE;
                           A  5248    ;  570		INT16	xn1 = 0,xn2 = 0,yn1 = 0,yn2
                           A  5249    .LINE 570
                           A  5250    
0419F8 DD36FE00            A  5251    	LD	(IX+%FFFFFFFE),%0
0419FC DD36FF00            A  5252    	LD	(IX+%FFFFFFFF),%0
041A00 DD36FA00            A  5253    	LD	(IX+%FFFFFFFA),%0
041A04 DD36FB00            A  5254    	LD	(IX+%FFFFFFFB),%0
041A08 DD36FC00            A  5255    	LD	(IX+%FFFFFFFC),%0
041A0C DD36FD00            A  5256    	LD	(IX+%FFFFFFFD),%0
041A10 DD36F800            A  5257    	LD	(IX+%FFFFFFF8),%0
041A14 DD36F900            A  5258    	LD	(IX+%FFFFFFF9),%0
                           A  5259    ;  571		
                           A  5260    ;  572		switch(key)
                           A  5261    .LINE 572
                           A  5262    
041A18 DD7E06              A  5263    	LD	A,(IX+%6)
041A1B 17ED62              A  5264    	SEXT	HL
041A1E DD6E06              A  5265    	LD	L,(IX+%6)
041A21 CD 4F 32 04         A  5266    	CALL	__case8D
041A25 E9                  A  5267    	JP	(HL)
041A26                     A  5268    L__41:
041A26 0400                A  5269    	DW	4
041A28 08                  A  5270    	DB	8
041A29 3B1A04              A  5271    	DW24	L_113	
                           A  5272    
041A2C 0A                  A  5273    	DB	10
041A2D C31A04              A  5274    	DW24	L_115	
                           A  5275    
041A30 0B                  A  5276    	DB	11
041A31 801A04              A  5277    	DW24	L_114	
                           A  5278    
041A34 15                  A  5279    	DB	21
041A35 041B04              A  5280    	DW24	L_116	
                           A  5281    
041A38 471B04              A  5282    	DW24	L_117	
                           A  5283    
                           A  5284    ;  573		{
                           A  5285    ;  574			case 0x8: // LEFT
041A3B                     A  5286    L_113:
                           A  5287    .LINE 574
                           A  5288    
                           A  5289    ;  575				xn1 = currentlevel.xpos - 1
                           A  5290    .LINE 575
                           A  5291    
041A3B 3A 6B 58 04         A  5292    	LD	A,(_currentlevel)
041A3F 4F                  A  5293    	LD	C,A
041A40 0600                A  5294    	LD	B,%0
041A42 0B                  A  5295    	DEC	BC
041A43 C5E1                A  5296    	LD	HL,BC
041A45 DD75FE              A  5297    	LD	(IX+%FFFFFFFE),L
041A48 DD74FF              A  5298    	LD	(IX+%FFFFFFFF),H
                           A  5299    ;  576				yn1 = currentlevel.ypos;
                           A  5300    .LINE 576
                           A  5301    
041A4B 3A 6C 58 04         A  5302    	LD	A,(_currentlevel+1)
041A4F 4F                  A  5303    	LD	C,A
041A50 0600                A  5304    	LD	B,%0
041A52 C5E1                A  5305    	LD	HL,BC
041A54 DD75FC              A  5306    	LD	(IX+%FFFFFFFC),L
041A57 DD74FD              A  5307    	LD	(IX+%FFFFFFFD),H
                           A  5308    ;  577				xn2 = currentlevel.xpos - 2
                           A  5309    .LINE 577
                           A  5310    
041A5A 3A 6B 58 04         A  5311    	LD	A,(_currentlevel)
041A5E 4F                  A  5312    	LD	C,A
041A5F 0B                  A  5313    	DEC	BC
041A60 0B                  A  5314    	DEC	BC
041A61 C5E1                A  5315    	LD	HL,BC
041A63 DD75FA              A  5316    	LD	(IX+%FFFFFFFA),L
041A66 DD74FB              A  5317    	LD	(IX+%FFFFFFFB),H
                           A  5318    ;  578				yn2 = currentlevel.ypos;
                           A  5319    .LINE 578
                           A  5320    
041A69 3A 6C 58 04         A  5321    	LD	A,(_currentlevel+1)
041A6D 4F                  A  5322    	LD	C,A
041A6E 0600                A  5323    	LD	B,%0
041A70 C5E1                A  5324    	LD	HL,BC
041A72 DD75F8              A  5325    	LD	(IX+%FFFFFFF8),L
041A75 DD74F9              A  5326    	LD	(IX+%FFFFFFF9),H
                           A  5327    ;  579				move = TRUE;
                           A  5328    .LINE 579
                           A  5329    
041A78 DD36F701            A  5330    	LD	(IX+%FFFFFFF7),%1
                           A  5331    ;  580				break;
                           A  5332    .LINE 580
                           A  5333    
041A7C C3 4B 1B 04         A  5334    	JR	L_125
                           A  5335    ;  581			case 0xb:
041A80                     A  5336    L_114:
                           A  5337    .LINE 581
                           A  5338    
                           A  5339    ;  582				xn1 = currentlevel.xpos;
                           A  5340    .LINE 582
                           A  5341    
041A80 3A 6B 58 04         A  5342    	LD	A,(_currentlevel)
041A84 4F                  A  5343    	LD	C,A
041A85 0600                A  5344    	LD	B,%0
041A87 C5E1                A  5345    	LD	HL,BC
041A89 DD75FE              A  5346    	LD	(IX+%FFFFFFFE),L
041A8C DD74FF              A  5347    	LD	(IX+%FFFFFFFF),H
                           A  5348    ;  583				yn1 = currentlevel.ypos - 1
                           A  5349    .LINE 583
                           A  5350    
041A8F 3A 6C 58 04         A  5351    	LD	A,(_currentlevel+1)
041A93 4F                  A  5352    	LD	C,A
041A94 0B                  A  5353    	DEC	BC
041A95 C5E1                A  5354    	LD	HL,BC
041A97 DD75FC              A  5355    	LD	(IX+%FFFFFFFC),L
041A9A DD74FD              A  5356    	LD	(IX+%FFFFFFFD),H
                           A  5357    ;  584				xn2 = currentlevel.xpos;
                           A  5358    .LINE 584
                           A  5359    
041A9D 3A 6B 58 04         A  5360    	LD	A,(_currentlevel)
041AA1 4F                  A  5361    	LD	C,A
041AA2 0600                A  5362    	LD	B,%0
041AA4 C5E1                A  5363    	LD	HL,BC
041AA6 DD75FA              A  5364    	LD	(IX+%FFFFFFFA),L
041AA9 DD74FB              A  5365    	LD	(IX+%FFFFFFFB),H
                           A  5366    ;  585				yn2 = currentlevel.ypos - 2
                           A  5367    .LINE 585
                           A  5368    
041AAC 3A 6C 58 04         A  5369    	LD	A,(_currentlevel+1)
041AB0 4F                  A  5370    	LD	C,A
041AB1 0B                  A  5371    	DEC	BC
041AB2 0B                  A  5372    	DEC	BC
041AB3 C5E1                A  5373    	LD	HL,BC
041AB5 DD75F8              A  5374    	LD	(IX+%FFFFFFF8),L
041AB8 DD74F9              A  5375    	LD	(IX+%FFFFFFF9),H
                           A  5376    ;  586				move = TRUE;
                           A  5377    .LINE 586
                           A  5378    
041ABB DD36F701            A  5379    	LD	(IX+%FFFFFFF7),%1
                           A  5380    ;  587				break;
                           A  5381    .LINE 587
                           A  5382    
041ABF C3 4B 1B 04         A  5383    	JR	L_125
                           A  5384    ;  588			case 0xa:
041AC3                     A  5385    L_115:
                           A  5386    .LINE 588
                           A  5387    
                           A  5388    ;  589				xn1 = currentlevel.xpos;
                           A  5389    .LINE 589
                           A  5390    
041AC3 3A 6B 58 04         A  5391    	LD	A,(_currentlevel)
041AC7 4F                  A  5392    	LD	C,A
041AC8 0600                A  5393    	LD	B,%0
041ACA C5E1                A  5394    	LD	HL,BC
041ACC DD75FE              A  5395    	LD	(IX+%FFFFFFFE),L
041ACF DD74FF              A  5396    	LD	(IX+%FFFFFFFF),H
                           A  5397    ;  590				yn1 = currentlevel.ypos + 1
                           A  5398    .LINE 590
                           A  5399    
041AD2 3A 6C 58 04         A  5400    	LD	A,(_currentlevel+1)
041AD6 4F                  A  5401    	LD	C,A
041AD7 03                  A  5402    	INC	BC
041AD8 C5E1                A  5403    	LD	HL,BC
041ADA DD75FC              A  5404    	LD	(IX+%FFFFFFFC),L
041ADD DD74FD              A  5405    	LD	(IX+%FFFFFFFD),H
                           A  5406    ;  591				xn2 = currentlevel.xpos;
                           A  5407    .LINE 591
                           A  5408    
041AE0 3A 6B 58 04         A  5409    	LD	A,(_currentlevel)
041AE4 4F                  A  5410    	LD	C,A
041AE5 0600                A  5411    	LD	B,%0
041AE7 C5E1                A  5412    	LD	HL,BC
041AE9 DD75FA              A  5413    	LD	(IX+%FFFFFFFA),L
041AEC DD74FB              A  5414    	LD	(IX+%FFFFFFFB),H
                           A  5415    ;  592				yn2 = currentlevel.ypos + 2
                           A  5416    .LINE 592
                           A  5417    
041AEF 3A 6C 58 04         A  5418    	LD	A,(_currentlevel+1)
041AF3 4F                  A  5419    	LD	C,A
041AF4 03                  A  5420    	INC	BC
041AF5 03                  A  5421    	INC	BC
041AF6 C5E1                A  5422    	LD	HL,BC
041AF8 DD75F8              A  5423    	LD	(IX+%FFFFFFF8),L
041AFB DD74F9              A  5424    	LD	(IX+%FFFFFFF9),H
                           A  5425    ;  593				move = TRUE;
                           A  5426    .LINE 593
                           A  5427    
041AFE DD36F701            A  5428    	LD	(IX+%FFFFFFF7),%1
                           A  5429    ;  594				break;
                           A  5430    .LINE 594
                           A  5431    
041B02 18 47               A  5432    	JR	L_125
                           A  5433    ;  595			case 0x15: // RIGHT
041B04                     A  5434    L_116:
                           A  5435    .LINE 595
                           A  5436    
                           A  5437    ;  596				xn1 = currentlevel.xpos + 1
                           A  5438    .LINE 596
                           A  5439    
041B04 3A 6B 58 04         A  5440    	LD	A,(_currentlevel)
041B08 4F                  A  5441    	LD	C,A
041B09 0600                A  5442    	LD	B,%0
041B0B 03                  A  5443    	INC	BC
041B0C C5E1                A  5444    	LD	HL,BC
041B0E DD75FE              A  5445    	LD	(IX+%FFFFFFFE),L
041B11 DD74FF              A  5446    	LD	(IX+%FFFFFFFF),H
                           A  5447    ;  597				yn1 = currentlevel.ypos;
                           A  5448    .LINE 597
                           A  5449    
041B14 3A 6C 58 04         A  5450    	LD	A,(_currentlevel+1)
041B18 4F                  A  5451    	LD	C,A
041B19 0600                A  5452    	LD	B,%0
041B1B C5E1                A  5453    	LD	HL,BC
041B1D DD75FC              A  5454    	LD	(IX+%FFFFFFFC),L
041B20 DD74FD              A  5455    	LD	(IX+%FFFFFFFD),H
                           A  5456    ;  598				xn2 = currentlevel.xpos + 2
                           A  5457    .LINE 598
                           A  5458    
041B23 3A 6B 58 04         A  5459    	LD	A,(_currentlevel)
041B27 4F                  A  5460    	LD	C,A
041B28 03                  A  5461    	INC	BC
041B29 03                  A  5462    	INC	BC
041B2A C5E1                A  5463    	LD	HL,BC
041B2C DD75FA              A  5464    	LD	(IX+%FFFFFFFA),L
041B2F DD74FB              A  5465    	LD	(IX+%FFFFFFFB),H
                           A  5466    ;  599				yn2 = currentlevel.ypos;
                           A  5467    .LINE 599
                           A  5468    
041B32 3A 6C 58 04         A  5469    	LD	A,(_currentlevel+1)
041B36 4F                  A  5470    	LD	C,A
041B37 0600                A  5471    	LD	B,%0
041B39 C5E1                A  5472    	LD	HL,BC
041B3B DD75F8              A  5473    	LD	(IX+%FFFFFFF8),L
041B3E DD74F9              A  5474    	LD	(IX+%FFFFFFF9),H
                           A  5475    ;  600				move = TRUE;
                           A  5476    .LINE 600
                           A  5477    
041B41 DD36F701            A  5478    	LD	(IX+%FFFFFFF7),%1
                           A  5479    ;  601				break;
                           A  5480    .LINE 601
                           A  5481    
041B45 18 04               A  5482    	JR	L_125
                           A  5483    ;  602			default:
041B47                     A  5484    L_117:
                           A  5485    .LINE 602
                           A  5486    
                           A  5487    ;  603				move = FALSE;
                           A  5488    .LINE 603
                           A  5489    
041B47 DD36F700            A  5490    	LD	(IX+%FFFFFFF7),%0
                           A  5491    ;  604				break;
                           A  5492    ;  605		}
041B4B                     A  5493    L_125:
                           A  5494    .LINE 605
                           A  5495    
                           A  5496    ;  606		if(move)
                           A  5497    .LINE 606
                           A  5498    
041B4B DD7EF7              A  5499    	LD	A,(IX+%FFFFFFF7)
041B4E B7                  A  5500    	OR	A,A
041B4F CA 19 1C 04         A  5501    	JR	Z,L_126
                           A  5502    ;  607		{
                           A  5503    ;  608			if(canmove(xn1,yn1,xn2,yn2))
                           A  5504    .LINE 608
                           A  5505    
041B53 DD07F8              A  5506    	LD	BC,(IX+%FFFFFFF8)
041B56 C5                  A  5507    	PUSH	BC
041B57 DD07FA              A  5508    	LD	BC,(IX+%FFFFFFFA)
041B5A C5                  A  5509    	PUSH	BC
041B5B DD07FC              A  5510    	LD	BC,(IX+%FFFFFFFC)
041B5E C5                  A  5511    	PUSH	BC
041B5F DD07FE              A  5512    	LD	BC,(IX+%FFFFFFFE)
041B62 C5                  A  5513    	PUSH	BC
041B63 CD 12 11 04         A  5514    	CALL	_canmove
041B67 C1                  A  5515    	POP	BC
041B68 C1                  A  5516    	POP	BC
041B69 C1                  A  5517    	POP	BC
041B6A C1                  A  5518    	POP	BC
041B6B B7                  A  5519    	OR	A,A
041B6C CA 19 1C 04         A  5520    	JR	Z,L_126
                           A  5521    ;  609			{
                           A  5522    ;  610				undomove.movekey = key;
                           A  5523    .LINE 610
                           A  5524    
041B70 DD7E06              A  5525    	LD	A,(IX+%6)
041B73 32 B8 4F 04         A  5526    	LD	(_undomove),A
                           A  5527    ;  611				undomove.pushed = (currentl
                           A  5528    .LINE 611
                           A  5529    
041B77 DD07FC              A  5530    	LD	BC,(IX+%FFFFFFFC)
041B7A CD 06 33 04         A  5531    	CALL	__stoi
041B7E 3E28                A  5532    	LD	A,%28
041B80 CD BA 31 04         A  5533    	CALL	__imul_b
041B84 01 72 58 04         A  5534    	LD	BC,_currentlevel+7
041B88 09                  A  5535    	ADD	HL,BC
041B89 DD2FED              A  5536    	LD	(IX+%FFFFFFED),HL
041B8C DD07FE              A  5537    	LD	BC,(IX+%FFFFFFFE)
041B8F CD 06 33 04         A  5538    	CALL	__stoi
041B93 DD07ED              A  5539    	LD	BC,(IX+%FFFFFFED)
041B96 09                  A  5540    	ADD	HL,BC
041B97 DD2FF0              A  5541    	LD	(IX+%FFFFFFF0),HL
041B9A 7E                  A  5542    	LD	A,(HL)
041B9B B7ED62              A  5543    	UEXT	HL
041B9E 6F                  A  5544    	LD	L,A
041B9F 01240000            A  5545    	LD	BC,36
041BA3 B7                  A  5546    	OR	A,A
041BA4 ED42                A  5547    	SBC	HL,BC
041BA6 28 11               A  5548    	JR	Z,L_119
041BA8 DD27F0              A  5549    	LD	HL,(IX+%FFFFFFF0)
041BAB 7E                  A  5550    	LD	A,(HL)
041BAC B7ED62              A  5551    	UEXT	HL
041BAF 6F                  A  5552    	LD	L,A
041BB0 012A0000            A  5553    	LD	BC,42
041BB4 B7                  A  5554    	OR	A,A
041BB5 ED42                A  5555    	SBC	HL,BC
041BB7 20 09               A  5556    	JR	NZ,L_120
041BB9                     A  5557    L_119:
041BB9 01010000            A  5558    	LD	BC,1
041BBD DD0FF3              A  5559    	LD	(IX+%FFFFFFF3),BC
041BC0 18 07               A  5560    	JR	L_121
041BC2                     A  5561    L_120:
041BC2 01000000            A  5562    	LD	BC,0
041BC6 DD0FF3              A  5563    	LD	(IX+%FFFFFFF3),BC
041BC9                     A  5564    L_121:
041BC9 DD7EF3              A  5565    	LD	A,(IX+%FFFFFFF3)
041BCC 32 B9 4F 04         A  5566    	LD	(_undomove+1),A
                           A  5567    ;  612				num_undomoves = 1;
                           A  5568    .LINE 612
                           A  5569    
041BD0 3E01                A  5570    	LD	A,%1
041BD2 32 BA 4F 04         A  5571    	LD	(_num_undomoves),A
                           A  5572    ;  613				
                           A  5573    ;  614				move_sprites(xn1,yn1,xn2,yn
                           A  5574    .LINE 614
                           A  5575    
041BD6 DD07F8              A  5576    	LD	BC,(IX+%FFFFFFF8)
041BD9 C5                  A  5577    	PUSH	BC
041BDA DD07FA              A  5578    	LD	BC,(IX+%FFFFFFFA)
041BDD C5                  A  5579    	PUSH	BC
041BDE DD07FC              A  5580    	LD	BC,(IX+%FFFFFFFC)
041BE1 C5                  A  5581    	PUSH	BC
041BE2 DD07FE              A  5582    	LD	BC,(IX+%FFFFFFFE)
041BE5 C5                  A  5583    	PUSH	BC
041BE6 CD AB 11 04         A  5584    	CALL	_move_sprites
041BEA C1                  A  5585    	POP	BC
041BEB C1                  A  5586    	POP	BC
041BEC C1                  A  5587    	POP	BC
041BED C1                  A  5588    	POP	BC
                           A  5589    ;  615				move_updatelevel(xn1,yn1,xn
                           A  5590    .LINE 615
                           A  5591    
041BEE DD07F8              A  5592    	LD	BC,(IX+%FFFFFFF8)
041BF1 C5                  A  5593    	PUSH	BC
041BF2 DD07FA              A  5594    	LD	BC,(IX+%FFFFFFFA)
041BF5 C5                  A  5595    	PUSH	BC
041BF6 DD07FC              A  5596    	LD	BC,(IX+%FFFFFFFC)
041BF9 C5                  A  5597    	PUSH	BC
041BFA DD07FE              A  5598    	LD	BC,(IX+%FFFFFFFE)
041BFD C5                  A  5599    	PUSH	BC
041BFE CD 9E 14 04         A  5600    	CALL	_move_updatelevel
041C02 C1                  A  5601    	POP	BC
041C03 C1                  A  5602    	POP	BC
041C04 C1                  A  5603    	POP	BC
041C05 C1                  A  5604    	POP	BC
                           A  5605    ;  616				done = (currentlevel.goals 
                           A  5606    .LINE 616
                           A  5607    
041C06 3A 6F 58 04         A  5608    	LD	A,(_currentlevel+4)
041C0A 21 70 58 04         A  5609    	LD	HL,_currentlevel+5
041C0E BE                  A  5610    	CP	A,(HL)
041C0F 20 04               A  5611    	JR	NZ,L__47
041C11 3E01                A  5612    	LD	A,%1
041C13 18 01               A  5613    	JR	L__48
041C15                     A  5614    L__47:
041C15 AF                  A  5615    	XOR	A,A
041C16                     A  5616    L__48:
041C16 DD77F6              A  5617    	LD	(IX+%FFFFFFF6),A
                           A  5618    ;  617			}
                           A  5619    ;  618		}
041C19                     A  5620    L_126:
                           A  5621    .LINE 618
                           A  5622    
                           A  5623    ;  619		vdp_cursorGoto(0,0);
                           A  5624    .LINE 619
                           A  5625    
041C19 01000000            A  5626    	LD	BC,0
041C1D C5                  A  5627    	PUSH	BC
041C1E C5                  A  5628    	PUSH	BC
041C1F CD EF 03 04         A  5629    	CALL	_vdp_cursorGoto
041C23 C1                  A  5630    	POP	BC
041C24 C1                  A  5631    	POP	BC
                           A  5632    ;  620		//debug_print_playfieldText();
                           A  5633    ;  621		return done;
                           A  5634    .LINE 621
                           A  5635    
041C25 DD7EF6              A  5636    	LD	A,(IX+%FFFFFFF6)
                           A  5637    ;  622	}
                           A  5638    .LINE 622
                           A  5639    
041C28 DDF9                A  5640    	LD	SP,IX
041C2A DDE1                A  5641    	POP	IX
041C2C C9                  A  5642    	RET	
                           A  5643    
                           A  5644    
                           A  5645    ;**************************** _game_handleKey *
                           A  5646    ;Name                         Addr/Register   S
                           A  5647    ;_vdp_cursorGoto                     IMPORT  --
                           A  5648    ;_num_undomoves                      STATIC    
                           A  5649    ;_undomove                           STATIC    
                           A  5650    ;_currentlevel                       STATIC   1
                           A  5651    ;G_27                                 IX-19    
                           A  5652    ;G_28                                 IX-16    
                           A  5653    ;temp122                              IX-13    
                           A  5654    ;done                                 IX-10    
                           A  5655    ;move                                  IX-9    
                           A  5656    ;yn2                                   IX-8    
                           A  5657    ;xn2                                   IX-6    
                           A  5658    ;yn1                                   IX-4    
                           A  5659    ;xn1                                   IX-2    
                           A  5660    ;key                                   IX+6    
                           A  5661    
                           A  5662    
                           A  5663    ; Stack Frame Size: 28 (bytes)
                           A  5664    ;       Spill Code: 0 (instruction)
                           A  5665    
                           A  5666    
                           A  5667    .ENDFUNC "game_handleKey",622,"_game_handleKey"
                           A  5668    ;  623	
                           A  5669    ;  624	char game_getResponse(char *message, ch
                           A  5670    ;  625	{
041C2D                     A  5671    _game_getResponse:
                           A  5672    .DEFINE "_game_getResponse"
                           A  5673    
                           A  5674    .VALUE _game_getResponse
                           A  5675    
                           A  5676    .CLASS 2
                           A  5677    
                           A  5678    .TYPE 66
                           A  5679    
                           A  5680    .ENDEF
                           A  5681    
                           A  5682    .BEGFUNC "game_getResponse",625,"_game_getRespo
                           A  5683    
                           A  5684    .LINE 625
                           A  5685    
                           A  5686    .DEFINE "message"
                           A  5687    
                           A  5688    .CLASS 65
                           A  5689    
                           A  5690    .VALUE 6
                           A  5691    
                           A  5692    .TYPE 34
                           A  5693    
                           A  5694    .ENDEF
                           A  5695    
                           A  5696    .DEFINE "option1"
                           A  5697    
                           A  5698    .CLASS 65
                           A  5699    
                           A  5700    .VALUE 9
                           A  5701    
                           A  5702    .TYPE 2
                           A  5703    
                           A  5704    .ENDEF
                           A  5705    
                           A  5706    .DEFINE "option2"
                           A  5707    
                           A  5708    .CLASS 65
                           A  5709    
                           A  5710    .VALUE 12
                           A  5711    
                           A  5712    .TYPE 2
                           A  5713    
                           A  5714    .ENDEF
                           A  5715    
                           A  5716    .DEFINE "n"
                           A  5717    
                           A  5718    .CLASS 65
                           A  5719    
                           A  5720    .VALUE -1
                           A  5721    
                           A  5722    .TYPE 12
                           A  5723    
                           A  5724    .ENDEF
                           A  5725    
                           A  5726    .DEFINE "ret"
                           A  5727    
                           A  5728    .CLASS 65
                           A  5729    
                           A  5730    .VALUE -2
                           A  5731    
                           A  5732    .TYPE 2
                           A  5733    
                           A  5734    .ENDEF
                           A  5735    
                           A  5736    .DEFINE "start"
                           A  5737    
                           A  5738    .CLASS 65
                           A  5739    
                           A  5740    .VALUE -3
                           A  5741    
                           A  5742    .TYPE 12
                           A  5743    
                           A  5744    .ENDEF
                           A  5745    
                           A  5746    .DEFINE "len"
                           A  5747    
                           A  5748    .CLASS 65
                           A  5749    
                           A  5750    .VALUE -4
                           A  5751    
                           A  5752    .TYPE 12
                           A  5753    
                           A  5754    .ENDEF
                           A  5755    
041C2D DDE5                A  5756    	PUSH	IX
041C2F DD210000 00         A  5757    	LD	IX,0
041C34 DD39                A  5758    	ADD	IX,SP
041C36 C5                  A  5759    	PUSH	BC
041C37 3B                  A  5760    	DEC	SP
                           A  5761    ;  626		UINT8 n;
                           A  5762    ;  627		UINT8 len = strlen(message);
                           A  5763    .LINE 627
                           A  5764    
041C38 DD0706              A  5765    	LD	BC,(IX+%6)
041C3B C5                  A  5766    	PUSH	BC
041C3C CD B2 2B 04         A  5767    	CALL	_strlen
041C40 C1                  A  5768    	POP	BC
041C41 DD75FC              A  5769    	LD	(IX+%FFFFFFFC),L
                           A  5770    ;  628		UINT8 start = (80 - len) / 2;
                           A  5771    .LINE 628
                           A  5772    
041C44 DD7EFC              A  5773    	LD	A,(IX+%FFFFFFFC)
041C47 B7ED62              A  5774    	UEXT	HL
041C4A 6F                  A  5775    	LD	L,A
041C4B E5C1                A  5776    	LD	BC,HL
041C4D 21500000            A  5777    	LD	HL,80
041C51 B7                  A  5778    	OR	A,A
041C52 ED42                A  5779    	SBC	HL,BC
041C54 01020000            A  5780    	LD	BC,2
041C58 CD 81 31 04         A  5781    	CALL	__idivs
041C5C DD75FD              A  5782    	LD	(IX+%FFFFFFFD),L
                           A  5783    ;  629		char ret = 0;
                           A  5784    .LINE 629
                           A  5785    
041C5F DD36FE00            A  5786    	LD	(IX+%FFFFFFFE),%0
                           A  5787    ;  630		
                           A  5788    ;  631		
                           A  5789    ;  632		// vertical spacing
                           A  5790    ;  633		for(n = start - 1; n < (start+len+1
                           A  5791    .LINE 633
                           A  5792    
041C63 DD7EFD              A  5793    	LD	A,(IX+%FFFFFFFD)
041C66 3D                  A  5794    	DEC	A
041C67 DD77FF              A  5795    	LD	(IX+%FFFFFFFF),A
041C6A 18 39               A  5796    	JR	L_131
041C6C                     A  5797    L_129:
                           A  5798    ;  634		{
                           A  5799    ;  635			vdp_cursorGoto(n,27);
                           A  5800    .LINE 635
                           A  5801    
041C6C 011B0000            A  5802    	LD	BC,27
041C70 C5                  A  5803    	PUSH	BC
041C71 DD4EFF              A  5804    	LD	C,(IX+%FFFFFFFF)
041C74 0600                A  5805    	LD	B,%0
041C76 C5                  A  5806    	PUSH	BC
041C77 CD EF 03 04         A  5807    	CALL	_vdp_cursorGoto
041C7B C1                  A  5808    	POP	BC
041C7C C1                  A  5809    	POP	BC
                           A  5810    ;  636			putch(' ');
                           A  5811    .LINE 636
                           A  5812    
041C7D 01200000            A  5813    	LD	BC,32
041C81 C5                  A  5814    	PUSH	BC
041C82 CD C2 28 04         A  5815    	CALL	_putch
041C86 C1                  A  5816    	POP	BC
                           A  5817    ;  637			vdp_cursorGoto(n,29);
                           A  5818    .LINE 637
                           A  5819    
041C87 011D0000            A  5820    	LD	BC,29
041C8B C5                  A  5821    	PUSH	BC
041C8C DD4EFF              A  5822    	LD	C,(IX+%FFFFFFFF)
041C8F 0600                A  5823    	LD	B,%0
041C91 C5                  A  5824    	PUSH	BC
041C92 CD EF 03 04         A  5825    	CALL	_vdp_cursorGoto
041C96 C1                  A  5826    	POP	BC
041C97 C1                  A  5827    	POP	BC
                           A  5828    ;  638			putch(' ');
                           A  5829    .LINE 638
                           A  5830    
041C98 01200000            A  5831    	LD	BC,32
041C9C C5                  A  5832    	PUSH	BC
041C9D CD C2 28 04         A  5833    	CALL	_putch
041CA1 C1                  A  5834    	POP	BC
041CA2 DD34FF              A  5835    	INC	(IX+%FFFFFFFF)
                           A  5836    ;  639		}
041CA5                     A  5837    L_131:
                           A  5838    .LINE 639
                           A  5839    
041CA5 DD7EFD              A  5840    	LD	A,(IX+%FFFFFFFD)
041CA8 B7ED62              A  5841    	UEXT	HL
041CAB 6F                  A  5842    	LD	L,A
041CAC E5C1                A  5843    	LD	BC,HL
041CAE DD7EFC              A  5844    	LD	A,(IX+%FFFFFFFC)
041CB1 B7ED62              A  5845    	UEXT	HL
041CB4 6F                  A  5846    	LD	L,A
041CB5 09                  A  5847    	ADD	HL,BC
041CB6 E5C1                A  5848    	LD	BC,HL
041CB8 03                  A  5849    	INC	BC
041CB9 DD7EFF              A  5850    	LD	A,(IX+%FFFFFFFF)
041CBC B7ED62              A  5851    	UEXT	HL
041CBF 6F                  A  5852    	LD	L,A
041CC0 B7                  A  5853    	OR	A,A
041CC1 ED42                A  5854    	SBC	HL,BC
041CC3 FA 6C 1C 04         A  5855    	JP	M,L_129
                           A  5856    ;  640		// horizontal spacing
                           A  5857    ;  641		vdp_cursorGoto(start-1,28);
                           A  5858    .LINE 641
                           A  5859    
041CC7 011C0000            A  5860    	LD	BC,28
041CCB C5                  A  5861    	PUSH	BC
041CCC DD4EFD              A  5862    	LD	C,(IX+%FFFFFFFD)
041CCF 0D                  A  5863    	DEC	C
041CD0 0600                A  5864    	LD	B,%0
041CD2 C5                  A  5865    	PUSH	BC
041CD3 CD EF 03 04         A  5866    	CALL	_vdp_cursorGoto
041CD7 C1                  A  5867    	POP	BC
041CD8 C1                  A  5868    	POP	BC
                           A  5869    ;  642		putch(' ');
                           A  5870    .LINE 642
                           A  5871    
041CD9 01200000            A  5872    	LD	BC,32
041CDD C5                  A  5873    	PUSH	BC
041CDE CD C2 28 04         A  5874    	CALL	_putch
041CE2 C1                  A  5875    	POP	BC
                           A  5876    ;  643		printf("%s ", message);
                           A  5877    .LINE 643
                           A  5878    
041CE3 01 41 2B 04         A  5879    	LD	BC,___print_uputch
041CE7 ED43 3E 4C 04       A  5880    	LD	(___print_xputch),BC
041CEC DD0706              A  5881    	LD	BC,(IX+%6)
041CEF C5                  A  5882    	PUSH	BC
041CF0 CD D0 29 04         A  5883    	CALL	___print_sendstring
041CF4 C1                  A  5884    	POP	BC
041CF5 01200000            A  5885    	LD	BC,32
041CF9 C5                  A  5886    	PUSH	BC
041CFA CD 41 2B 04         A  5887    	CALL	___print_uputch
041CFE C1                  A  5888    	POP	BC
                           A  5889    ;  644	
                           A  5890    ;  645		while((ret != option1) && (ret != o
                           A  5891    .LINE 645
                           A  5892    
041CFF 18 07               A  5893    	JR	L_134
041D01                     A  5894    L_135:
041D01 CD DA 28 04         A  5895    	CALL	_getch
041D05 DD77FE              A  5896    	LD	(IX+%FFFFFFFE),A
041D08                     A  5897    L_134:
041D08 DD7EFE              A  5898    	LD	A,(IX+%FFFFFFFE)
041D0B DDBE09              A  5899    	CP	A,(IX+%9)
041D0E 28 08               A  5900    	JR	Z,L_136
041D10 DD7EFE              A  5901    	LD	A,(IX+%FFFFFFFE)
041D13 DDBE0C              A  5902    	CP	A,(IX+%C)
041D16 20 E9               A  5903    	JR	NZ,L_135
041D18                     A  5904    L_136:
                           A  5905    ;  646		
                           A  5906    ;  647		vdp_cls();
                           A  5907    .LINE 647
                           A  5908    
041D18 CD A7 03 04         A  5909    	CALL	_vdp_cls
                           A  5910    ;  648	
                           A  5911    ;  649		return ret;
                           A  5912    .LINE 649
                           A  5913    
041D1C DD7EFE              A  5914    	LD	A,(IX+%FFFFFFFE)
                           A  5915    ;  650	}
                           A  5916    .LINE 650
                           A  5917    
041D1F DDF9                A  5918    	LD	SP,IX
041D21 DDE1                A  5919    	POP	IX
041D23 C9                  A  5920    	RET	
                           A  5921    
                           A  5922    
                           A  5923    ;**************************** _game_getResponse
                           A  5924    ;Name                         Addr/Register   S
                           A  5925    ;_vdp_cls                            IMPORT  --
                           A  5926    ;_getch                              IMPORT  --
                           A  5927    ;___print_sendstring                 IMPORT  --
                           A  5928    ;___print_xputch                     IMPORT    
                           A  5929    ;___print_uputch                     IMPORT  --
                           A  5930    ;_putch                              IMPORT  --
                           A  5931    ;_vdp_cursorGoto                     IMPORT  --
                           A  5932    ;_strlen                             IMPORT  --
                           A  5933    ;len                                   IX-4    
                           A  5934    ;start                                 IX-3    
                           A  5935    ;ret                                   IX-2    
                           A  5936    ;n                                     IX-1    
                           A  5937    ;option2                              IX+12    
                           A  5938    ;option1                               IX+9    
                           A  5939    ;message                               IX+6    
                           A  5940    
                           A  5941    
                           A  5942    ; Stack Frame Size: 19 (bytes)
                           A  5943    ;       Spill Code: 0 (instruction)
                           A  5944    
                           A  5945    
                           A  5946    .ENDFUNC "game_getResponse",650,"_game_getRespo
                           A  5947    ;  651	
                           A  5948    ;  652	void game_splash_screen()
                           A  5949    ;  653	{
041D24                     A  5950    _game_splash_screen:
                           A  5951    .DEFINE "_game_splash_screen"
                           A  5952    
                           A  5953    .VALUE _game_splash_screen
                           A  5954    
                           A  5955    .CLASS 2
                           A  5956    
                           A  5957    .TYPE 65
                           A  5958    
                           A  5959    .ENDEF
                           A  5960    
                           A  5961    .BEGFUNC "game_splash_screen",653,"_game_splash
                           A  5962    
041D24 DDE5                A  5963    	PUSH	IX
041D26 DD210000 00         A  5964    	LD	IX,0
041D2B DD39                A  5965    	ADD	IX,SP
                           A  5966    ;  654		vdp_cls();
                           A  5967    .LINE 654
                           A  5968    
041D2D CD A7 03 04         A  5969    	CALL	_vdp_cls
                           A  5970    ;  655		vdp_cursorGoto(0,10);
                           A  5971    .LINE 655
                           A  5972    
041D31 010A0000            A  5973    	LD	BC,10
041D35 C5                  A  5974    	PUSH	BC
041D36 01000000            A  5975    	LD	BC,0
041D3A C5                  A  5976    	PUSH	BC
041D3B CD EF 03 04         A  5977    	CALL	_vdp_cursorGoto
041D3F C1                  A  5978    	POP	BC
041D40 C1                  A  5979    	POP	BC
                           A  5980    ;  656		vdp_cursorDisable();
                           A  5981    .LINE 656
                           A  5982    
041D41 CD 3F 0D 04         A  5983    	CALL	_vdp_cursorDisable
                           A  5984    ;  657		vdp_fgcolour(255,0,0);
                           A  5985    .LINE 657
                           A  5986    
041D45 01000000            A  5987    	LD	BC,0
041D49 C5                  A  5988    	PUSH	BC
041D4A C5                  A  5989    	PUSH	BC
041D4B 01FF0000            A  5990    	LD	BC,255
041D4F C5                  A  5991    	PUSH	BC
041D50 CD 80 04 04         A  5992    	CALL	_vdp_fgcolour
041D54 C1                  A  5993    	POP	BC
041D55 C1                  A  5994    	POP	BC
041D56 C1                  A  5995    	POP	BC
                           A  5996    ;  658		puts("             _____       _   
                           A  5997    .LINE 658
                           A  5998    
041D57 01 BC 4C 04         A  5999    	LD	BC,L__54
041D5B C5                  A  6000    	PUSH	BC
041D5C CD D6 30 04         A  6001    	CALL	_puts
041D60 C1                  A  6002    	POP	BC
                           A  6003    ;  659		vdp_fgcolour(255,255,0);
                           A  6004    .LINE 659
                           A  6005    
041D61 01000000            A  6006    	LD	BC,0
041D65 C5                  A  6007    	PUSH	BC
041D66 01FF0000            A  6008    	LD	BC,255
041D6A C5                  A  6009    	PUSH	BC
041D6B C5                  A  6010    	PUSH	BC
041D6C CD 80 04 04         A  6011    	CALL	_vdp_fgcolour
041D70 C1                  A  6012    	POP	BC
041D71 C1                  A  6013    	POP	BC
041D72 C1                  A  6014    	POP	BC
                           A  6015    ;  660		puts("            / ____|     | |  
                           A  6016    .LINE 660
                           A  6017    
041D73 01 F4 4C 04         A  6018    	LD	BC,L__55
041D77 C5                  A  6019    	PUSH	BC
041D78 CD D6 30 04         A  6020    	CALL	_puts
041D7C C1                  A  6021    	POP	BC
                           A  6022    ;  661		vdp_fgcolour(0,255,255);
                           A  6023    .LINE 661
                           A  6024    
041D7D 01FF0000            A  6025    	LD	BC,255
041D81 C5                  A  6026    	PUSH	BC
041D82 C5                  A  6027    	PUSH	BC
041D83 01000000            A  6028    	LD	BC,0
041D87 C5                  A  6029    	PUSH	BC
041D88 CD 80 04 04         A  6030    	CALL	_vdp_fgcolour
041D8C C1                  A  6031    	POP	BC
041D8D C1                  A  6032    	POP	BC
041D8E C1                  A  6033    	POP	BC
                           A  6034    ;  662		puts("           | (___   ___ | | _
                           A  6035    .LINE 662
                           A  6036    
041D8F 01 2C 4D 04         A  6037    	LD	BC,L__56
041D93 C5                  A  6038    	PUSH	BC
041D94 CD D6 30 04         A  6039    	CALL	_puts
041D98 C1                  A  6040    	POP	BC
                           A  6041    ;  663		vdp_fgcolour(0,0,255);
                           A  6042    .LINE 663
                           A  6043    
041D99 01FF0000            A  6044    	LD	BC,255
041D9D C5                  A  6045    	PUSH	BC
041D9E 01000000            A  6046    	LD	BC,0
041DA2 C5                  A  6047    	PUSH	BC
041DA3 C5                  A  6048    	PUSH	BC
041DA4 CD 80 04 04         A  6049    	CALL	_vdp_fgcolour
041DA8 C1                  A  6050    	POP	BC
041DA9 C1                  A  6051    	POP	BC
041DAA C1                  A  6052    	POP	BC
                           A  6053    ;  664		puts("            \\___ \\ / _ \\| 
                           A  6054    .LINE 664
                           A  6055    
041DAB 01 64 4D 04         A  6056    	LD	BC,L__57
041DAF C5                  A  6057    	PUSH	BC
041DB0 CD D6 30 04         A  6058    	CALL	_puts
041DB4 C1                  A  6059    	POP	BC
                           A  6060    ;  665		vdp_fgcolour(255,0,255);
                           A  6061    .LINE 665
                           A  6062    
041DB5 01FF0000            A  6063    	LD	BC,255
041DB9 C5                  A  6064    	PUSH	BC
041DBA 01000000            A  6065    	LD	BC,0
041DBE C5                  A  6066    	PUSH	BC
041DBF 01FF0000            A  6067    	LD	BC,255
041DC3 C5                  A  6068    	PUSH	BC
041DC4 CD 80 04 04         A  6069    	CALL	_vdp_fgcolour
041DC8 C1                  A  6070    	POP	BC
041DC9 C1                  A  6071    	POP	BC
041DCA C1                  A  6072    	POP	BC
                           A  6073    ;  666		puts("            ____) | (_) |   <
                           A  6074    .LINE 666
                           A  6075    
041DCB 01 9C 4D 04         A  6076    	LD	BC,L__58
041DCF C5                  A  6077    	PUSH	BC
041DD0 CD D6 30 04         A  6078    	CALL	_puts
041DD4 C1                  A  6079    	POP	BC
                           A  6080    ;  667		vdp_fgcolour(255,255,255);
                           A  6081    .LINE 667
                           A  6082    
041DD5 01FF0000            A  6083    	LD	BC,255
041DD9 C5                  A  6084    	PUSH	BC
041DDA C5                  A  6085    	PUSH	BC
041DDB C5                  A  6086    	PUSH	BC
041DDC CD 80 04 04         A  6087    	CALL	_vdp_fgcolour
041DE0 C1                  A  6088    	POP	BC
041DE1 C1                  A  6089    	POP	BC
041DE2 C1                  A  6090    	POP	BC
                           A  6091    ;  668		puts("           |_____/ \\___/|_|\
                           A  6092    .LINE 668
                           A  6093    
041DE3 01 D4 4D 04         A  6094    	LD	BC,L__59
041DE7 C5                  A  6095    	PUSH	BC
041DE8 CD D6 30 04         A  6096    	CALL	_puts
041DEC C1                  A  6097    	POP	BC
                           A  6098    ;  669		puts("\r\n");
                           A  6099    .LINE 669
                           A  6100    
041DED 01 0C 4E 04         A  6101    	LD	BC,L__60
041DF1 C5                  A  6102    	PUSH	BC
041DF2 CD D6 30 04         A  6103    	CALL	_puts
041DF6 C1                  A  6104    	POP	BC
                           A  6105    ;  670		puts("\r\n");
                           A  6106    .LINE 670
                           A  6107    
041DF7 01 0F 4E 04         A  6108    	LD	BC,L__61
041DFB C5                  A  6109    	PUSH	BC
041DFC CD D6 30 04         A  6110    	CALL	_puts
041E00 C1                  A  6111    	POP	BC
                           A  6112    ;  671		vdp_fgcolour(0,255,0);
                           A  6113    .LINE 671
                           A  6114    
041E01 01000000            A  6115    	LD	BC,0
041E05 C5                  A  6116    	PUSH	BC
041E06 01FF0000            A  6117    	LD	BC,255
041E0A C5                  A  6118    	PUSH	BC
041E0B 01000000            A  6119    	LD	BC,0
041E0F C5                  A  6120    	PUSH	BC
041E10 CD 80 04 04         A  6121    	CALL	_vdp_fgcolour
041E14 C1                  A  6122    	POP	BC
041E15 C1                  A  6123    	POP	BC
041E16 C1                  A  6124    	POP	BC
                           A  6125    ;  672		puts("                           Fo
                           A  6126    .LINE 672
                           A  6127    
041E17 01 12 4E 04         A  6128    	LD	BC,L__62
041E1B C5                  A  6129    	PUSH	BC
041E1C CD D6 30 04         A  6130    	CALL	_puts
041E20 C1                  A  6131    	POP	BC
                           A  6132    ;  673		puts("\r\n");
                           A  6133    .LINE 673
                           A  6134    
041E21 01 3D 4E 04         A  6135    	LD	BC,L__63
041E25 C5                  A  6136    	PUSH	BC
041E26 CD D6 30 04         A  6137    	CALL	_puts
041E2A C1                  A  6138    	POP	BC
                           A  6139    ;  674		vdp_fgcolour(128,128,128);
                           A  6140    .LINE 674
                           A  6141    
041E2B 01800000            A  6142    	LD	BC,128
041E2F C5                  A  6143    	PUSH	BC
041E30 C5                  A  6144    	PUSH	BC
041E31 C5                  A  6145    	PUSH	BC
041E32 CD 80 04 04         A  6146    	CALL	_vdp_fgcolour
041E36 C1                  A  6147    	POP	BC
041E37 C1                  A  6148    	POP	BC
041E38 C1                  A  6149    	POP	BC
                           A  6150    ;  675		puts("                     (c) 2023
                           A  6151    .LINE 675
                           A  6152    
041E39 01 40 4E 04         A  6153    	LD	BC,L__64
041E3D C5                  A  6154    	PUSH	BC
041E3E CD D6 30 04         A  6155    	CALL	_puts
041E42 C1                  A  6156    	POP	BC
                           A  6157    ;  676		//vdp_cursorGoto(25,38);
                           A  6158    ;  677		//vdp_fgcolour(255,255,255);
                           A  6159    ;  678		//puts("Reading levels...");
                           A  6160    ;  679	
                           A  6161    ;  680	}
                           A  6162    .LINE 680
                           A  6163    
041E43 DDF9                A  6164    	LD	SP,IX
041E45 DDE1                A  6165    	POP	IX
041E47 C9                  A  6166    	RET	
                           A  6167    
                           A  6168    
                           A  6169    ;**************************** _game_splash_scre
                           A  6170    ;Name                         Addr/Register   S
                           A  6171    ;_puts                               IMPORT  --
                           A  6172    ;_vdp_fgcolour                       IMPORT  --
                           A  6173    ;_vdp_cursorDisable                  IMPORT  --
                           A  6174    ;_vdp_cursorGoto                     IMPORT  --
                           A  6175    ;_vdp_cls                            IMPORT  --
                           A  6176    
                           A  6177    
                           A  6178    ; Stack Frame Size: 6 (bytes)
                           A  6179    ;       Spill Code: 0 (instruction)
                           A  6180    
                           A  6181    
                           A  6182    .ENDFUNC "game_splash_screen",680,"_game_splash
                           A  6183    	SEGMENT STRSECT
044CBC                     A  6184    L__54:
044CBC 20202020 20202020   A  6185    	DB	"             _____       _         _  
044CC4 20202020 205F5F5F 
044CCC 5F5F2020 20202020 
044CD4 205F2020 20202020 
044CDC 2020205F 20202020 
044CE4 20202020 20202020 
044CEC 20202020 20 
044CF1 0D0A00              A  6186    	DB	13,10,0
044CF4                     A  6187    L__55:
044CF4 20202020 20202020   A  6188    	DB	"            / ____|     | |       | | 
044CFC 20202020 2F205F5F 
044D04 5F5F7C20 20202020 
044D0C 7C207C20 20202020 
044D14 20207C20 7C202020 
044D1C 20202020 20202020 
044D24 20202020 20 
044D29 0D0A00              A  6189    	DB	13,10,0
044D2C                     A  6190    L__56:
044D2C 20202020 20202020   A  6191    	DB	"           | (___   ___ | | _____ | |_
044D34 2020207C 20285F5F 
044D3C 5F202020 5F5F5F20 
044D44 7C207C20 5F5F5F5F 
044D4C 5F207C20 7C5F5F20 
044D54 20205F5F 205F205F 
044D5C 205F5F20 20 
044D61 0D0A00              A  6192    	DB	13,10,0
044D64                     A  6193    L__57:
044D64 20202020 20202020   A  6194    	DB	"            \\___ \\ / _ \\| |/ / _ \\
044D6C 20202020 5C5F5F5F 
044D74 205C202F 205F205C 
044D7C 7C207C2F 202F205F 
044D84 205C7C20 275F205C 
044D8C 202F205F 2E207C20 
044D94 275F205C 20 
044D99 0D0A00              A  6195    	DB	13,10,0
044D9C                     A  6196    L__58:
044D9C 20202020 20202020   A  6197    	DB	"            ____) | (_) |   < (_) | |_
044DA4 20202020 5F5F5F5F 
044DAC 29207C20 285F2920 
044DB4 7C202020 3C20285F 
044DBC 29207C20 7C5F2920 
044DC4 7C20285F 7C207C20 
044DCC 7C207C20 7C 
044DD1 0D0A00              A  6198    	DB	13,10,0
044DD4                     A  6199    L__59:
044DD4 20202020 20202020   A  6200    	DB	"           |_____/ \\___/|_|\\_\\___/|
044DDC 2020207C 5F5F5F5F 
044DE4 5F2F205C 5F5F5F2F 
044DEC 7C5F7C5C 5F5C5F5F 
044DF4 5F2F7C5F 2E5F5F2F 
044DFC 205C5F5F 2C5F7C5F 
044E04 7C207C5F 7C 
044E09 0D0A00              A  6201    	DB	13,10,0
044E0C                     A  6202    L__60:
044E0C 0D0A00              A  6203    	DB	13,10,0
044E0F                     A  6204    L__61:
044E0F 0D0A00              A  6205    	DB	13,10,0
044E12                     A  6206    L__62:
044E12 20202020 20202020   A  6207    	DB	"                           For Agon (T
044E1A 20202020 20202020 
044E22 20202020 20202020 
044E2A 20202046 6F722041 
044E32 676F6E20 28544D29 
044E3A 0D0A00              A  6208    	DB	13,10,0
044E3D                     A  6209    L__63:
044E3D 0D0A00              A  6210    	DB	13,10,0
044E40                     A  6211    L__64:
044E40 20202020 20202020   A  6212    	DB	"                     (c) 2023 Jeroen V
044E48 20202020 20202020 
044E50 20202020 20286329 
044E58 20323032 33204A65 
044E60 726F656E 2056656E 
044E68 656D61 
044E6B 0D0A00              A  6213    	DB	13,10,0
                           A  6214    	SEGMENT CODE
                           A  6215    ;  681	
                           A  6216    ;  682	void game_displayHelp(UINT8 xpos, UINT8
                           A  6217    ;  683	{
041E48                     A  6218    _game_displayHelp:
                           A  6219    .DEFINE "_game_displayHelp"
                           A  6220    
                           A  6221    .VALUE _game_displayHelp
                           A  6222    
                           A  6223    .CLASS 2
                           A  6224    
                           A  6225    .TYPE 65
                           A  6226    
                           A  6227    .ENDEF
                           A  6228    
                           A  6229    .BEGFUNC "game_displayHelp",683,"_game_displayH
                           A  6230    
                           A  6231    .LINE 683
                           A  6232    
                           A  6233    .DEFINE "xpos"
                           A  6234    
                           A  6235    .CLASS 65
                           A  6236    
                           A  6237    .VALUE 6
                           A  6238    
                           A  6239    .TYPE 12
                           A  6240    
                           A  6241    .ENDEF
                           A  6242    
                           A  6243    .DEFINE "ypos"
                           A  6244    
                           A  6245    .CLASS 65
                           A  6246    
                           A  6247    .VALUE 9
                           A  6248    
                           A  6249    .TYPE 12
                           A  6250    
                           A  6251    .ENDEF
                           A  6252    
                           A  6253    .DEFINE "gxpos"
                           A  6254    
                           A  6255    .CLASS 65
                           A  6256    
                           A  6257    .VALUE -2
                           A  6258    
                           A  6259    .TYPE 13
                           A  6260    
                           A  6261    .ENDEF
                           A  6262    
                           A  6263    .DEFINE "gypos"
                           A  6264    
                           A  6265    .CLASS 65
                           A  6266    
                           A  6267    .VALUE -4
                           A  6268    
                           A  6269    .TYPE 13
                           A  6270    
                           A  6271    .ENDEF
                           A  6272    
041E48 DDE5                A  6273    	PUSH	IX
041E4A DD210000 00         A  6274    	LD	IX,0
041E4F DD39                A  6275    	ADD	IX,SP
041E51 C5                  A  6276    	PUSH	BC
041E52 3B                  A  6277    	DEC	SP
                           A  6278    ;  684		UINT16 gxpos = xpos * MINIMAP_WIDTH
                           A  6279    .LINE 684
                           A  6280    
041E53 DD4E06              A  6281    	LD	C,(IX+%6)
041E56 0600                A  6282    	LD	B,%0
041E58 C5E1                A  6283    	LD	HL,BC
041E5A 29                  A  6284    	ADD	HL,HL
041E5B 29                  A  6285    	ADD	HL,HL
041E5C 29                  A  6286    	ADD	HL,HL
041E5D DD75FE              A  6287    	LD	(IX+%FFFFFFFE),L
041E60 DD74FF              A  6288    	LD	(IX+%FFFFFFFF),H
                           A  6289    ;  685		UINT16 gypos = (ypos * 8) + 72;
                           A  6290    .LINE 685
                           A  6291    
041E63 DD4E09              A  6292    	LD	C,(IX+%9)
041E66 C5E1                A  6293    	LD	HL,BC
041E68 29                  A  6294    	ADD	HL,HL
041E69 29                  A  6295    	ADD	HL,HL
041E6A 29                  A  6296    	ADD	HL,HL
041E6B E5FDE1              A  6297    	LD	IY,HL
041E6E ED2348              A  6298    	LEA	HL,IY+%48
041E71 DD75FC              A  6299    	LD	(IX+%FFFFFFFC),L
041E74 DD74FD              A  6300    	LD	(IX+%FFFFFFFD),H
                           A  6301    ;  686		vdp_cursorGoto(xpos,ypos);
                           A  6302    .LINE 686
                           A  6303    
041E77 DD4E09              A  6304    	LD	C,(IX+%9)
041E7A C5                  A  6305    	PUSH	BC
041E7B DD4E06              A  6306    	LD	C,(IX+%6)
041E7E C5                  A  6307    	PUSH	BC
041E7F CD EF 03 04         A  6308    	CALL	_vdp_cursorGoto
041E83 C1                  A  6309    	POP	BC
041E84 C1                  A  6310    	POP	BC
                           A  6311    ;  687		vdp_fgcolour(255,255,255);
                           A  6312    .LINE 687
                           A  6313    
041E85 01FF0000            A  6314    	LD	BC,255
041E89 C5                  A  6315    	PUSH	BC
041E8A C5                  A  6316    	PUSH	BC
041E8B C5                  A  6317    	PUSH	BC
041E8C CD 80 04 04         A  6318    	CALL	_vdp_fgcolour
041E90 C1                  A  6319    	POP	BC
041E91 C1                  A  6320    	POP	BC
041E92 C1                  A  6321    	POP	BC
                           A  6322    ;  688		puts("Game objective");
                           A  6323    .LINE 688
                           A  6324    
041E93 01 6E 4E 04         A  6325    	LD	BC,L__66
041E97 C5                  A  6326    	PUSH	BC
041E98 CD D6 30 04         A  6327    	CALL	_puts
041E9C C1                  A  6328    	POP	BC
                           A  6329    ;  689		vdp_cursorGoto(xpos,ypos+2);
                           A  6330    .LINE 689
                           A  6331    
041E9D DD4E09              A  6332    	LD	C,(IX+%9)
041EA0 0C                  A  6333    	INC	C
041EA1 0C                  A  6334    	INC	C
041EA2 0600                A  6335    	LD	B,%0
041EA4 C5                  A  6336    	PUSH	BC
041EA5 DD4E06              A  6337    	LD	C,(IX+%6)
041EA8 C5                  A  6338    	PUSH	BC
041EA9 CD EF 03 04         A  6339    	CALL	_vdp_cursorGoto
041EAD C1                  A  6340    	POP	BC
041EAE C1                  A  6341    	POP	BC
                           A  6342    ;  690		vdp_fgcolour(128,128,128);
                           A  6343    .LINE 690
                           A  6344    
041EAF 01800000            A  6345    	LD	BC,128
041EB3 C5                  A  6346    	PUSH	BC
041EB4 C5                  A  6347    	PUSH	BC
041EB5 C5                  A  6348    	PUSH	BC
041EB6 CD 80 04 04         A  6349    	CALL	_vdp_fgcolour
041EBA C1                  A  6350    	POP	BC
041EBB C1                  A  6351    	POP	BC
041EBC C1                  A  6352    	POP	BC
                           A  6353    ;  691		puts("Push all boxes");
                           A  6354    .LINE 691
                           A  6355    
041EBD 01 7D 4E 04         A  6356    	LD	BC,L__67
041EC1 C5                  A  6357    	PUSH	BC
041EC2 CD D6 30 04         A  6358    	CALL	_puts
041EC6 C1                  A  6359    	POP	BC
                           A  6360    ;  692		vdp_cursorGoto(xpos,ypos+3);
                           A  6361    .LINE 692
                           A  6362    
041EC7 DD7E09              A  6363    	LD	A,(IX+%9)
041ECA C603                A  6364    	ADD	A,%3
041ECC 4F                  A  6365    	LD	C,A
041ECD 0600                A  6366    	LD	B,%0
041ECF C5                  A  6367    	PUSH	BC
041ED0 DD4E06              A  6368    	LD	C,(IX+%6)
041ED3 C5                  A  6369    	PUSH	BC
041ED4 CD EF 03 04         A  6370    	CALL	_vdp_cursorGoto
041ED8 C1                  A  6371    	POP	BC
041ED9 C1                  A  6372    	POP	BC
                           A  6373    ;  693		puts("in this warehouse");
                           A  6374    .LINE 693
                           A  6375    
041EDA 01 8C 4E 04         A  6376    	LD	BC,L__68
041EDE C5                  A  6377    	PUSH	BC
041EDF CD D6 30 04         A  6378    	CALL	_puts
041EE3 C1                  A  6379    	POP	BC
                           A  6380    ;  694		vdp_cursorGoto(xpos,ypos+4);
                           A  6381    .LINE 694
                           A  6382    
041EE4 DD7E09              A  6383    	LD	A,(IX+%9)
041EE7 C604                A  6384    	ADD	A,%4
041EE9 4F                  A  6385    	LD	C,A
041EEA 0600                A  6386    	LD	B,%0
041EEC C5                  A  6387    	PUSH	BC
041EED DD4E06              A  6388    	LD	C,(IX+%6)
041EF0 C5                  A  6389    	PUSH	BC
041EF1 CD EF 03 04         A  6390    	CALL	_vdp_cursorGoto
041EF5 C1                  A  6391    	POP	BC
041EF6 C1                  A  6392    	POP	BC
                           A  6393    ;  695		puts("to the target goals.");
                           A  6394    .LINE 695
                           A  6395    
041EF7 01 9E 4E 04         A  6396    	LD	BC,L__69
041EFB C5                  A  6397    	PUSH	BC
041EFC CD D6 30 04         A  6398    	CALL	_puts
041F00 C1                  A  6399    	POP	BC
                           A  6400    ;  696		
                           A  6401    ;  697		vdp_cursorGoto(xpos,ypos+7);
                           A  6402    .LINE 697
                           A  6403    
041F01 DD7E09              A  6404    	LD	A,(IX+%9)
041F04 C607                A  6405    	ADD	A,%7
041F06 4F                  A  6406    	LD	C,A
041F07 0600                A  6407    	LD	B,%0
041F09 C5                  A  6408    	PUSH	BC
041F0A DD4E06              A  6409    	LD	C,(IX+%6)
041F0D C5                  A  6410    	PUSH	BC
041F0E CD EF 03 04         A  6411    	CALL	_vdp_cursorGoto
041F12 C1                  A  6412    	POP	BC
041F13 C1                  A  6413    	POP	BC
                           A  6414    ;  698		vdp_fgcolour(255,255,255);
                           A  6415    .LINE 698
                           A  6416    
041F14 01FF0000            A  6417    	LD	BC,255
041F18 C5                  A  6418    	PUSH	BC
041F19 C5                  A  6419    	PUSH	BC
041F1A C5                  A  6420    	PUSH	BC
041F1B CD 80 04 04         A  6421    	CALL	_vdp_fgcolour
041F1F C1                  A  6422    	POP	BC
041F20 C1                  A  6423    	POP	BC
041F21 C1                  A  6424    	POP	BC
                           A  6425    ;  699		puts("Legend");
                           A  6426    .LINE 699
                           A  6427    
041F22 01 B3 4E 04         A  6428    	LD	BC,L__70
041F26 C5                  A  6429    	PUSH	BC
041F27 CD D6 30 04         A  6430    	CALL	_puts
041F2B C1                  A  6431    	POP	BC
                           A  6432    ;  700		
                           A  6433    ;  701		vdp_bitmapDraw(TILE_PLAYER_MINI,gxp
                           A  6434    .LINE 701
                           A  6435    
041F2C DD07FC              A  6436    	LD	BC,(IX+%FFFFFFFC)
041F2F C5                  A  6437    	PUSH	BC
041F30 DD07FE              A  6438    	LD	BC,(IX+%FFFFFFFE)
041F33 C5                  A  6439    	PUSH	BC
041F34 01080000            A  6440    	LD	BC,8
041F38 C5                  A  6441    	PUSH	BC
041F39 CD F1 07 04         A  6442    	CALL	_vdp_bitmapDraw
041F3D C1                  A  6443    	POP	BC
041F3E C1                  A  6444    	POP	BC
041F3F C1                  A  6445    	POP	BC
                           A  6446    ;  702		vdp_bitmapDraw(TILE_BOX_MINI, gxpos
                           A  6447    .LINE 702
                           A  6448    
041F40 DD31FC              A  6449    	LD	IY,(IX+%FFFFFFFC)
041F43 ED0310              A  6450    	LEA	BC,IY+%10
041F46 C5                  A  6451    	PUSH	BC
041F47 DD07FE              A  6452    	LD	BC,(IX+%FFFFFFFE)
041F4A C5                  A  6453    	PUSH	BC
041F4B 010A0000            A  6454    	LD	BC,10
041F4F C5                  A  6455    	PUSH	BC
041F50 CD F1 07 04         A  6456    	CALL	_vdp_bitmapDraw
041F54 C1                  A  6457    	POP	BC
041F55 C1                  A  6458    	POP	BC
041F56 C1                  A  6459    	POP	BC
                           A  6460    ;  703		vdp_bitmapDraw(TILE_BOXONGOAL_MINI,
                           A  6461    .LINE 703
                           A  6462    
041F57 DD31FC              A  6463    	LD	IY,(IX+%FFFFFFFC)
041F5A ED0320              A  6464    	LEA	BC,IY+%20
041F5D C5                  A  6465    	PUSH	BC
041F5E DD07FE              A  6466    	LD	BC,(IX+%FFFFFFFE)
041F61 C5                  A  6467    	PUSH	BC
041F62 010B0000            A  6468    	LD	BC,11
041F66 C5                  A  6469    	PUSH	BC
041F67 CD F1 07 04         A  6470    	CALL	_vdp_bitmapDraw
041F6B C1                  A  6471    	POP	BC
041F6C C1                  A  6472    	POP	BC
041F6D C1                  A  6473    	POP	BC
                           A  6474    ;  704		vdp_bitmapDraw(TILE_GOAL_MINI, gxpo
                           A  6475    .LINE 704
                           A  6476    
041F6E DD31FC              A  6477    	LD	IY,(IX+%FFFFFFFC)
041F71 ED0338              A  6478    	LEA	BC,IY+%38
041F74 C5                  A  6479    	PUSH	BC
041F75 DD07FE              A  6480    	LD	BC,(IX+%FFFFFFFE)
041F78 C5                  A  6481    	PUSH	BC
041F79 010C0000            A  6482    	LD	BC,12
041F7D C5                  A  6483    	PUSH	BC
041F7E CD F1 07 04         A  6484    	CALL	_vdp_bitmapDraw
041F82 C1                  A  6485    	POP	BC
041F83 C1                  A  6486    	POP	BC
041F84 C1                  A  6487    	POP	BC
                           A  6488    ;  705		
                           A  6489    ;  706		vdp_fgcolour(128,128,128);
                           A  6490    .LINE 706
                           A  6491    
041F85 01800000            A  6492    	LD	BC,128
041F89 C5                  A  6493    	PUSH	BC
041F8A C5                  A  6494    	PUSH	BC
041F8B C5                  A  6495    	PUSH	BC
041F8C CD 80 04 04         A  6496    	CALL	_vdp_fgcolour
041F90 C1                  A  6497    	POP	BC
041F91 C1                  A  6498    	POP	BC
041F92 C1                  A  6499    	POP	BC
                           A  6500    ;  707		vdp_cursorGoto(xpos+2,ypos+9);
                           A  6501    .LINE 707
                           A  6502    
041F93 DD7E09              A  6503    	LD	A,(IX+%9)
041F96 C609                A  6504    	ADD	A,%9
041F98 4F                  A  6505    	LD	C,A
041F99 0600                A  6506    	LD	B,%0
041F9B C5                  A  6507    	PUSH	BC
041F9C DD4E06              A  6508    	LD	C,(IX+%6)
041F9F 0C                  A  6509    	INC	C
041FA0 0C                  A  6510    	INC	C
041FA1 C5                  A  6511    	PUSH	BC
041FA2 CD EF 03 04         A  6512    	CALL	_vdp_cursorGoto
041FA6 C1                  A  6513    	POP	BC
041FA7 C1                  A  6514    	POP	BC
                           A  6515    ;  708		puts("You, hard at work");
                           A  6516    .LINE 708
                           A  6517    
041FA8 01 BA 4E 04         A  6518    	LD	BC,L__71
041FAC C5                  A  6519    	PUSH	BC
041FAD CD D6 30 04         A  6520    	CALL	_puts
041FB1 C1                  A  6521    	POP	BC
                           A  6522    ;  709		vdp_cursorGoto(xpos+2,ypos+11);
                           A  6523    .LINE 709
                           A  6524    
041FB2 DD7E09              A  6525    	LD	A,(IX+%9)
041FB5 C60B                A  6526    	ADD	A,%B
041FB7 4F                  A  6527    	LD	C,A
041FB8 0600                A  6528    	LD	B,%0
041FBA C5                  A  6529    	PUSH	BC
041FBB DD4E06              A  6530    	LD	C,(IX+%6)
041FBE 0C                  A  6531    	INC	C
041FBF 0C                  A  6532    	INC	C
041FC0 C5                  A  6533    	PUSH	BC
041FC1 CD EF 03 04         A  6534    	CALL	_vdp_cursorGoto
041FC5 C1                  A  6535    	POP	BC
041FC6 C1                  A  6536    	POP	BC
                           A  6537    ;  710		puts("Boxes with stuff");
                           A  6538    .LINE 710
                           A  6539    
041FC7 01 CC 4E 04         A  6540    	LD	BC,L__72
041FCB C5                  A  6541    	PUSH	BC
041FCC CD D6 30 04         A  6542    	CALL	_puts
041FD0 C1                  A  6543    	POP	BC
                           A  6544    ;  711		vdp_cursorGoto(xpos+2,ypos+13);
                           A  6545    .LINE 711
                           A  6546    
041FD1 DD7E09              A  6547    	LD	A,(IX+%9)
041FD4 C60D                A  6548    	ADD	A,%D
041FD6 4F                  A  6549    	LD	C,A
041FD7 0600                A  6550    	LD	B,%0
041FD9 C5                  A  6551    	PUSH	BC
041FDA DD4E06              A  6552    	LD	C,(IX+%6)
041FDD 0C                  A  6553    	INC	C
041FDE 0C                  A  6554    	INC	C
041FDF C5                  A  6555    	PUSH	BC
041FE0 CD EF 03 04         A  6556    	CALL	_vdp_cursorGoto
041FE4 C1                  A  6557    	POP	BC
041FE5 C1                  A  6558    	POP	BC
                           A  6559    ;  712		puts("Boxes in shipping");
                           A  6560    .LINE 712
                           A  6561    
041FE6 01 DD 4E 04         A  6562    	LD	BC,L__73
041FEA C5                  A  6563    	PUSH	BC
041FEB CD D6 30 04         A  6564    	CALL	_puts
041FEF C1                  A  6565    	POP	BC
                           A  6566    ;  713		vdp_cursorGoto(xpos+2,ypos+14);
                           A  6567    .LINE 713
                           A  6568    
041FF0 DD7E09              A  6569    	LD	A,(IX+%9)
041FF3 C60E                A  6570    	ADD	A,%E
041FF5 4F                  A  6571    	LD	C,A
041FF6 0600                A  6572    	LD	B,%0
041FF8 C5                  A  6573    	PUSH	BC
041FF9 DD4E06              A  6574    	LD	C,(IX+%6)
041FFC 0C                  A  6575    	INC	C
041FFD 0C                  A  6576    	INC	C
041FFE C5                  A  6577    	PUSH	BC
041FFF CD EF 03 04         A  6578    	CALL	_vdp_cursorGoto
042003 C1                  A  6579    	POP	BC
042004 C1                  A  6580    	POP	BC
                           A  6581    ;  714		puts("position");
                           A  6582    .LINE 714
                           A  6583    
042005 01 EF 4E 04         A  6584    	LD	BC,L__74
042009 C5                  A  6585    	PUSH	BC
04200A CD D6 30 04         A  6586    	CALL	_puts
04200E C1                  A  6587    	POP	BC
                           A  6588    ;  715		vdp_cursorGoto(xpos+2,ypos+16);
                           A  6589    .LINE 715
                           A  6590    
04200F DD7E09              A  6591    	LD	A,(IX+%9)
042012 C610                A  6592    	ADD	A,%10
042014 4F                  A  6593    	LD	C,A
042015 0600                A  6594    	LD	B,%0
042017 C5                  A  6595    	PUSH	BC
042018 DD4E06              A  6596    	LD	C,(IX+%6)
04201B 0C                  A  6597    	INC	C
04201C 0C                  A  6598    	INC	C
04201D C5                  A  6599    	PUSH	BC
04201E CD EF 03 04         A  6600    	CALL	_vdp_cursorGoto
042022 C1                  A  6601    	POP	BC
042023 C1                  A  6602    	POP	BC
                           A  6603    ;  716		puts("Shipping goal");
                           A  6604    .LINE 716
                           A  6605    
042024 01 F8 4E 04         A  6606    	LD	BC,L__75
042028 C5                  A  6607    	PUSH	BC
042029 CD D6 30 04         A  6608    	CALL	_puts
04202D C1                  A  6609    	POP	BC
                           A  6610    ;  717		
                           A  6611    ;  718		vdp_fgcolour(255,255,255);
                           A  6612    .LINE 718
                           A  6613    
04202E 01FF0000            A  6614    	LD	BC,255
042032 C5                  A  6615    	PUSH	BC
042033 C5                  A  6616    	PUSH	BC
042034 C5                  A  6617    	PUSH	BC
042035 CD 80 04 04         A  6618    	CALL	_vdp_fgcolour
042039 C1                  A  6619    	POP	BC
04203A C1                  A  6620    	POP	BC
04203B C1                  A  6621    	POP	BC
                           A  6622    ;  719		vdp_cursorGoto(xpos,ypos+19);
                           A  6623    .LINE 719
                           A  6624    
04203C DD7E09              A  6625    	LD	A,(IX+%9)
04203F C613                A  6626    	ADD	A,%13
042041 4F                  A  6627    	LD	C,A
042042 0600                A  6628    	LD	B,%0
042044 C5                  A  6629    	PUSH	BC
042045 DD4E06              A  6630    	LD	C,(IX+%6)
042048 C5                  A  6631    	PUSH	BC
042049 CD EF 03 04         A  6632    	CALL	_vdp_cursorGoto
04204D C1                  A  6633    	POP	BC
04204E C1                  A  6634    	POP	BC
                           A  6635    ;  720		puts("Game controls");
                           A  6636    .LINE 720
                           A  6637    
04204F 01 06 4F 04         A  6638    	LD	BC,L__76
042053 C5                  A  6639    	PUSH	BC
042054 CD D6 30 04         A  6640    	CALL	_puts
042058 C1                  A  6641    	POP	BC
                           A  6642    ;  721		
                           A  6643    ;  722		vdp_fgcolour(128,128,128);
                           A  6644    .LINE 722
                           A  6645    
042059 01800000            A  6646    	LD	BC,128
04205D C5                  A  6647    	PUSH	BC
04205E C5                  A  6648    	PUSH	BC
04205F C5                  A  6649    	PUSH	BC
042060 CD 80 04 04         A  6650    	CALL	_vdp_fgcolour
042064 C1                  A  6651    	POP	BC
042065 C1                  A  6652    	POP	BC
042066 C1                  A  6653    	POP	BC
                           A  6654    ;  723		vdp_cursorGoto(xpos,ypos+21);
                           A  6655    .LINE 723
                           A  6656    
042067 DD7E09              A  6657    	LD	A,(IX+%9)
04206A C615                A  6658    	ADD	A,%15
04206C 4F                  A  6659    	LD	C,A
04206D 0600                A  6660    	LD	B,%0
04206F C5                  A  6661    	PUSH	BC
042070 DD4E06              A  6662    	LD	C,(IX+%6)
042073 C5                  A  6663    	PUSH	BC
042074 CD EF 03 04         A  6664    	CALL	_vdp_cursorGoto
042078 C1                  A  6665    	POP	BC
042079 C1                  A  6666    	POP	BC
                           A  6667    ;  724		puts("Cursor");
                           A  6668    .LINE 724
                           A  6669    
04207A 01 14 4F 04         A  6670    	LD	BC,L__77
04207E C5                  A  6671    	PUSH	BC
04207F CD D6 30 04         A  6672    	CALL	_puts
042083 C1                  A  6673    	POP	BC
                           A  6674    ;  725		vdp_cursorGoto(xpos,ypos+22);
                           A  6675    .LINE 725
                           A  6676    
042084 DD7E09              A  6677    	LD	A,(IX+%9)
042087 C616                A  6678    	ADD	A,%16
042089 4F                  A  6679    	LD	C,A
04208A 0600                A  6680    	LD	B,%0
04208C C5                  A  6681    	PUSH	BC
04208D DD4E06              A  6682    	LD	C,(IX+%6)
042090 C5                  A  6683    	PUSH	BC
042091 CD EF 03 04         A  6684    	CALL	_vdp_cursorGoto
042095 C1                  A  6685    	POP	BC
042096 C1                  A  6686    	POP	BC
                           A  6687    ;  726		puts(" keys  - move player");
                           A  6688    .LINE 726
                           A  6689    
042097 01 1B 4F 04         A  6690    	LD	BC,L__78
04209B C5                  A  6691    	PUSH	BC
04209C CD D6 30 04         A  6692    	CALL	_puts
0420A0 C1                  A  6693    	POP	BC
                           A  6694    ;  727		vdp_cursorGoto(xpos,ypos+23);
                           A  6695    .LINE 727
                           A  6696    
0420A1 DD7E09              A  6697    	LD	A,(IX+%9)
0420A4 C617                A  6698    	ADD	A,%17
0420A6 4F                  A  6699    	LD	C,A
0420A7 0600                A  6700    	LD	B,%0
0420A9 C5                  A  6701    	PUSH	BC
0420AA DD4E06              A  6702    	LD	C,(IX+%6)
0420AD C5                  A  6703    	PUSH	BC
0420AE CD EF 03 04         A  6704    	CALL	_vdp_cursorGoto
0420B2 C1                  A  6705    	POP	BC
0420B3 C1                  A  6706    	POP	BC
                           A  6707    ;  728		puts("    u  - undo move");
                           A  6708    .LINE 728
                           A  6709    
0420B4 01 30 4F 04         A  6710    	LD	BC,L__79
0420B8 C5                  A  6711    	PUSH	BC
0420B9 CD D6 30 04         A  6712    	CALL	_puts
0420BD C1                  A  6713    	POP	BC
                           A  6714    ;  729		vdp_cursorGoto(xpos,ypos+24);
                           A  6715    .LINE 729
                           A  6716    
0420BE DD7E09              A  6717    	LD	A,(IX+%9)
0420C1 C618                A  6718    	ADD	A,%18
0420C3 4F                  A  6719    	LD	C,A
0420C4 0600                A  6720    	LD	B,%0
0420C6 C5                  A  6721    	PUSH	BC
0420C7 DD4E06              A  6722    	LD	C,(IX+%6)
0420CA C5                  A  6723    	PUSH	BC
0420CB CD EF 03 04         A  6724    	CALL	_vdp_cursorGoto
0420CF C1                  A  6725    	POP	BC
0420D0 C1                  A  6726    	POP	BC
                           A  6727    ;  730		puts("esc/q  - quit level");
                           A  6728    .LINE 730
                           A  6729    
0420D1 01 43 4F 04         A  6730    	LD	BC,L__80
0420D5 C5                  A  6731    	PUSH	BC
0420D6 CD D6 30 04         A  6732    	CALL	_puts
0420DA C1                  A  6733    	POP	BC
                           A  6734    ;  731		vdp_cursorGoto(xpos,ypos+26);
                           A  6735    .LINE 731
                           A  6736    
0420DB DD7E09              A  6737    	LD	A,(IX+%9)
0420DE C61A                A  6738    	ADD	A,%1A
0420E0 4F                  A  6739    	LD	C,A
0420E1 0600                A  6740    	LD	B,%0
0420E3 C5                  A  6741    	PUSH	BC
0420E4 DD4E06              A  6742    	LD	C,(IX+%6)
0420E7 C5                  A  6743    	PUSH	BC
0420E8 CD EF 03 04         A  6744    	CALL	_vdp_cursorGoto
0420EC C1                  A  6745    	POP	BC
0420ED C1                  A  6746    	POP	BC
                           A  6747    ;  732		puts("ENTER  - start level");
                           A  6748    .LINE 732
                           A  6749    
0420EE 01 57 4F 04         A  6750    	LD	BC,L__81
0420F2 C5                  A  6751    	PUSH	BC
0420F3 CD D6 30 04         A  6752    	CALL	_puts
0420F7 C1                  A  6753    	POP	BC
                           A  6754    ;  733	
                           A  6755    ;  734		return;
                           A  6756    ;  735	}
                           A  6757    .LINE 735
                           A  6758    
0420F8 DDF9                A  6759    	LD	SP,IX
0420FA DDE1                A  6760    	POP	IX
0420FC C9                  A  6761    	RET	
                           A  6762    
                           A  6763    
                           A  6764    ;**************************** _game_displayHelp
                           A  6765    ;Name                         Addr/Register   S
                           A  6766    ;_vdp_bitmapDraw                     IMPORT  --
                           A  6767    ;_puts                               IMPORT  --
                           A  6768    ;_vdp_fgcolour                       IMPORT  --
                           A  6769    ;_vdp_cursorGoto                     IMPORT  --
                           A  6770    ;gypos                                 IX-4    
                           A  6771    ;gxpos                                 IX-2    
                           A  6772    ;ypos                                  IX+9    
                           A  6773    ;xpos                                  IX+6    
                           A  6774    
                           A  6775    
                           A  6776    ; Stack Frame Size: 16 (bytes)
                           A  6777    ;       Spill Code: 0 (instruction)
                           A  6778    
                           A  6779    
                           A  6780    .ENDFUNC "game_displayHelp",735,"_game_displayH
                           A  6781    	SEGMENT STRSECT
044E6E                     A  6782    L__66:
044E6E 47616D65 206F626A   A  6783    	DB	"Game objective"
044E76 65637469 7665 
044E7C 00                  A  6784    	DB	0
044E7D                     A  6785    L__67:
044E7D 50757368 20616C6C   A  6786    	DB	"Push all boxes"
044E85 20626F78 6573 
044E8B 00                  A  6787    	DB	0
044E8C                     A  6788    L__68:
044E8C 696E2074 68697320   A  6789    	DB	"in this warehouse"
044E94 77617265 686F7573 
044E9C 65 
044E9D 00                  A  6790    	DB	0
044E9E                     A  6791    L__69:
044E9E 746F2074 68652074   A  6792    	DB	"to the target goals."
044EA6 61726765 7420676F 
044EAE 616C732E 
044EB2 00                  A  6793    	DB	0
044EB3                     A  6794    L__70:
044EB3 4C656765 6E64       A  6795    	DB	"Legend"
044EB9 00                  A  6796    	DB	0
044EBA                     A  6797    L__71:
044EBA 596F752C 20686172   A  6798    	DB	"You, hard at work"
044EC2 64206174 20776F72 
044ECA 6B 
044ECB 00                  A  6799    	DB	0
044ECC                     A  6800    L__72:
044ECC 426F7865 73207769   A  6801    	DB	"Boxes with stuff"
044ED4 74682073 74756666 
044EDC 00                  A  6802    	DB	0
044EDD                     A  6803    L__73:
044EDD 426F7865 7320696E   A  6804    	DB	"Boxes in shipping"
044EE5 20736869 7070696E 
044EED 67 
044EEE 00                  A  6805    	DB	0
044EEF                     A  6806    L__74:
044EEF 706F7369 74696F6E   A  6807    	DB	"position"
044EF7 00                  A  6808    	DB	0
044EF8                     A  6809    L__75:
044EF8 53686970 70696E67   A  6810    	DB	"Shipping goal"
044F00 20676F61 6C 
044F05 00                  A  6811    	DB	0
044F06                     A  6812    L__76:
044F06 47616D65 20636F6E   A  6813    	DB	"Game controls"
044F0E 74726F6C 73 
044F13 00                  A  6814    	DB	0
044F14                     A  6815    L__77:
044F14 43757273 6F72       A  6816    	DB	"Cursor"
044F1A 00                  A  6817    	DB	0
044F1B                     A  6818    L__78:
044F1B 206B6579 7320202D   A  6819    	DB	" keys  - move player"
044F23 206D6F76 6520706C 
044F2B 61796572 
044F2F 00                  A  6820    	DB	0
044F30                     A  6821    L__79:
044F30 20202020 7520202D   A  6822    	DB	"    u  - undo move"
044F38 20756E64 6F206D6F 
044F40 7665 
044F42 00                  A  6823    	DB	0
044F43                     A  6824    L__80:
044F43 6573632F 7120202D   A  6825    	DB	"esc/q  - quit level"
044F4B 20717569 74206C65 
044F53 76656C 
044F56 00                  A  6826    	DB	0
044F57                     A  6827    L__81:
044F57 454E5445 5220202D   A  6828    	DB	"ENTER  - start level"
044F5F 20737461 7274206C 
044F67 6576656C 
044F6B 00                  A  6829    	DB	0
                           A  6830    	SEGMENT CODE
                           A  6831    ;  736	
                           A  6832    ;  737	INT16 game_selectLevel(UINT8 levels, UI
                           A  6833    ;  738	{
0420FD                     A  6834    _game_selectLevel:
                           A  6835    .DEFINE "_game_selectLevel"
                           A  6836    
                           A  6837    .VALUE _game_selectLevel
                           A  6838    
                           A  6839    .CLASS 2
                           A  6840    
                           A  6841    .TYPE 67
                           A  6842    
                           A  6843    .ENDEF
                           A  6844    
                           A  6845    .BEGFUNC "game_selectLevel",738,"_game_selectLe
                           A  6846    
                           A  6847    .LINE 738
                           A  6848    
                           A  6849    .DEFINE "levels"
                           A  6850    
                           A  6851    .CLASS 65
                           A  6852    
                           A  6853    .VALUE 6
                           A  6854    
                           A  6855    .TYPE 12
                           A  6856    
                           A  6857    .ENDEF
                           A  6858    
                           A  6859    .DEFINE "previouslevel"
                           A  6860    
                           A  6861    .CLASS 65
                           A  6862    
                           A  6863    .VALUE 9
                           A  6864    
                           A  6865    .TYPE 13
                           A  6866    
                           A  6867    .ENDEF
                           A  6868    
                           A  6869    .DEFINE "lvl"
                           A  6870    
                           A  6871    .CLASS 65
                           A  6872    
                           A  6873    .VALUE -2
                           A  6874    
                           A  6875    .TYPE 3
                           A  6876    
                           A  6877    .ENDEF
                           A  6878    
                           A  6879    .DEFINE "selected"
                           A  6880    
                           A  6881    .CLASS 65
                           A  6882    
                           A  6883    .VALUE -3
                           A  6884    
                           A  6885    .TYPE 12
                           A  6886    
                           A  6887    .ENDEF
                           A  6888    
0420FD DDE5                A  6889    	PUSH	IX
0420FF DD210000 00         A  6890    	LD	IX,0
042104 DD39                A  6891    	ADD	IX,SP
042106 C5                  A  6892    	PUSH	BC
                           A  6893    ;  739		INT16 lvl;
                           A  6894    ;  740		BOOL selected = FALSE;
                           A  6895    .LINE 740
                           A  6896    
042107 DD36FD00            A  6897    	LD	(IX+%FFFFFFFD),%0
                           A  6898    ;  741		vdp_mode(1); // standard console mo
                           A  6899    .LINE 741
                           A  6900    
04210B 01010000            A  6901    	LD	BC,1
04210F C5                  A  6902    	PUSH	BC
042110 CD 82 03 04         A  6903    	CALL	_vdp_mode
042114 C1                  A  6904    	POP	BC
                           A  6905    ;  742		vdp_cls();
                           A  6906    .LINE 742
                           A  6907    
042115 CD A7 03 04         A  6908    	CALL	_vdp_cls
                           A  6909    ;  743		vdp_cursorDisable();
                           A  6910    .LINE 743
                           A  6911    
042119 CD 3F 0D 04         A  6912    	CALL	_vdp_cursorDisable
                           A  6913    ;  744		
                           A  6914    ;  745		lvl = previouslevel;
                           A  6915    .LINE 745
                           A  6916    
04211D DD0709              A  6917    	LD	BC,(IX+%9)
042120 DD71FE              A  6918    	LD	(IX+%FFFFFFFE),C
042123 DD70FF              A  6919    	LD	(IX+%FFFFFFFF),B
                           A  6920    ;  746		
                           A  6921    ;  747		game_resetSprites();			// 
                           A  6922    .LINE 747
                           A  6923    
042126 CD 9C 10 04         A  6924    	CALL	_game_resetSprites
                           A  6925    ;  748	
                           A  6926    ;  749		while(!selected)
                           A  6927    .LINE 749
                           A  6928    
04212A C3 CD 22 04         A  6929    	JR	L_153
04212E                     A  6930    L_154:
                           A  6931    ;  750		{
                           A  6932    ;  751			
                           A  6933    ;  752			game_initLevel(lvl);			
                           A  6934    .LINE 752
                           A  6935    
04212E DD4EFE              A  6936    	LD	C,(IX+%FFFFFFFE)
042131 0600                A  6937    	LD	B,%0
042133 C5                  A  6938    	PUSH	BC
042134 CD 5D 27 04         A  6939    	CALL	_game_initLevel
042138 C1                  A  6940    	POP	BC
                           A  6941    ;  753			vdp_clearGraphics();
                           A  6942    .LINE 753
                           A  6943    
042139 CD D2 04 04         A  6944    	CALL	_vdp_clearGraphics
                           A  6945    ;  754			game_displayMinimap();			
                           A  6946    .LINE 754
                           A  6947    
04213D CD AF 24 04         A  6948    	CALL	_game_displayMinimap
                           A  6949    ;  755	
                           A  6950    ;  756			vdp_cursorGoto(0,4);
                           A  6951    .LINE 756
                           A  6952    
042141 01040000            A  6953    	LD	BC,4
042145 C5                  A  6954    	PUSH	BC
042146 01000000            A  6955    	LD	BC,0
04214A C5                  A  6956    	PUSH	BC
04214B CD EF 03 04         A  6957    	CALL	_vdp_cursorGoto
04214F C1                  A  6958    	POP	BC
042150 C1                  A  6959    	POP	BC
                           A  6960    ;  757			vdp_fgcolour(255,255,255);
                           A  6961    .LINE 757
                           A  6962    
042151 01FF0000            A  6963    	LD	BC,255
042155 C5                  A  6964    	PUSH	BC
042156 C5                  A  6965    	PUSH	BC
042157 C5                  A  6966    	PUSH	BC
042158 CD 80 04 04         A  6967    	CALL	_vdp_fgcolour
04215C C1                  A  6968    	POP	BC
04215D C1                  A  6969    	POP	BC
04215E C1                  A  6970    	POP	BC
                           A  6971    ;  758			printf("Level %03d / %03d",lvl+
                           A  6972    .LINE 758
                           A  6973    
04215F 01 41 2B 04         A  6974    	LD	BC,___print_uputch
042163 ED43 3E 4C 04       A  6975    	LD	(___print_xputch),BC
042168 01 6C 4F 04         A  6976    	LD	BC,L__83
04216C C5                  A  6977    	PUSH	BC
04216D CD D0 29 04         A  6978    	CALL	___print_sendstring
042171 C1                  A  6979    	POP	BC
042172 3E03                A  6980    	LD	A,%3
042174 32 36 5D 04         A  6981    	LD	(___print_fmt+5),A
042178 3E40                A  6982    	LD	A,%40
04217A 32 32 5D 04         A  6983    	LD	(___print_fmt+1),A
04217E DD07FE              A  6984    	LD	BC,(IX+%FFFFFFFE)
042181 CD 06 33 04         A  6985    	CALL	__stoi
042185 23                  A  6986    	INC	HL
042186 E5C1                A  6987    	LD	BC,HL
042188 CD 27 32 04         A  6988    	CALL	__itol
04218C C5D1                A  6989    	LD	DE,BC
04218E 4F                  A  6990    	LD	C,A
04218F 0600                A  6991    	LD	B,%0
042191 C5                  A  6992    	PUSH	BC
042192 D5                  A  6993    	PUSH	DE
042193 CD C7 2B 04         A  6994    	CALL	__u_itoa
042197 C1                  A  6995    	POP	BC
042198 C1                  A  6996    	POP	BC
042199 01 73 4F 04         A  6997    	LD	BC,L__84
04219D C5                  A  6998    	PUSH	BC
04219E CD D0 29 04         A  6999    	CALL	___print_sendstring
0421A2 C1                  A  7000    	POP	BC
0421A3 3E03                A  7001    	LD	A,%3
0421A5 32 36 5D 04         A  7002    	LD	(___print_fmt+5),A
0421A9 3E40                A  7003    	LD	A,%40
0421AB 32 32 5D 04         A  7004    	LD	(___print_fmt+1),A
0421AF DD7E06              A  7005    	LD	A,(IX+%6)
0421B2 B7ED62              A  7006    	UEXT	HL
0421B5 6F                  A  7007    	LD	L,A
0421B6 E5C1                A  7008    	LD	BC,HL
0421B8 CD 27 32 04         A  7009    	CALL	__itol
0421BC C5D1                A  7010    	LD	DE,BC
0421BE 4F                  A  7011    	LD	C,A
0421BF 0600                A  7012    	LD	B,%0
0421C1 C5                  A  7013    	PUSH	BC
0421C2 D5                  A  7014    	PUSH	DE
0421C3 CD C7 2B 04         A  7015    	CALL	__u_itoa
0421C7 C1                  A  7016    	POP	BC
0421C8 C1                  A  7017    	POP	BC
                           A  7018    ;  759	
                           A  7019    ;  760			vdp_cursorGoto(5,39);
                           A  7020    .LINE 760
                           A  7021    
0421C9 01270000            A  7022    	LD	BC,39
0421CD C5                  A  7023    	PUSH	BC
0421CE 01050000            A  7024    	LD	BC,5
0421D2 C5                  A  7025    	PUSH	BC
0421D3 CD EF 03 04         A  7026    	CALL	_vdp_cursorGoto
0421D7 C1                  A  7027    	POP	BC
0421D8 C1                  A  7028    	POP	BC
                           A  7029    ;  761			puts("Select level with cursor 
                           A  7030    .LINE 761
                           A  7031    
0421D9 01 77 4F 04         A  7032    	LD	BC,L__85
0421DD C5                  A  7033    	PUSH	BC
0421DE CD D6 30 04         A  7034    	CALL	_puts
0421E2 C1                  A  7035    	POP	BC
                           A  7036    ;  762			vdp_cursorGoto(14,41);
                           A  7037    .LINE 762
                           A  7038    
0421E3 01290000            A  7039    	LD	BC,41
0421E7 C5                  A  7040    	PUSH	BC
0421E8 010E0000            A  7041    	LD	BC,14
0421EC C5                  A  7042    	PUSH	BC
0421ED CD EF 03 04         A  7043    	CALL	_vdp_cursorGoto
0421F1 C1                  A  7044    	POP	BC
0421F2 C1                  A  7045    	POP	BC
                           A  7046    ;  763			vdp_fgcolour(128,128,128);
                           A  7047    .LINE 763
                           A  7048    
0421F3 01800000            A  7049    	LD	BC,128
0421F7 C5                  A  7050    	PUSH	BC
0421F8 C5                  A  7051    	PUSH	BC
0421F9 C5                  A  7052    	PUSH	BC
0421FA CD 80 04 04         A  7053    	CALL	_vdp_fgcolour
0421FE C1                  A  7054    	POP	BC
0421FF C1                  A  7055    	POP	BC
042200 C1                  A  7056    	POP	BC
                           A  7057    ;  764			puts("ESC to quit");
                           A  7058    .LINE 764
                           A  7059    
042201 01 95 4F 04         A  7060    	LD	BC,L__86
042205 C5                  A  7061    	PUSH	BC
042206 CD D6 30 04         A  7062    	CALL	_puts
04220A C1                  A  7063    	POP	BC
                           A  7064    ;  765	
                           A  7065    ;  766			vdp_plotMoveTo(328,48);
                           A  7066    .LINE 766
                           A  7067    
04220B 01300000            A  7068    	LD	BC,48
04220F C5                  A  7069    	PUSH	BC
042210 01480100            A  7070    	LD	BC,328
042214 C5                  A  7071    	PUSH	BC
042215 CD 90 05 04         A  7072    	CALL	_vdp_plotMoveTo
042219 C1                  A  7073    	POP	BC
04221A C1                  A  7074    	POP	BC
                           A  7075    ;  767			vdp_plotColour(0,128,128);
                           A  7076    .LINE 767
                           A  7077    
04221B 01800000            A  7078    	LD	BC,128
04221F C5                  A  7079    	PUSH	BC
042220 C5                  A  7080    	PUSH	BC
042221 01000000            A  7081    	LD	BC,0
042225 C5                  A  7082    	PUSH	BC
042226 CD EA 04 04         A  7083    	CALL	_vdp_plotColour
04222A C1                  A  7084    	POP	BC
04222B C1                  A  7085    	POP	BC
04222C C1                  A  7086    	POP	BC
                           A  7087    ;  768			vdp_plotLineTo(328,328);
                           A  7088    .LINE 768
                           A  7089    
04222D 01480100            A  7090    	LD	BC,328
042231 C5                  A  7091    	PUSH	BC
042232 C5                  A  7092    	PUSH	BC
042233 CD B2 05 04         A  7093    	CALL	_vdp_plotLineTo
042237 C1                  A  7094    	POP	BC
042238 C1                  A  7095    	POP	BC
                           A  7096    ;  769			
                           A  7097    ;  770	
                           A  7098    ;  771			game_displayHelp(HELP_XPOS_MODE
                           A  7099    .LINE 771
                           A  7100    
042239 010A0000            A  7101    	LD	BC,10
04223D C5                  A  7102    	PUSH	BC
04223E 012C0000            A  7103    	LD	BC,44
042242 C5                  A  7104    	PUSH	BC
042243 CD 48 1E 04         A  7105    	CALL	_game_displayHelp
042247 C1                  A  7106    	POP	BC
042248 C1                  A  7107    	POP	BC
                           A  7108    ;  772			
                           A  7109    ;  773			
                           A  7110    ;  774			switch(getch())
                           A  7111    .LINE 774
                           A  7112    
042249 CD DA 28 04         A  7113    	CALL	_getch
04224D 47                  A  7114    	LD	B,A
04224E 78                  A  7115    	LD	A,B
04224F 17ED62              A  7116    	SEXT	HL
042252 68                  A  7117    	LD	L,B
042253 CD 4F 32 04         A  7118    	CALL	__case8D
042257 E9                  A  7119    	JP	(HL)
042258                     A  7120    L__87:
042258 0600                A  7121    	DW	6
04225A 08                  A  7122    	DB	8
04225B 752204              A  7123    	DW24	L_140	
                           A  7124    
04225E 0A                  A  7125    	DB	10
04225F 752204              A  7126    	DW24	L_141	
                           A  7127    
042262 0B                  A  7128    	DB	11
042263 932204              A  7129    	DW24	L_145	
                           A  7130    
042266 0D                  A  7131    	DB	13
042267 BB2204              A  7132    	DW24	L_150	
                           A  7133    
04226A 15                  A  7134    	DB	21
04226B 932204              A  7135    	DW24	L_146	
                           A  7136    
04226E 1B                  A  7137    	DB	27
04226F C12204              A  7138    	DW24	L_151	
                           A  7139    
042272 CD2204              A  7140    	DW24	L_153	
                           A  7141    
                           A  7142    ;  775			{
                           A  7143    ;  776				case 0x8:
042275                     A  7144    L_140:
                           A  7145    .LINE 776
                           A  7146    
                           A  7147    ;  777				case 0x0a:
042275                     A  7148    L_141:
                           A  7149    .LINE 777
                           A  7150    
                           A  7151    ;  778					if(lvl > 0) lvl --;
                           A  7152    .LINE 778
                           A  7153    
042275 DD07FE              A  7154    	LD	BC,(IX+%FFFFFFFE)
042278 B7                  A  7155    	OR	A,A
042279 ED62                A  7156    	SBC	HL,HL
04227B B7                  A  7157    	OR	A,A
04227C 40ED42              A  7158    	SBC.SIS	HL,BC
04227F CD 9C 29 04         A  7159    	CALL	__setflag
042283 F2 CD 22 04         A  7160    	JP	P,L_153
042287 DD27FE              A  7161    	LD	HL,(IX+%FFFFFFFE)
04228A 2B                  A  7162    	DEC	HL
04228B DD75FE              A  7163    	LD	(IX+%FFFFFFFE),L
04228E DD74FF              A  7164    	LD	(IX+%FFFFFFFF),H
                           A  7165    ;  779					break;
                           A  7166    .LINE 779
                           A  7167    
042291 18 3A               A  7168    	JR	L_153
                           A  7169    ;  780				case 0x0b:
042293                     A  7170    L_145:
                           A  7171    .LINE 780
                           A  7172    
                           A  7173    ;  781				case 0x15:
042293                     A  7174    L_146:
                           A  7175    .LINE 781
                           A  7176    
                           A  7177    ;  782					if(lvl < levels-1) lvl+
                           A  7178    .LINE 782
                           A  7179    
042293 DD7E06              A  7180    	LD	A,(IX+%6)
042296 B7ED62              A  7181    	UEXT	HL
042299 6F                  A  7182    	LD	L,A
04229A E5D1                A  7183    	LD	DE,HL
04229C 1B                  A  7184    	DEC	DE
04229D DD07FE              A  7185    	LD	BC,(IX+%FFFFFFFE)
0422A0 CD 06 33 04         A  7186    	CALL	__stoi
0422A4 B7                  A  7187    	OR	A,A
0422A5 ED52                A  7188    	SBC	HL,DE
0422A7 CD 9C 29 04         A  7189    	CALL	__setflag
0422AB F2 CD 22 04         A  7190    	JP	P,L_153
0422AF DD27FE              A  7191    	LD	HL,(IX+%FFFFFFFE)
0422B2 23                  A  7192    	INC	HL
0422B3 DD75FE              A  7193    	LD	(IX+%FFFFFFFE),L
0422B6 DD74FF              A  7194    	LD	(IX+%FFFFFFFF),H
                           A  7195    ;  783					break;
                           A  7196    .LINE 783
                           A  7197    
0422B9 18 12               A  7198    	JR	L_153
                           A  7199    ;  784				case 0xd:
0422BB                     A  7200    L_150:
                           A  7201    .LINE 784
                           A  7202    
                           A  7203    ;  785					selected = TRUE;
                           A  7204    .LINE 785
                           A  7205    
0422BB DD36FD01            A  7206    	LD	(IX+%FFFFFFFD),%1
                           A  7207    ;  786					break;
                           A  7208    .LINE 786
                           A  7209    
0422BF 18 0C               A  7210    	JR	L_153
                           A  7211    ;  787				case 27:
0422C1                     A  7212    L_151:
                           A  7213    .LINE 787
                           A  7214    
                           A  7215    ;  788					lvl = -1;
                           A  7216    .LINE 788
                           A  7217    
0422C1 DD36FEFF            A  7218    	LD	(IX+%FFFFFFFE),%FF
0422C5 DD36FFFF            A  7219    	LD	(IX+%FFFFFFFF),%FF
                           A  7220    ;  789					selected = TRUE;
                           A  7221    .LINE 789
                           A  7222    
0422C9 DD36FD01            A  7223    	LD	(IX+%FFFFFFFD),%1
                           A  7224    ;  790					break;
                           A  7225    ;  791				default:
                           A  7226    ;  792					break;
                           A  7227    ;  793			}
                           A  7228    ;  794		}
0422CD                     A  7229    L_153:
                           A  7230    .LINE 794
                           A  7231    
0422CD DD7EFD              A  7232    	LD	A,(IX+%FFFFFFFD)
0422D0 B7                  A  7233    	OR	A,A
0422D1 CA 2E 21 04         A  7234    	JR	Z,L_154
                           A  7235    ;  795		return lvl;
                           A  7236    .LINE 795
                           A  7237    
0422D5 DD27FE              A  7238    	LD	HL,(IX+%FFFFFFFE)
                           A  7239    ;  796	}
                           A  7240    .LINE 796
                           A  7241    
0422D8 DDF9                A  7242    	LD	SP,IX
0422DA DDE1                A  7243    	POP	IX
0422DC C9                  A  7244    	RET	
                           A  7245    
                           A  7246    
                           A  7247    ;**************************** _game_selectLevel
                           A  7248    ;Name                         Addr/Register   S
                           A  7249    ;_getch                              IMPORT  --
                           A  7250    ;_game_displayHelp                   IMPORT  --
                           A  7251    ;_vdp_plotLineTo                     IMPORT  --
                           A  7252    ;_vdp_plotColour                     IMPORT  --
                           A  7253    ;_vdp_plotMoveTo                     IMPORT  --
                           A  7254    ;_puts                               IMPORT  --
                           A  7255    ;__u_itoa                            IMPORT  --
                           A  7256    ;___print_fmt                        IMPORT    
                           A  7257    ;___print_sendstring                 IMPORT  --
                           A  7258    ;___print_xputch                     IMPORT    
                           A  7259    ;___print_uputch                     IMPORT  --
                           A  7260    ;_vdp_fgcolour                       IMPORT  --
                           A  7261    ;_vdp_cursorGoto                     IMPORT  --
                           A  7262    ;_game_displayMinimap                IMPORT  --
                           A  7263    ;_vdp_clearGraphics                  IMPORT  --
                           A  7264    ;_game_initLevel                     IMPORT  --
                           A  7265    ;_game_resetSprites                  IMPORT  --
                           A  7266    ;_vdp_cursorDisable                  IMPORT  --
                           A  7267    ;_vdp_cls                            IMPORT  --
                           A  7268    ;_vdp_mode                           IMPORT  --
                           A  7269    ;selected                              IX-3    
                           A  7270    ;lvl                                   IX-2    
                           A  7271    ;previouslevel                         IX+9    
                           A  7272    ;levels                                IX+6    
                           A  7273    
                           A  7274    
                           A  7275    ; Stack Frame Size: 15 (bytes)
                           A  7276    ;       Spill Code: 0 (instruction)
                           A  7277    
                           A  7278    
                           A  7279    .ENDFUNC "game_selectLevel",796,"_game_selectLe
                           A  7280    	SEGMENT STRSECT
044F6C                     A  7281    L__83:
044F6C 4C657665 6C20       A  7282    	DB	"Level "
044F72 00                  A  7283    	DB	0
044F73                     A  7284    L__84:
044F73 202F20              A  7285    	DB	" / "
044F76 00                  A  7286    	DB	0
044F77                     A  7287    L__85:
044F77 53656C65 6374206C   A  7288    	DB	"Select level with cursor keys"
044F7F 6576656C 20776974 
044F87 68206375 72736F72 
044F8F 206B6579 73 
044F94 00                  A  7289    	DB	0
044F95                     A  7290    L__86:
044F95 45534320 746F2071   A  7291    	DB	"ESC to quit"
044F9D 756974 
044FA0 00                  A  7292    	DB	0
                           A  7293    	SEGMENT CODE
                           A  7294    ;  797	
                           A  7295    ;  798	void game_displayLevel(void)
                           A  7296    ;  799	{
0422DD                     A  7297    _game_displayLevel:
                           A  7298    .DEFINE "_game_displayLevel"
                           A  7299    
                           A  7300    .VALUE _game_displayLevel
                           A  7301    
                           A  7302    .CLASS 2
                           A  7303    
                           A  7304    .TYPE 65
                           A  7305    
                           A  7306    .ENDEF
                           A  7307    
                           A  7308    .BEGFUNC "game_displayLevel",799,"_game_display
                           A  7309    
                           A  7310    .LINE 799
                           A  7311    
                           A  7312    .DEFINE "x"
                           A  7313    
                           A  7314    .CLASS 65
                           A  7315    
                           A  7316    .VALUE -2
                           A  7317    
                           A  7318    .TYPE 13
                           A  7319    
                           A  7320    .ENDEF
                           A  7321    
                           A  7322    .DEFINE "y"
                           A  7323    
                           A  7324    .CLASS 65
                           A  7325    
                           A  7326    .VALUE -4
                           A  7327    
                           A  7328    .TYPE 13
                           A  7329    
                           A  7330    .ENDEF
                           A  7331    
                           A  7332    .DEFINE "width"
                           A  7333    
                           A  7334    .CLASS 65
                           A  7335    
                           A  7336    .VALUE -6
                           A  7337    
                           A  7338    .TYPE 13
                           A  7339    
                           A  7340    .ENDEF
                           A  7341    
                           A  7342    .DEFINE "height"
                           A  7343    
                           A  7344    .CLASS 65
                           A  7345    
                           A  7346    .VALUE -8
                           A  7347    
                           A  7348    .TYPE 13
                           A  7349    
                           A  7350    .ENDEF
                           A  7351    
                           A  7352    .DEFINE "c"
                           A  7353    
                           A  7354    .CLASS 65
                           A  7355    
                           A  7356    .VALUE -9
                           A  7357    
                           A  7358    .TYPE 2
                           A  7359    
                           A  7360    .ENDEF
                           A  7361    
                           A  7362    .DEFINE "xstart"
                           A  7363    
                           A  7364    .CLASS 65
                           A  7365    
                           A  7366    .VALUE -11
                           A  7367    
                           A  7368    .TYPE 13
                           A  7369    
                           A  7370    .ENDEF
                           A  7371    
                           A  7372    .DEFINE "ystart"
                           A  7373    
                           A  7374    .CLASS 65
                           A  7375    
                           A  7376    .VALUE -13
                           A  7377    
                           A  7378    .TYPE 13
                           A  7379    
                           A  7380    .ENDEF
                           A  7381    
0422DD DDE5                A  7382    	PUSH	IX
0422DF DD210000 00         A  7383    	LD	IX,0
0422E4 DD39                A  7384    	ADD	IX,SP
0422E6 ED22F0              A  7385    	LEA	HL,IX+%FFFFFFF0
0422E9 F9                  A  7386    	LD	SP,HL
                           A  7387    ;  800		UINT16 width, height;
                           A  7388    ;  801		UINT16 ystart,xstart,x,y;
                           A  7389    ;  802		char c;
                           A  7390    ;  803		
                           A  7391    ;  804		// calculate on-screen base coordin
                           A  7392    ;  805		xstart = ((MAXWIDTH - currentlevel.
                           A  7393    .LINE 805
                           A  7394    
0422EA 3A 6D 58 04         A  7395    	LD	A,(_currentlevel+2)
0422EE B7ED62              A  7396    	UEXT	HL
0422F1 6F                  A  7397    	LD	L,A
0422F2 E5C1                A  7398    	LD	BC,HL
0422F4 21280000            A  7399    	LD	HL,40
0422F8 B7                  A  7400    	OR	A,A
0422F9 ED42                A  7401    	SBC	HL,BC
0422FB 01020000            A  7402    	LD	BC,2
0422FF CD 81 31 04         A  7403    	CALL	__idivs
042303 29                  A  7404    	ADD	HL,HL
042304 29                  A  7405    	ADD	HL,HL
042305 29                  A  7406    	ADD	HL,HL
042306 29                  A  7407    	ADD	HL,HL
042307 DD75F5              A  7408    	LD	(IX+%FFFFFFF5),L
04230A DD74F6              A  7409    	LD	(IX+%FFFFFFF6),H
                           A  7410    ;  806		ystart = ((MAXHEIGHT - currentlevel
                           A  7411    .LINE 806
                           A  7412    
04230D 3A 6E 58 04         A  7413    	LD	A,(_currentlevel+3)
042311 B7ED62              A  7414    	UEXT	HL
042314 6F                  A  7415    	LD	L,A
042315 E5C1                A  7416    	LD	BC,HL
042317 211E0000            A  7417    	LD	HL,30
04231B B7                  A  7418    	OR	A,A
04231C ED42                A  7419    	SBC	HL,BC
04231E 01020000            A  7420    	LD	BC,2
042322 CD 81 31 04         A  7421    	CALL	__idivs
042326 29                  A  7422    	ADD	HL,HL
042327 29                  A  7423    	ADD	HL,HL
042328 29                  A  7424    	ADD	HL,HL
042329 29                  A  7425    	ADD	HL,HL
04232A DD75F3              A  7426    	LD	(IX+%FFFFFFF3),L
04232D DD74F4              A  7427    	LD	(IX+%FFFFFFF4),H
                           A  7428    ;  807		
                           A  7429    ;  808		y = ystart;
                           A  7430    .LINE 808
                           A  7431    
042330 DD07F3              A  7432    	LD	BC,(IX+%FFFFFFF3)
042333 DD71FC              A  7433    	LD	(IX+%FFFFFFFC),C
042336 DD70FD              A  7434    	LD	(IX+%FFFFFFFD),B
                           A  7435    ;  809		for(height = 0; height < currentlev
                           A  7436    .LINE 809
                           A  7437    
042339 DD36F800            A  7438    	LD	(IX+%FFFFFFF8),%0
04233D DD36F900            A  7439    	LD	(IX+%FFFFFFF9),%0
042341 C3 94 24 04         A  7440    	JR	L_176
042345                     A  7441    L_174:
                           A  7442    ;  810		{
                           A  7443    ;  811			x = xstart;
                           A  7444    .LINE 811
                           A  7445    
042345 DD07F5              A  7446    	LD	BC,(IX+%FFFFFFF5)
042348 DD71FE              A  7447    	LD	(IX+%FFFFFFFE),C
04234B DD70FF              A  7448    	LD	(IX+%FFFFFFFF),B
                           A  7449    ;  812			for(width = 0; width < currentl
                           A  7450    .LINE 812
                           A  7451    
04234E DD36FA00            A  7452    	LD	(IX+%FFFFFFFA),%0
042352 DD36FB00            A  7453    	LD	(IX+%FFFFFFFB),%0
042356 C3 6C 24 04         A  7454    	JR	L_172
04235A                     A  7455    L_170:
                           A  7456    ;  813			{
                           A  7457    ;  814				c = currentlevel.data[heigh
                           A  7458    .LINE 814
                           A  7459    
04235A DD07F8              A  7460    	LD	BC,(IX+%FFFFFFF8)
04235D CD 3B 2B 04         A  7461    	CALL	__stoiu
042361 3E28                A  7462    	LD	A,%28
042363 CD BA 31 04         A  7463    	CALL	__imul_b
042367 DD2FF0              A  7464    	LD	(IX+%FFFFFFF0),HL
04236A 01 72 58 04         A  7465    	LD	BC,_currentlevel+7
04236E DD27F0              A  7466    	LD	HL,(IX+%FFFFFFF0)
042371 09                  A  7467    	ADD	HL,BC
042372 E5D1                A  7468    	LD	DE,HL
042374 DD07FA              A  7469    	LD	BC,(IX+%FFFFFFFA)
042377 CD 3B 2B 04         A  7470    	CALL	__stoiu
04237B 19                  A  7471    	ADD	HL,DE
04237C 7E                  A  7472    	LD	A,(HL)
04237D DD77F7              A  7473    	LD	(IX+%FFFFFFF7),A
                           A  7474    ;  815				switch(c)
                           A  7475    .LINE 815
                           A  7476    
042380 17ED62              A  7477    	SEXT	HL
042383 DD6EF7              A  7478    	LD	L,(IX+%FFFFFFF7)
042386 CD 4F 32 04         A  7479    	CALL	__case8D
04238A E9                  A  7480    	JP	(HL)
04238B                     A  7481    L__92:
04238B 0700                A  7482    	DW	7
04238D 20                  A  7483    	DB	32
04238E 422404              A  7484    	DW24	L_167	
                           A  7485    
042391 23                  A  7486    	DB	35
042392 AC2304              A  7487    	DW24	L_159	
                           A  7488    
042395 24                  A  7489    	DB	36
042396 E22304              A  7490    	DW24	L_162	
                           A  7491    
042399 2A                  A  7492    	DB	42
04239A E22304              A  7493    	DW24	L_163	
                           A  7494    
04239D 2B                  A  7495    	DB	43
04239E C42304              A  7496    	DW24	L_161	
                           A  7497    
0423A1 2E                  A  7498    	DB	46
0423A2 2C2404              A  7499    	DW24	L_166	
                           A  7500    
0423A5 40                  A  7501    	DB	64
0423A6 C42304              A  7502    	DW24	L_160	
                           A  7503    
0423A9 562404              A  7504    	DW24	L_169	
                           A  7505    
                           A  7506    ;  816				{
                           A  7507    ;  817					case CHAR_WALL:
0423AC                     A  7508    L_159:
                           A  7509    .LINE 817
                           A  7510    
                           A  7511    ;  818						vdp_bitmapDraw(TILE
                           A  7512    .LINE 818
                           A  7513    
0423AC DD07FC              A  7514    	LD	BC,(IX+%FFFFFFFC)
0423AF C5                  A  7515    	PUSH	BC
0423B0 DD07FE              A  7516    	LD	BC,(IX+%FFFFFFFE)
0423B3 C5                  A  7517    	PUSH	BC
0423B4 01000000            A  7518    	LD	BC,0
0423B8 C5                  A  7519    	PUSH	BC
0423B9 CD F1 07 04         A  7520    	CALL	_vdp_bitmapDraw
0423BD C1                  A  7521    	POP	BC
0423BE C1                  A  7522    	POP	BC
0423BF C1                  A  7523    	POP	BC
                           A  7524    ;  819						break;
                           A  7525    .LINE 819
                           A  7526    
0423C0 C3 56 24 04         A  7527    	JR	L_169
                           A  7528    ;  820					case CHAR_PLAYER:
0423C4                     A  7529    L_160:
                           A  7530    .LINE 820
                           A  7531    
                           A  7532    ;  821					case CHAR_PLAYERONGOAL:
0423C4                     A  7533    L_161:
                           A  7534    .LINE 821
                           A  7535    
                           A  7536    ;  822						vdp_spriteSelect(0)
                           A  7537    .LINE 822
                           A  7538    
0423C4 01000000            A  7539    	LD	BC,0
0423C8 C5                  A  7540    	PUSH	BC
0423C9 CD 99 08 04         A  7541    	CALL	_vdp_spriteSelect
0423CD C1                  A  7542    	POP	BC
                           A  7543    ;  823						vdp_spriteMoveToSel
                           A  7544    .LINE 823
                           A  7545    
0423CE DD07FC              A  7546    	LD	BC,(IX+%FFFFFFFC)
0423D1 C5                  A  7547    	PUSH	BC
0423D2 DD07FE              A  7548    	LD	BC,(IX+%FFFFFFFE)
0423D5 C5                  A  7549    	PUSH	BC
0423D6 CD F2 0A 04         A  7550    	CALL	_vdp_spriteMoveToSelected
0423DA C1                  A  7551    	POP	BC
0423DB C1                  A  7552    	POP	BC
                           A  7553    ;  824						vdp_spriteShowSelec
                           A  7554    .LINE 824
                           A  7555    
0423DC CD 60 0A 04         A  7556    	CALL	_vdp_spriteShowSelected
                           A  7557    ;  825						break;
                           A  7558    .LINE 825
                           A  7559    
0423E0 18 74               A  7560    	JR	L_169
                           A  7561    ;  826					case CHAR_BOX:
0423E2                     A  7562    L_162:
                           A  7563    .LINE 826
                           A  7564    
                           A  7565    ;  827					case CHAR_BOXONGOAL:
0423E2                     A  7566    L_163:
                           A  7567    .LINE 827
                           A  7568    
                           A  7569    ;  828						vdp_spriteSelect(sp
                           A  7570    .LINE 828
                           A  7571    
0423E2 01 BB 53 04         A  7572    	LD	BC,_sprites
0423E6 DD27F0              A  7573    	LD	HL,(IX+%FFFFFFF0)
0423E9 09                  A  7574    	ADD	HL,BC
0423EA E5D1                A  7575    	LD	DE,HL
0423EC DD07FA              A  7576    	LD	BC,(IX+%FFFFFFFA)
0423EF CD 3B 2B 04         A  7577    	CALL	__stoiu
0423F3 19                  A  7578    	ADD	HL,DE
0423F4 4E                  A  7579    	LD	C,(HL)
0423F5 0600                A  7580    	LD	B,%0
0423F7 C5                  A  7581    	PUSH	BC
0423F8 CD 99 08 04         A  7582    	CALL	_vdp_spriteSelect
0423FC C1                  A  7583    	POP	BC
                           A  7584    ;  829						vdp_spriteMoveToSel
                           A  7585    .LINE 829
                           A  7586    
0423FD DD07FC              A  7587    	LD	BC,(IX+%FFFFFFFC)
042400 C5                  A  7588    	PUSH	BC
042401 DD07FE              A  7589    	LD	BC,(IX+%FFFFFFFE)
042404 C5                  A  7590    	PUSH	BC
042405 CD F2 0A 04         A  7591    	CALL	_vdp_spriteMoveToSelected
042409 C1                  A  7592    	POP	BC
04240A C1                  A  7593    	POP	BC
                           A  7594    ;  830						vdp_spriteShowSelec
                           A  7595    .LINE 830
                           A  7596    
04240B CD 60 0A 04         A  7597    	CALL	_vdp_spriteShowSelected
                           A  7598    ;  831						if(c == CHAR_BOXONG
                           A  7599    .LINE 831
                           A  7600    
04240F DD7EF7              A  7601    	LD	A,(IX+%FFFFFFF7)
042412 FE2A                A  7602    	CP	A,%2A
042414 20 40               A  7603    	JR	NZ,L_169
                           A  7604    ;  832						{
                           A  7605    ;  833							vdp_bitmapDraw(
                           A  7606    .LINE 833
                           A  7607    
042416 DD07FC              A  7608    	LD	BC,(IX+%FFFFFFFC)
042419 C5                  A  7609    	PUSH	BC
04241A DD07FE              A  7610    	LD	BC,(IX+%FFFFFFFE)
04241D C5                  A  7611    	PUSH	BC
04241E 01050000            A  7612    	LD	BC,5
042422 C5                  A  7613    	PUSH	BC
042423 CD F1 07 04         A  7614    	CALL	_vdp_bitmapDraw
042427 C1                  A  7615    	POP	BC
042428 C1                  A  7616    	POP	BC
042429 C1                  A  7617    	POP	BC
                           A  7618    ;  834						}
                           A  7619    .LINE 834
                           A  7620    
                           A  7621    ;  835						break;
                           A  7622    .LINE 835
                           A  7623    
04242A 18 2A               A  7624    	JR	L_169
                           A  7625    ;  836					case CHAR_GOAL:
04242C                     A  7626    L_166:
                           A  7627    .LINE 836
                           A  7628    
                           A  7629    ;  837						vdp_bitmapDraw(TILE
                           A  7630    .LINE 837
                           A  7631    
04242C DD07FC              A  7632    	LD	BC,(IX+%FFFFFFFC)
04242F C5                  A  7633    	PUSH	BC
042430 DD07FE              A  7634    	LD	BC,(IX+%FFFFFFFE)
042433 C5                  A  7635    	PUSH	BC
042434 01050000            A  7636    	LD	BC,5
042438 C5                  A  7637    	PUSH	BC
042439 CD F1 07 04         A  7638    	CALL	_vdp_bitmapDraw
04243D C1                  A  7639    	POP	BC
04243E C1                  A  7640    	POP	BC
04243F C1                  A  7641    	POP	BC
                           A  7642    ;  838						break;
                           A  7643    .LINE 838
                           A  7644    
042440 18 14               A  7645    	JR	L_169
                           A  7646    ;  839					case CHAR_FLOOR:
042442                     A  7647    L_167:
                           A  7648    .LINE 839
                           A  7649    
                           A  7650    ;  840						vdp_bitmapDraw(TILE
                           A  7651    .LINE 840
                           A  7652    
042442 DD07FC              A  7653    	LD	BC,(IX+%FFFFFFFC)
042445 C5                  A  7654    	PUSH	BC
042446 DD07FE              A  7655    	LD	BC,(IX+%FFFFFFFE)
042449 C5                  A  7656    	PUSH	BC
04244A 01060000            A  7657    	LD	BC,6
04244E C5                  A  7658    	PUSH	BC
04244F CD F1 07 04         A  7659    	CALL	_vdp_bitmapDraw
042453 C1                  A  7660    	POP	BC
042454 C1                  A  7661    	POP	BC
042455 C1                  A  7662    	POP	BC
                           A  7663    ;  841						break;
                           A  7664    ;  842					default:
                           A  7665    ;  843						break;
                           A  7666    ;  844				}
042456                     A  7667    L_169:
                           A  7668    .LINE 844
                           A  7669    
                           A  7670    ;  845				x += BITMAP_WIDTH;
                           A  7671    .LINE 845
                           A  7672    
042456 DD31FE              A  7673    	LD	IY,(IX+%FFFFFFFE)
042459 ED2310              A  7674    	LEA	HL,IY+%10
04245C DD75FE              A  7675    	LD	(IX+%FFFFFFFE),L
04245F DD74FF              A  7676    	LD	(IX+%FFFFFFFF),H
042462 DD27FA              A  7677    	LD	HL,(IX+%FFFFFFFA)
042465 23                  A  7678    	INC	HL
042466 DD75FA              A  7679    	LD	(IX+%FFFFFFFA),L
042469 DD74FB              A  7680    	LD	(IX+%FFFFFFFB),H
                           A  7681    ;  846			}
04246C                     A  7682    L_172:
                           A  7683    .LINE 846
                           A  7684    
04246C 3A 6D 58 04         A  7685    	LD	A,(_currentlevel+2)
042470 4F                  A  7686    	LD	C,A
042471 0600                A  7687    	LD	B,%0
042473 DD27FA              A  7688    	LD	HL,(IX+%FFFFFFFA)
042476 B7                  A  7689    	OR	A,A
042477 40ED42              A  7690    	SBC.SIS	HL,BC
04247A DA 5A 23 04         A  7691    	JR	C,L_170
                           A  7692    ;  847			y += BITMAP_HEIGHT;
                           A  7693    .LINE 847
                           A  7694    
04247E DD31FC              A  7695    	LD	IY,(IX+%FFFFFFFC)
042481 ED2310              A  7696    	LEA	HL,IY+%10
042484 DD75FC              A  7697    	LD	(IX+%FFFFFFFC),L
042487 DD74FD              A  7698    	LD	(IX+%FFFFFFFD),H
04248A DD27F8              A  7699    	LD	HL,(IX+%FFFFFFF8)
04248D 23                  A  7700    	INC	HL
04248E DD75F8              A  7701    	LD	(IX+%FFFFFFF8),L
042491 DD74F9              A  7702    	LD	(IX+%FFFFFFF9),H
                           A  7703    ;  848		}
042494                     A  7704    L_176:
                           A  7705    .LINE 848
                           A  7706    
042494 3A 6E 58 04         A  7707    	LD	A,(_currentlevel+3)
042498 4F                  A  7708    	LD	C,A
042499 0600                A  7709    	LD	B,%0
04249B DD27F8              A  7710    	LD	HL,(IX+%FFFFFFF8)
04249E B7                  A  7711    	OR	A,A
04249F 40ED42              A  7712    	SBC.SIS	HL,BC
0424A2 DA 45 23 04         A  7713    	JR	C,L_174
                           A  7714    ;  849	
                           A  7715    ;  850		vdp_spriteRefresh();
                           A  7716    .LINE 850
                           A  7717    
0424A6 CD F5 0B 04         A  7718    	CALL	_vdp_spriteRefresh
                           A  7719    ;  851	}
                           A  7720    .LINE 851
                           A  7721    
0424AA DDF9                A  7722    	LD	SP,IX
0424AC DDE1                A  7723    	POP	IX
0424AE C9                  A  7724    	RET	
                           A  7725    
                           A  7726    
                           A  7727    ;**************************** _game_displayLeve
                           A  7728    ;Name                         Addr/Register   S
                           A  7729    ;_vdp_spriteRefresh                  IMPORT  --
                           A  7730    ;_sprites                            STATIC   1
                           A  7731    ;_vdp_spriteShowSelected             IMPORT  --
                           A  7732    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  7733    ;_vdp_spriteSelect                   IMPORT  --
                           A  7734    ;_vdp_bitmapDraw                     IMPORT  --
                           A  7735    ;_currentlevel                       STATIC   1
                           A  7736    ;G_29                                 IX-16    
                           A  7737    ;ystart                               IX-13    
                           A  7738    ;xstart                               IX-11    
                           A  7739    ;c                                     IX-9    
                           A  7740    ;height                                IX-8    
                           A  7741    ;width                                 IX-6    
                           A  7742    ;y                                     IX-4    
                           A  7743    ;x                                     IX-2    
                           A  7744    
                           A  7745    
                           A  7746    ; Stack Frame Size: 22 (bytes)
                           A  7747    ;       Spill Code: 0 (instruction)
                           A  7748    
                           A  7749    
                           A  7750    .ENDFUNC "game_displayLevel",851,"_game_display
                           A  7751    ;  852	
                           A  7752    ;  853	void game_displayMinimap(void)
                           A  7753    ;  854	{
0424AF                     A  7754    _game_displayMinimap:
                           A  7755    .DEFINE "_game_displayMinimap"
                           A  7756    
                           A  7757    .VALUE _game_displayMinimap
                           A  7758    
                           A  7759    .CLASS 2
                           A  7760    
                           A  7761    .TYPE 65
                           A  7762    
                           A  7763    .ENDEF
                           A  7764    
                           A  7765    .BEGFUNC "game_displayMinimap",854,"_game_displ
                           A  7766    
                           A  7767    .LINE 854
                           A  7768    
                           A  7769    .DEFINE "x"
                           A  7770    
                           A  7771    .CLASS 65
                           A  7772    
                           A  7773    .VALUE -2
                           A  7774    
                           A  7775    .TYPE 13
                           A  7776    
                           A  7777    .ENDEF
                           A  7778    
                           A  7779    .DEFINE "y"
                           A  7780    
                           A  7781    .CLASS 65
                           A  7782    
                           A  7783    .VALUE -4
                           A  7784    
                           A  7785    .TYPE 13
                           A  7786    
                           A  7787    .ENDEF
                           A  7788    
                           A  7789    .DEFINE "width"
                           A  7790    
                           A  7791    .CLASS 65
                           A  7792    
                           A  7793    .VALUE -6
                           A  7794    
                           A  7795    .TYPE 13
                           A  7796    
                           A  7797    .ENDEF
                           A  7798    
                           A  7799    .DEFINE "height"
                           A  7800    
                           A  7801    .CLASS 65
                           A  7802    
                           A  7803    .VALUE -8
                           A  7804    
                           A  7805    .TYPE 13
                           A  7806    
                           A  7807    .ENDEF
                           A  7808    
                           A  7809    .DEFINE "c"
                           A  7810    
                           A  7811    .CLASS 65
                           A  7812    
                           A  7813    .VALUE -9
                           A  7814    
                           A  7815    .TYPE 2
                           A  7816    
                           A  7817    .ENDEF
                           A  7818    
                           A  7819    .DEFINE "xstart"
                           A  7820    
                           A  7821    .CLASS 65
                           A  7822    
                           A  7823    .VALUE -11
                           A  7824    
                           A  7825    .TYPE 13
                           A  7826    
                           A  7827    .ENDEF
                           A  7828    
                           A  7829    .DEFINE "ystart"
                           A  7830    
                           A  7831    .CLASS 65
                           A  7832    
                           A  7833    .VALUE -13
                           A  7834    
                           A  7835    .TYPE 13
                           A  7836    
                           A  7837    .ENDEF
                           A  7838    
0424AF DDE5                A  7839    	PUSH	IX
0424B1 DD210000 00         A  7840    	LD	IX,0
0424B6 DD39                A  7841    	ADD	IX,SP
0424B8 ED22F3              A  7842    	LEA	HL,IX+%FFFFFFF3
0424BB F9                  A  7843    	LD	SP,HL
                           A  7844    ;  855		UINT16 width, height;
                           A  7845    ;  856		UINT16 ystart,xstart,x,y;
                           A  7846    ;  857		char c;
                           A  7847    ;  858		
                           A  7848    ;  859		// calculate on-screen base coordin
                           A  7849    ;  860		xstart = ((MAXWIDTH - currentlevel.
                           A  7850    .LINE 860
                           A  7851    
0424BC 3A 6D 58 04         A  7852    	LD	A,(_currentlevel+2)
0424C0 B7ED62              A  7853    	UEXT	HL
0424C3 6F                  A  7854    	LD	L,A
0424C4 E5C1                A  7855    	LD	BC,HL
0424C6 21280000            A  7856    	LD	HL,40
0424CA B7                  A  7857    	OR	A,A
0424CB ED42                A  7858    	SBC	HL,BC
0424CD 01020000            A  7859    	LD	BC,2
0424D1 CD 81 31 04         A  7860    	CALL	__idivs
0424D5 29                  A  7861    	ADD	HL,HL
0424D6 29                  A  7862    	ADD	HL,HL
0424D7 29                  A  7863    	ADD	HL,HL
0424D8 DD75F5              A  7864    	LD	(IX+%FFFFFFF5),L
0424DB DD74F6              A  7865    	LD	(IX+%FFFFFFF6),H
                           A  7866    ;  861		ystart = (((MAXHEIGHT - currentleve
                           A  7867    .LINE 861
                           A  7868    
0424DE 3A 6E 58 04         A  7869    	LD	A,(_currentlevel+3)
0424E2 B7ED62              A  7870    	UEXT	HL
0424E5 6F                  A  7871    	LD	L,A
0424E6 E5C1                A  7872    	LD	BC,HL
0424E8 211E0000            A  7873    	LD	HL,30
0424EC B7                  A  7874    	OR	A,A
0424ED ED42                A  7875    	SBC	HL,BC
0424EF 01020000            A  7876    	LD	BC,2
0424F3 CD 81 31 04         A  7877    	CALL	__idivs
0424F7 29                  A  7878    	ADD	HL,HL
0424F8 29                  A  7879    	ADD	HL,HL
0424F9 29                  A  7880    	ADD	HL,HL
0424FA E5FDE1              A  7881    	LD	IY,HL
0424FD ED2338              A  7882    	LEA	HL,IY+%38
042500 DD75F3              A  7883    	LD	(IX+%FFFFFFF3),L
042503 DD74F4              A  7884    	LD	(IX+%FFFFFFF4),H
                           A  7885    ;  862		
                           A  7886    ;  863		y = ystart;
                           A  7887    .LINE 863
                           A  7888    
042506 DD07F3              A  7889    	LD	BC,(IX+%FFFFFFF3)
042509 DD71FC              A  7890    	LD	(IX+%FFFFFFFC),C
04250C DD70FD              A  7891    	LD	(IX+%FFFFFFFD),B
                           A  7892    ;  864		for(height = 0; height < currentlev
                           A  7893    .LINE 864
                           A  7894    
04250F DD36F800            A  7895    	LD	(IX+%FFFFFFF8),%0
042513 DD36F900            A  7896    	LD	(IX+%FFFFFFF9),%0
042517 C3 54 26 04         A  7897    	JR	L_196
04251B                     A  7898    L_194:
                           A  7899    ;  865		{
                           A  7900    ;  866			x = xstart;
                           A  7901    .LINE 866
                           A  7902    
04251B DD07F5              A  7903    	LD	BC,(IX+%FFFFFFF5)
04251E DD71FE              A  7904    	LD	(IX+%FFFFFFFE),C
042521 DD70FF              A  7905    	LD	(IX+%FFFFFFFF),B
                           A  7906    ;  867			for(width = 0; width < currentl
                           A  7907    .LINE 867
                           A  7908    
042524 DD36FA00            A  7909    	LD	(IX+%FFFFFFFA),%0
042528 DD36FB00            A  7910    	LD	(IX+%FFFFFFFB),%0
04252C C3 2C 26 04         A  7911    	JR	L_192
042530                     A  7912    L_190:
                           A  7913    ;  868			{
                           A  7914    ;  869				c = currentlevel.data[heigh
                           A  7915    .LINE 869
                           A  7916    
042530 DD07F8              A  7917    	LD	BC,(IX+%FFFFFFF8)
042533 CD 3B 2B 04         A  7918    	CALL	__stoiu
042537 3E28                A  7919    	LD	A,%28
042539 CD BA 31 04         A  7920    	CALL	__imul_b
04253D 01 72 58 04         A  7921    	LD	BC,_currentlevel+7
042541 09                  A  7922    	ADD	HL,BC
042542 E5D1                A  7923    	LD	DE,HL
042544 DD07FA              A  7924    	LD	BC,(IX+%FFFFFFFA)
042547 CD 3B 2B 04         A  7925    	CALL	__stoiu
04254B 19                  A  7926    	ADD	HL,DE
04254C 7E                  A  7927    	LD	A,(HL)
04254D DD77F7              A  7928    	LD	(IX+%FFFFFFF7),A
                           A  7929    ;  870				switch(c)
                           A  7930    .LINE 870
                           A  7931    
042550 17ED62              A  7932    	SEXT	HL
042553 DD6EF7              A  7933    	LD	L,(IX+%FFFFFFF7)
042556 CD 4F 32 04         A  7934    	CALL	__case8D
04255A E9                  A  7935    	JP	(HL)
04255B                     A  7936    L__97:
04255B 0700                A  7937    	DW	7
04255D 20                  A  7938    	DB	32
04255E 022604              A  7939    	DW24	L_187	
                           A  7940    
042561 23                  A  7941    	DB	35
042562 7C2504              A  7942    	DW24	L_181	
                           A  7943    
042565 24                  A  7944    	DB	36
042566 C02504              A  7945    	DW24	L_184	
                           A  7946    
042569 2A                  A  7947    	DB	42
04256A D62504              A  7948    	DW24	L_185	
                           A  7949    
04256D 2B                  A  7950    	DB	43
04256E AA2504              A  7951    	DW24	L_183	
                           A  7952    
042571 2E                  A  7953    	DB	46
042572 EC2504              A  7954    	DW24	L_186	
                           A  7955    
042575 40                  A  7956    	DB	64
042576 942504              A  7957    	DW24	L_182	
                           A  7958    
042579 162604              A  7959    	DW24	L_189	
                           A  7960    
                           A  7961    ;  871				{
                           A  7962    ;  872					case CHAR_WALL:
04257C                     A  7963    L_181:
                           A  7964    .LINE 872
                           A  7965    
                           A  7966    ;  873						vdp_bitmapDraw(TILE
                           A  7967    .LINE 873
                           A  7968    
04257C DD07FC              A  7969    	LD	BC,(IX+%FFFFFFFC)
04257F C5                  A  7970    	PUSH	BC
042580 DD07FE              A  7971    	LD	BC,(IX+%FFFFFFFE)
042583 C5                  A  7972    	PUSH	BC
042584 01070000            A  7973    	LD	BC,7
042588 C5                  A  7974    	PUSH	BC
042589 CD F1 07 04         A  7975    	CALL	_vdp_bitmapDraw
04258D C1                  A  7976    	POP	BC
04258E C1                  A  7977    	POP	BC
04258F C1                  A  7978    	POP	BC
                           A  7979    ;  874						break;
                           A  7980    .LINE 874
                           A  7981    
042590 C3 16 26 04         A  7982    	JR	L_189
                           A  7983    ;  875					case CHAR_PLAYER:
042594                     A  7984    L_182:
                           A  7985    .LINE 875
                           A  7986    
                           A  7987    ;  876						vdp_bitmapDraw(TILE
                           A  7988    .LINE 876
                           A  7989    
042594 DD07FC              A  7990    	LD	BC,(IX+%FFFFFFFC)
042597 C5                  A  7991    	PUSH	BC
042598 DD07FE              A  7992    	LD	BC,(IX+%FFFFFFFE)
04259B C5                  A  7993    	PUSH	BC
04259C 01080000            A  7994    	LD	BC,8
0425A0 C5                  A  7995    	PUSH	BC
0425A1 CD F1 07 04         A  7996    	CALL	_vdp_bitmapDraw
0425A5 C1                  A  7997    	POP	BC
0425A6 C1                  A  7998    	POP	BC
0425A7 C1                  A  7999    	POP	BC
                           A  8000    ;  877						break;
                           A  8001    .LINE 877
                           A  8002    
0425A8 18 6C               A  8003    	JR	L_189
                           A  8004    ;  878					case CHAR_PLAYERONGOAL:
0425AA                     A  8005    L_183:
                           A  8006    .LINE 878
                           A  8007    
                           A  8008    ;  879						vdp_bitmapDraw(TILE
                           A  8009    .LINE 879
                           A  8010    
0425AA DD07FC              A  8011    	LD	BC,(IX+%FFFFFFFC)
0425AD C5                  A  8012    	PUSH	BC
0425AE DD07FE              A  8013    	LD	BC,(IX+%FFFFFFFE)
0425B1 C5                  A  8014    	PUSH	BC
0425B2 01090000            A  8015    	LD	BC,9
0425B6 C5                  A  8016    	PUSH	BC
0425B7 CD F1 07 04         A  8017    	CALL	_vdp_bitmapDraw
0425BB C1                  A  8018    	POP	BC
0425BC C1                  A  8019    	POP	BC
0425BD C1                  A  8020    	POP	BC
                           A  8021    ;  880						break;
                           A  8022    .LINE 880
                           A  8023    
0425BE 18 56               A  8024    	JR	L_189
                           A  8025    ;  881					case CHAR_BOX:
0425C0                     A  8026    L_184:
                           A  8027    .LINE 881
                           A  8028    
                           A  8029    ;  882						vdp_bitmapDraw(TILE
                           A  8030    .LINE 882
                           A  8031    
0425C0 DD07FC              A  8032    	LD	BC,(IX+%FFFFFFFC)
0425C3 C5                  A  8033    	PUSH	BC
0425C4 DD07FE              A  8034    	LD	BC,(IX+%FFFFFFFE)
0425C7 C5                  A  8035    	PUSH	BC
0425C8 010A0000            A  8036    	LD	BC,10
0425CC C5                  A  8037    	PUSH	BC
0425CD CD F1 07 04         A  8038    	CALL	_vdp_bitmapDraw
0425D1 C1                  A  8039    	POP	BC
0425D2 C1                  A  8040    	POP	BC
0425D3 C1                  A  8041    	POP	BC
                           A  8042    ;  883						break;
                           A  8043    .LINE 883
                           A  8044    
0425D4 18 40               A  8045    	JR	L_189
                           A  8046    ;  884					case CHAR_BOXONGOAL:
0425D6                     A  8047    L_185:
                           A  8048    .LINE 884
                           A  8049    
                           A  8050    ;  885						vdp_bitmapDraw(TILE
                           A  8051    .LINE 885
                           A  8052    
0425D6 DD07FC              A  8053    	LD	BC,(IX+%FFFFFFFC)
0425D9 C5                  A  8054    	PUSH	BC
0425DA DD07FE              A  8055    	LD	BC,(IX+%FFFFFFFE)
0425DD C5                  A  8056    	PUSH	BC
0425DE 010B0000            A  8057    	LD	BC,11
0425E2 C5                  A  8058    	PUSH	BC
0425E3 CD F1 07 04         A  8059    	CALL	_vdp_bitmapDraw
0425E7 C1                  A  8060    	POP	BC
0425E8 C1                  A  8061    	POP	BC
0425E9 C1                  A  8062    	POP	BC
                           A  8063    ;  886						break;
                           A  8064    .LINE 886
                           A  8065    
0425EA 18 2A               A  8066    	JR	L_189
                           A  8067    ;  887						break;
                           A  8068    ;  888					case CHAR_GOAL:
0425EC                     A  8069    L_186:
                           A  8070    .LINE 888
                           A  8071    
                           A  8072    ;  889						vdp_bitmapDraw(TILE
                           A  8073    .LINE 889
                           A  8074    
0425EC DD07FC              A  8075    	LD	BC,(IX+%FFFFFFFC)
0425EF C5                  A  8076    	PUSH	BC
0425F0 DD07FE              A  8077    	LD	BC,(IX+%FFFFFFFE)
0425F3 C5                  A  8078    	PUSH	BC
0425F4 010C0000            A  8079    	LD	BC,12
0425F8 C5                  A  8080    	PUSH	BC
0425F9 CD F1 07 04         A  8081    	CALL	_vdp_bitmapDraw
0425FD C1                  A  8082    	POP	BC
0425FE C1                  A  8083    	POP	BC
0425FF C1                  A  8084    	POP	BC
                           A  8085    ;  890						break;
                           A  8086    .LINE 890
                           A  8087    
042600 18 14               A  8088    	JR	L_189
                           A  8089    ;  891					case CHAR_FLOOR:
042602                     A  8090    L_187:
                           A  8091    .LINE 891
                           A  8092    
                           A  8093    ;  892						vdp_bitmapDraw(TILE
                           A  8094    .LINE 892
                           A  8095    
042602 DD07FC              A  8096    	LD	BC,(IX+%FFFFFFFC)
042605 C5                  A  8097    	PUSH	BC
042606 DD07FE              A  8098    	LD	BC,(IX+%FFFFFFFE)
042609 C5                  A  8099    	PUSH	BC
04260A 010D0000            A  8100    	LD	BC,13
04260E C5                  A  8101    	PUSH	BC
04260F CD F1 07 04         A  8102    	CALL	_vdp_bitmapDraw
042613 C1                  A  8103    	POP	BC
042614 C1                  A  8104    	POP	BC
042615 C1                  A  8105    	POP	BC
                           A  8106    ;  893						break;
                           A  8107    ;  894					default:
                           A  8108    ;  895						break;
                           A  8109    ;  896				}
042616                     A  8110    L_189:
                           A  8111    .LINE 896
                           A  8112    
                           A  8113    ;  897				x += MINIMAP_WIDTH;
                           A  8114    .LINE 897
                           A  8115    
042616 DD31FE              A  8116    	LD	IY,(IX+%FFFFFFFE)
042619 ED2308              A  8117    	LEA	HL,IY+%8
04261C DD75FE              A  8118    	LD	(IX+%FFFFFFFE),L
04261F DD74FF              A  8119    	LD	(IX+%FFFFFFFF),H
042622 DD27FA              A  8120    	LD	HL,(IX+%FFFFFFFA)
042625 23                  A  8121    	INC	HL
042626 DD75FA              A  8122    	LD	(IX+%FFFFFFFA),L
042629 DD74FB              A  8123    	LD	(IX+%FFFFFFFB),H
                           A  8124    ;  898			}
04262C                     A  8125    L_192:
                           A  8126    .LINE 898
                           A  8127    
04262C 3A 6D 58 04         A  8128    	LD	A,(_currentlevel+2)
042630 4F                  A  8129    	LD	C,A
042631 0600                A  8130    	LD	B,%0
042633 DD27FA              A  8131    	LD	HL,(IX+%FFFFFFFA)
042636 B7                  A  8132    	OR	A,A
042637 40ED42              A  8133    	SBC.SIS	HL,BC
04263A DA 30 25 04         A  8134    	JR	C,L_190
                           A  8135    ;  899			y += MINIMAP_HEIGHT;
                           A  8136    .LINE 899
                           A  8137    
04263E DD31FC              A  8138    	LD	IY,(IX+%FFFFFFFC)
042641 ED2308              A  8139    	LEA	HL,IY+%8
042644 DD75FC              A  8140    	LD	(IX+%FFFFFFFC),L
042647 DD74FD              A  8141    	LD	(IX+%FFFFFFFD),H
04264A DD27F8              A  8142    	LD	HL,(IX+%FFFFFFF8)
04264D 23                  A  8143    	INC	HL
04264E DD75F8              A  8144    	LD	(IX+%FFFFFFF8),L
042651 DD74F9              A  8145    	LD	(IX+%FFFFFFF9),H
                           A  8146    ;  900		}
042654                     A  8147    L_196:
                           A  8148    .LINE 900
                           A  8149    
042654 3A 6E 58 04         A  8150    	LD	A,(_currentlevel+3)
042658 4F                  A  8151    	LD	C,A
042659 0600                A  8152    	LD	B,%0
04265B DD27F8              A  8153    	LD	HL,(IX+%FFFFFFF8)
04265E B7                  A  8154    	OR	A,A
04265F 40ED42              A  8155    	SBC.SIS	HL,BC
042662 DA 1B 25 04         A  8156    	JR	C,L_194
                           A  8157    ;  901	}
                           A  8158    .LINE 901
                           A  8159    
042666 DDF9                A  8160    	LD	SP,IX
042668 DDE1                A  8161    	POP	IX
04266A C9                  A  8162    	RET	
                           A  8163    
                           A  8164    
                           A  8165    ;**************************** _game_displayMini
                           A  8166    ;Name                         Addr/Register   S
                           A  8167    ;_vdp_bitmapDraw                     IMPORT  --
                           A  8168    ;_currentlevel                       STATIC   1
                           A  8169    ;ystart                               IX-13    
                           A  8170    ;xstart                               IX-11    
                           A  8171    ;c                                     IX-9    
                           A  8172    ;height                                IX-8    
                           A  8173    ;width                                 IX-6    
                           A  8174    ;y                                     IX-4    
                           A  8175    ;x                                     IX-2    
                           A  8176    
                           A  8177    
                           A  8178    ; Stack Frame Size: 19 (bytes)
                           A  8179    ;       Spill Code: 0 (instruction)
                           A  8180    
                           A  8181    
                           A  8182    .ENDFUNC "game_displayMinimap",901,"_game_displ
                           A  8183    ;  902	
                           A  8184    ;  903	
                           A  8185    ;  904	UINT8 game_readLevels(char *filename)
                           A  8186    ;  905	{
04266B                     A  8187    _game_readLevels:
                           A  8188    .DEFINE "_game_readLevels"
                           A  8189    
                           A  8190    .VALUE _game_readLevels
                           A  8191    
                           A  8192    .CLASS 2
                           A  8193    
                           A  8194    .TYPE 76
                           A  8195    
                           A  8196    .ENDEF
                           A  8197    
                           A  8198    .BEGFUNC "game_readLevels",905,"_game_readLevel
                           A  8199    
                           A  8200    .LINE 905
                           A  8201    
                           A  8202    .DEFINE "filename"
                           A  8203    
                           A  8204    .CLASS 65
                           A  8205    
                           A  8206    .VALUE 6
                           A  8207    
                           A  8208    .TYPE 34
                           A  8209    
                           A  8210    .ENDEF
                           A  8211    
                           A  8212    .DEFINE "numlevels"
                           A  8213    
                           A  8214    .CLASS 65
                           A  8215    
                           A  8216    .VALUE -1
                           A  8217    
                           A  8218    .TYPE 12
                           A  8219    
                           A  8220    .ENDEF
                           A  8221    
                           A  8222    .DEFINE "file"
                           A  8223    
                           A  8224    .CLASS 65
                           A  8225    
                           A  8226    .VALUE -2
                           A  8227    
                           A  8228    .TYPE 12
                           A  8229    
                           A  8230    .ENDEF
                           A  8231    
                           A  8232    .DEFINE "size"
                           A  8233    
                           A  8234    .CLASS 65
                           A  8235    
                           A  8236    .VALUE -4
                           A  8237    
                           A  8238    .TYPE 13
                           A  8239    
                           A  8240    .ENDEF
                           A  8241    
                           A  8242    .DEFINE "ptr"
                           A  8243    
                           A  8244    .CLASS 65
                           A  8245    
                           A  8246    .VALUE -7
                           A  8247    
                           A  8248    .TYPE 34
                           A  8249    
                           A  8250    .ENDEF
                           A  8251    
04266B DDE5                A  8252    	PUSH	IX
04266D DD210000 00         A  8253    	LD	IX,0
042672 DD39                A  8254    	ADD	IX,SP
042674 C5                  A  8255    	PUSH	BC
042675 C5                  A  8256    	PUSH	BC
042676 3B                  A  8257    	DEC	SP
                           A  8258    ;  906		// Reads all the levels in the stan
                           A  8259    ;  907		UINT8 numlevels = 0;
                           A  8260    .LINE 907
                           A  8261    
042677 DD36FF00            A  8262    	LD	(IX+%FFFFFFFF),%0
                           A  8263    ;  908		UINT16 size;
                           A  8264    ;  909		UINT8 file;
                           A  8265    ;  910		char* ptr = (char*)LEVELDATA;
                           A  8266    .LINE 910
                           A  8267    
04267B 01000006            A  8268    	LD	BC,393216
04267F DD0FF9              A  8269    	LD	(IX+%FFFFFFF9),BC
                           A  8270    ;  911	
                           A  8271    ;  912		vdp_fgcolour(255,255,255);
                           A  8272    .LINE 912
                           A  8273    
042682 01FF0000            A  8274    	LD	BC,255
042686 C5                  A  8275    	PUSH	BC
042687 C5                  A  8276    	PUSH	BC
042688 C5                  A  8277    	PUSH	BC
042689 CD 80 04 04         A  8278    	CALL	_vdp_fgcolour
04268D C1                  A  8279    	POP	BC
04268E C1                  A  8280    	POP	BC
04268F C1                  A  8281    	POP	BC
                           A  8282    ;  913	
                           A  8283    ;  914		file = mos_fopen(filename, fa_read)
                           A  8284    .LINE 914
                           A  8285    
042690 01010000            A  8286    	LD	BC,1
042694 C5                  A  8287    	PUSH	BC
042695 DD0706              A  8288    	LD	BC,(IX+%6)
042698 C5                  A  8289    	PUSH	BC
042699 CD 2C 29 04         A  8290    	CALL	_mos_fopen
04269D C1                  A  8291    	POP	BC
04269E C1                  A  8292    	POP	BC
04269F DD77FE              A  8293    	LD	(IX+%FFFFFFFE),A
                           A  8294    ;  915		if(file)
                           A  8295    .LINE 915
                           A  8296    
0426A2 B7                  A  8297    	OR	A,A
0426A3 CA 55 27 04         A  8298    	JR	Z,L_208
                           A  8299    ;  916		{
                           A  8300    ;  917			numlevels = 0;
                           A  8301    .LINE 917
                           A  8302    
0426A7 DD36FF00            A  8303    	LD	(IX+%FFFFFFFF),%0
                           A  8304    ;  918			
                           A  8305    ;  919			while(!mos_feof(file))
                           A  8306    .LINE 919
                           A  8307    
0426AB C3 3A 27 04         A  8308    	JR	L_204
0426AF                     A  8309    L_205:
                           A  8310    ;  920			{
                           A  8311    ;  921				size = sizeof(struct sokoba
                           A  8312    .LINE 921
                           A  8313    
0426AF DD36FCB7            A  8314    	LD	(IX+%FFFFFFFC),%B7
0426B3 DD36FD04            A  8315    	LD	(IX+%FFFFFFFD),%4
                           A  8316    ;  922				while(size)
                           A  8317    .LINE 922
                           A  8318    
0426B7 18 22               A  8319    	JR	L_200
0426B9                     A  8320    L_201:
                           A  8321    ;  923				{
                           A  8322    ;  924					*ptr = mos_fgetc(file);
                           A  8323    .LINE 924
                           A  8324    
0426B9 DD4EFE              A  8325    	LD	C,(IX+%FFFFFFFE)
0426BC 0600                A  8326    	LD	B,%0
0426BE C5                  A  8327    	PUSH	BC
0426BF CD 59 29 04         A  8328    	CALL	_mos_fgetc
0426C3 C1                  A  8329    	POP	BC
0426C4 DD27F9              A  8330    	LD	HL,(IX+%FFFFFFF9)
0426C7 77                  A  8331    	LD	(HL),A
                           A  8332    ;  925					ptr++;
                           A  8333    .LINE 925
                           A  8334    
0426C8 DD07F9              A  8335    	LD	BC,(IX+%FFFFFFF9)
0426CB 03                  A  8336    	INC	BC
0426CC DD0FF9              A  8337    	LD	(IX+%FFFFFFF9),BC
                           A  8338    ;  926					size--;
                           A  8339    .LINE 926
                           A  8340    
0426CF DD31FC              A  8341    	LD	IY,(IX+%FFFFFFFC)
0426D2 ED23FF              A  8342    	LEA	HL,IY+%FFFFFFFF
0426D5 DD75FC              A  8343    	LD	(IX+%FFFFFFFC),L
0426D8 DD74FD              A  8344    	LD	(IX+%FFFFFFFD),H
                           A  8345    ;  927				}
0426DB                     A  8346    L_200:
                           A  8347    .LINE 927
                           A  8348    
0426DB DD27FC              A  8349    	LD	HL,(IX+%FFFFFFFC)
0426DE CD A8 32 04         A  8350    	CALL	__scmpzero
0426E2 20 D5               A  8351    	JR	NZ,L_201
                           A  8352    ;  928				numlevels++;
                           A  8353    .LINE 928
                           A  8354    
0426E4 DD34FF              A  8355    	INC	(IX+%FFFFFFFF)
                           A  8356    ;  929				vdp_cursorGoto(20,38);
                           A  8357    .LINE 929
                           A  8358    
0426E7 01260000            A  8359    	LD	BC,38
0426EB C5                  A  8360    	PUSH	BC
0426EC 01140000            A  8361    	LD	BC,20
0426F0 C5                  A  8362    	PUSH	BC
0426F1 CD EF 03 04         A  8363    	CALL	_vdp_cursorGoto
0426F5 C1                  A  8364    	POP	BC
0426F6 C1                  A  8365    	POP	BC
                           A  8366    ;  930				printf("Loading levels (%03
                           A  8367    .LINE 930
                           A  8368    
0426F7 01 41 2B 04         A  8369    	LD	BC,___print_uputch
0426FB ED43 3E 4C 04       A  8370    	LD	(___print_xputch),BC
042700 01 A1 4F 04         A  8371    	LD	BC,L__103
042704 C5                  A  8372    	PUSH	BC
042705 CD D0 29 04         A  8373    	CALL	___print_sendstring
042709 C1                  A  8374    	POP	BC
04270A 3E03                A  8375    	LD	A,%3
04270C 32 36 5D 04         A  8376    	LD	(___print_fmt+5),A
042710 3E40                A  8377    	LD	A,%40
042712 32 32 5D 04         A  8378    	LD	(___print_fmt+1),A
042716 DD7EFF              A  8379    	LD	A,(IX+%FFFFFFFF)
042719 B7ED62              A  8380    	UEXT	HL
04271C 6F                  A  8381    	LD	L,A
04271D E5C1                A  8382    	LD	BC,HL
04271F CD 27 32 04         A  8383    	CALL	__itol
042723 C5D1                A  8384    	LD	DE,BC
042725 4F                  A  8385    	LD	C,A
042726 0600                A  8386    	LD	B,%0
042728 C5                  A  8387    	PUSH	BC
042729 D5                  A  8388    	PUSH	DE
04272A CD C7 2B 04         A  8389    	CALL	__u_itoa
04272E C1                  A  8390    	POP	BC
04272F C1                  A  8391    	POP	BC
042730 01 B2 4F 04         A  8392    	LD	BC,L__104
042734 C5                  A  8393    	PUSH	BC
042735 CD D0 29 04         A  8394    	CALL	___print_sendstring
042739 C1                  A  8395    	POP	BC
                           A  8396    ;  931	
                           A  8397    ;  932			}		
04273A                     A  8398    L_204:
                           A  8399    .LINE 932
                           A  8400    
04273A DD4EFE              A  8401    	LD	C,(IX+%FFFFFFFE)
04273D 0600                A  8402    	LD	B,%0
04273F C5                  A  8403    	PUSH	BC
042740 CD 86 29 04         A  8404    	CALL	_mos_feof
042744 C1                  A  8405    	POP	BC
042745 B7                  A  8406    	OR	A,A
042746 CA AF 26 04         A  8407    	JR	Z,L_205
                           A  8408    ;  933			mos_fclose(file);
                           A  8409    .LINE 933
                           A  8410    
04274A DD4EFE              A  8411    	LD	C,(IX+%FFFFFFFE)
04274D 0600                A  8412    	LD	B,%0
04274F C5                  A  8413    	PUSH	BC
042750 CD 44 29 04         A  8414    	CALL	_mos_fclose
042754 C1                  A  8415    	POP	BC
                           A  8416    ;  934		}
042755                     A  8417    L_208:
                           A  8418    .LINE 934
                           A  8419    
                           A  8420    ;  935		return numlevels;
                           A  8421    .LINE 935
                           A  8422    
042755 DD7EFF              A  8423    	LD	A,(IX+%FFFFFFFF)
                           A  8424    ;  936	}	
                           A  8425    .LINE 936
                           A  8426    
042758 DDF9                A  8427    	LD	SP,IX
04275A DDE1                A  8428    	POP	IX
04275C C9                  A  8429    	RET	
                           A  8430    
                           A  8431    
                           A  8432    ;**************************** _game_readLevels 
                           A  8433    ;Name                         Addr/Register   S
                           A  8434    ;_mos_fclose                         IMPORT  --
                           A  8435    ;_mos_feof                           IMPORT  --
                           A  8436    ;__u_itoa                            IMPORT  --
                           A  8437    ;___print_fmt                        IMPORT    
                           A  8438    ;___print_sendstring                 IMPORT  --
                           A  8439    ;___print_xputch                     IMPORT    
                           A  8440    ;___print_uputch                     IMPORT  --
                           A  8441    ;_vdp_cursorGoto                     IMPORT  --
                           A  8442    ;_mos_fgetc                          IMPORT  --
                           A  8443    ;_mos_fopen                          IMPORT  --
                           A  8444    ;_vdp_fgcolour                       IMPORT  --
                           A  8445    ;ptr                                   IX-7    
                           A  8446    ;size                                  IX-4    
                           A  8447    ;file                                  IX-2    
                           A  8448    ;numlevels                             IX-1    
                           A  8449    ;filename                              IX+6    
                           A  8450    
                           A  8451    
                           A  8452    ; Stack Frame Size: 16 (bytes)
                           A  8453    ;       Spill Code: 0 (instruction)
                           A  8454    
                           A  8455    
                           A  8456    .ENDFUNC "game_readLevels",936,"_game_readLevel
                           A  8457    	SEGMENT STRSECT
044FA1                     A  8458    L__103:
044FA1 4C6F6164 696E6720   A  8459    	DB	"Loading levels ("
044FA9 6C657665 6C732028 
044FB1 00                  A  8460    	DB	0
044FB2                     A  8461    L__104:
044FB2 292E2E2E 2E         A  8462    	DB	")...."
044FB7 00                  A  8463    	DB	0
                           A  8464    	SEGMENT CODE
                           A  8465    ;  937	
                           A  8466    ;  938	
                           A  8467    ;  939	void game_initLevel(UINT8 levelid)
                           A  8468    ;  940	{
04275D                     A  8469    _game_initLevel:
                           A  8470    .DEFINE "_game_initLevel"
                           A  8471    
                           A  8472    .VALUE _game_initLevel
                           A  8473    
                           A  8474    .CLASS 2
                           A  8475    
                           A  8476    .TYPE 65
                           A  8477    
                           A  8478    .ENDEF
                           A  8479    
                           A  8480    .BEGFUNC "game_initLevel",940,"_game_initLevel"
                           A  8481    
                           A  8482    .LINE 940
                           A  8483    
                           A  8484    .DEFINE "levelid"
                           A  8485    
                           A  8486    .CLASS 65
                           A  8487    
                           A  8488    .VALUE 6
                           A  8489    
                           A  8490    .TYPE 12
                           A  8491    
                           A  8492    .ENDEF
                           A  8493    
04275D DDE5                A  8494    	PUSH	IX
04275F DD210000 00         A  8495    	LD	IX,0
042764 DD39                A  8496    	ADD	IX,SP
                           A  8497    ;  941		memcpy(&currentlevel, (void*)(LEVEL
                           A  8498    .LINE 941
                           A  8499    
042766 01B70400            A  8500    	LD	BC,1207
04276A C5                  A  8501    	PUSH	BC
04276B DD7E06              A  8502    	LD	A,(IX+%6)
04276E B7ED62              A  8503    	UEXT	HL
042771 6F                  A  8504    	LD	L,A
042772 E5C1                A  8505    	LD	BC,HL
042774 21B70400            A  8506    	LD	HL,1207
042778 CD C6 31 04         A  8507    	CALL	__imulu
04277C 01000006            A  8508    	LD	BC,393216
042780 09                  A  8509    	ADD	HL,BC
042781 E5                  A  8510    	PUSH	HL
042782 01 6B 58 04         A  8511    	LD	BC,_currentlevel
042786 C5                  A  8512    	PUSH	BC
042787 CD D4 2E 04         A  8513    	CALL	_memcpy
04278B C1                  A  8514    	POP	BC
04278C C1                  A  8515    	POP	BC
04278D C1                  A  8516    	POP	BC
                           A  8517    ;  942		num_undomoves = 0;
                           A  8518    .LINE 942
                           A  8519    
04278E AF                  A  8520    	XOR	A,A
04278F 32 BA 4F 04         A  8521    	LD	(_num_undomoves),A
                           A  8522    ;  943	}
                           A  8523    .LINE 943
                           A  8524    
042793 DDF9                A  8525    	LD	SP,IX
042795 DDE1                A  8526    	POP	IX
042797 C9                  A  8527    	RET	
                           A  8528    
                           A  8529    
                           A  8530    ;**************************** _game_initLevel *
                           A  8531    ;Name                         Addr/Register   S
                           A  8532    ;_num_undomoves                      STATIC    
                           A  8533    ;_currentlevel                       STATIC   1
                           A  8534    ;_memcpy                             IMPORT  --
                           A  8535    ;levelid                               IX+6    
                           A  8536    
                           A  8537    
                           A  8538    ; Stack Frame Size: 9 (bytes)
                           A  8539    ;       Spill Code: 0 (instruction)
                           A  8540    
                           A  8541    
                           A  8542    .ENDFUNC "game_initLevel",943,"_game_initLevel"
                           A  8543    ;  944	
                           A  8544    ;  945	void game_initSprites(void)
                           A  8545    ;  946	{
042798                     A  8546    _game_initSprites:
                           A  8547    .DEFINE "_game_initSprites"
                           A  8548    
                           A  8549    .VALUE _game_initSprites
                           A  8550    
                           A  8551    .CLASS 2
                           A  8552    
                           A  8553    .TYPE 65
                           A  8554    
                           A  8555    .ENDEF
                           A  8556    
                           A  8557    .BEGFUNC "game_initSprites",946,"_game_initSpri
                           A  8558    
                           A  8559    .LINE 946
                           A  8560    
                           A  8561    .DEFINE "x"
                           A  8562    
                           A  8563    .CLASS 65
                           A  8564    
                           A  8565    .VALUE -1
                           A  8566    
                           A  8567    .TYPE 12
                           A  8568    
                           A  8569    .ENDEF
                           A  8570    
                           A  8571    .DEFINE "boxsprite"
                           A  8572    
                           A  8573    .CLASS 65
                           A  8574    
                           A  8575    .VALUE -2
                           A  8576    
                           A  8577    .TYPE 12
                           A  8578    
                           A  8579    .ENDEF
                           A  8580    
                           A  8581    .DEFINE "y"
                           A  8582    
                           A  8583    .CLASS 65
                           A  8584    
                           A  8585    .VALUE -3
                           A  8586    
                           A  8587    .TYPE 12
                           A  8588    
                           A  8589    .ENDEF
                           A  8590    
042798 DDE5                A  8591    	PUSH	IX
04279A DD210000 00         A  8592    	LD	IX,0
04279F DD39                A  8593    	ADD	IX,SP
0427A1 ED22F4              A  8594    	LEA	HL,IX+%FFFFFFF4
0427A4 F9                  A  8595    	LD	SP,HL
                           A  8596    ;  947		UINT8 x,y;
                           A  8597    ;  948		UINT8 boxsprite = 1;
                           A  8598    .LINE 948
                           A  8599    
0427A5 DD36FE01            A  8600    	LD	(IX+%FFFFFFFE),%1
                           A  8601    ;  949		
                           A  8602    ;  950		// Now build up the current level
                           A  8603    ;  951		// Player sprite
                           A  8604    ;  952		vdp_spriteSelect(0);
                           A  8605    .LINE 952
                           A  8606    
0427A9 01000000            A  8607    	LD	BC,0
0427AD C5                  A  8608    	PUSH	BC
0427AE CD 99 08 04         A  8609    	CALL	_vdp_spriteSelect
0427B2 C1                  A  8610    	POP	BC
                           A  8611    ;  953		vdp_spriteClearFramesSelected();
                           A  8612    .LINE 953
                           A  8613    
0427B3 CD D2 08 04         A  8614    	CALL	_vdp_spriteClearFramesSelected
                           A  8615    ;  954		vdp_spriteAddFrameSelected(TILE_PLA
                           A  8616    .LINE 954
                           A  8617    
0427B7 01010000            A  8618    	LD	BC,1
0427BB C5                  A  8619    	PUSH	BC
0427BC CD 1B 09 04         A  8620    	CALL	_vdp_spriteAddFrameSelected
0427C0 C1                  A  8621    	POP	BC
                           A  8622    ;  955		vdp_spriteHideSelected();
                           A  8623    .LINE 955
                           A  8624    
0427C1 CD A9 0A 04         A  8625    	CALL	_vdp_spriteHideSelected
                           A  8626    ;  956	
                           A  8627    ;  957		// set sprite positions
                           A  8628    ;  958		for(y = 0; y < currentlevel.height;
                           A  8629    .LINE 958
                           A  8630    
0427C5 DD36FD00            A  8631    	LD	(IX+%FFFFFFFD),%0
0427C9 C3 A1 28 04         A  8632    	JR	L_225
0427CD                     A  8633    L_223:
                           A  8634    ;  959		{
                           A  8635    ;  960			for(x = 0; x < currentlevel.wid
                           A  8636    .LINE 960
                           A  8637    
0427CD DD36FF00            A  8638    	LD	(IX+%FFFFFFFF),%0
0427D1 C3 92 28 04         A  8639    	JR	L_222
0427D5                     A  8640    L_220:
                           A  8641    ;  961			{
                           A  8642    ;  962				switch(currentlevel.data[y]
                           A  8643    .LINE 962
                           A  8644    
0427D5 DD7EFD              A  8645    	LD	A,(IX+%FFFFFFFD)
0427D8 B7ED62              A  8646    	UEXT	HL
0427DB 6F                  A  8647    	LD	L,A
0427DC 3E28                A  8648    	LD	A,%28
0427DE CD BA 31 04         A  8649    	CALL	__imul_b
0427E2 DD2FFA              A  8650    	LD	(IX+%FFFFFFFA),HL
0427E5 01 72 58 04         A  8651    	LD	BC,_currentlevel+7
0427E9 09                  A  8652    	ADD	HL,BC
0427EA DD2FF4              A  8653    	LD	(IX+%FFFFFFF4),HL
0427ED DD7EFF              A  8654    	LD	A,(IX+%FFFFFFFF)
0427F0 B7ED62              A  8655    	UEXT	HL
0427F3 6F                  A  8656    	LD	L,A
0427F4 DD07F4              A  8657    	LD	BC,(IX+%FFFFFFF4)
0427F7 09                  A  8658    	ADD	HL,BC
0427F8 DD2FF7              A  8659    	LD	(IX+%FFFFFFF7),HL
0427FB 7E                  A  8660    	LD	A,(HL)
0427FC B7ED62              A  8661    	UEXT	HL
0427FF 6F                  A  8662    	LD	L,A
042800 CD 4F 32 04         A  8663    	CALL	__case8D
042804 E9                  A  8664    	JP	(HL)
042805                     A  8665    L__108:
042805 0200                A  8666    	DW	2
042807 24                  A  8667    	DB	36
042808 122804              A  8668    	DW24	L_213	
                           A  8669    
04280B 2A                  A  8670    	DB	42
04280C 122804              A  8671    	DW24	L_214	
                           A  8672    
04280F 7B2804              A  8673    	DW24	L_219	
                           A  8674    
                           A  8675    ;  963				{
                           A  8676    ;  964					case CHAR_BOX:
042812                     A  8677    L_213:
                           A  8678    .LINE 964
                           A  8679    
                           A  8680    ;  965					case CHAR_BOXONGOAL:
042812                     A  8681    L_214:
                           A  8682    .LINE 965
                           A  8683    
                           A  8684    ;  966						vdp_spriteSelect(bo
                           A  8685    .LINE 966
                           A  8686    
042812 DD4EFE              A  8687    	LD	C,(IX+%FFFFFFFE)
042815 0600                A  8688    	LD	B,%0
042817 C5                  A  8689    	PUSH	BC
042818 CD 99 08 04         A  8690    	CALL	_vdp_spriteSelect
04281C C1                  A  8691    	POP	BC
                           A  8692    ;  967						vdp_spriteClearFram
                           A  8693    .LINE 967
                           A  8694    
04281D CD D2 08 04         A  8695    	CALL	_vdp_spriteClearFramesSelected
                           A  8696    ;  968						vdp_spriteAddFrameS
                           A  8697    .LINE 968
                           A  8698    
042821 01030000            A  8699    	LD	BC,3
042825 C5                  A  8700    	PUSH	BC
042826 CD 1B 09 04         A  8701    	CALL	_vdp_spriteAddFrameSelected
04282A C1                  A  8702    	POP	BC
                           A  8703    ;  969						vdp_spriteAddFrameS
                           A  8704    .LINE 969
                           A  8705    
04282B 01040000            A  8706    	LD	BC,4
04282F C5                  A  8707    	PUSH	BC
042830 CD 1B 09 04         A  8708    	CALL	_vdp_spriteAddFrameSelected
042834 C1                  A  8709    	POP	BC
                           A  8710    ;  970						if(currentlevel.dat
                           A  8711    .LINE 970
                           A  8712    
042835 DD27F7              A  8713    	LD	HL,(IX+%FFFFFFF7)
042838 7E                  A  8714    	LD	A,(HL)
042839 B7ED62              A  8715    	UEXT	HL
04283C 6F                  A  8716    	LD	L,A
04283D 012A0000            A  8717    	LD	BC,42
042841 B7                  A  8718    	OR	A,A
042842 ED42                A  8719    	SBC	HL,BC
042844 20 0C               A  8720    	JR	NZ,L_216
042846 01010000            A  8721    	LD	BC,1
04284A C5                  A  8722    	PUSH	BC
04284B CD 0A 0A 04         A  8723    	CALL	_vdp_spriteSetFrameSelected
04284F C1                  A  8724    	POP	BC
                           A  8725    ;  971						else vdp_spriteSetF
                           A  8726    .LINE 971
                           A  8727    
042850 18 0A               A  8728    	JR	L_217
042852                     A  8729    L_216:
042852 01000000            A  8730    	LD	BC,0
042856 C5                  A  8731    	PUSH	BC
042857 CD 0A 0A 04         A  8732    	CALL	_vdp_spriteSetFrameSelected
04285B C1                  A  8733    	POP	BC
04285C                     A  8734    L_217:
                           A  8735    ;  972						vdp_spriteHideSelec
                           A  8736    .LINE 972
                           A  8737    
04285C CD A9 0A 04         A  8738    	CALL	_vdp_spriteHideSelected
                           A  8739    ;  973						sprites[y][x] = box
                           A  8740    .LINE 973
                           A  8741    
042860 01 BB 53 04         A  8742    	LD	BC,_sprites
042864 DD27FA              A  8743    	LD	HL,(IX+%FFFFFFFA)
042867 09                  A  8744    	ADD	HL,BC
042868 E5C1                A  8745    	LD	BC,HL
04286A DD7EFF              A  8746    	LD	A,(IX+%FFFFFFFF)
04286D B7ED62              A  8747    	UEXT	HL
042870 6F                  A  8748    	LD	L,A
042871 09                  A  8749    	ADD	HL,BC
042872 DD7EFE              A  8750    	LD	A,(IX+%FFFFFFFE)
042875 77                  A  8751    	LD	(HL),A
                           A  8752    ;  974						boxsprite++;
                           A  8753    .LINE 974
                           A  8754    
042876 DD34FE              A  8755    	INC	(IX+%FFFFFFFE)
                           A  8756    ;  975						break;
                           A  8757    .LINE 975
                           A  8758    
042879 18 14               A  8759    	JR	L_221
                           A  8760    ;  976					default:
04287B                     A  8761    L_219:
                           A  8762    .LINE 976
                           A  8763    
                           A  8764    ;  977						sprites[y][x] = NOS
                           A  8765    .LINE 977
                           A  8766    
04287B 01 BB 53 04         A  8767    	LD	BC,_sprites
04287F DD27FA              A  8768    	LD	HL,(IX+%FFFFFFFA)
042882 09                  A  8769    	ADD	HL,BC
042883 E5C1                A  8770    	LD	BC,HL
042885 DD7EFF              A  8771    	LD	A,(IX+%FFFFFFFF)
042888 B7ED62              A  8772    	UEXT	HL
04288B 6F                  A  8773    	LD	L,A
04288C 09                  A  8774    	ADD	HL,BC
04288D 36FF                A  8775    	LD	(HL),%FF
                           A  8776    ;  978						break;
                           A  8777    ;  979				}	
                           A  8778    ;  980			}
04288F                     A  8779    L_221:
                           A  8780    .LINE 980
                           A  8781    
04288F DD34FF              A  8782    	INC	(IX+%FFFFFFFF)
042892                     A  8783    L_222:
042892 DD7EFF              A  8784    	LD	A,(IX+%FFFFFFFF)
042895 21 6D 58 04         A  8785    	LD	HL,_currentlevel+2
042899 BE                  A  8786    	CP	A,(HL)
04289A DA D5 27 04         A  8787    	JR	C,L_220
04289E DD34FD              A  8788    	INC	(IX+%FFFFFFFD)
                           A  8789    ;  981		}
0428A1                     A  8790    L_225:
                           A  8791    .LINE 981
                           A  8792    
0428A1 DD7EFD              A  8793    	LD	A,(IX+%FFFFFFFD)
0428A4 21 6E 58 04         A  8794    	LD	HL,_currentlevel+3
0428A8 BE                  A  8795    	CP	A,(HL)
0428A9 DA CD 27 04         A  8796    	JR	C,L_223
                           A  8797    ;  982	
                           A  8798    ;  983		// activate all sprites. boxsprite 
                           A  8799    ;  984		spritenumber = boxsprite;
                           A  8800    .LINE 984
                           A  8801    
0428AD DD7EFE              A  8802    	LD	A,(IX+%FFFFFFFE)
0428B0 32 22 5D 04         A  8803    	LD	(_spritenumber),A
                           A  8804    ;  985		vdp_spriteActivateTotal(spritenumbe
                           A  8805    .LINE 985
                           A  8806    
0428B4 4F                  A  8807    	LD	C,A
0428B5 0600                A  8808    	LD	B,%0
0428B7 C5                  A  8809    	PUSH	BC
0428B8 CD BC 0B 04         A  8810    	CALL	_vdp_spriteActivateTotal
0428BC C1                  A  8811    	POP	BC
                           A  8812    ;  986	}
                           A  8813    .LINE 986
                           A  8814    
0428BD DDF9                A  8815    	LD	SP,IX
0428BF DDE1                A  8816    	POP	IX
0428C1 C9                  A  8817    	RET	
                           A  8818    
                           A  8819    
                           A  8820    ;**************************** _game_initSprites
                           A  8821    ;Name                         Addr/Register   S
                           A  8822    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  8823    ;_spritenumber                       STATIC    
                           A  8824    ;_sprites                            STATIC   1
                           A  8825    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  8826    ;_currentlevel                       STATIC   1
                           A  8827    ;_vdp_spriteHideSelected             IMPORT  --
                           A  8828    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  8829    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  8830    ;_vdp_spriteSelect                   IMPORT  --
                           A  8831    ;G_30                                 IX-12    
                           A  8832    ;G_31                                  IX-9    
                           A  8833    ;G_32                                  IX-6    
                           A  8834    ;y                                     IX-3    
                           A  8835    ;boxsprite                             IX-2    
                           A  8836    ;x                                     IX-1    
                           A  8837    
                           A  8838    
                           A  8839    ; Stack Frame Size: 18 (bytes)
                           A  8840    ;       Spill Code: 0 (instruction)
                           A  8841    
                           A  8842    
                           A  8843    .ENDFUNC "game_initSprites",986,"_game_initSpri
                           A  8844    	XREF _strlen:ROM
                           A  8845    	XREF _memset:ROM
                           A  8846    	XREF _memcpy:ROM
                           A  8847    	XREF _puts:ROM
                           A  8848    	XREF __u_itoa:ROM
                           A  8849    	XREF ___print_sendstring:ROM
                           A  8850    	XREF ___print_xputch:ROM
                           A  8851    	XREF ___print_uputch:ROM
                           A  8852    	XREF ___print_fmt:ROM
                           A  8853    	XREF _vdp_spriteRefresh:ROM
                           A  8854    	XREF _vdp_spriteActivateTotal:ROM
                           A  8855    	XREF _vdp_spriteMoveBySelected:ROM
                           A  8856    	XREF _vdp_spriteMoveToSelected:ROM
                           A  8857    	XREF _vdp_spriteHide:ROM
                           A  8858    	XREF _vdp_spriteHideSelected:ROM
                           A  8859    	XREF _vdp_spriteShowSelected:ROM
                           A  8860    	XREF _vdp_spriteSetFrame:ROM
                           A  8861    	XREF _vdp_spriteSetFrameSelected:ROM
                           A  8862    	XREF _vdp_spriteAddFrameSelected:ROM
                           A  8863    	XREF _vdp_spriteClearFramesSelected:ROM
                           A  8864    	XREF _vdp_spriteSelect:ROM
                           A  8865    	XREF _vdp_bitmapCreateSolidColor:ROM
                           A  8866    	XREF _vdp_bitmapDraw:ROM
                           A  8867    	XREF _vdp_bitmapSendData:ROM
                           A  8868    	XREF _vdp_plotLineTo:ROM
                           A  8869    	XREF _vdp_plotMoveTo:ROM
                           A  8870    	XREF _vdp_plotColour:ROM
                           A  8871    	XREF _vdp_clearGraphics:ROM
                           A  8872    	XREF _vdp_fgcolour:ROM
                           A  8873    	XREF _vdp_cursorDisable:ROM
                           A  8874    	XREF _vdp_cursorGoto:ROM
                           A  8875    	XREF _vdp_cls:ROM
                           A  8876    	XREF _vdp_mode:ROM
                           A  8877    	XREF _mos_feof:ROM
                           A  8878    	XREF _mos_fgetc:ROM
                           A  8879    	XREF _mos_fclose:ROM
                           A  8880    	XREF _mos_fopen:ROM
                           A  8881    	XREF _getch:ROM
                           A  8882    	XREF _putch:ROM
                           A  8883    	XREF __idivs:ROM
                           A  8884    	XREF __imulu:ROM
                           A  8885    	XREF __stoi:ROM
                           A  8886    	XREF __stoiu:ROM
                           A  8887    	XREF __itol:ROM
                           A  8888    	XREF __setflag:ROM
                           A  8889    	XREF __scmpzero:ROM
                           A  8890    	XREF __case8D:ROM
                           A  8891    	XREF __imul_b:ROM
                           A  8892    	XDEF _game_initSprites
                           A  8893    	XDEF _game_initLevel
                           A  8894    	XDEF _game_readLevels
                           A  8895    	XDEF _game_displayMinimap
                           A  8896    	XDEF _game_displayLevel
                           A  8897    	XDEF _game_selectLevel
                           A  8898    	XDEF _game_displayHelp
                           A  8899    	XDEF _game_splash_screen
                           A  8900    	XDEF _game_getResponse
                           A  8901    	XDEF _game_handleKey
                           A  8902    	XDEF _game_handleUndoMove
                           A  8903    	XDEF _undomove_updatelevel
                           A  8904    	XDEF _move_updatelevel
                           A  8905    	XDEF _undomove_sprites
                           A  8906    	XDEF _move_sprites
                           A  8907    	XDEF _canmove
                           A  8908    	XDEF _game_resetSprites
                           A  8909    	XDEF _game_sendSpriteData
                           A  8910    	XDEF _debug_print_playfieldText
                           A  8911    	XDEF _playermini_data
                           A  8912    	XDEF _boxongoalmini_data
                           A  8913    	XDEF _goalmini_data
                           A  8914    	XDEF _wallmini_data
                           A  8915    	XDEF _boxmini_data
                           A  8916    	XDEF _boxongoal_data
                           A  8917    	XDEF _box_data
                           A  8918    	XDEF _goal_data
                           A  8919    	XDEF _player_data
                           A  8920    	XDEF _wall_data
                           A  8921    	XDEF _spritenumber
                           A  8922    	XDEF _currentlevel
                           A  8923    	XDEF _sprites
                           A  8924    	XDEF _bitmapbuffer
                           A  8925    	XDEF _num_undomoves
                           A  8926    	XDEF _undomove
                           A  8927    	END


Errors: 0
Warnings: 0
Lines Assembled: 8928
