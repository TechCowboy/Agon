Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED10-Dec-22     17:34:41     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\game.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "sokobanlevel",1207
                           A     9    .DEFINE "xpos"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "ypos"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "width"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "height"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "goals"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "goalstaken"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "crates"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "data"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .DIM 30
                           A    48    .DIM 40
                           A    49    .TYPE 876
                           A    50    .ENDEF
                           A    51    .ENDREC "sokobanlevel"
                           A    52    .BEGREC "NONAME0",2
                           A    53    .DEFINE "ch"
                           A    54    .VALUE 0
                           A    55    .CLASS 8
                           A    56    .TYPE 2
                           A    57    .ENDEF
                           A    58    .DEFINE "tile_id"
                           A    59    .VALUE 1
                           A    60    .CLASS 8
                           A    61    .TYPE 12
                           A    62    .ENDEF
                           A    63    .ENDREC "NONAME0"
                           A    64    .BEGREC "fmt_type",19
                           A    65    .DEFINE "status"
                           A    66    .VALUE 0
                           A    67    .CLASS 8
                           A    68    .TYPE 12
                           A    69    .ENDEF
                           A    70    .DEFINE "flags"
                           A    71    .VALUE 1
                           A    72    .CLASS 8
                           A    73    .TYPE 12
                           A    74    .ENDEF
                           A    75    .DEFINE "size"
                           A    76    .VALUE 2
                           A    77    .CLASS 8
                           A    78    .TYPE 2
                           A    79    .ENDEF
                           A    80    .DEFINE "chr"
                           A    81    .VALUE 3
                           A    82    .CLASS 8
                           A    83    .TYPE 2
                           A    84    .ENDEF
                           A    85    .DEFINE "type"
                           A    86    .VALUE 4
                           A    87    .CLASS 8
                           A    88    .TYPE 2
                           A    89    .ENDEF
                           A    90    .DEFINE "field_width"
                           A    91    .VALUE 5
                           A    92    .CLASS 8
                           A    93    .TYPE 2
                           A    94    .ENDEF
                           A    95    .DEFINE "precision"
                           A    96    .VALUE 6
                           A    97    .CLASS 8
                           A    98    .TYPE 2
                           A    99    .ENDEF
                           A   100    .DEFINE "set_begin"
                           A   101    .VALUE 7
                           A   102    .CLASS 8
                           A   103    .TYPE 34
                           A   104    .ENDEF
                           A   105    .DEFINE "set_end"
                           A   106    .VALUE 10
                           A   107    .CLASS 8
                           A   108    .TYPE 34
                           A   109    .ENDEF
                           A   110    .DEFINE "pad_whole"
                           A   111    .VALUE 13
                           A   112    .CLASS 8
                           A   113    .TYPE 12
                           A   114    .ENDEF
                           A   115    .DEFINE "pad_pre_fract"
                           A   116    .VALUE 14
                           A   117    .CLASS 8
                           A   118    .TYPE 12
                           A   119    .ENDEF
                           A   120    .DEFINE "pad_post_fract"
                           A   121    .VALUE 15
                           A   122    .CLASS 8
                           A   123    .TYPE 12
                           A   124    .ENDEF
                           A   125    .DEFINE "pad_at"
                           A   126    .VALUE 16
                           A   127    .CLASS 8
                           A   128    .TYPE 34
                           A   129    .ENDEF
                           A   130    .ENDREC "fmt_type"
                           A   131    .BEGREC "flt_info",12
                           A   132    .DEFINE "flags"
                           A   133    .VALUE 0
                           A   134    .CLASS 8
                           A   135    .TYPE 12
                           A   136    .ENDEF
                           A   137    .DEFINE "exp"
                           A   138    .VALUE 1
                           A   139    .CLASS 8
                           A   140    .TYPE 2
                           A   141    .ENDEF
                           A   142    .DEFINE "digits"
                           A   143    .VALUE 2
                           A   144    .CLASS 8
                           A   145    .DIM 10
                           A   146    .TYPE 108
                           A   147    .ENDEF
                           A   148    .ENDREC "flt_info"
                           A   149    	SEGMENT BSS
0433F3                     A   150    _bitmapbuffer:
0433F3                     A   151    	DS	1024
                           A   152    .DEFINE "bitmapbuffer"
                           A   153    .ALIAS "_bitmapbuffer"
                           A   154    .CLASS 83
                           A   155    .VALUE _bitmapbuffer
                           A   156    .DIM 256
                           A   157    .TYPE 111
                           A   158    .ENDEF
0437F3                     A   159    _sprites:
0437F3                     A   160    	DS	1200
                           A   161    .DEFINE "sprites"
                           A   162    .ALIAS "_sprites"
                           A   163    .CLASS 83
                           A   164    .VALUE _sprites
                           A   165    .DIM 30
                           A   166    .DIM 40
                           A   167    .TYPE 876
                           A   168    .ENDEF
043CA3                     A   169    _currentlevel:
043CA3                     A   170    	DS	1207
                           A   171    .DEFINE "currentlevel"
                           A   172    .ALIAS "_currentlevel"
                           A   173    .CLASS 83
                           A   174    .VALUE _currentlevel
                           A   175    .TAG "sokobanlevel"
                           A   176    .TYPE 8
                           A   177    .ENDEF
04415A                     A   178    _spritenumber:
04415A                     A   179    	DS	1
                           A   180    .DEFINE "spritenumber"
                           A   181    .ALIAS "_spritenumber"
                           A   182    .CLASS 83
                           A   183    .VALUE _spritenumber
                           A   184    .TYPE 12
                           A   185    .ENDEF
                           A   186    	SEGMENT DATA
041F8F                     A   187    _wall_data:
041F8F 808000FF            A   188    	DL	-16744320
041F93 808000FF            A   189    	DL	-16744320
041F97 808000FF            A   190    	DL	-16744320
041F9B 808000FF            A   191    	DL	-16744320
041F9F 808000FF            A   192    	DL	-16744320
041FA3 808000FF            A   193    	DL	-16744320
041FA7 808000FF            A   194    	DL	-16744320
041FAB 404040FF            A   195    	DL	-12566464
041FAF 808000FF            A   196    	DL	-16744320
041FB3 808000FF            A   197    	DL	-16744320
041FB7 808000FF            A   198    	DL	-16744320
041FBB 808000FF            A   199    	DL	-16744320
041FBF 808000FF            A   200    	DL	-16744320
041FC3 808000FF            A   201    	DL	-16744320
041FC7 808000FF            A   202    	DL	-16744320
041FCB 808000FF            A   203    	DL	-16744320
041FCF 800000FF            A   204    	DL	-16777088
041FD3 800000FF            A   205    	DL	-16777088
041FD7 800000FF            A   206    	DL	-16777088
041FDB 800000FF            A   207    	DL	-16777088
041FDF 800000FF            A   208    	DL	-16777088
041FE3 800000FF            A   209    	DL	-16777088
041FE7 808080FF            A   210    	DL	-8355712
041FEB 404040FF            A   211    	DL	-12566464
041FEF 808000FF            A   212    	DL	-16744320
041FF3 800000FF            A   213    	DL	-16777088
041FF7 800000FF            A   214    	DL	-16777088
041FFB 800000FF            A   215    	DL	-16777088
041FFF 800000FF            A   216    	DL	-16777088
042003 800000FF            A   217    	DL	-16777088
042007 800000FF            A   218    	DL	-16777088
04200B 800000FF            A   219    	DL	-16777088
04200F 800000FF            A   220    	DL	-16777088
042013 800000FF            A   221    	DL	-16777088
042017 800000FF            A   222    	DL	-16777088
04201B 800000FF            A   223    	DL	-16777088
04201F 800000FF            A   224    	DL	-16777088
042023 800000FF            A   225    	DL	-16777088
042027 808080FF            A   226    	DL	-8355712
04202B 404040FF            A   227    	DL	-12566464
04202F 808000FF            A   228    	DL	-16744320
042033 800000FF            A   229    	DL	-16777088
042037 808080FF            A   230    	DL	-8355712
04203B 800000FF            A   231    	DL	-16777088
04203F 800000FF            A   232    	DL	-16777088
042043 800000FF            A   233    	DL	-16777088
042047 800000FF            A   234    	DL	-16777088
04204B 800000FF            A   235    	DL	-16777088
04204F 800000FF            A   236    	DL	-16777088
042053 800000FF            A   237    	DL	-16777088
042057 808080FF            A   238    	DL	-8355712
04205B 808080FF            A   239    	DL	-8355712
04205F 800000FF            A   240    	DL	-16777088
042063 800000FF            A   241    	DL	-16777088
042067 808080FF            A   242    	DL	-8355712
04206B 404040FF            A   243    	DL	-12566464
04206F 808000FF            A   244    	DL	-16744320
042073 800000FF            A   245    	DL	-16777088
042077 800000FF            A   246    	DL	-16777088
04207B 800000FF            A   247    	DL	-16777088
04207F 800000FF            A   248    	DL	-16777088
042083 800000FF            A   249    	DL	-16777088
042087 800000FF            A   250    	DL	-16777088
04208B 800000FF            A   251    	DL	-16777088
04208F 800000FF            A   252    	DL	-16777088
042093 800000FF            A   253    	DL	-16777088
042097 800000FF            A   254    	DL	-16777088
04209B 800000FF            A   255    	DL	-16777088
04209F 800000FF            A   256    	DL	-16777088
0420A3 800000FF            A   257    	DL	-16777088
0420A7 808080FF            A   258    	DL	-8355712
0420AB 404040FF            A   259    	DL	-12566464
0420AF 808000FF            A   260    	DL	-16744320
0420B3 800000FF            A   261    	DL	-16777088
0420B7 800000FF            A   262    	DL	-16777088
0420BB 800000FF            A   263    	DL	-16777088
0420BF 800000FF            A   264    	DL	-16777088
0420C3 800000FF            A   265    	DL	-16777088
0420C7 800000FF            A   266    	DL	-16777088
0420CB 800000FF            A   267    	DL	-16777088
0420CF 800000FF            A   268    	DL	-16777088
0420D3 800000FF            A   269    	DL	-16777088
0420D7 800000FF            A   270    	DL	-16777088
0420DB 800000FF            A   271    	DL	-16777088
0420DF 800000FF            A   272    	DL	-16777088
0420E3 800000FF            A   273    	DL	-16777088
0420E7 808080FF            A   274    	DL	-8355712
0420EB 404040FF            A   275    	DL	-12566464
0420EF 808000FF            A   276    	DL	-16744320
0420F3 800000FF            A   277    	DL	-16777088
0420F7 800000FF            A   278    	DL	-16777088
0420FB 800000FF            A   279    	DL	-16777088
0420FF 800000FF            A   280    	DL	-16777088
042103 808080FF            A   281    	DL	-8355712
042107 808080FF            A   282    	DL	-8355712
04210B 800000FF            A   283    	DL	-16777088
04210F 808080FF            A   284    	DL	-8355712
042113 808080FF            A   285    	DL	-8355712
042117 808080FF            A   286    	DL	-8355712
04211B 808080FF            A   287    	DL	-8355712
04211F 808080FF            A   288    	DL	-8355712
042123 808080FF            A   289    	DL	-8355712
042127 808080FF            A   290    	DL	-8355712
04212B 404040FF            A   291    	DL	-12566464
04212F 808000FF            A   292    	DL	-16744320
042133 808080FF            A   293    	DL	-8355712
042137 808080FF            A   294    	DL	-8355712
04213B 808080FF            A   295    	DL	-8355712
04213F 808080FF            A   296    	DL	-8355712
042143 808080FF            A   297    	DL	-8355712
042147 808080FF            A   298    	DL	-8355712
04214B 808080FF            A   299    	DL	-8355712
04214F 404040FF            A   300    	DL	-12566464
042153 404040FF            A   301    	DL	-12566464
042157 404040FF            A   302    	DL	-12566464
04215B 404040FF            A   303    	DL	-12566464
04215F 404040FF            A   304    	DL	-12566464
042163 404040FF            A   305    	DL	-12566464
042167 404040FF            A   306    	DL	-12566464
04216B 404040FF            A   307    	DL	-12566464
04216F 404040FF            A   308    	DL	-12566464
042173 404040FF            A   309    	DL	-12566464
042177 404040FF            A   310    	DL	-12566464
04217B 404040FF            A   311    	DL	-12566464
04217F 404040FF            A   312    	DL	-12566464
042183 404040FF            A   313    	DL	-12566464
042187 404040FF            A   314    	DL	-12566464
04218B 404040FF            A   315    	DL	-12566464
04218F 404040FF            A   316    	DL	-12566464
042193 808000FF            A   317    	DL	-16744320
042197 808000FF            A   318    	DL	-16744320
04219B 808000FF            A   319    	DL	-16744320
04219F 808000FF            A   320    	DL	-16744320
0421A3 808000FF            A   321    	DL	-16744320
0421A7 808000FF            A   322    	DL	-16744320
0421AB 808000FF            A   323    	DL	-16744320
0421AF 808000FF            A   324    	DL	-16744320
0421B3 808000FF            A   325    	DL	-16744320
0421B7 808000FF            A   326    	DL	-16744320
0421BB 808000FF            A   327    	DL	-16744320
0421BF 808000FF            A   328    	DL	-16744320
0421C3 808000FF            A   329    	DL	-16744320
0421C7 808000FF            A   330    	DL	-16744320
0421CB 808000FF            A   331    	DL	-16744320
0421CF 404040FF            A   332    	DL	-12566464
0421D3 808000FF            A   333    	DL	-16744320
0421D7 808000FF            A   334    	DL	-16744320
0421DB 800000FF            A   335    	DL	-16777088
0421DF 808080FF            A   336    	DL	-8355712
0421E3 808080FF            A   337    	DL	-8355712
0421E7 800000FF            A   338    	DL	-16777088
0421EB 800000FF            A   339    	DL	-16777088
0421EF 800000FF            A   340    	DL	-16777088
0421F3 800000FF            A   341    	DL	-16777088
0421F7 800000FF            A   342    	DL	-16777088
0421FB 800000FF            A   343    	DL	-16777088
0421FF 800000FF            A   344    	DL	-16777088
042203 800000FF            A   345    	DL	-16777088
042207 800000FF            A   346    	DL	-16777088
04220B 808080FF            A   347    	DL	-8355712
04220F 404040FF            A   348    	DL	-12566464
042213 808000FF            A   349    	DL	-16744320
042217 800000FF            A   350    	DL	-16777088
04221B 800000FF            A   351    	DL	-16777088
04221F 800000FF            A   352    	DL	-16777088
042223 800000FF            A   353    	DL	-16777088
042227 800000FF            A   354    	DL	-16777088
04222B 800000FF            A   355    	DL	-16777088
04222F 800000FF            A   356    	DL	-16777088
042233 800000FF            A   357    	DL	-16777088
042237 800000FF            A   358    	DL	-16777088
04223B 800000FF            A   359    	DL	-16777088
04223F 800000FF            A   360    	DL	-16777088
042243 800000FF            A   361    	DL	-16777088
042247 800000FF            A   362    	DL	-16777088
04224B 808080FF            A   363    	DL	-8355712
04224F 404040FF            A   364    	DL	-12566464
042253 808000FF            A   365    	DL	-16744320
042257 800000FF            A   366    	DL	-16777088
04225B 800000FF            A   367    	DL	-16777088
04225F 800000FF            A   368    	DL	-16777088
042263 800000FF            A   369    	DL	-16777088
042267 808080FF            A   370    	DL	-8355712
04226B 808080FF            A   371    	DL	-8355712
04226F 800000FF            A   372    	DL	-16777088
042273 800000FF            A   373    	DL	-16777088
042277 800000FF            A   374    	DL	-16777088
04227B 800000FF            A   375    	DL	-16777088
04227F 800000FF            A   376    	DL	-16777088
042283 800000FF            A   377    	DL	-16777088
042287 800000FF            A   378    	DL	-16777088
04228B 808080FF            A   379    	DL	-8355712
04228F 404040FF            A   380    	DL	-12566464
042293 808000FF            A   381    	DL	-16744320
042297 800000FF            A   382    	DL	-16777088
04229B 800000FF            A   383    	DL	-16777088
04229F 800000FF            A   384    	DL	-16777088
0422A3 800000FF            A   385    	DL	-16777088
0422A7 800000FF            A   386    	DL	-16777088
0422AB 800000FF            A   387    	DL	-16777088
0422AF 800000FF            A   388    	DL	-16777088
0422B3 800000FF            A   389    	DL	-16777088
0422B7 800000FF            A   390    	DL	-16777088
0422BB 800000FF            A   391    	DL	-16777088
0422BF 800000FF            A   392    	DL	-16777088
0422C3 808080FF            A   393    	DL	-8355712
0422C7 800000FF            A   394    	DL	-16777088
0422CB 808080FF            A   395    	DL	-8355712
0422CF 404040FF            A   396    	DL	-12566464
0422D3 808000FF            A   397    	DL	-16744320
0422D7 800000FF            A   398    	DL	-16777088
0422DB 800000FF            A   399    	DL	-16777088
0422DF 800000FF            A   400    	DL	-16777088
0422E3 800000FF            A   401    	DL	-16777088
0422E7 800000FF            A   402    	DL	-16777088
0422EB 800000FF            A   403    	DL	-16777088
0422EF 800000FF            A   404    	DL	-16777088
0422F3 800000FF            A   405    	DL	-16777088
0422F7 800000FF            A   406    	DL	-16777088
0422FB 800000FF            A   407    	DL	-16777088
0422FF 800000FF            A   408    	DL	-16777088
042303 800000FF            A   409    	DL	-16777088
042307 800000FF            A   410    	DL	-16777088
04230B 808080FF            A   411    	DL	-8355712
04230F 404040FF            A   412    	DL	-12566464
042313 808000FF            A   413    	DL	-16744320
042317 808080FF            A   414    	DL	-8355712
04231B 808080FF            A   415    	DL	-8355712
04231F 808080FF            A   416    	DL	-8355712
042323 808080FF            A   417    	DL	-8355712
042327 808080FF            A   418    	DL	-8355712
04232B 808080FF            A   419    	DL	-8355712
04232F 808080FF            A   420    	DL	-8355712
042333 808080FF            A   421    	DL	-8355712
042337 808080FF            A   422    	DL	-8355712
04233B 808080FF            A   423    	DL	-8355712
04233F 808080FF            A   424    	DL	-8355712
042343 808080FF            A   425    	DL	-8355712
042347 808080FF            A   426    	DL	-8355712
04234B 808080FF            A   427    	DL	-8355712
04234F 404040FF            A   428    	DL	-12566464
042353 404040FF            A   429    	DL	-12566464
042357 404040FF            A   430    	DL	-12566464
04235B 404040FF            A   431    	DL	-12566464
04235F 404040FF            A   432    	DL	-12566464
042363 404040FF            A   433    	DL	-12566464
042367 404040FF            A   434    	DL	-12566464
04236B 404040FF            A   435    	DL	-12566464
04236F 404040FF            A   436    	DL	-12566464
042373 404040FF            A   437    	DL	-12566464
042377 404040FF            A   438    	DL	-12566464
04237B 404040FF            A   439    	DL	-12566464
04237F 404040FF            A   440    	DL	-12566464
042383 404040FF            A   441    	DL	-12566464
042387 404040FF            A   442    	DL	-12566464
04238B 404040FF            A   443    	DL	-12566464
                           A   444    .DEFINE "wall_data"
                           A   445    .ALIAS "_wall_data"
                           A   446    .CLASS 69
                           A   447    .VALUE _wall_data
                           A   448    .DIM 1
                           A   449    .DIM 256
                           A   450    .TYPE 879
                           A   451    .ENDEF
04238F                     A   452    _player_data:
04238F 00000000            A   453    	DL	0
042393 00000000            A   454    	DL	0
042397 00000000            A   455    	DL	0
04239B 00000000            A   456    	DL	0
04239F 00000000            A   457    	DL	0
0423A3 000000FF            A   458    	DL	-16777216
0423A7 000000FF            A   459    	DL	-16777216
0423AB 000000FF            A   460    	DL	-16777216
0423AF 000000FF            A   461    	DL	-16777216
0423B3 404040FF            A   462    	DL	-12566464
0423B7 00000000            A   463    	DL	0
0423BB 00000000            A   464    	DL	0
0423BF 00000000            A   465    	DL	0
0423C3 00000000            A   466    	DL	0
0423C7 00000000            A   467    	DL	0
0423CB 00000000            A   468    	DL	0
0423CF 00000000            A   469    	DL	0
0423D3 00000000            A   470    	DL	0
0423D7 00000000            A   471    	DL	0
0423DB 00000000            A   472    	DL	0
0423DF 000000FF            A   473    	DL	-16777216
0423E3 000000FF            A   474    	DL	-16777216
0423E7 000000FF            A   475    	DL	-16777216
0423EB 000000FF            A   476    	DL	-16777216
0423EF 000000FF            A   477    	DL	-16777216
0423F3 000000FF            A   478    	DL	-16777216
0423F7 000000FF            A   479    	DL	-16777216
0423FB 00000000            A   480    	DL	0
0423FF 00000000            A   481    	DL	0
042403 00000000            A   482    	DL	0
042407 00000000            A   483    	DL	0
04240B 00000000            A   484    	DL	0
04240F 00000000            A   485    	DL	0
042413 00000000            A   486    	DL	0
042417 00000000            A   487    	DL	0
04241B 404040FF            A   488    	DL	-12566464
04241F 000000FF            A   489    	DL	-16777216
042423 404040FF            A   490    	DL	-12566464
042427 808000FF            A   491    	DL	-16744320
04242B 808000FF            A   492    	DL	-16744320
04242F 808000FF            A   493    	DL	-16744320
042433 404040FF            A   494    	DL	-12566464
042437 000000FF            A   495    	DL	-16777216
04243B 404040FF            A   496    	DL	-12566464
04243F 00000000            A   497    	DL	0
042443 00000000            A   498    	DL	0
042447 00000000            A   499    	DL	0
04244B 00000000            A   500    	DL	0
04244F 00000000            A   501    	DL	0
042453 00000000            A   502    	DL	0
042457 00000000            A   503    	DL	0
04245B 000000FF            A   504    	DL	-16777216
04245F 404040FF            A   505    	DL	-12566464
042463 808000FF            A   506    	DL	-16744320
042467 808000FF            A   507    	DL	-16744320
04246B 808000FF            A   508    	DL	-16744320
04246F 808000FF            A   509    	DL	-16744320
042473 808000FF            A   510    	DL	-16744320
042477 404040FF            A   511    	DL	-12566464
04247B 000000FF            A   512    	DL	-16777216
04247F 00000000            A   513    	DL	0
042483 00000000            A   514    	DL	0
042487 00000000            A   515    	DL	0
04248B 00000000            A   516    	DL	0
04248F 00000000            A   517    	DL	0
042493 00000000            A   518    	DL	0
042497 00000000            A   519    	DL	0
04249B 404040FF            A   520    	DL	-12566464
04249F 808080FF            A   521    	DL	-8355712
0424A3 000000FF            A   522    	DL	-16777216
0424A7 000000FF            A   523    	DL	-16777216
0424AB 808000FF            A   524    	DL	-16744320
0424AF 000000FF            A   525    	DL	-16777216
0424B3 000000FF            A   526    	DL	-16777216
0424B7 808080FF            A   527    	DL	-8355712
0424BB 404040FF            A   528    	DL	-12566464
0424BF 00000000            A   529    	DL	0
0424C3 00000000            A   530    	DL	0
0424C7 00000000            A   531    	DL	0
0424CB 00000000            A   532    	DL	0
0424CF 00000000            A   533    	DL	0
0424D3 00000000            A   534    	DL	0
0424D7 00000000            A   535    	DL	0
0424DB 00000000            A   536    	DL	0
0424DF 000000FF            A   537    	DL	-16777216
0424E3 808000FF            A   538    	DL	-16744320
0424E7 808000FF            A   539    	DL	-16744320
0424EB 808000FF            A   540    	DL	-16744320
0424EF 808000FF            A   541    	DL	-16744320
0424F3 808000FF            A   542    	DL	-16744320
0424F7 000000FF            A   543    	DL	-16777216
0424FB 00000000            A   544    	DL	0
0424FF 00000000            A   545    	DL	0
042503 00000000            A   546    	DL	0
042507 00000000            A   547    	DL	0
04250B 00000000            A   548    	DL	0
04250F 00000000            A   549    	DL	0
042513 00000000            A   550    	DL	0
042517 00000000            A   551    	DL	0
04251B 00000000            A   552    	DL	0
04251F 00000000            A   553    	DL	0
042523 000000FF            A   554    	DL	-16777216
042527 808080FF            A   555    	DL	-8355712
04252B 808080FF            A   556    	DL	-8355712
04252F 808080FF            A   557    	DL	-8355712
042533 000000FF            A   558    	DL	-16777216
042537 00000000            A   559    	DL	0
04253B 00000000            A   560    	DL	0
04253F 00000000            A   561    	DL	0
042543 00000000            A   562    	DL	0
042547 00000000            A   563    	DL	0
04254B 00000000            A   564    	DL	0
04254F 00000000            A   565    	DL	0
042553 00000000            A   566    	DL	0
042557 00000000            A   567    	DL	0
04255B 00000000            A   568    	DL	0
04255F 000000FF            A   569    	DL	-16777216
042563 800000FF            A   570    	DL	-16777088
042567 000000FF            A   571    	DL	-16777216
04256B 000000FF            A   572    	DL	-16777216
04256F 000000FF            A   573    	DL	-16777216
042573 800000FF            A   574    	DL	-16777088
042577 000000FF            A   575    	DL	-16777216
04257B 00000000            A   576    	DL	0
04257F 00000000            A   577    	DL	0
042583 00000000            A   578    	DL	0
042587 00000000            A   579    	DL	0
04258B 00000000            A   580    	DL	0
04258F 00000000            A   581    	DL	0
042593 00000000            A   582    	DL	0
042597 00000000            A   583    	DL	0
04259B 000000FF            A   584    	DL	-16777216
04259F 800000FF            A   585    	DL	-16777088
0425A3 FF0000FF            A   586    	DL	-16776961
0425A7 FF0000FF            A   587    	DL	-16776961
0425AB FF0000FF            A   588    	DL	-16776961
0425AF FF0000FF            A   589    	DL	-16776961
0425B3 FF0000FF            A   590    	DL	-16776961
0425B7 800000FF            A   591    	DL	-16777088
0425BB 000000FF            A   592    	DL	-16777216
0425BF 00000000            A   593    	DL	0
0425C3 00000000            A   594    	DL	0
0425C7 00000000            A   595    	DL	0
0425CB 00000000            A   596    	DL	0
0425CF 00000000            A   597    	DL	0
0425D3 00000000            A   598    	DL	0
0425D7 000000FF            A   599    	DL	-16777216
0425DB FF0000FF            A   600    	DL	-16776961
0425DF FF0000FF            A   601    	DL	-16776961
0425E3 FF0000FF            A   602    	DL	-16776961
0425E7 FF0000FF            A   603    	DL	-16776961
0425EB FF0000FF            A   604    	DL	-16776961
0425EF FF0000FF            A   605    	DL	-16776961
0425F3 FF0000FF            A   606    	DL	-16776961
0425F7 FF0000FF            A   607    	DL	-16776961
0425FB FF0000FF            A   608    	DL	-16776961
0425FF 000000FF            A   609    	DL	-16777216
042603 00000000            A   610    	DL	0
042607 00000000            A   611    	DL	0
04260B 00000000            A   612    	DL	0
04260F 00000000            A   613    	DL	0
042613 00000000            A   614    	DL	0
042617 404040FF            A   615    	DL	-12566464
04261B 800000FF            A   616    	DL	-16777088
04261F FF0000FF            A   617    	DL	-16776961
042623 800000FF            A   618    	DL	-16777088
042627 FF0000FF            A   619    	DL	-16776961
04262B FF0000FF            A   620    	DL	-16776961
04262F FF0000FF            A   621    	DL	-16776961
042633 800000FF            A   622    	DL	-16777088
042637 FF0000FF            A   623    	DL	-16776961
04263B 800000FF            A   624    	DL	-16777088
04263F 404040FF            A   625    	DL	-12566464
042643 00000000            A   626    	DL	0
042647 00000000            A   627    	DL	0
04264B 00000000            A   628    	DL	0
04264F 00000000            A   629    	DL	0
042653 000000FF            A   630    	DL	-16777216
042657 808000FF            A   631    	DL	-16744320
04265B 808000FF            A   632    	DL	-16744320
04265F 800000FF            A   633    	DL	-16777088
042663 800000FF            A   634    	DL	-16777088
042667 FF0000FF            A   635    	DL	-16776961
04266B FF0000FF            A   636    	DL	-16776961
04266F FF0000FF            A   637    	DL	-16776961
042673 800000FF            A   638    	DL	-16777088
042677 800000FF            A   639    	DL	-16777088
04267B 808000FF            A   640    	DL	-16744320
04267F 808000FF            A   641    	DL	-16744320
042683 000000FF            A   642    	DL	-16777216
042687 00000000            A   643    	DL	0
04268B 00000000            A   644    	DL	0
04268F 00000000            A   645    	DL	0
042693 000000FF            A   646    	DL	-16777216
042697 808000FF            A   647    	DL	-16744320
04269B 808000FF            A   648    	DL	-16744320
04269F 000000FF            A   649    	DL	-16777216
0426A3 000080FF            A   650    	DL	-8388608
0426A7 000080FF            A   651    	DL	-8388608
0426AB 000080FF            A   652    	DL	-8388608
0426AF 000080FF            A   653    	DL	-8388608
0426B3 000080FF            A   654    	DL	-8388608
0426B7 000000FF            A   655    	DL	-16777216
0426BB 808000FF            A   656    	DL	-16744320
0426BF 808000FF            A   657    	DL	-16744320
0426C3 000000FF            A   658    	DL	-16777216
0426C7 00000000            A   659    	DL	0
0426CB 00000000            A   660    	DL	0
0426CF 00000000            A   661    	DL	0
0426D3 00000000            A   662    	DL	0
0426D7 000000FF            A   663    	DL	-16777216
0426DB 000000FF            A   664    	DL	-16777216
0426DF 000080FF            A   665    	DL	-8388608
0426E3 0000FFFF            A   666    	DL	-65536
0426E7 0000FFFF            A   667    	DL	-65536
0426EB 0000FFFF            A   668    	DL	-65536
0426EF 0000FFFF            A   669    	DL	-65536
0426F3 0000FFFF            A   670    	DL	-65536
0426F7 000080FF            A   671    	DL	-8388608
0426FB 000000FF            A   672    	DL	-16777216
0426FF 000000FF            A   673    	DL	-16777216
042703 00000000            A   674    	DL	0
042707 00000000            A   675    	DL	0
04270B 00000000            A   676    	DL	0
04270F 00000000            A   677    	DL	0
042713 00000000            A   678    	DL	0
042717 00000000            A   679    	DL	0
04271B 000000FF            A   680    	DL	-16777216
04271F 000080FF            A   681    	DL	-8388608
042723 0000FFFF            A   682    	DL	-65536
042727 0000FFFF            A   683    	DL	-65536
04272B 000080FF            A   684    	DL	-8388608
04272F 0000FFFF            A   685    	DL	-65536
042733 0000FFFF            A   686    	DL	-65536
042737 000080FF            A   687    	DL	-8388608
04273B 000000FF            A   688    	DL	-16777216
04273F 00000000            A   689    	DL	0
042743 00000000            A   690    	DL	0
042747 00000000            A   691    	DL	0
04274B 00000000            A   692    	DL	0
04274F 00000000            A   693    	DL	0
042753 00000000            A   694    	DL	0
042757 00000000            A   695    	DL	0
04275B 000000FF            A   696    	DL	-16777216
04275F 0000FFFF            A   697    	DL	-65536
042763 0000FFFF            A   698    	DL	-65536
042767 000080FF            A   699    	DL	-8388608
04276B 000000FF            A   700    	DL	-16777216
04276F 0000FFFF            A   701    	DL	-65536
042773 0000FFFF            A   702    	DL	-65536
042777 0000FFFF            A   703    	DL	-65536
04277B 000000FF            A   704    	DL	-16777216
04277F 00000000            A   705    	DL	0
042783 00000000            A   706    	DL	0
042787 00000000            A   707    	DL	0
04278B 00000000            A   708    	DL	0
                           A   709    .DEFINE "player_data"
                           A   710    .ALIAS "_player_data"
                           A   711    .CLASS 69
                           A   712    .VALUE _player_data
                           A   713    .DIM 1
                           A   714    .DIM 256
                           A   715    .TYPE 879
                           A   716    .ENDEF
04278F                     A   717    _goal_data:
04278F 00000000            A   718    	DL	0
042793 00000000            A   719    	DL	0
042797 00000000            A   720    	DL	0
04279B 00000000            A   721    	DL	0
04279F 00000000            A   722    	DL	0
0427A3 00000000            A   723    	DL	0
0427A7 00000000            A   724    	DL	0
0427AB 00000000            A   725    	DL	0
0427AF 00000000            A   726    	DL	0
0427B3 00000000            A   727    	DL	0
0427B7 00000000            A   728    	DL	0
0427BB 00000000            A   729    	DL	0
0427BF 00000000            A   730    	DL	0
0427C3 00000000            A   731    	DL	0
0427C7 00000000            A   732    	DL	0
0427CB 00000000            A   733    	DL	0
0427CF 00000000            A   734    	DL	0
0427D3 00000000            A   735    	DL	0
0427D7 00000000            A   736    	DL	0
0427DB 00000000            A   737    	DL	0
0427DF 00000000            A   738    	DL	0
0427E3 00000000            A   739    	DL	0
0427E7 00000000            A   740    	DL	0
0427EB 00000000            A   741    	DL	0
0427EF 00000000            A   742    	DL	0
0427F3 00000000            A   743    	DL	0
0427F7 00000000            A   744    	DL	0
0427FB 00000000            A   745    	DL	0
0427FF 00000000            A   746    	DL	0
042803 00000000            A   747    	DL	0
042807 00000000            A   748    	DL	0
04280B 00000000            A   749    	DL	0
04280F 00000000            A   750    	DL	0
042813 00000000            A   751    	DL	0
042817 00000000            A   752    	DL	0
04281B 00000000            A   753    	DL	0
04281F 00000000            A   754    	DL	0
042823 00000000            A   755    	DL	0
042827 00000000            A   756    	DL	0
04282B 00000000            A   757    	DL	0
04282F 00000000            A   758    	DL	0
042833 00000000            A   759    	DL	0
042837 00000000            A   760    	DL	0
04283B 00000000            A   761    	DL	0
04283F 00000000            A   762    	DL	0
042843 00000000            A   763    	DL	0
042847 00000000            A   764    	DL	0
04284B 00000000            A   765    	DL	0
04284F 00000000            A   766    	DL	0
042853 00000000            A   767    	DL	0
042857 00000000            A   768    	DL	0
04285B 00000000            A   769    	DL	0
04285F 00000000            A   770    	DL	0
042863 00000000            A   771    	DL	0
042867 008000FF            A   772    	DL	-16744448
04286B 00000000            A   773    	DL	0
04286F 00000000            A   774    	DL	0
042873 008000FF            A   775    	DL	-16744448
042877 00000000            A   776    	DL	0
04287B 00000000            A   777    	DL	0
04287F 00000000            A   778    	DL	0
042883 00000000            A   779    	DL	0
042887 00000000            A   780    	DL	0
04288B 00000000            A   781    	DL	0
04288F 00000000            A   782    	DL	0
042893 00000000            A   783    	DL	0
042897 00000000            A   784    	DL	0
04289B 00000000            A   785    	DL	0
04289F 00000000            A   786    	DL	0
0428A3 00000000            A   787    	DL	0
0428A7 00000000            A   788    	DL	0
0428AB 008000FF            A   789    	DL	-16744448
0428AF 008000FF            A   790    	DL	-16744448
0428B3 00000000            A   791    	DL	0
0428B7 00000000            A   792    	DL	0
0428BB 00000000            A   793    	DL	0
0428BF 00000000            A   794    	DL	0
0428C3 00000000            A   795    	DL	0
0428C7 00000000            A   796    	DL	0
0428CB 00000000            A   797    	DL	0
0428CF 00000000            A   798    	DL	0
0428D3 00000000            A   799    	DL	0
0428D7 00000000            A   800    	DL	0
0428DB 00000000            A   801    	DL	0
0428DF 00000000            A   802    	DL	0
0428E3 00000000            A   803    	DL	0
0428E7 00000000            A   804    	DL	0
0428EB 00000000            A   805    	DL	0
0428EF 00000000            A   806    	DL	0
0428F3 00000000            A   807    	DL	0
0428F7 00000000            A   808    	DL	0
0428FB 00000000            A   809    	DL	0
0428FF 00000000            A   810    	DL	0
042903 00000000            A   811    	DL	0
042907 00000000            A   812    	DL	0
04290B 00000000            A   813    	DL	0
04290F 00000000            A   814    	DL	0
042913 00000000            A   815    	DL	0
042917 00000000            A   816    	DL	0
04291B 008000FF            A   817    	DL	-16744448
04291F 00000000            A   818    	DL	0
042923 00000000            A   819    	DL	0
042927 00000000            A   820    	DL	0
04292B 00000000            A   821    	DL	0
04292F 00000000            A   822    	DL	0
042933 00000000            A   823    	DL	0
042937 00000000            A   824    	DL	0
04293B 00000000            A   825    	DL	0
04293F 008000FF            A   826    	DL	-16744448
042943 00000000            A   827    	DL	0
042947 00000000            A   828    	DL	0
04294B 00000000            A   829    	DL	0
04294F 00000000            A   830    	DL	0
042953 00000000            A   831    	DL	0
042957 00000000            A   832    	DL	0
04295B 00000000            A   833    	DL	0
04295F 008000FF            A   834    	DL	-16744448
042963 00000000            A   835    	DL	0
042967 00000000            A   836    	DL	0
04296B 00FF00FF            A   837    	DL	-16711936
04296F 00FF00FF            A   838    	DL	-16711936
042973 00000000            A   839    	DL	0
042977 00000000            A   840    	DL	0
04297B 008000FF            A   841    	DL	-16744448
04297F 00000000            A   842    	DL	0
042983 00000000            A   843    	DL	0
042987 00000000            A   844    	DL	0
04298B 00000000            A   845    	DL	0
04298F 00000000            A   846    	DL	0
042993 00000000            A   847    	DL	0
042997 00000000            A   848    	DL	0
04299B 00000000            A   849    	DL	0
04299F 008000FF            A   850    	DL	-16744448
0429A3 00000000            A   851    	DL	0
0429A7 00000000            A   852    	DL	0
0429AB 00FF00FF            A   853    	DL	-16711936
0429AF 00FF00FF            A   854    	DL	-16711936
0429B3 00000000            A   855    	DL	0
0429B7 00000000            A   856    	DL	0
0429BB 008000FF            A   857    	DL	-16744448
0429BF 00000000            A   858    	DL	0
0429C3 00000000            A   859    	DL	0
0429C7 00000000            A   860    	DL	0
0429CB 00000000            A   861    	DL	0
0429CF 00000000            A   862    	DL	0
0429D3 00000000            A   863    	DL	0
0429D7 00000000            A   864    	DL	0
0429DB 008000FF            A   865    	DL	-16744448
0429DF 00000000            A   866    	DL	0
0429E3 00000000            A   867    	DL	0
0429E7 00000000            A   868    	DL	0
0429EB 00000000            A   869    	DL	0
0429EF 00000000            A   870    	DL	0
0429F3 00000000            A   871    	DL	0
0429F7 00000000            A   872    	DL	0
0429FB 00000000            A   873    	DL	0
0429FF 008000FF            A   874    	DL	-16744448
042A03 00000000            A   875    	DL	0
042A07 00000000            A   876    	DL	0
042A0B 00000000            A   877    	DL	0
042A0F 00000000            A   878    	DL	0
042A13 00000000            A   879    	DL	0
042A17 00000000            A   880    	DL	0
042A1B 00000000            A   881    	DL	0
042A1F 00000000            A   882    	DL	0
042A23 00000000            A   883    	DL	0
042A27 00000000            A   884    	DL	0
042A2B 00000000            A   885    	DL	0
042A2F 00000000            A   886    	DL	0
042A33 00000000            A   887    	DL	0
042A37 00000000            A   888    	DL	0
042A3B 00000000            A   889    	DL	0
042A3F 00000000            A   890    	DL	0
042A43 00000000            A   891    	DL	0
042A47 00000000            A   892    	DL	0
042A4B 00000000            A   893    	DL	0
042A4F 00000000            A   894    	DL	0
042A53 00000000            A   895    	DL	0
042A57 00000000            A   896    	DL	0
042A5B 00000000            A   897    	DL	0
042A5F 00000000            A   898    	DL	0
042A63 00000000            A   899    	DL	0
042A67 00000000            A   900    	DL	0
042A6B 008000FF            A   901    	DL	-16744448
042A6F 008000FF            A   902    	DL	-16744448
042A73 00000000            A   903    	DL	0
042A77 00000000            A   904    	DL	0
042A7B 00000000            A   905    	DL	0
042A7F 00000000            A   906    	DL	0
042A83 00000000            A   907    	DL	0
042A87 00000000            A   908    	DL	0
042A8B 00000000            A   909    	DL	0
042A8F 00000000            A   910    	DL	0
042A93 00000000            A   911    	DL	0
042A97 00000000            A   912    	DL	0
042A9B 00000000            A   913    	DL	0
042A9F 00000000            A   914    	DL	0
042AA3 00000000            A   915    	DL	0
042AA7 008000FF            A   916    	DL	-16744448
042AAB 00000000            A   917    	DL	0
042AAF 00000000            A   918    	DL	0
042AB3 008000FF            A   919    	DL	-16744448
042AB7 00000000            A   920    	DL	0
042ABB 00000000            A   921    	DL	0
042ABF 00000000            A   922    	DL	0
042AC3 00000000            A   923    	DL	0
042AC7 00000000            A   924    	DL	0
042ACB 00000000            A   925    	DL	0
042ACF 00000000            A   926    	DL	0
042AD3 00000000            A   927    	DL	0
042AD7 00000000            A   928    	DL	0
042ADB 00000000            A   929    	DL	0
042ADF 00000000            A   930    	DL	0
042AE3 00000000            A   931    	DL	0
042AE7 00000000            A   932    	DL	0
042AEB 00000000            A   933    	DL	0
042AEF 00000000            A   934    	DL	0
042AF3 00000000            A   935    	DL	0
042AF7 00000000            A   936    	DL	0
042AFB 00000000            A   937    	DL	0
042AFF 00000000            A   938    	DL	0
042B03 00000000            A   939    	DL	0
042B07 00000000            A   940    	DL	0
042B0B 00000000            A   941    	DL	0
042B0F 00000000            A   942    	DL	0
042B13 00000000            A   943    	DL	0
042B17 00000000            A   944    	DL	0
042B1B 00000000            A   945    	DL	0
042B1F 00000000            A   946    	DL	0
042B23 00000000            A   947    	DL	0
042B27 00000000            A   948    	DL	0
042B2B 00000000            A   949    	DL	0
042B2F 00000000            A   950    	DL	0
042B33 00000000            A   951    	DL	0
042B37 00000000            A   952    	DL	0
042B3B 00000000            A   953    	DL	0
042B3F 00000000            A   954    	DL	0
042B43 00000000            A   955    	DL	0
042B47 00000000            A   956    	DL	0
042B4B 00000000            A   957    	DL	0
042B4F 00000000            A   958    	DL	0
042B53 00000000            A   959    	DL	0
042B57 00000000            A   960    	DL	0
042B5B 00000000            A   961    	DL	0
042B5F 00000000            A   962    	DL	0
042B63 00000000            A   963    	DL	0
042B67 00000000            A   964    	DL	0
042B6B 00000000            A   965    	DL	0
042B6F 00000000            A   966    	DL	0
042B73 00000000            A   967    	DL	0
042B77 00000000            A   968    	DL	0
042B7B 00000000            A   969    	DL	0
042B7F 00000000            A   970    	DL	0
042B83 00000000            A   971    	DL	0
042B87 00000000            A   972    	DL	0
042B8B 00000000            A   973    	DL	0
                           A   974    .DEFINE "goal_data"
                           A   975    .ALIAS "_goal_data"
                           A   976    .CLASS 69
                           A   977    .VALUE _goal_data
                           A   978    .DIM 1
                           A   979    .DIM 256
                           A   980    .TYPE 879
                           A   981    .ENDEF
042B8F                     A   982    _box_data:
042B8F FFFF00FF            A   983    	DL	-16711681
042B93 FFFF00FF            A   984    	DL	-16711681
042B97 FFFF00FF            A   985    	DL	-16711681
042B9B FFFF00FF            A   986    	DL	-16711681
042B9F FFFF00FF            A   987    	DL	-16711681
042BA3 FFFF00FF            A   988    	DL	-16711681
042BA7 FFFF00FF            A   989    	DL	-16711681
042BAB FFFF00FF            A   990    	DL	-16711681
042BAF FFFF00FF            A   991    	DL	-16711681
042BB3 FFFF00FF            A   992    	DL	-16711681
042BB7 FFFF00FF            A   993    	DL	-16711681
042BBB FFFF00FF            A   994    	DL	-16711681
042BBF FFFF00FF            A   995    	DL	-16711681
042BC3 FFFF00FF            A   996    	DL	-16711681
042BC7 FFFF00FF            A   997    	DL	-16711681
042BCB FFFF00FF            A   998    	DL	-16711681
042BCF FFFF00FF            A   999    	DL	-16711681
042BD3 808000FF            A  1000    	DL	-16744320
042BD7 808000FF            A  1001    	DL	-16744320
042BDB 808000FF            A  1002    	DL	-16744320
042BDF 808000FF            A  1003    	DL	-16744320
042BE3 808000FF            A  1004    	DL	-16744320
042BE7 808000FF            A  1005    	DL	-16744320
042BEB 808000FF            A  1006    	DL	-16744320
042BEF 808000FF            A  1007    	DL	-16744320
042BF3 808000FF            A  1008    	DL	-16744320
042BF7 808000FF            A  1009    	DL	-16744320
042BFB 808000FF            A  1010    	DL	-16744320
042BFF 808000FF            A  1011    	DL	-16744320
042C03 808000FF            A  1012    	DL	-16744320
042C07 FFFF00FF            A  1013    	DL	-16711681
042C0B 808000FF            A  1014    	DL	-16744320
042C0F FFFF00FF            A  1015    	DL	-16711681
042C13 808000FF            A  1016    	DL	-16744320
042C17 000000FF            A  1017    	DL	-16777216
042C1B 000000FF            A  1018    	DL	-16777216
042C1F 000000FF            A  1019    	DL	-16777216
042C23 000000FF            A  1020    	DL	-16777216
042C27 000000FF            A  1021    	DL	-16777216
042C2B 000000FF            A  1022    	DL	-16777216
042C2F 000000FF            A  1023    	DL	-16777216
042C33 000000FF            A  1024    	DL	-16777216
042C37 000000FF            A  1025    	DL	-16777216
042C3B 000000FF            A  1026    	DL	-16777216
042C3F 000000FF            A  1027    	DL	-16777216
042C43 000000FF            A  1028    	DL	-16777216
042C47 FFFF00FF            A  1029    	DL	-16711681
042C4B 808000FF            A  1030    	DL	-16744320
042C4F FFFF00FF            A  1031    	DL	-16711681
042C53 808000FF            A  1032    	DL	-16744320
042C57 000000FF            A  1033    	DL	-16777216
042C5B 808000FF            A  1034    	DL	-16744320
042C5F 808000FF            A  1035    	DL	-16744320
042C63 000000FF            A  1036    	DL	-16777216
042C67 808000FF            A  1037    	DL	-16744320
042C6B 808000FF            A  1038    	DL	-16744320
042C6F 808000FF            A  1039    	DL	-16744320
042C73 808000FF            A  1040    	DL	-16744320
042C77 000000FF            A  1041    	DL	-16777216
042C7B 808000FF            A  1042    	DL	-16744320
042C7F 808000FF            A  1043    	DL	-16744320
042C83 000000FF            A  1044    	DL	-16777216
042C87 FFFF00FF            A  1045    	DL	-16711681
042C8B 808000FF            A  1046    	DL	-16744320
042C8F FFFF00FF            A  1047    	DL	-16711681
042C93 808000FF            A  1048    	DL	-16744320
042C97 000000FF            A  1049    	DL	-16777216
042C9B 808000FF            A  1050    	DL	-16744320
042C9F FFFF00FF            A  1051    	DL	-16711681
042CA3 808000FF            A  1052    	DL	-16744320
042CA7 000000FF            A  1053    	DL	-16777216
042CAB FFFF00FF            A  1054    	DL	-16711681
042CAF FFFF00FF            A  1055    	DL	-16711681
042CB3 000000FF            A  1056    	DL	-16777216
042CB7 808000FF            A  1057    	DL	-16744320
042CBB FFFF00FF            A  1058    	DL	-16711681
042CBF 808000FF            A  1059    	DL	-16744320
042CC3 000000FF            A  1060    	DL	-16777216
042CC7 FFFF00FF            A  1061    	DL	-16711681
042CCB 808000FF            A  1062    	DL	-16744320
042CCF FFFF00FF            A  1063    	DL	-16711681
042CD3 808000FF            A  1064    	DL	-16744320
042CD7 000000FF            A  1065    	DL	-16777216
042CDB 000000FF            A  1066    	DL	-16777216
042CDF 808000FF            A  1067    	DL	-16744320
042CE3 FFFF00FF            A  1068    	DL	-16711681
042CE7 808000FF            A  1069    	DL	-16744320
042CEB 000000FF            A  1070    	DL	-16777216
042CEF 000000FF            A  1071    	DL	-16777216
042CF3 808000FF            A  1072    	DL	-16744320
042CF7 FFFF00FF            A  1073    	DL	-16711681
042CFB 808000FF            A  1074    	DL	-16744320
042CFF 000000FF            A  1075    	DL	-16777216
042D03 000000FF            A  1076    	DL	-16777216
042D07 FFFF00FF            A  1077    	DL	-16711681
042D0B 808000FF            A  1078    	DL	-16744320
042D0F FFFF00FF            A  1079    	DL	-16711681
042D13 808000FF            A  1080    	DL	-16744320
042D17 000000FF            A  1081    	DL	-16777216
042D1B 808000FF            A  1082    	DL	-16744320
042D1F 000000FF            A  1083    	DL	-16777216
042D23 808000FF            A  1084    	DL	-16744320
042D27 FFFF00FF            A  1085    	DL	-16711681
042D2B 808000FF            A  1086    	DL	-16744320
042D2F FFFF00FF            A  1087    	DL	-16711681
042D33 FFFF00FF            A  1088    	DL	-16711681
042D37 808000FF            A  1089    	DL	-16744320
042D3B 000000FF            A  1090    	DL	-16777216
042D3F 808000FF            A  1091    	DL	-16744320
042D43 000000FF            A  1092    	DL	-16777216
042D47 FFFF00FF            A  1093    	DL	-16711681
042D4B 808000FF            A  1094    	DL	-16744320
042D4F FFFF00FF            A  1095    	DL	-16711681
042D53 808000FF            A  1096    	DL	-16744320
042D57 000000FF            A  1097    	DL	-16777216
042D5B 808000FF            A  1098    	DL	-16744320
042D5F FFFF00FF            A  1099    	DL	-16711681
042D63 000000FF            A  1100    	DL	-16777216
042D67 808000FF            A  1101    	DL	-16744320
042D6B FFFF00FF            A  1102    	DL	-16711681
042D6F FFFF00FF            A  1103    	DL	-16711681
042D73 808000FF            A  1104    	DL	-16744320
042D77 000000FF            A  1105    	DL	-16777216
042D7B 808000FF            A  1106    	DL	-16744320
042D7F FFFF00FF            A  1107    	DL	-16711681
042D83 000000FF            A  1108    	DL	-16777216
042D87 FFFF00FF            A  1109    	DL	-16711681
042D8B 808000FF            A  1110    	DL	-16744320
042D8F FFFF00FF            A  1111    	DL	-16711681
042D93 808000FF            A  1112    	DL	-16744320
042D97 000000FF            A  1113    	DL	-16777216
042D9B 808000FF            A  1114    	DL	-16744320
042D9F 808000FF            A  1115    	DL	-16744320
042DA3 000000FF            A  1116    	DL	-16777216
042DA7 FFFF00FF            A  1117    	DL	-16711681
042DAB FFFF00FF            A  1118    	DL	-16711681
042DAF FFFF00FF            A  1119    	DL	-16711681
042DB3 FFFF00FF            A  1120    	DL	-16711681
042DB7 000000FF            A  1121    	DL	-16777216
042DBB 808000FF            A  1122    	DL	-16744320
042DBF FFFF00FF            A  1123    	DL	-16711681
042DC3 000000FF            A  1124    	DL	-16777216
042DC7 FFFF00FF            A  1125    	DL	-16711681
042DCB 808000FF            A  1126    	DL	-16744320
042DCF FFFF00FF            A  1127    	DL	-16711681
042DD3 808000FF            A  1128    	DL	-16744320
042DD7 000000FF            A  1129    	DL	-16777216
042DDB 808000FF            A  1130    	DL	-16744320
042DDF 000000FF            A  1131    	DL	-16777216
042DE3 808000FF            A  1132    	DL	-16744320
042DE7 FFFF00FF            A  1133    	DL	-16711681
042DEB 808000FF            A  1134    	DL	-16744320
042DEF FFFF00FF            A  1135    	DL	-16711681
042DF3 FFFF00FF            A  1136    	DL	-16711681
042DF7 808000FF            A  1137    	DL	-16744320
042DFB 000000FF            A  1138    	DL	-16777216
042DFF FFFF00FF            A  1139    	DL	-16711681
042E03 000000FF            A  1140    	DL	-16777216
042E07 FFFF00FF            A  1141    	DL	-16711681
042E0B 808000FF            A  1142    	DL	-16744320
042E0F FFFF00FF            A  1143    	DL	-16711681
042E13 808000FF            A  1144    	DL	-16744320
042E17 000000FF            A  1145    	DL	-16777216
042E1B 000000FF            A  1146    	DL	-16777216
042E1F 808000FF            A  1147    	DL	-16744320
042E23 FFFF00FF            A  1148    	DL	-16711681
042E27 808000FF            A  1149    	DL	-16744320
042E2B 000000FF            A  1150    	DL	-16777216
042E2F 000000FF            A  1151    	DL	-16777216
042E33 808000FF            A  1152    	DL	-16744320
042E37 FFFF00FF            A  1153    	DL	-16711681
042E3B 808000FF            A  1154    	DL	-16744320
042E3F 000000FF            A  1155    	DL	-16777216
042E43 000000FF            A  1156    	DL	-16777216
042E47 FFFF00FF            A  1157    	DL	-16711681
042E4B 808000FF            A  1158    	DL	-16744320
042E4F FFFF00FF            A  1159    	DL	-16711681
042E53 808000FF            A  1160    	DL	-16744320
042E57 000000FF            A  1161    	DL	-16777216
042E5B 808000FF            A  1162    	DL	-16744320
042E5F FFFF00FF            A  1163    	DL	-16711681
042E63 808000FF            A  1164    	DL	-16744320
042E67 000000FF            A  1165    	DL	-16777216
042E6B 808000FF            A  1166    	DL	-16744320
042E6F FFFF00FF            A  1167    	DL	-16711681
042E73 000000FF            A  1168    	DL	-16777216
042E77 808000FF            A  1169    	DL	-16744320
042E7B FFFF00FF            A  1170    	DL	-16711681
042E7F 808000FF            A  1171    	DL	-16744320
042E83 000000FF            A  1172    	DL	-16777216
042E87 FFFF00FF            A  1173    	DL	-16711681
042E8B 808000FF            A  1174    	DL	-16744320
042E8F FFFF00FF            A  1175    	DL	-16711681
042E93 808000FF            A  1176    	DL	-16744320
042E97 000000FF            A  1177    	DL	-16777216
042E9B 808000FF            A  1178    	DL	-16744320
042E9F 808000FF            A  1179    	DL	-16744320
042EA3 000000FF            A  1180    	DL	-16777216
042EA7 808000FF            A  1181    	DL	-16744320
042EAB FFFF00FF            A  1182    	DL	-16711681
042EAF FFFF00FF            A  1183    	DL	-16711681
042EB3 FFFF00FF            A  1184    	DL	-16711681
042EB7 000000FF            A  1185    	DL	-16777216
042EBB 808000FF            A  1186    	DL	-16744320
042EBF 808000FF            A  1187    	DL	-16744320
042EC3 000000FF            A  1188    	DL	-16777216
042EC7 FFFF00FF            A  1189    	DL	-16711681
042ECB 808000FF            A  1190    	DL	-16744320
042ECF FFFF00FF            A  1191    	DL	-16711681
042ED3 808000FF            A  1192    	DL	-16744320
042ED7 000000FF            A  1193    	DL	-16777216
042EDB 000000FF            A  1194    	DL	-16777216
042EDF 000000FF            A  1195    	DL	-16777216
042EE3 000000FF            A  1196    	DL	-16777216
042EE7 000000FF            A  1197    	DL	-16777216
042EEB 000000FF            A  1198    	DL	-16777216
042EEF 000000FF            A  1199    	DL	-16777216
042EF3 000000FF            A  1200    	DL	-16777216
042EF7 000000FF            A  1201    	DL	-16777216
042EFB 000000FF            A  1202    	DL	-16777216
042EFF 000000FF            A  1203    	DL	-16777216
042F03 000000FF            A  1204    	DL	-16777216
042F07 FFFF00FF            A  1205    	DL	-16711681
042F0B 808000FF            A  1206    	DL	-16744320
042F0F FFFF00FF            A  1207    	DL	-16711681
042F13 FFFF00FF            A  1208    	DL	-16711681
042F17 FFFF00FF            A  1209    	DL	-16711681
042F1B FFFF00FF            A  1210    	DL	-16711681
042F1F FFFF00FF            A  1211    	DL	-16711681
042F23 FFFF00FF            A  1212    	DL	-16711681
042F27 FFFF00FF            A  1213    	DL	-16711681
042F2B FFFF00FF            A  1214    	DL	-16711681
042F2F FFFF00FF            A  1215    	DL	-16711681
042F33 FFFF00FF            A  1216    	DL	-16711681
042F37 FFFF00FF            A  1217    	DL	-16711681
042F3B FFFF00FF            A  1218    	DL	-16711681
042F3F FFFF00FF            A  1219    	DL	-16711681
042F43 FFFF00FF            A  1220    	DL	-16711681
042F47 FFFF00FF            A  1221    	DL	-16711681
042F4B 808000FF            A  1222    	DL	-16744320
042F4F FFFF00FF            A  1223    	DL	-16711681
042F53 808000FF            A  1224    	DL	-16744320
042F57 808000FF            A  1225    	DL	-16744320
042F5B 808000FF            A  1226    	DL	-16744320
042F5F 808000FF            A  1227    	DL	-16744320
042F63 808000FF            A  1228    	DL	-16744320
042F67 808000FF            A  1229    	DL	-16744320
042F6B 808000FF            A  1230    	DL	-16744320
042F6F 808000FF            A  1231    	DL	-16744320
042F73 808000FF            A  1232    	DL	-16744320
042F77 808000FF            A  1233    	DL	-16744320
042F7B 808000FF            A  1234    	DL	-16744320
042F7F 808000FF            A  1235    	DL	-16744320
042F83 808000FF            A  1236    	DL	-16744320
042F87 808000FF            A  1237    	DL	-16744320
042F8B 808000FF            A  1238    	DL	-16744320
                           A  1239    .DEFINE "box_data"
                           A  1240    .ALIAS "_box_data"
                           A  1241    .CLASS 69
                           A  1242    .VALUE _box_data
                           A  1243    .DIM 1
                           A  1244    .DIM 256
                           A  1245    .TYPE 879
                           A  1246    .ENDEF
042F8F                     A  1247    _boxongoal_data:
042F8F FFFF00FF            A  1248    	DL	-16711681
042F93 FFFF00FF            A  1249    	DL	-16711681
042F97 FFFF00FF            A  1250    	DL	-16711681
042F9B FFFF00FF            A  1251    	DL	-16711681
042F9F FFFF00FF            A  1252    	DL	-16711681
042FA3 FFFF00FF            A  1253    	DL	-16711681
042FA7 FFFF00FF            A  1254    	DL	-16711681
042FAB FFFF00FF            A  1255    	DL	-16711681
042FAF FFFF00FF            A  1256    	DL	-16711681
042FB3 FFFF00FF            A  1257    	DL	-16711681
042FB7 FFFF00FF            A  1258    	DL	-16711681
042FBB FFFF00FF            A  1259    	DL	-16711681
042FBF FFFF00FF            A  1260    	DL	-16711681
042FC3 FFFF00FF            A  1261    	DL	-16711681
042FC7 FFFF00FF            A  1262    	DL	-16711681
042FCB FFFF00FF            A  1263    	DL	-16711681
042FCF FFFF00FF            A  1264    	DL	-16711681
042FD3 808000FF            A  1265    	DL	-16744320
042FD7 808000FF            A  1266    	DL	-16744320
042FDB 808000FF            A  1267    	DL	-16744320
042FDF 808000FF            A  1268    	DL	-16744320
042FE3 808000FF            A  1269    	DL	-16744320
042FE7 808000FF            A  1270    	DL	-16744320
042FEB 808000FF            A  1271    	DL	-16744320
042FEF 808000FF            A  1272    	DL	-16744320
042FF3 808000FF            A  1273    	DL	-16744320
042FF7 808000FF            A  1274    	DL	-16744320
042FFB 808000FF            A  1275    	DL	-16744320
042FFF 808000FF            A  1276    	DL	-16744320
043003 808000FF            A  1277    	DL	-16744320
043007 FFFF00FF            A  1278    	DL	-16711681
04300B 808000FF            A  1279    	DL	-16744320
04300F FFFF00FF            A  1280    	DL	-16711681
043013 808000FF            A  1281    	DL	-16744320
043017 000000FF            A  1282    	DL	-16777216
04301B 000000FF            A  1283    	DL	-16777216
04301F 000000FF            A  1284    	DL	-16777216
043023 000000FF            A  1285    	DL	-16777216
043027 000000FF            A  1286    	DL	-16777216
04302B 000000FF            A  1287    	DL	-16777216
04302F 000000FF            A  1288    	DL	-16777216
043033 000000FF            A  1289    	DL	-16777216
043037 000000FF            A  1290    	DL	-16777216
04303B 000000FF            A  1291    	DL	-16777216
04303F 000000FF            A  1292    	DL	-16777216
043043 000000FF            A  1293    	DL	-16777216
043047 FFFF00FF            A  1294    	DL	-16711681
04304B 808000FF            A  1295    	DL	-16744320
04304F FFFF00FF            A  1296    	DL	-16711681
043053 808000FF            A  1297    	DL	-16744320
043057 000000FF            A  1298    	DL	-16777216
04305B 808000FF            A  1299    	DL	-16744320
04305F 808000FF            A  1300    	DL	-16744320
043063 000000FF            A  1301    	DL	-16777216
043067 008000FF            A  1302    	DL	-16744448
04306B 008000FF            A  1303    	DL	-16744448
04306F 008000FF            A  1304    	DL	-16744448
043073 008000FF            A  1305    	DL	-16744448
043077 000000FF            A  1306    	DL	-16777216
04307B 808000FF            A  1307    	DL	-16744320
04307F 808000FF            A  1308    	DL	-16744320
043083 000000FF            A  1309    	DL	-16777216
043087 FFFF00FF            A  1310    	DL	-16711681
04308B 808000FF            A  1311    	DL	-16744320
04308F FFFF00FF            A  1312    	DL	-16711681
043093 808000FF            A  1313    	DL	-16744320
043097 000000FF            A  1314    	DL	-16777216
04309B 808000FF            A  1315    	DL	-16744320
04309F FFFF00FF            A  1316    	DL	-16711681
0430A3 808000FF            A  1317    	DL	-16744320
0430A7 000000FF            A  1318    	DL	-16777216
0430AB 00FF00FF            A  1319    	DL	-16711936
0430AF 00FF00FF            A  1320    	DL	-16711936
0430B3 000000FF            A  1321    	DL	-16777216
0430B7 808000FF            A  1322    	DL	-16744320
0430BB FFFF00FF            A  1323    	DL	-16711681
0430BF 808000FF            A  1324    	DL	-16744320
0430C3 000000FF            A  1325    	DL	-16777216
0430C7 FFFF00FF            A  1326    	DL	-16711681
0430CB 808000FF            A  1327    	DL	-16744320
0430CF FFFF00FF            A  1328    	DL	-16711681
0430D3 808000FF            A  1329    	DL	-16744320
0430D7 000000FF            A  1330    	DL	-16777216
0430DB 000000FF            A  1331    	DL	-16777216
0430DF 808000FF            A  1332    	DL	-16744320
0430E3 FFFF00FF            A  1333    	DL	-16711681
0430E7 808000FF            A  1334    	DL	-16744320
0430EB 000000FF            A  1335    	DL	-16777216
0430EF 000000FF            A  1336    	DL	-16777216
0430F3 808000FF            A  1337    	DL	-16744320
0430F7 FFFF00FF            A  1338    	DL	-16711681
0430FB 808000FF            A  1339    	DL	-16744320
0430FF 000000FF            A  1340    	DL	-16777216
043103 000000FF            A  1341    	DL	-16777216
043107 FFFF00FF            A  1342    	DL	-16711681
04310B 808000FF            A  1343    	DL	-16744320
04310F FFFF00FF            A  1344    	DL	-16711681
043113 808000FF            A  1345    	DL	-16744320
043117 000000FF            A  1346    	DL	-16777216
04311B 008000FF            A  1347    	DL	-16744448
04311F 000000FF            A  1348    	DL	-16777216
043123 808000FF            A  1349    	DL	-16744320
043127 FFFF00FF            A  1350    	DL	-16711681
04312B 808000FF            A  1351    	DL	-16744320
04312F FFFF00FF            A  1352    	DL	-16711681
043133 FFFF00FF            A  1353    	DL	-16711681
043137 808000FF            A  1354    	DL	-16744320
04313B 000000FF            A  1355    	DL	-16777216
04313F 008000FF            A  1356    	DL	-16744448
043143 000000FF            A  1357    	DL	-16777216
043147 FFFF00FF            A  1358    	DL	-16711681
04314B 808000FF            A  1359    	DL	-16744320
04314F FFFF00FF            A  1360    	DL	-16711681
043153 808000FF            A  1361    	DL	-16744320
043157 000000FF            A  1362    	DL	-16777216
04315B 008000FF            A  1363    	DL	-16744448
04315F 00FF00FF            A  1364    	DL	-16711936
043163 000000FF            A  1365    	DL	-16777216
043167 808000FF            A  1366    	DL	-16744320
04316B 00FF00FF            A  1367    	DL	-16711936
04316F 00FF00FF            A  1368    	DL	-16711936
043173 808000FF            A  1369    	DL	-16744320
043177 000000FF            A  1370    	DL	-16777216
04317B 00FF00FF            A  1371    	DL	-16711936
04317F 008000FF            A  1372    	DL	-16744448
043183 000000FF            A  1373    	DL	-16777216
043187 FFFF00FF            A  1374    	DL	-16711681
04318B 808000FF            A  1375    	DL	-16744320
04318F FFFF00FF            A  1376    	DL	-16711681
043193 808000FF            A  1377    	DL	-16744320
043197 000000FF            A  1378    	DL	-16777216
04319B 008000FF            A  1379    	DL	-16744448
04319F 00FF00FF            A  1380    	DL	-16711936
0431A3 000000FF            A  1381    	DL	-16777216
0431A7 FFFF00FF            A  1382    	DL	-16711681
0431AB 00FF00FF            A  1383    	DL	-16711936
0431AF 00FF00FF            A  1384    	DL	-16711936
0431B3 FFFF00FF            A  1385    	DL	-16711681
0431B7 000000FF            A  1386    	DL	-16777216
0431BB 00FF00FF            A  1387    	DL	-16711936
0431BF 008000FF            A  1388    	DL	-16744448
0431C3 000000FF            A  1389    	DL	-16777216
0431C7 FFFF00FF            A  1390    	DL	-16711681
0431CB 808000FF            A  1391    	DL	-16744320
0431CF FFFF00FF            A  1392    	DL	-16711681
0431D3 808000FF            A  1393    	DL	-16744320
0431D7 000000FF            A  1394    	DL	-16777216
0431DB 008000FF            A  1395    	DL	-16744448
0431DF 000000FF            A  1396    	DL	-16777216
0431E3 808000FF            A  1397    	DL	-16744320
0431E7 FFFF00FF            A  1398    	DL	-16711681
0431EB 808000FF            A  1399    	DL	-16744320
0431EF FFFF00FF            A  1400    	DL	-16711681
0431F3 FFFF00FF            A  1401    	DL	-16711681
0431F7 808000FF            A  1402    	DL	-16744320
0431FB 000000FF            A  1403    	DL	-16777216
0431FF 008000FF            A  1404    	DL	-16744448
043203 000000FF            A  1405    	DL	-16777216
043207 FFFF00FF            A  1406    	DL	-16711681
04320B 808000FF            A  1407    	DL	-16744320
04320F FFFF00FF            A  1408    	DL	-16711681
043213 808000FF            A  1409    	DL	-16744320
043217 000000FF            A  1410    	DL	-16777216
04321B 000000FF            A  1411    	DL	-16777216
04321F 808000FF            A  1412    	DL	-16744320
043223 FFFF00FF            A  1413    	DL	-16711681
043227 808000FF            A  1414    	DL	-16744320
04322B 000000FF            A  1415    	DL	-16777216
04322F 000000FF            A  1416    	DL	-16777216
043233 808000FF            A  1417    	DL	-16744320
043237 FFFF00FF            A  1418    	DL	-16711681
04323B 808000FF            A  1419    	DL	-16744320
04323F 000000FF            A  1420    	DL	-16777216
043243 000000FF            A  1421    	DL	-16777216
043247 FFFF00FF            A  1422    	DL	-16711681
04324B 808000FF            A  1423    	DL	-16744320
04324F FFFF00FF            A  1424    	DL	-16711681
043253 808000FF            A  1425    	DL	-16744320
043257 000000FF            A  1426    	DL	-16777216
04325B 808000FF            A  1427    	DL	-16744320
04325F FFFF00FF            A  1428    	DL	-16711681
043263 808000FF            A  1429    	DL	-16744320
043267 000000FF            A  1430    	DL	-16777216
04326B 00FF00FF            A  1431    	DL	-16711936
04326F 00FF00FF            A  1432    	DL	-16711936
043273 000000FF            A  1433    	DL	-16777216
043277 808000FF            A  1434    	DL	-16744320
04327B FFFF00FF            A  1435    	DL	-16711681
04327F 808000FF            A  1436    	DL	-16744320
043283 000000FF            A  1437    	DL	-16777216
043287 FFFF00FF            A  1438    	DL	-16711681
04328B 808000FF            A  1439    	DL	-16744320
04328F FFFF00FF            A  1440    	DL	-16711681
043293 808000FF            A  1441    	DL	-16744320
043297 000000FF            A  1442    	DL	-16777216
04329B 808000FF            A  1443    	DL	-16744320
04329F 808000FF            A  1444    	DL	-16744320
0432A3 000000FF            A  1445    	DL	-16777216
0432A7 008000FF            A  1446    	DL	-16744448
0432AB 008000FF            A  1447    	DL	-16744448
0432AF 008000FF            A  1448    	DL	-16744448
0432B3 008000FF            A  1449    	DL	-16744448
0432B7 000000FF            A  1450    	DL	-16777216
0432BB 808000FF            A  1451    	DL	-16744320
0432BF 808000FF            A  1452    	DL	-16744320
0432C3 000000FF            A  1453    	DL	-16777216
0432C7 FFFF00FF            A  1454    	DL	-16711681
0432CB 808000FF            A  1455    	DL	-16744320
0432CF FFFF00FF            A  1456    	DL	-16711681
0432D3 808000FF            A  1457    	DL	-16744320
0432D7 000000FF            A  1458    	DL	-16777216
0432DB 000000FF            A  1459    	DL	-16777216
0432DF 000000FF            A  1460    	DL	-16777216
0432E3 000000FF            A  1461    	DL	-16777216
0432E7 000000FF            A  1462    	DL	-16777216
0432EB 000000FF            A  1463    	DL	-16777216
0432EF 000000FF            A  1464    	DL	-16777216
0432F3 000000FF            A  1465    	DL	-16777216
0432F7 000000FF            A  1466    	DL	-16777216
0432FB 000000FF            A  1467    	DL	-16777216
0432FF 000000FF            A  1468    	DL	-16777216
043303 000000FF            A  1469    	DL	-16777216
043307 FFFF00FF            A  1470    	DL	-16711681
04330B 808000FF            A  1471    	DL	-16744320
04330F FFFF00FF            A  1472    	DL	-16711681
043313 FFFF00FF            A  1473    	DL	-16711681
043317 FFFF00FF            A  1474    	DL	-16711681
04331B FFFF00FF            A  1475    	DL	-16711681
04331F FFFF00FF            A  1476    	DL	-16711681
043323 FFFF00FF            A  1477    	DL	-16711681
043327 FFFF00FF            A  1478    	DL	-16711681
04332B FFFF00FF            A  1479    	DL	-16711681
04332F FFFF00FF            A  1480    	DL	-16711681
043333 FFFF00FF            A  1481    	DL	-16711681
043337 FFFF00FF            A  1482    	DL	-16711681
04333B FFFF00FF            A  1483    	DL	-16711681
04333F FFFF00FF            A  1484    	DL	-16711681
043343 FFFF00FF            A  1485    	DL	-16711681
043347 FFFF00FF            A  1486    	DL	-16711681
04334B 808000FF            A  1487    	DL	-16744320
04334F FFFF00FF            A  1488    	DL	-16711681
043353 808000FF            A  1489    	DL	-16744320
043357 808000FF            A  1490    	DL	-16744320
04335B 808000FF            A  1491    	DL	-16744320
04335F 808000FF            A  1492    	DL	-16744320
043363 808000FF            A  1493    	DL	-16744320
043367 808000FF            A  1494    	DL	-16744320
04336B 808000FF            A  1495    	DL	-16744320
04336F 808000FF            A  1496    	DL	-16744320
043373 808000FF            A  1497    	DL	-16744320
043377 808000FF            A  1498    	DL	-16744320
04337B 808000FF            A  1499    	DL	-16744320
04337F 808000FF            A  1500    	DL	-16744320
043383 808000FF            A  1501    	DL	-16744320
043387 808000FF            A  1502    	DL	-16744320
04338B 808000FF            A  1503    	DL	-16744320
                           A  1504    .DEFINE "boxongoal_data"
                           A  1505    .ALIAS "_boxongoal_data"
                           A  1506    .CLASS 69
                           A  1507    .VALUE _boxongoal_data
                           A  1508    .DIM 1
                           A  1509    .DIM 256
                           A  1510    .TYPE 879
                           A  1511    .ENDEF
04338F                     A  1512    _lookup:
04338F 23                  A  1513    	DB	35
043390 00                  A  1514    	DB	0
043391 40                  A  1515    	DB	64
043392 01                  A  1516    	DB	1
043393 2B                  A  1517    	DB	43
043394 02                  A  1518    	DB	2
043395 24                  A  1519    	DB	36
043396 03                  A  1520    	DB	3
043397 2A                  A  1521    	DB	42
043398 04                  A  1522    	DB	4
043399 2E                  A  1523    	DB	46
04339A 05                  A  1524    	DB	5
04339B 20                  A  1525    	DB	32
04339C 06                  A  1526    	DB	6
                           A  1527    .DEFINE "lookup"
                           A  1528    .ALIAS "_lookup"
                           A  1529    .CLASS 69
                           A  1530    .VALUE _lookup
                           A  1531    .DIM 7
                           A  1532    .TAG "NONAME0"
                           A  1533    .TYPE 104
                           A  1534    .ENDEF
                           A  1535    ;    1	#include "game.h"
                           A  1536    ;    2	#include "sokobanprep.h"
                           A  1537    ;    3	#include "vdp.h"
                           A  1538    ;    4	#include <ctype.h>
                           A  1539    ;    5	#include <stdio.h>
                           A  1540    ;    6	#include <string.h>
                           A  1541    ;    7	
                           A  1542    ;    8	UINT32 bitmapbuffer[BITMAPSIZE];	// 
                           A  1543    ;    9	UINT8 sprites[MAXHEIGHT][MAXWIDTH]; // 
                           A  1544    ;   10	struct sokobanlevel currentlevel;	// 
                           A  1545    ;   11	UINT8 spritenumber;					// 
                           A  1546    ;   12	
                           A  1547    ;   13	UINT32 wall_data[1][256] = {
                           A  1548    ;   14	{
                           A  1549    ;   15	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  1550    ;   16	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1551    ;   17	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1552    ;   18	0xff000080, 0xff000080, 0xff808080, 0xf
                           A  1553    ;   19	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1554    ;   20	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1555    ;   21	0xff808080, 0xff808080, 0xff808080, 0xf
                           A  1556    ;   22	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1557    ;   23	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1558    ;   24	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1559    ;   25	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1560    ;   26	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1561    ;   27	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1562    ;   28	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1563    ;   29	0xff404040, 0xff008080, 0xff808080, 0xf
                           A  1564    ;   30	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1565    ;   31	}
                           A  1566    ;   32	};
                           A  1567    ;   33	
                           A  1568    ;   34	UINT32 player_data[1][256] = {
                           A  1569    ;   35	{
                           A  1570    ;   36	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1571    ;   37	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1572    ;   38	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1573    ;   39	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1574    ;   40	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1575    ;   41	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1576    ;   42	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1577    ;   43	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1578    ;   44	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1579    ;   45	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1580    ;   46	0x00000000, 0x00000000, 0xff404040, 0xf
                           A  1581    ;   47	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1582    ;   48	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1583    ;   49	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1584    ;   50	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1585    ;   51	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1586    ;   52	}
                           A  1587    ;   53	};
                           A  1588    ;   54	
                           A  1589    ;   55	UINT32 goal_data[1][256] = {
                           A  1590    ;   56	{
                           A  1591    ;   57	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1592    ;   58	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1593    ;   59	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1594    ;   60	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1595    ;   61	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1596    ;   62	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1597    ;   63	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1598    ;   64	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1599    ;   65	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1600    ;   66	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1601    ;   67	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1602    ;   68	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1603    ;   69	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1604    ;   70	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1605    ;   71	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1606    ;   72	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1607    ;   73	}
                           A  1608    ;   74	};
                           A  1609    ;   75	
                           A  1610    ;   76	UINT32 box_data[1][256] = {
                           A  1611    ;   77	{
                           A  1612    ;   78	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1613    ;   79	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1614    ;   80	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1615    ;   81	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1616    ;   82	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1617    ;   83	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1618    ;   84	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1619    ;   85	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1620    ;   86	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1621    ;   87	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1622    ;   88	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1623    ;   89	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1624    ;   90	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1625    ;   91	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1626    ;   92	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1627    ;   93	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1628    ;   94	}
                           A  1629    ;   95	};
                           A  1630    ;   96	
                           A  1631    ;   97	UINT32 boxongoal_data[1][256] = {
                           A  1632    ;   98	{
                           A  1633    ;   99	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1634    ;  100	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1635    ;  101	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1636    ;  102	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1637    ;  103	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1638    ;  104	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1639    ;  105	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1640    ;  106	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1641    ;  107	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1642    ;  108	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1643    ;  109	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1644    ;  110	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1645    ;  111	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1646    ;  112	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1647    ;  113	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1648    ;  114	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1649    ;  115	}
                           A  1650    ;  116	};
                           A  1651    ;  117	
                           A  1652    ;  118	chartotile lookup[] =
                           A  1653    ;  119	{
                           A  1654    	SEGMENT CODE
                           A  1655    ;  120		{CHAR_WALL, TILE_WALL},
                           A  1656    ;  121		{CHAR_PLAYER, TILE_PLAYER},
                           A  1657    ;  122		{CHAR_PLAYERONGOAL, TILE_PLAYERONGO
                           A  1658    ;  123		{CHAR_BOX, TILE_BOX},
                           A  1659    ;  124		{CHAR_BOXONGOAL, TILE_BOXONGOAL},
                           A  1660    ;  125		{CHAR_GOAL, TILE_GOAL},
                           A  1661    ;  126		{CHAR_FLOOR, TILE_FLOOR}
                           A  1662    ;  127	};
                           A  1663    ;  128	
                           A  1664    ;  129	void game_sendSpriteData(void)
                           A  1665    ;  130	{
040D2B                     A  1666    _game_sendSpriteData:
                           A  1667    .DEFINE "_game_sendSpriteData"
                           A  1668    
                           A  1669    .VALUE _game_sendSpriteData
                           A  1670    
                           A  1671    .CLASS 2
                           A  1672    
                           A  1673    .TYPE 65
                           A  1674    
                           A  1675    .ENDEF
                           A  1676    
                           A  1677    .BEGFUNC "game_sendSpriteData",130,"_game_sendS
                           A  1678    
040D2B DDE5                A  1679    	PUSH	IX
040D2D DD210000 00         A  1680    	LD	IX,0
040D32 DD39                A  1681    	ADD	IX,SP
                           A  1682    ;  131		// needs to be called once, to load
                           A  1683    ;  132		
                           A  1684    ;  133		vdp_bitmapSendData(TILE_WALL, BITMA
                           A  1685    .LINE 133
                           A  1686    
040D34 01 8F 1F 04         A  1687    	LD	BC,_wall_data
040D38 C5                  A  1688    	PUSH	BC
040D39 01100000            A  1689    	LD	BC,16
040D3D C5                  A  1690    	PUSH	BC
040D3E C5                  A  1691    	PUSH	BC
040D3F 01000000            A  1692    	LD	BC,0
040D43 C5                  A  1693    	PUSH	BC
040D44 CD D2 06 04         A  1694    	CALL	_vdp_bitmapSendData
040D48 C1                  A  1695    	POP	BC
040D49 C1                  A  1696    	POP	BC
040D4A C1                  A  1697    	POP	BC
040D4B C1                  A  1698    	POP	BC
                           A  1699    ;  134		vdp_bitmapSendData(TILE_PLAYER, BIT
                           A  1700    .LINE 134
                           A  1701    
040D4C 01 8F 23 04         A  1702    	LD	BC,_player_data
040D50 C5                  A  1703    	PUSH	BC
040D51 01100000            A  1704    	LD	BC,16
040D55 C5                  A  1705    	PUSH	BC
040D56 C5                  A  1706    	PUSH	BC
040D57 01010000            A  1707    	LD	BC,1
040D5B C5                  A  1708    	PUSH	BC
040D5C CD D2 06 04         A  1709    	CALL	_vdp_bitmapSendData
040D60 C1                  A  1710    	POP	BC
040D61 C1                  A  1711    	POP	BC
040D62 C1                  A  1712    	POP	BC
040D63 C1                  A  1713    	POP	BC
                           A  1714    ;  135		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  1715    .LINE 135
                           A  1716    
040D64 01 8F 23 04         A  1717    	LD	BC,_player_data
040D68 C5                  A  1718    	PUSH	BC
040D69 01100000            A  1719    	LD	BC,16
040D6D C5                  A  1720    	PUSH	BC
040D6E C5                  A  1721    	PUSH	BC
040D6F 01020000            A  1722    	LD	BC,2
040D73 C5                  A  1723    	PUSH	BC
040D74 CD D2 06 04         A  1724    	CALL	_vdp_bitmapSendData
040D78 C1                  A  1725    	POP	BC
040D79 C1                  A  1726    	POP	BC
040D7A C1                  A  1727    	POP	BC
040D7B C1                  A  1728    	POP	BC
                           A  1729    ;  136		vdp_bitmapSendData(TILE_BOX, BITMAP
                           A  1730    .LINE 136
                           A  1731    
040D7C 01 8F 2B 04         A  1732    	LD	BC,_box_data
040D80 C5                  A  1733    	PUSH	BC
040D81 01100000            A  1734    	LD	BC,16
040D85 C5                  A  1735    	PUSH	BC
040D86 C5                  A  1736    	PUSH	BC
040D87 01030000            A  1737    	LD	BC,3
040D8B C5                  A  1738    	PUSH	BC
040D8C CD D2 06 04         A  1739    	CALL	_vdp_bitmapSendData
040D90 C1                  A  1740    	POP	BC
040D91 C1                  A  1741    	POP	BC
040D92 C1                  A  1742    	POP	BC
040D93 C1                  A  1743    	POP	BC
                           A  1744    ;  137		vdp_bitmapSendData(TILE_BOXONGOAL, 
                           A  1745    .LINE 137
                           A  1746    
040D94 01 8F 2F 04         A  1747    	LD	BC,_boxongoal_data
040D98 C5                  A  1748    	PUSH	BC
040D99 01100000            A  1749    	LD	BC,16
040D9D C5                  A  1750    	PUSH	BC
040D9E C5                  A  1751    	PUSH	BC
040D9F 01040000            A  1752    	LD	BC,4
040DA3 C5                  A  1753    	PUSH	BC
040DA4 CD D2 06 04         A  1754    	CALL	_vdp_bitmapSendData
040DA8 C1                  A  1755    	POP	BC
040DA9 C1                  A  1756    	POP	BC
040DAA C1                  A  1757    	POP	BC
040DAB C1                  A  1758    	POP	BC
                           A  1759    ;  138		vdp_bitmapSendData(TILE_GOAL, BITMA
                           A  1760    .LINE 138
                           A  1761    
040DAC 01 8F 27 04         A  1762    	LD	BC,_goal_data
040DB0 C5                  A  1763    	PUSH	BC
040DB1 01100000            A  1764    	LD	BC,16
040DB5 C5                  A  1765    	PUSH	BC
040DB6 C5                  A  1766    	PUSH	BC
040DB7 01050000            A  1767    	LD	BC,5
040DBB C5                  A  1768    	PUSH	BC
040DBC CD D2 06 04         A  1769    	CALL	_vdp_bitmapSendData
040DC0 C1                  A  1770    	POP	BC
040DC1 C1                  A  1771    	POP	BC
040DC2 C1                  A  1772    	POP	BC
040DC3 C1                  A  1773    	POP	BC
                           A  1774    ;  139		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  1775    .LINE 139
                           A  1776    
040DC4 01FF0000            A  1777    	LD	BC,255
040DC8 C5                  A  1778    	PUSH	BC
040DC9 01000000            A  1779    	LD	BC,0
040DCD C5                  A  1780    	PUSH	BC
040DCE 01100000            A  1781    	LD	BC,16
040DD2 C5                  A  1782    	PUSH	BC
040DD3 C5                  A  1783    	PUSH	BC
040DD4 01060000            A  1784    	LD	BC,6
040DD8 C5                  A  1785    	PUSH	BC
040DD9 CD B1 07 04         A  1786    	CALL	_vdp_bitmapCreateSolidColor
040DDD C1                  A  1787    	POP	BC
040DDE C1                  A  1788    	POP	BC
040DDF C1                  A  1789    	POP	BC
040DE0 C1                  A  1790    	POP	BC
040DE1 C1                  A  1791    	POP	BC
                           A  1792    ;  140		
                           A  1793    ;  141		return;
                           A  1794    ;  142	}
                           A  1795    .LINE 142
                           A  1796    
040DE2 DDF9                A  1797    	LD	SP,IX
040DE4 DDE1                A  1798    	POP	IX
040DE6 C9                  A  1799    	RET	
                           A  1800    
                           A  1801    
                           A  1802    ;**************************** _game_sendSpriteD
                           A  1803    ;Name                         Addr/Register   S
                           A  1804    ;_vdp_bitmapCreateSolidColor         IMPORT  --
                           A  1805    ;_goal_data                          STATIC   1
                           A  1806    ;_boxongoal_data                     STATIC   1
                           A  1807    ;_box_data                           STATIC   1
                           A  1808    ;_player_data                        STATIC   1
                           A  1809    ;_wall_data                          STATIC   1
                           A  1810    ;_vdp_bitmapSendData                 IMPORT  --
                           A  1811    
                           A  1812    
                           A  1813    ; Stack Frame Size: 6 (bytes)
                           A  1814    ;       Spill Code: 0 (instruction)
                           A  1815    
                           A  1816    
                           A  1817    .ENDFUNC "game_sendSpriteData",142,"_game_sendS
                           A  1818    ;  143	
                           A  1819    ;  144	void game_resetSprites(void)
                           A  1820    ;  145	{
040DE7                     A  1821    _game_resetSprites:
                           A  1822    .DEFINE "_game_resetSprites"
                           A  1823    
                           A  1824    .VALUE _game_resetSprites
                           A  1825    
                           A  1826    .CLASS 2
                           A  1827    
                           A  1828    .TYPE 65
                           A  1829    
                           A  1830    .ENDEF
                           A  1831    
                           A  1832    .BEGFUNC "game_resetSprites",145,"_game_resetSp
                           A  1833    
                           A  1834    .LINE 145
                           A  1835    
                           A  1836    .DEFINE "n"
                           A  1837    
                           A  1838    .CLASS 65
                           A  1839    
                           A  1840    .VALUE -1
                           A  1841    
                           A  1842    .TYPE 12
                           A  1843    
                           A  1844    .ENDEF
                           A  1845    
040DE7 DDE5                A  1846    	PUSH	IX
040DE9 DD210000 00         A  1847    	LD	IX,0
040DEE DD39                A  1848    	ADD	IX,SP
040DF0 3B                  A  1849    	DEC	SP
                           A  1850    ;  146		UINT8 n;
                           A  1851    ;  147		
                           A  1852    ;  148		// disable all sprites
                           A  1853    ;  149		for(n = 0; n < spritenumber; n++)
                           A  1854    .LINE 149
                           A  1855    
040DF1 DD36FF00            A  1856    	LD	(IX+%FFFFFFFF),%0
040DF5 18 2E               A  1857    	JR	L_4
040DF7                     A  1858    L_2:
                           A  1859    ;  150		{
                           A  1860    ;  151			vdp_spriteSelect(n);
                           A  1861    .LINE 151
                           A  1862    
040DF7 DD4EFF              A  1863    	LD	C,(IX+%FFFFFFFF)
040DFA 0600                A  1864    	LD	B,%0
040DFC C5                  A  1865    	PUSH	BC
040DFD CD E4 07 04         A  1866    	CALL	_vdp_spriteSelect
040E01 C1                  A  1867    	POP	BC
                           A  1868    ;  152			vdp_spriteHide(n);
                           A  1869    .LINE 152
                           A  1870    
040E02 DD4EFF              A  1871    	LD	C,(IX+%FFFFFFFF)
040E05 0600                A  1872    	LD	B,%0
040E07 C5                  A  1873    	PUSH	BC
040E08 CD 20 0A 04         A  1874    	CALL	_vdp_spriteHide
040E0C C1                  A  1875    	POP	BC
                           A  1876    ;  153			vdp_spriteSetFrame(n,0);
                           A  1877    .LINE 153
                           A  1878    
040E0D 01000000            A  1879    	LD	BC,0
040E11 C5                  A  1880    	PUSH	BC
040E12 DD4EFF              A  1881    	LD	C,(IX+%FFFFFFFF)
040E15 0600                A  1882    	LD	B,%0
040E17 C5                  A  1883    	PUSH	BC
040E18 CD 8E 09 04         A  1884    	CALL	_vdp_spriteSetFrame
040E1C C1                  A  1885    	POP	BC
040E1D C1                  A  1886    	POP	BC
                           A  1887    ;  154			vdp_spriteClearFramesSelected()
                           A  1888    .LINE 154
                           A  1889    
040E1E CD 1D 08 04         A  1890    	CALL	_vdp_spriteClearFramesSelected
040E22 DD34FF              A  1891    	INC	(IX+%FFFFFFFF)
                           A  1892    ;  155		}
040E25                     A  1893    L_4:
                           A  1894    .LINE 155
                           A  1895    
040E25 DD7EFF              A  1896    	LD	A,(IX+%FFFFFFFF)
040E28 21 5A 41 04         A  1897    	LD	HL,_spritenumber
040E2C BE                  A  1898    	CP	A,(HL)
040E2D 38 C8               A  1899    	JR	C,L_2
                           A  1900    ;  156		vdp_spriteActivateTotal(0);
                           A  1901    .LINE 156
                           A  1902    
040E2F 01000000            A  1903    	LD	BC,0
040E33 C5                  A  1904    	PUSH	BC
040E34 CD 07 0B 04         A  1905    	CALL	_vdp_spriteActivateTotal
040E38 C1                  A  1906    	POP	BC
                           A  1907    ;  157		spritenumber = 0;
                           A  1908    .LINE 157
                           A  1909    
040E39 AF                  A  1910    	XOR	A,A
040E3A 32 5A 41 04         A  1911    	LD	(_spritenumber),A
                           A  1912    ;  158	
                           A  1913    ;  159		// reset all sprite positions and c
                           A  1914    ;  160		memset(sprites, 255, MAXHEIGHT*MAXW
                           A  1915    .LINE 160
                           A  1916    
040E3E 01B00400            A  1917    	LD	BC,1200
040E42 C5                  A  1918    	PUSH	BC
040E43 01FF0000            A  1919    	LD	BC,255
040E47 C5                  A  1920    	PUSH	BC
040E48 01 F3 37 04         A  1921    	LD	BC,_sprites
040E4C C5                  A  1922    	PUSH	BC
040E4D CD 36 1F 04         A  1923    	CALL	_memset
040E51 C1                  A  1924    	POP	BC
040E52 C1                  A  1925    	POP	BC
040E53 C1                  A  1926    	POP	BC
                           A  1927    ;  161	
                           A  1928    ;  162		vdp_spriteRefresh();
                           A  1929    .LINE 162
                           A  1930    
040E54 CD 40 0B 04         A  1931    	CALL	_vdp_spriteRefresh
                           A  1932    ;  163		return;
                           A  1933    ;  164	}
                           A  1934    .LINE 164
                           A  1935    
040E58 DDF9                A  1936    	LD	SP,IX
040E5A DDE1                A  1937    	POP	IX
040E5C C9                  A  1938    	RET	
                           A  1939    
                           A  1940    
                           A  1941    ;**************************** _game_resetSprite
                           A  1942    ;Name                         Addr/Register   S
                           A  1943    ;_vdp_spriteRefresh                  IMPORT  --
                           A  1944    ;_sprites                            STATIC   1
                           A  1945    ;_memset                             IMPORT  --
                           A  1946    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  1947    ;_spritenumber                       STATIC    
                           A  1948    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  1949    ;_vdp_spriteSetFrame                 IMPORT  --
                           A  1950    ;_vdp_spriteHide                     IMPORT  --
                           A  1951    ;_vdp_spriteSelect                   IMPORT  --
                           A  1952    ;n                                     IX-1    
                           A  1953    
                           A  1954    
                           A  1955    ; Stack Frame Size: 7 (bytes)
                           A  1956    ;       Spill Code: 0 (instruction)
                           A  1957    
                           A  1958    
                           A  1959    .ENDFUNC "game_resetSprites",164,"_game_resetSp
                           A  1960    ;  165	
                           A  1961    ;  166	BOOL canmove(UINT16 xn1, UINT16 yn1, UI
                           A  1962    ;  167	{
040E5D                     A  1963    _canmove:
                           A  1964    .DEFINE "_canmove"
                           A  1965    
                           A  1966    .VALUE _canmove
                           A  1967    
                           A  1968    .CLASS 2
                           A  1969    
                           A  1970    .TYPE 76
                           A  1971    
                           A  1972    .ENDEF
                           A  1973    
                           A  1974    .BEGFUNC "canmove",167,"_canmove"
                           A  1975    
                           A  1976    .LINE 167
                           A  1977    
                           A  1978    .DEFINE "xn1"
                           A  1979    
                           A  1980    .CLASS 65
                           A  1981    
                           A  1982    .VALUE 6
                           A  1983    
                           A  1984    .TYPE 13
                           A  1985    
                           A  1986    .ENDEF
                           A  1987    
                           A  1988    .DEFINE "yn1"
                           A  1989    
                           A  1990    .CLASS 65
                           A  1991    
                           A  1992    .VALUE 9
                           A  1993    
                           A  1994    .TYPE 13
                           A  1995    
                           A  1996    .ENDEF
                           A  1997    
                           A  1998    .DEFINE "xn2"
                           A  1999    
                           A  2000    .CLASS 65
                           A  2001    
                           A  2002    .VALUE 12
                           A  2003    
                           A  2004    .TYPE 13
                           A  2005    
                           A  2006    .ENDEF
                           A  2007    
                           A  2008    .DEFINE "yn2"
                           A  2009    
                           A  2010    .CLASS 65
                           A  2011    
                           A  2012    .VALUE 15
                           A  2013    
                           A  2014    .TYPE 13
                           A  2015    
                           A  2016    .ENDEF
                           A  2017    
                           A  2018    .DEFINE "n1"
                           A  2019    
                           A  2020    .CLASS 65
                           A  2021    
                           A  2022    .VALUE -1
                           A  2023    
                           A  2024    .TYPE 12
                           A  2025    
                           A  2026    .ENDEF
                           A  2027    
                           A  2028    .DEFINE "n2"
                           A  2029    
                           A  2030    .CLASS 65
                           A  2031    
                           A  2032    .VALUE -2
                           A  2033    
                           A  2034    .TYPE 12
                           A  2035    
                           A  2036    .ENDEF
                           A  2037    
040E5D DDE5                A  2038    	PUSH	IX
040E5F DD210000 00         A  2039    	LD	IX,0
040E64 DD39                A  2040    	ADD	IX,SP
040E66 3B                  A  2041    	DEC	SP
040E67 3B                  A  2042    	DEC	SP
                           A  2043    ;  168		BOOL can = FALSE;
                           A  2044    ;  169		UINT8 n1, n2;
                           A  2045    ;  170		
                           A  2046    ;  171		n1 = currentlevel.data[yn1][xn1];
                           A  2047    .LINE 171
                           A  2048    
040E68 DD0709              A  2049    	LD	BC,(IX+%9)
040E6B CD 29 1D 04         A  2050    	CALL	__stoiu
040E6F 3E28                A  2051    	LD	A,%28
040E71 CD 38 1E 04         A  2052    	CALL	__imul_b
040E75 01 AA 3C 04         A  2053    	LD	BC,_currentlevel+7
040E79 09                  A  2054    	ADD	HL,BC
040E7A E5D1                A  2055    	LD	DE,HL
040E7C DD0706              A  2056    	LD	BC,(IX+%6)
040E7F CD 29 1D 04         A  2057    	CALL	__stoiu
040E83 19                  A  2058    	ADD	HL,DE
040E84 7E                  A  2059    	LD	A,(HL)
040E85 DD77FF              A  2060    	LD	(IX+%FFFFFFFF),A
                           A  2061    ;  172		n2 = currentlevel.data[yn2][xn2];
                           A  2062    .LINE 172
                           A  2063    
040E88 DD070F              A  2064    	LD	BC,(IX+%F)
040E8B CD 29 1D 04         A  2065    	CALL	__stoiu
040E8F 3E28                A  2066    	LD	A,%28
040E91 CD 38 1E 04         A  2067    	CALL	__imul_b
040E95 01 AA 3C 04         A  2068    	LD	BC,_currentlevel+7
040E99 09                  A  2069    	ADD	HL,BC
040E9A E5D1                A  2070    	LD	DE,HL
040E9C DD070C              A  2071    	LD	BC,(IX+%C)
040E9F CD 29 1D 04         A  2072    	CALL	__stoiu
040EA3 19                  A  2073    	ADD	HL,DE
040EA4 7E                  A  2074    	LD	A,(HL)
040EA5 DD77FE              A  2075    	LD	(IX+%FFFFFFFE),A
                           A  2076    ;  173		
                           A  2077    ;  174		switch(n1)
                           A  2078    .LINE 174
                           A  2079    
040EA8 DD7EFF              A  2080    	LD	A,(IX+%FFFFFFFF)
040EAB B7ED62              A  2081    	UEXT	HL
040EAE 6F                  A  2082    	LD	L,A
040EAF CD C6 1E 04         A  2083    	CALL	__case8D
040EB3 E9                  A  2084    	JP	(HL)
040EB4                     A  2085    L__3:
040EB4 0300                A  2086    	DW	3
040EB6 20                  A  2087    	DB	32
040EB7 C80E04              A  2088    	DW24	L_8	
                           A  2089    
040EBA 23                  A  2090    	DB	35
040EBB C50E04              A  2091    	DW24	L_7	
                           A  2092    
040EBE 2E                  A  2093    	DB	46
040EBF C80E04              A  2094    	DW24	L_9	
                           A  2095    
040EC2 CC0E04              A  2096    	DW24	L_13	
                           A  2097    
                           A  2098    ;  175		{
                           A  2099    ;  176			case CHAR_WALL:
040EC5                     A  2100    L_7:
                           A  2101    .LINE 176
                           A  2102    
                           A  2103    ;  177				return FALSE;
                           A  2104    .LINE 177
                           A  2105    
040EC5 AF                  A  2106    	XOR	A,A
040EC6 18 29               A  2107    	JR	L_15
                           A  2108    ;  178				break;
                           A  2109    ;  179			case CHAR_FLOOR:
040EC8                     A  2110    L_8:
                           A  2111    .LINE 179
                           A  2112    
                           A  2113    ;  180			case CHAR_GOAL:
040EC8                     A  2114    L_9:
                           A  2115    .LINE 180
                           A  2116    
                           A  2117    ;  181				return TRUE;
                           A  2118    .LINE 181
                           A  2119    
040EC8 3E01                A  2120    	LD	A,%1
040ECA 18 25               A  2121    	JR	L_15
                           A  2122    ;  182				break;
                           A  2123    ;  183		}
040ECC                     A  2124    L_13:
                           A  2125    .LINE 183
                           A  2126    
                           A  2127    ;  184		// either BOX or BOXONGOAL next to 
                           A  2128    ;  185		switch(n2)
                           A  2129    .LINE 185
                           A  2130    
040ECC DD7EFE              A  2131    	LD	A,(IX+%FFFFFFFE)
040ECF B7ED62              A  2132    	UEXT	HL
040ED2 6F                  A  2133    	LD	L,A
040ED3 CD C6 1E 04         A  2134    	CALL	__case8D
040ED7 E9                  A  2135    	JP	(HL)
040ED8                     A  2136    L__4:
040ED8 0300                A  2137    	DW	3
040EDA 23                  A  2138    	DB	35
040EDB E90E04              A  2139    	DW24	L_10	
                           A  2140    
040EDE 24                  A  2141    	DB	36
040EDF EC0E04              A  2142    	DW24	L_11	
                           A  2143    
040EE2 2A                  A  2144    	DB	42
040EE3 EC0E04              A  2145    	DW24	L_12	
                           A  2146    
040EE6 EF0E04              A  2147    	DW24	L_14	
                           A  2148    
                           A  2149    ;  186		{
                           A  2150    ;  187			case CHAR_WALL:
040EE9                     A  2151    L_10:
                           A  2152    .LINE 187
                           A  2153    
                           A  2154    ;  188				return FALSE;
                           A  2155    .LINE 188
                           A  2156    
040EE9 AF                  A  2157    	XOR	A,A
040EEA 18 05               A  2158    	JR	L_15
                           A  2159    ;  189				break;
                           A  2160    ;  190			case CHAR_BOX:
040EEC                     A  2161    L_11:
                           A  2162    .LINE 190
                           A  2163    
                           A  2164    ;  191			case CHAR_BOXONGOAL:
040EEC                     A  2165    L_12:
                           A  2166    .LINE 191
                           A  2167    
                           A  2168    ;  192				return FALSE;
                           A  2169    .LINE 192
                           A  2170    
040EEC AF                  A  2171    	XOR	A,A
040EED 18 02               A  2172    	JR	L_15
                           A  2173    ;  193				break;
                           A  2174    ;  194		}
040EEF                     A  2175    L_14:
                           A  2176    .LINE 194
                           A  2177    
                           A  2178    ;  195		// only FLOOR or empty GOAL remaini
                           A  2179    ;  196		return TRUE;
                           A  2180    .LINE 196
                           A  2181    
040EEF 3E01                A  2182    	LD	A,%1
                           A  2183    ;  197	}
040EF1                     A  2184    L_15:
                           A  2185    .LINE 197
                           A  2186    
040EF1 DDF9                A  2187    	LD	SP,IX
040EF3 DDE1                A  2188    	POP	IX
040EF5 C9                  A  2189    	RET	
                           A  2190    
                           A  2191    
                           A  2192    ;**************************** _canmove ********
                           A  2193    ;Name                         Addr/Register   S
                           A  2194    ;_currentlevel                       STATIC   1
                           A  2195    ;n2                                    IX-2    
                           A  2196    ;n1                                    IX-1    
                           A  2197    ;yn2                                  IX+15    
                           A  2198    ;xn2                                  IX+12    
                           A  2199    ;yn1                                   IX+9    
                           A  2200    ;xn1                                   IX+6    
                           A  2201    
                           A  2202    
                           A  2203    ; Stack Frame Size: 20 (bytes)
                           A  2204    ;       Spill Code: 0 (instruction)
                           A  2205    
                           A  2206    
                           A  2207    .ENDFUNC "canmove",197,"_canmove"
                           A  2208    ;  198	
                           A  2209    ;  199	void move_sprites(UINT16 xn1, UINT16 yn
                           A  2210    ;  200	{
040EF6                     A  2211    _move_sprites:
                           A  2212    .DEFINE "_move_sprites"
                           A  2213    
                           A  2214    .VALUE _move_sprites
                           A  2215    
                           A  2216    .CLASS 2
                           A  2217    
                           A  2218    .TYPE 65
                           A  2219    
                           A  2220    .ENDEF
                           A  2221    
                           A  2222    .BEGFUNC "move_sprites",200,"_move_sprites"
                           A  2223    
                           A  2224    .LINE 200
                           A  2225    
                           A  2226    .DEFINE "xn1"
                           A  2227    
                           A  2228    .CLASS 65
                           A  2229    
                           A  2230    .VALUE 6
                           A  2231    
                           A  2232    .TYPE 13
                           A  2233    
                           A  2234    .ENDEF
                           A  2235    
                           A  2236    .DEFINE "yn1"
                           A  2237    
                           A  2238    .CLASS 65
                           A  2239    
                           A  2240    .VALUE 9
                           A  2241    
                           A  2242    .TYPE 13
                           A  2243    
                           A  2244    .ENDEF
                           A  2245    
                           A  2246    .DEFINE "xn2"
                           A  2247    
                           A  2248    .CLASS 65
                           A  2249    
                           A  2250    .VALUE 12
                           A  2251    
                           A  2252    .TYPE 13
                           A  2253    
                           A  2254    .ENDEF
                           A  2255    
                           A  2256    .DEFINE "yn2"
                           A  2257    
                           A  2258    .CLASS 65
                           A  2259    
                           A  2260    .VALUE 15
                           A  2261    
                           A  2262    .TYPE 13
                           A  2263    
                           A  2264    .ENDEF
                           A  2265    
                           A  2266    .DEFINE "spriteid"
                           A  2267    
                           A  2268    .CLASS 65
                           A  2269    
                           A  2270    .VALUE -1
                           A  2271    
                           A  2272    .TYPE 12
                           A  2273    
                           A  2274    .ENDEF
                           A  2275    
                           A  2276    .DEFINE "n"
                           A  2277    
                           A  2278    .CLASS 65
                           A  2279    
                           A  2280    .VALUE -2
                           A  2281    
                           A  2282    .TYPE 12
                           A  2283    
                           A  2284    .ENDEF
                           A  2285    
                           A  2286    .DEFINE "dx"
                           A  2287    
                           A  2288    .CLASS 65
                           A  2289    
                           A  2290    .VALUE -4
                           A  2291    
                           A  2292    .TYPE 3
                           A  2293    
                           A  2294    .ENDEF
                           A  2295    
                           A  2296    .DEFINE "dy"
                           A  2297    
                           A  2298    .CLASS 65
                           A  2299    
                           A  2300    .VALUE -6
                           A  2301    
                           A  2302    .TYPE 3
                           A  2303    
                           A  2304    .ENDEF
                           A  2305    
                           A  2306    .DEFINE "n2"
                           A  2307    
                           A  2308    .CLASS 65
                           A  2309    
                           A  2310    .VALUE -7
                           A  2311    
                           A  2312    .TYPE 12
                           A  2313    
                           A  2314    .ENDEF
                           A  2315    
040EF6 DDE5                A  2316    	PUSH	IX
040EF8 DD210000 00         A  2317    	LD	IX,0
040EFD DD39                A  2318    	ADD	IX,SP
040EFF C5                  A  2319    	PUSH	BC
040F00 C5                  A  2320    	PUSH	BC
040F01 3B                  A  2321    	DEC	SP
                           A  2322    ;  201		// move can happen, no need to chec
                           A  2323    ;  202		UINT8 spriteid = sprites[yn1][xn1];
                           A  2324    .LINE 202
                           A  2325    
040F02 DD0709              A  2326    	LD	BC,(IX+%9)
040F05 CD 29 1D 04         A  2327    	CALL	__stoiu
040F09 3E28                A  2328    	LD	A,%28
040F0B CD 38 1E 04         A  2329    	CALL	__imul_b
040F0F 01 F3 37 04         A  2330    	LD	BC,_sprites
040F13 09                  A  2331    	ADD	HL,BC
040F14 E5D1                A  2332    	LD	DE,HL
040F16 DD0706              A  2333    	LD	BC,(IX+%6)
040F19 CD 29 1D 04         A  2334    	CALL	__stoiu
040F1D 19                  A  2335    	ADD	HL,DE
040F1E 7E                  A  2336    	LD	A,(HL)
040F1F DD77FF              A  2337    	LD	(IX+%FFFFFFFF),A
                           A  2338    ;  203		UINT8 n;
                           A  2339    ;  204		INT16 dx, dy;
                           A  2340    ;  205		UINT8 n2;
                           A  2341    ;  206			
                           A  2342    ;  207		dx = xn2 - xn1;
                           A  2343    .LINE 207
                           A  2344    
040F22 DD0706              A  2345    	LD	BC,(IX+%6)
040F25 DD270C              A  2346    	LD	HL,(IX+%C)
040F28 B7                  A  2347    	OR	A,A
040F29 40ED42              A  2348    	SBC.SIS	HL,BC
040F2C DD75FC              A  2349    	LD	(IX+%FFFFFFFC),L
040F2F DD74FD              A  2350    	LD	(IX+%FFFFFFFD),H
                           A  2351    ;  208		dy = yn2 - yn1;
                           A  2352    .LINE 208
                           A  2353    
040F32 DD0709              A  2354    	LD	BC,(IX+%9)
040F35 DD270F              A  2355    	LD	HL,(IX+%F)
040F38 B7                  A  2356    	OR	A,A
040F39 40ED42              A  2357    	SBC.SIS	HL,BC
040F3C DD75FA              A  2358    	LD	(IX+%FFFFFFFA),L
040F3F DD74FB              A  2359    	LD	(IX+%FFFFFFFB),H
                           A  2360    ;  209		
                           A  2361    ;  210		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  2362    .LINE 210
                           A  2363    
040F42 DD36FE00            A  2364    	LD	(IX+%FFFFFFFE),%0
040F46 18 3B               A  2365    	JR	L_21
040F48                     A  2366    L_19:
                           A  2367    ;  211		{
                           A  2368    ;  212			if(spriteid != NOSPRITE)
                           A  2369    .LINE 212
                           A  2370    
040F48 DD7EFF              A  2371    	LD	A,(IX+%FFFFFFFF)
040F4B FEFF                A  2372    	CP	A,%FF
040F4D 28 19               A  2373    	JR	Z,L_18
                           A  2374    ;  213			{
                           A  2375    ;  214				vdp_spriteSelect(spriteid);
                           A  2376    .LINE 214
                           A  2377    
040F4F DD4EFF              A  2378    	LD	C,(IX+%FFFFFFFF)
040F52 0600                A  2379    	LD	B,%0
040F54 C5                  A  2380    	PUSH	BC
040F55 CD E4 07 04         A  2381    	CALL	_vdp_spriteSelect
040F59 C1                  A  2382    	POP	BC
                           A  2383    ;  215				vdp_spriteMoveBySelected(dx
                           A  2384    .LINE 215
                           A  2385    
040F5A DD07FA              A  2386    	LD	BC,(IX+%FFFFFFFA)
040F5D C5                  A  2387    	PUSH	BC
040F5E DD07FC              A  2388    	LD	BC,(IX+%FFFFFFFC)
040F61 C5                  A  2389    	PUSH	BC
040F62 CD A2 0A 04         A  2390    	CALL	_vdp_spriteMoveBySelected
040F66 C1                  A  2391    	POP	BC
040F67 C1                  A  2392    	POP	BC
                           A  2393    ;  216			}
040F68                     A  2394    L_18:
                           A  2395    .LINE 216
                           A  2396    
                           A  2397    ;  217			vdp_spriteSelect(0);
                           A  2398    .LINE 217
                           A  2399    
040F68 01000000            A  2400    	LD	BC,0
040F6C C5                  A  2401    	PUSH	BC
040F6D CD E4 07 04         A  2402    	CALL	_vdp_spriteSelect
040F71 C1                  A  2403    	POP	BC
                           A  2404    ;  218			vdp_spriteMoveBySelected(dx, dy
                           A  2405    .LINE 218
                           A  2406    
040F72 DD07FA              A  2407    	LD	BC,(IX+%FFFFFFFA)
040F75 C5                  A  2408    	PUSH	BC
040F76 DD07FC              A  2409    	LD	BC,(IX+%FFFFFFFC)
040F79 C5                  A  2410    	PUSH	BC
040F7A CD A2 0A 04         A  2411    	CALL	_vdp_spriteMoveBySelected
040F7E C1                  A  2412    	POP	BC
040F7F C1                  A  2413    	POP	BC
040F80 DD34FE              A  2414    	INC	(IX+%FFFFFFFE)
                           A  2415    ;  219		}
040F83                     A  2416    L_21:
                           A  2417    .LINE 219
                           A  2418    
040F83 DD7EFE              A  2419    	LD	A,(IX+%FFFFFFFE)
040F86 FE10                A  2420    	CP	A,%10
040F88 38 BE               A  2421    	JR	C,L_19
                           A  2422    ;  220	
                           A  2423    ;  221		// set destination sprite frame
                           A  2424    ;  222		if(spriteid != NOSPRITE)
                           A  2425    .LINE 222
                           A  2426    
040F8A DD7EFF              A  2427    	LD	A,(IX+%FFFFFFFF)
040F8D FEFF                A  2428    	CP	A,%FF
040F8F 28 57               A  2429    	JR	Z,L_27
                           A  2430    ;  223		{
                           A  2431    ;  224			vdp_spriteSelect(spriteid);
                           A  2432    .LINE 224
                           A  2433    
040F91 DD4EFF              A  2434    	LD	C,(IX+%FFFFFFFF)
040F94 0600                A  2435    	LD	B,%0
040F96 C5                  A  2436    	PUSH	BC
040F97 CD E4 07 04         A  2437    	CALL	_vdp_spriteSelect
040F9B C1                  A  2438    	POP	BC
                           A  2439    ;  225			// Check if the sprite moved to
                           A  2440    ;  226			n2 = currentlevel.data[yn2][xn2
                           A  2441    .LINE 226
                           A  2442    
040F9C DD070F              A  2443    	LD	BC,(IX+%F)
040F9F CD 29 1D 04         A  2444    	CALL	__stoiu
040FA3 3E28                A  2445    	LD	A,%28
040FA5 CD 38 1E 04         A  2446    	CALL	__imul_b
040FA9 01 AA 3C 04         A  2447    	LD	BC,_currentlevel+7
040FAD 09                  A  2448    	ADD	HL,BC
040FAE E5D1                A  2449    	LD	DE,HL
040FB0 DD070C              A  2450    	LD	BC,(IX+%C)
040FB3 CD 29 1D 04         A  2451    	CALL	__stoiu
040FB7 19                  A  2452    	ADD	HL,DE
040FB8 7E                  A  2453    	LD	A,(HL)
040FB9 DD77F9              A  2454    	LD	(IX+%FFFFFFF9),A
                           A  2455    ;  227			switch(n2)
                           A  2456    .LINE 227
                           A  2457    
040FBC B7ED62              A  2458    	UEXT	HL
040FBF 6F                  A  2459    	LD	L,A
040FC0 CD C6 1E 04         A  2460    	CALL	__case8D
040FC4 E9                  A  2461    	JP	(HL)
040FC5                     A  2462    L__9:
040FC5 0200                A  2463    	DW	2
040FC7 20                  A  2464    	DB	32
040FC8 D20F04              A  2465    	DW24	L_22	
                           A  2466    
040FCB 2E                  A  2467    	DB	46
040FCC DE0F04              A  2468    	DW24	L_23	
                           A  2469    
040FCF E80F04              A  2470    	DW24	L_27	
                           A  2471    
                           A  2472    ;  228			{
                           A  2473    ;  229				case CHAR_FLOOR:
040FD2                     A  2474    L_22:
                           A  2475    .LINE 229
                           A  2476    
                           A  2477    ;  230					vdp_spriteSetFrameSelec
                           A  2478    .LINE 230
                           A  2479    
040FD2 01000000            A  2480    	LD	BC,0
040FD6 C5                  A  2481    	PUSH	BC
040FD7 CD 55 09 04         A  2482    	CALL	_vdp_spriteSetFrameSelected
040FDB C1                  A  2483    	POP	BC
                           A  2484    ;  231					break;
                           A  2485    .LINE 231
                           A  2486    
040FDC 18 0A               A  2487    	JR	L_27
                           A  2488    ;  232				case CHAR_GOAL:
040FDE                     A  2489    L_23:
                           A  2490    .LINE 232
                           A  2491    
                           A  2492    ;  233					vdp_spriteSetFrameSelec
                           A  2493    .LINE 233
                           A  2494    
040FDE 01010000            A  2495    	LD	BC,1
040FE2 C5                  A  2496    	PUSH	BC
040FE3 CD 55 09 04         A  2497    	CALL	_vdp_spriteSetFrameSelected
040FE7 C1                  A  2498    	POP	BC
                           A  2499    ;  234					break;
                           A  2500    ;  235			}
                           A  2501    ;  236		}
040FE8                     A  2502    L_27:
                           A  2503    .LINE 236
                           A  2504    
                           A  2505    ;  237		// update sprite number matrix
                           A  2506    ;  238		if(spriteid != NOSPRITE)
                           A  2507    .LINE 238
                           A  2508    
040FE8 DD7EFF              A  2509    	LD	A,(IX+%FFFFFFFF)
040FEB FEFF                A  2510    	CP	A,%FF
040FED 28 3F               A  2511    	JR	Z,L_28
                           A  2512    ;  239		{
                           A  2513    ;  240			// player shoves a box here
                           A  2514    ;  241			sprites[yn2][xn2] = sprites[yn1
                           A  2515    .LINE 241
                           A  2516    
040FEF DD0709              A  2517    	LD	BC,(IX+%9)
040FF2 CD 29 1D 04         A  2518    	CALL	__stoiu
040FF6 3E28                A  2519    	LD	A,%28
040FF8 CD 38 1E 04         A  2520    	CALL	__imul_b
040FFC 01 F3 37 04         A  2521    	LD	BC,_sprites
041000 09                  A  2522    	ADD	HL,BC
041001 E5D1                A  2523    	LD	DE,HL
041003 DD0706              A  2524    	LD	BC,(IX+%6)
041006 CD 29 1D 04         A  2525    	CALL	__stoiu
04100A 19                  A  2526    	ADD	HL,DE
04100B E5FDE1              A  2527    	LD	IY,HL
04100E DD070F              A  2528    	LD	BC,(IX+%F)
041011 CD 29 1D 04         A  2529    	CALL	__stoiu
041015 3E28                A  2530    	LD	A,%28
041017 CD 38 1E 04         A  2531    	CALL	__imul_b
04101B 01 F3 37 04         A  2532    	LD	BC,_sprites
04101F 09                  A  2533    	ADD	HL,BC
041020 E5D1                A  2534    	LD	DE,HL
041022 DD070C              A  2535    	LD	BC,(IX+%C)
041025 CD 29 1D 04         A  2536    	CALL	__stoiu
041029 19                  A  2537    	ADD	HL,DE
04102A FD7E00              A  2538    	LD	A,(IY)
04102D 77                  A  2539    	LD	(HL),A
                           A  2540    ;  242		}
04102E                     A  2541    L_28:
                           A  2542    .LINE 242
                           A  2543    
                           A  2544    ;  243		sprites[yn1][xn1] = NOSPRITE; // pl
                           A  2545    .LINE 243
                           A  2546    
04102E DD0709              A  2547    	LD	BC,(IX+%9)
041031 CD 29 1D 04         A  2548    	CALL	__stoiu
041035 3E28                A  2549    	LD	A,%28
041037 CD 38 1E 04         A  2550    	CALL	__imul_b
04103B 01 F3 37 04         A  2551    	LD	BC,_sprites
04103F 09                  A  2552    	ADD	HL,BC
041040 E5D1                A  2553    	LD	DE,HL
041042 DD0706              A  2554    	LD	BC,(IX+%6)
041045 CD 29 1D 04         A  2555    	CALL	__stoiu
041049 19                  A  2556    	ADD	HL,DE
04104A 36FF                A  2557    	LD	(HL),%FF
                           A  2558    ;  244		sprites[currentlevel.ypos][currentl
                           A  2559    .LINE 244
                           A  2560    
04104C 3A A4 3C 04         A  2561    	LD	A,(_currentlevel+1)
041050 B7ED62              A  2562    	UEXT	HL
041053 6F                  A  2563    	LD	L,A
041054 3E28                A  2564    	LD	A,%28
041056 CD 38 1E 04         A  2565    	CALL	__imul_b
04105A 01 F3 37 04         A  2566    	LD	BC,_sprites
04105E 09                  A  2567    	ADD	HL,BC
04105F E5C1                A  2568    	LD	BC,HL
041061 3A A3 3C 04         A  2569    	LD	A,(_currentlevel)
041065 B7ED62              A  2570    	UEXT	HL
041068 6F                  A  2571    	LD	L,A
041069 09                  A  2572    	ADD	HL,BC
04106A 36FF                A  2573    	LD	(HL),%FF
                           A  2574    ;  245		
                           A  2575    ;  246		vdp_spriteRefresh();
                           A  2576    .LINE 246
                           A  2577    
04106C CD 40 0B 04         A  2578    	CALL	_vdp_spriteRefresh
                           A  2579    ;  247	}
                           A  2580    .LINE 247
                           A  2581    
041070 DDF9                A  2582    	LD	SP,IX
041072 DDE1                A  2583    	POP	IX
041074 C9                  A  2584    	RET	
                           A  2585    
                           A  2586    
                           A  2587    ;**************************** _move_sprites ***
                           A  2588    ;Name                         Addr/Register   S
                           A  2589    ;_vdp_spriteRefresh                  IMPORT  --
                           A  2590    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  2591    ;_currentlevel                       STATIC   1
                           A  2592    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  2593    ;_vdp_spriteSelect                   IMPORT  --
                           A  2594    ;_sprites                            STATIC   1
                           A  2595    ;n2                                    IX-7    
                           A  2596    ;dy                                    IX-6    
                           A  2597    ;dx                                    IX-4    
                           A  2598    ;n                                     IX-2    
                           A  2599    ;spriteid                              IX-1    
                           A  2600    ;yn2                                  IX+15    
                           A  2601    ;xn2                                  IX+12    
                           A  2602    ;yn1                                   IX+9    
                           A  2603    ;xn1                                   IX+6    
                           A  2604    
                           A  2605    
                           A  2606    ; Stack Frame Size: 25 (bytes)
                           A  2607    ;       Spill Code: 0 (instruction)
                           A  2608    
                           A  2609    
                           A  2610    .ENDFUNC "move_sprites",247,"_move_sprites"
                           A  2611    ;  248	
                           A  2612    ;  249	void move_updatelevel(UINT16 xn1, UINT1
                           A  2613    ;  250	{
041075                     A  2614    _move_updatelevel:
                           A  2615    .DEFINE "_move_updatelevel"
                           A  2616    
                           A  2617    .VALUE _move_updatelevel
                           A  2618    
                           A  2619    .CLASS 2
                           A  2620    
                           A  2621    .TYPE 65
                           A  2622    
                           A  2623    .ENDEF
                           A  2624    
                           A  2625    .BEGFUNC "move_updatelevel",250,"_move_updatele
                           A  2626    
                           A  2627    .LINE 250
                           A  2628    
                           A  2629    .DEFINE "xn1"
                           A  2630    
                           A  2631    .CLASS 65
                           A  2632    
                           A  2633    .VALUE 6
                           A  2634    
                           A  2635    .TYPE 13
                           A  2636    
                           A  2637    .ENDEF
                           A  2638    
                           A  2639    .DEFINE "yn1"
                           A  2640    
                           A  2641    .CLASS 65
                           A  2642    
                           A  2643    .VALUE 9
                           A  2644    
                           A  2645    .TYPE 13
                           A  2646    
                           A  2647    .ENDEF
                           A  2648    
                           A  2649    .DEFINE "xn2"
                           A  2650    
                           A  2651    .CLASS 65
                           A  2652    
                           A  2653    .VALUE 12
                           A  2654    
                           A  2655    .TYPE 13
                           A  2656    
                           A  2657    .ENDEF
                           A  2658    
                           A  2659    .DEFINE "yn2"
                           A  2660    
                           A  2661    .CLASS 65
                           A  2662    
                           A  2663    .VALUE 15
                           A  2664    
                           A  2665    .TYPE 13
                           A  2666    
                           A  2667    .ENDEF
                           A  2668    
                           A  2669    .DEFINE "onlyplayermoves"
                           A  2670    
                           A  2671    .CLASS 65
                           A  2672    
                           A  2673    .VALUE -4
                           A  2674    
                           A  2675    .TYPE 12
                           A  2676    
                           A  2677    .ENDEF
                           A  2678    
                           A  2679    .DEFINE "n1"
                           A  2680    
                           A  2681    .CLASS 65
                           A  2682    
                           A  2683    .VALUE -5
                           A  2684    
                           A  2685    .TYPE 12
                           A  2686    
                           A  2687    .ENDEF
                           A  2688    
                           A  2689    .DEFINE "n2"
                           A  2690    
                           A  2691    .CLASS 65
                           A  2692    
                           A  2693    .VALUE -21
                           A  2694    
                           A  2695    .TYPE 12
                           A  2696    
                           A  2697    .ENDEF
                           A  2698    
041075 DDE5                A  2699    	PUSH	IX
041077 DD210000 00         A  2700    	LD	IX,0
04107C DD39                A  2701    	ADD	IX,SP
04107E ED22E5              A  2702    	LEA	HL,IX+%FFFFFFE5
041081 F9                  A  2703    	LD	SP,HL
                           A  2704    ;  251		// move can happen, no need to chec
                           A  2705    ;  252		UINT8 n1, n2;
                           A  2706    ;  253		BOOL onlyplayermoves;
                           A  2707    ;  254		
                           A  2708    ;  255		n1 = currentlevel.data[yn1][xn1];
                           A  2709    .LINE 255
                           A  2710    
041082 01 AA 3C 04         A  2711    	LD	BC,_currentlevel+7
041086 DD0FE5              A  2712    	LD	(IX+%FFFFFFE5),BC
041089 DD0FEC              A  2713    	LD	(IX+%FFFFFFEC),BC
04108C DD0709              A  2714    	LD	BC,(IX+%9)
04108F CD 29 1D 04         A  2715    	CALL	__stoiu
041093 3E28                A  2716    	LD	A,%28
041095 CD 38 1E 04         A  2717    	CALL	__imul_b
041099 DD2FFD              A  2718    	LD	(IX+%FFFFFFFD),HL
04109C DD2FEF              A  2719    	LD	(IX+%FFFFFFEF),HL
04109F DD2FF2              A  2720    	LD	(IX+%FFFFFFF2),HL
0410A2 DD2FE8              A  2721    	LD	(IX+%FFFFFFE8),HL
0410A5 01 AA 3C 04         A  2722    	LD	BC,_currentlevel+7
0410A9 DD27FD              A  2723    	LD	HL,(IX+%FFFFFFFD)
0410AC 09                  A  2724    	ADD	HL,BC
0410AD E5D1                A  2725    	LD	DE,HL
0410AF DD0706              A  2726    	LD	BC,(IX+%6)
0410B2 CD 29 1D 04         A  2727    	CALL	__stoiu
0410B6 19                  A  2728    	ADD	HL,DE
0410B7 7E                  A  2729    	LD	A,(HL)
0410B8 DD77FB              A  2730    	LD	(IX+%FFFFFFFB),A
                           A  2731    ;  256		n2 = currentlevel.data[yn2][xn2];
                           A  2732    .LINE 256
                           A  2733    
0410BB DD070F              A  2734    	LD	BC,(IX+%F)
0410BE CD 29 1D 04         A  2735    	CALL	__stoiu
0410C2 3E28                A  2736    	LD	A,%28
0410C4 CD 38 1E 04         A  2737    	CALL	__imul_b
0410C8 DD2FF8              A  2738    	LD	(IX+%FFFFFFF8),HL
0410CB 01 AA 3C 04         A  2739    	LD	BC,_currentlevel+7
0410CF DD27F8              A  2740    	LD	HL,(IX+%FFFFFFF8)
0410D2 09                  A  2741    	ADD	HL,BC
0410D3 E5D1                A  2742    	LD	DE,HL
0410D5 DD070C              A  2743    	LD	BC,(IX+%C)
0410D8 CD 29 1D 04         A  2744    	CALL	__stoiu
0410DC 19                  A  2745    	ADD	HL,DE
0410DD 7E                  A  2746    	LD	A,(HL)
0410DE DD77EB              A  2747    	LD	(IX+%FFFFFFEB),A
                           A  2748    ;  257	
                           A  2749    ;  258		
                           A  2750    ;  259		switch(n1)
                           A  2751    .LINE 259
                           A  2752    
0410E1 DD7EFB              A  2753    	LD	A,(IX+%FFFFFFFB)
0410E4 B7ED62              A  2754    	UEXT	HL
0410E7 6F                  A  2755    	LD	L,A
0410E8 CD C6 1E 04         A  2756    	CALL	__case8D
0410EC E9                  A  2757    	JP	(HL)
0410ED                     A  2758    L__12:
0410ED 0200                A  2759    	DW	2
0410EF 20                  A  2760    	DB	32
0410F0 FA1004              A  2761    	DW24	L_30	
                           A  2762    
0410F3 2E                  A  2763    	DB	46
0410F4 301104              A  2764    	DW24	L_31	
                           A  2765    
0410F7 661104              A  2766    	DW24	L_32	
                           A  2767    
                           A  2768    ;  260		{
                           A  2769    ;  261			case CHAR_FLOOR:
0410FA                     A  2770    L_30:
                           A  2771    .LINE 261
                           A  2772    
                           A  2773    ;  262				onlyplayermoves = TRUE;
                           A  2774    .LINE 262
                           A  2775    
0410FA DD36FC01            A  2776    	LD	(IX+%FFFFFFFC),%1
                           A  2777    ;  263				currentlevel.data[yn1][xn1]
                           A  2778    .LINE 263
                           A  2779    
0410FE 01 AA 3C 04         A  2780    	LD	BC,_currentlevel+7
041102 DD0FE5              A  2781    	LD	(IX+%FFFFFFE5),BC
041105 DD0FEC              A  2782    	LD	(IX+%FFFFFFEC),BC
041108 DD07FD              A  2783    	LD	BC,(IX+%FFFFFFFD)
04110B DD0FEF              A  2784    	LD	(IX+%FFFFFFEF),BC
04110E DD07FD              A  2785    	LD	BC,(IX+%FFFFFFFD)
041111 DD0FF2              A  2786    	LD	(IX+%FFFFFFF2),BC
041114 DD07FD              A  2787    	LD	BC,(IX+%FFFFFFFD)
041117 DD0FE8              A  2788    	LD	(IX+%FFFFFFE8),BC
04111A 01 AA 3C 04         A  2789    	LD	BC,_currentlevel+7
04111E DD27FD              A  2790    	LD	HL,(IX+%FFFFFFFD)
041121 09                  A  2791    	ADD	HL,BC
041122 E5D1                A  2792    	LD	DE,HL
041124 DD0706              A  2793    	LD	BC,(IX+%6)
041127 CD 29 1D 04         A  2794    	CALL	__stoiu
04112B 19                  A  2795    	ADD	HL,DE
04112C 3640                A  2796    	LD	(HL),%40
                           A  2797    ;  264				break;
                           A  2798    .LINE 264
                           A  2799    
04112E 18 3A               A  2800    	JR	L_43
                           A  2801    ;  265			case CHAR_GOAL:
041130                     A  2802    L_31:
                           A  2803    .LINE 265
                           A  2804    
                           A  2805    ;  266				onlyplayermoves = TRUE;
                           A  2806    .LINE 266
                           A  2807    
041130 DD36FC01            A  2808    	LD	(IX+%FFFFFFFC),%1
                           A  2809    ;  267				currentlevel.data[yn1][xn1]
                           A  2810    .LINE 267
                           A  2811    
041134 01 AA 3C 04         A  2812    	LD	BC,_currentlevel+7
041138 DD0FE5              A  2813    	LD	(IX+%FFFFFFE5),BC
04113B DD0FEC              A  2814    	LD	(IX+%FFFFFFEC),BC
04113E DD07FD              A  2815    	LD	BC,(IX+%FFFFFFFD)
041141 DD0FEF              A  2816    	LD	(IX+%FFFFFFEF),BC
041144 DD07FD              A  2817    	LD	BC,(IX+%FFFFFFFD)
041147 DD0FF2              A  2818    	LD	(IX+%FFFFFFF2),BC
04114A DD07FD              A  2819    	LD	BC,(IX+%FFFFFFFD)
04114D DD0FE8              A  2820    	LD	(IX+%FFFFFFE8),BC
041150 01 AA 3C 04         A  2821    	LD	BC,_currentlevel+7
041154 DD27FD              A  2822    	LD	HL,(IX+%FFFFFFFD)
041157 09                  A  2823    	ADD	HL,BC
041158 E5D1                A  2824    	LD	DE,HL
04115A DD0706              A  2825    	LD	BC,(IX+%6)
04115D CD 29 1D 04         A  2826    	CALL	__stoiu
041161 19                  A  2827    	ADD	HL,DE
041162 362B                A  2828    	LD	(HL),%2B
                           A  2829    ;  268				break;
                           A  2830    .LINE 268
                           A  2831    
041164 18 04               A  2832    	JR	L_43
                           A  2833    ;  269			default:
041166                     A  2834    L_32:
                           A  2835    .LINE 269
                           A  2836    
                           A  2837    ;  270				onlyplayermoves = FALSE;
                           A  2838    .LINE 270
                           A  2839    
041166 DD36FC00            A  2840    	LD	(IX+%FFFFFFFC),%0
                           A  2841    ;  271				break;
                           A  2842    ;  272		}
04116A                     A  2843    L_43:
                           A  2844    .LINE 272
                           A  2845    
                           A  2846    ;  273		if(!onlyplayermoves)
                           A  2847    .LINE 273
                           A  2848    
04116A DD7EFC              A  2849    	LD	A,(IX+%FFFFFFFC)
04116D B7                  A  2850    	OR	A,A
04116E C2 22 12 04         A  2851    	JR	NZ,L_46
                           A  2852    ;  274		{
                           A  2853    ;  275			switch(n2)
                           A  2854    .LINE 275
                           A  2855    
041172 DD7EEB              A  2856    	LD	A,(IX+%FFFFFFEB)
041175 B7ED62              A  2857    	UEXT	HL
041178 6F                  A  2858    	LD	L,A
041179 CD C6 1E 04         A  2859    	CALL	__case8D
04117D E9                  A  2860    	JP	(HL)
04117E                     A  2861    L__14:
04117E 0200                A  2862    	DW	2
041180 20                  A  2863    	DB	32
041181 8B1104              A  2864    	DW24	L_33	
                           A  2865    
041184 2E                  A  2866    	DB	46
041185 A01104              A  2867    	DW24	L_34	
                           A  2868    
041188 BC1104              A  2869    	DW24	L_41	
                           A  2870    
                           A  2871    ;  276			{
                           A  2872    ;  277				case CHAR_FLOOR:
04118B                     A  2873    L_33:
                           A  2874    .LINE 277
                           A  2875    
                           A  2876    ;  278					currentlevel.data[yn2][
                           A  2877    .LINE 278
                           A  2878    
04118B DD07F8              A  2879    	LD	BC,(IX+%FFFFFFF8)
04118E DD27E5              A  2880    	LD	HL,(IX+%FFFFFFE5)
041191 09                  A  2881    	ADD	HL,BC
041192 E5D1                A  2882    	LD	DE,HL
041194 DD070C              A  2883    	LD	BC,(IX+%C)
041197 CD 29 1D 04         A  2884    	CALL	__stoiu
04119B 19                  A  2885    	ADD	HL,DE
04119C 3624                A  2886    	LD	(HL),%24
                           A  2887    ;  279					break;
                           A  2888    .LINE 279
                           A  2889    
04119E 18 1C               A  2890    	JR	L_41
                           A  2891    ;  280				case CHAR_GOAL:
0411A0                     A  2892    L_34:
                           A  2893    .LINE 280
                           A  2894    
                           A  2895    ;  281					currentlevel.data[yn2][
                           A  2896    .LINE 281
                           A  2897    
0411A0 DD07F8              A  2898    	LD	BC,(IX+%FFFFFFF8)
0411A3 DD27EC              A  2899    	LD	HL,(IX+%FFFFFFEC)
0411A6 09                  A  2900    	ADD	HL,BC
0411A7 E5D1                A  2901    	LD	DE,HL
0411A9 DD070C              A  2902    	LD	BC,(IX+%C)
0411AC CD 29 1D 04         A  2903    	CALL	__stoiu
0411B0 19                  A  2904    	ADD	HL,DE
0411B1 362A                A  2905    	LD	(HL),%2A
                           A  2906    ;  282					currentlevel.goalstaken
                           A  2907    .LINE 282
                           A  2908    
0411B3 3A A8 3C 04         A  2909    	LD	A,(_currentlevel+5)
0411B7 3C                  A  2910    	INC	A
0411B8 32 A8 3C 04         A  2911    	LD	(_currentlevel+5),A
                           A  2912    ;  283					break;
                           A  2913    ;  284				default:
                           A  2914    ;  285					break; // ignore the re
                           A  2915    ;  286			}
0411BC                     A  2916    L_41:
                           A  2917    .LINE 286
                           A  2918    
                           A  2919    ;  287			switch(n1)
                           A  2920    .LINE 287
                           A  2921    
0411BC DD7EFB              A  2922    	LD	A,(IX+%FFFFFFFB)
0411BF B7ED62              A  2923    	UEXT	HL
0411C2 6F                  A  2924    	LD	L,A
0411C3 CD C6 1E 04         A  2925    	CALL	__case8D
0411C7 E9                  A  2926    	JP	(HL)
0411C8                     A  2927    L__15:
0411C8 0300                A  2928    	DW	3
0411CA 24                  A  2929    	DB	36
0411CB D91104              A  2930    	DW24	L_37	
                           A  2931    
0411CE 2A                  A  2932    	DB	42
0411CF EF1104              A  2933    	DW24	L_38	
                           A  2934    
0411D2 2E                  A  2935    	DB	46
0411D3 0E1204              A  2936    	DW24	L_40	
                           A  2937    
0411D6 221204              A  2938    	DW24	L_46	
                           A  2939    
                           A  2940    ;  288			{
                           A  2941    ;  289				case CHAR_BOX:
0411D9                     A  2942    L_37:
                           A  2943    .LINE 289
                           A  2944    
                           A  2945    ;  290					currentlevel.data[yn1][
                           A  2946    .LINE 290
                           A  2947    
0411D9 01 AA 3C 04         A  2948    	LD	BC,_currentlevel+7
0411DD DD27EF              A  2949    	LD	HL,(IX+%FFFFFFEF)
0411E0 09                  A  2950    	ADD	HL,BC
0411E1 E5D1                A  2951    	LD	DE,HL
0411E3 DD0706              A  2952    	LD	BC,(IX+%6)
0411E6 CD 29 1D 04         A  2953    	CALL	__stoiu
0411EA 19                  A  2954    	ADD	HL,DE
0411EB 3640                A  2955    	LD	(HL),%40
                           A  2956    ;  291					break;
                           A  2957    .LINE 291
                           A  2958    
0411ED 18 33               A  2959    	JR	L_46
                           A  2960    ;  292				case CHAR_BOXONGOAL:
0411EF                     A  2961    L_38:
                           A  2962    .LINE 292
                           A  2963    
                           A  2964    ;  293					currentlevel.data[yn1][
                           A  2965    .LINE 293
                           A  2966    
0411EF 01 AA 3C 04         A  2967    	LD	BC,_currentlevel+7
0411F3 DD27F2              A  2968    	LD	HL,(IX+%FFFFFFF2)
0411F6 09                  A  2969    	ADD	HL,BC
0411F7 E5D1                A  2970    	LD	DE,HL
0411F9 DD0706              A  2971    	LD	BC,(IX+%6)
0411FC CD 29 1D 04         A  2972    	CALL	__stoiu
041200 19                  A  2973    	ADD	HL,DE
041201 362B                A  2974    	LD	(HL),%2B
                           A  2975    ;  294					currentlevel.goalstaken
                           A  2976    .LINE 294
                           A  2977    
041203 3A A8 3C 04         A  2978    	LD	A,(_currentlevel+5)
041207 3D                  A  2979    	DEC	A
041208 32 A8 3C 04         A  2980    	LD	(_currentlevel+5),A
                           A  2981    ;  295					break;
                           A  2982    .LINE 295
                           A  2983    
04120C 18 14               A  2984    	JR	L_46
                           A  2985    ;  296				case CHAR_GOAL:
04120E                     A  2986    L_40:
                           A  2987    .LINE 296
                           A  2988    
                           A  2989    ;  297					currentlevel.data[yn1][
                           A  2990    .LINE 297
                           A  2991    
04120E 01 AA 3C 04         A  2992    	LD	BC,_currentlevel+7
041212 DD27E8              A  2993    	LD	HL,(IX+%FFFFFFE8)
041215 09                  A  2994    	ADD	HL,BC
041216 E5D1                A  2995    	LD	DE,HL
041218 DD0706              A  2996    	LD	BC,(IX+%6)
04121B CD 29 1D 04         A  2997    	CALL	__stoiu
04121F 19                  A  2998    	ADD	HL,DE
041220 362B                A  2999    	LD	(HL),%2B
                           A  3000    ;  298					break;
                           A  3001    ;  299			}
                           A  3002    ;  300		}
041222                     A  3003    L_46:
                           A  3004    .LINE 300
                           A  3005    
                           A  3006    ;  301		
                           A  3007    ;  302		
                           A  3008    ;  303		// check where the player was stand
                           A  3009    ;  304		if(currentlevel.data[currentlevel.y
                           A  3010    .LINE 304
                           A  3011    
041222 01 AA 3C 04         A  3012    	LD	BC,_currentlevel+7
041226 DD0FF5              A  3013    	LD	(IX+%FFFFFFF5),BC
041229 3A A4 3C 04         A  3014    	LD	A,(_currentlevel+1)
04122D B7ED62              A  3015    	UEXT	HL
041230 6F                  A  3016    	LD	L,A
041231 3E28                A  3017    	LD	A,%28
041233 CD 38 1E 04         A  3018    	CALL	__imul_b
041237 DD07F5              A  3019    	LD	BC,(IX+%FFFFFFF5)
04123A 09                  A  3020    	ADD	HL,BC
04123B E5C1                A  3021    	LD	BC,HL
04123D 3A A3 3C 04         A  3022    	LD	A,(_currentlevel)
041241 B7ED62              A  3023    	UEXT	HL
041244 6F                  A  3024    	LD	L,A
041245 09                  A  3025    	ADD	HL,BC
041246 7E                  A  3026    	LD	A,(HL)
041247 B7ED62              A  3027    	UEXT	HL
04124A 6F                  A  3028    	LD	L,A
04124B 012B0000            A  3029    	LD	BC,43
04124F B7                  A  3030    	OR	A,A
041250 ED42                A  3031    	SBC	HL,BC
041252 20 21               A  3032    	JR	NZ,L_45
041254 3A A4 3C 04         A  3033    	LD	A,(_currentlevel+1)
041258 B7ED62              A  3034    	UEXT	HL
04125B 6F                  A  3035    	LD	L,A
04125C 3E28                A  3036    	LD	A,%28
04125E CD 38 1E 04         A  3037    	CALL	__imul_b
041262 DD07F5              A  3038    	LD	BC,(IX+%FFFFFFF5)
041265 09                  A  3039    	ADD	HL,BC
041266 E5C1                A  3040    	LD	BC,HL
041268 3A A3 3C 04         A  3041    	LD	A,(_currentlevel)
04126C B7ED62              A  3042    	UEXT	HL
04126F 6F                  A  3043    	LD	L,A
041270 09                  A  3044    	ADD	HL,BC
041271 362E                A  3045    	LD	(HL),%2E
                           A  3046    ;  305		else currentlevel.data[currentlevel
                           A  3047    .LINE 305
                           A  3048    
041273 18 1F               A  3049    	JR	L_47
041275                     A  3050    L_45:
041275 3A A4 3C 04         A  3051    	LD	A,(_currentlevel+1)
041279 B7ED62              A  3052    	UEXT	HL
04127C 6F                  A  3053    	LD	L,A
04127D 3E28                A  3054    	LD	A,%28
04127F CD 38 1E 04         A  3055    	CALL	__imul_b
041283 DD07F5              A  3056    	LD	BC,(IX+%FFFFFFF5)
041286 09                  A  3057    	ADD	HL,BC
041287 E5C1                A  3058    	LD	BC,HL
041289 3A A3 3C 04         A  3059    	LD	A,(_currentlevel)
04128D B7ED62              A  3060    	UEXT	HL
041290 6F                  A  3061    	LD	L,A
041291 09                  A  3062    	ADD	HL,BC
041292 3620                A  3063    	LD	(HL),%20
041294                     A  3064    L_47:
                           A  3065    ;  306		
                           A  3066    ;  307		// update player position
                           A  3067    ;  308		currentlevel.xpos = xn1;
                           A  3068    .LINE 308
                           A  3069    
041294 DD7E06              A  3070    	LD	A,(IX+%6)
041297 32 A3 3C 04         A  3071    	LD	(_currentlevel),A
                           A  3072    ;  309		currentlevel.ypos = yn1;
                           A  3073    .LINE 309
                           A  3074    
04129B DD7E09              A  3075    	LD	A,(IX+%9)
04129E 32 A4 3C 04         A  3076    	LD	(_currentlevel+1),A
                           A  3077    ;  310	}
                           A  3078    .LINE 310
                           A  3079    
0412A2 DDF9                A  3080    	LD	SP,IX
0412A4 DDE1                A  3081    	POP	IX
0412A6 C9                  A  3082    	RET	
                           A  3083    
                           A  3084    
                           A  3085    ;**************************** _move_updatelevel
                           A  3086    ;Name                         Addr/Register   S
                           A  3087    ;_currentlevel                       STATIC   1
                           A  3088    ;G_4                                  IX-27    
                           A  3089    ;G_10                                 IX-24    
                           A  3090    ;n2                                   IX-21    
                           A  3091    ;G_6                                  IX-20    
                           A  3092    ;G_8                                  IX-17    
                           A  3093    ;G_9                                  IX-14    
                           A  3094    ;G_11                                 IX-11    
                           A  3095    ;G_5                                   IX-8    
                           A  3096    ;n1                                    IX-5    
                           A  3097    ;onlyplayermoves                       IX-4    
                           A  3098    ;G_1                                   IX-3    
                           A  3099    ;yn2                                  IX+15    
                           A  3100    ;xn2                                  IX+12    
                           A  3101    ;yn1                                   IX+9    
                           A  3102    ;xn1                                   IX+6    
                           A  3103    
                           A  3104    
                           A  3105    ; Stack Frame Size: 45 (bytes)
                           A  3106    ;       Spill Code: 0 (instruction)
                           A  3107    
                           A  3108    
                           A  3109    .ENDFUNC "move_updatelevel",310,"_move_updatele
                           A  3110    ;  311	
                           A  3111    ;  312	BOOL game_handleKey(char key)
                           A  3112    ;  313	{
0412A7                     A  3113    _game_handleKey:
                           A  3114    .DEFINE "_game_handleKey"
                           A  3115    
                           A  3116    .VALUE _game_handleKey
                           A  3117    
                           A  3118    .CLASS 2
                           A  3119    
                           A  3120    .TYPE 76
                           A  3121    
                           A  3122    .ENDEF
                           A  3123    
                           A  3124    .BEGFUNC "game_handleKey",313,"_game_handleKey"
                           A  3125    
                           A  3126    .LINE 313
                           A  3127    
                           A  3128    .DEFINE "key"
                           A  3129    
                           A  3130    .CLASS 65
                           A  3131    
                           A  3132    .VALUE 6
                           A  3133    
                           A  3134    .TYPE 2
                           A  3135    
                           A  3136    .ENDEF
                           A  3137    
                           A  3138    .DEFINE "xn1"
                           A  3139    
                           A  3140    .CLASS 65
                           A  3141    
                           A  3142    .VALUE -2
                           A  3143    
                           A  3144    .TYPE 3
                           A  3145    
                           A  3146    .ENDEF
                           A  3147    
                           A  3148    .DEFINE "xn2"
                           A  3149    
                           A  3150    .CLASS 65
                           A  3151    
                           A  3152    .VALUE -4
                           A  3153    
                           A  3154    .TYPE 3
                           A  3155    
                           A  3156    .ENDEF
                           A  3157    
                           A  3158    .DEFINE "yn1"
                           A  3159    
                           A  3160    .CLASS 65
                           A  3161    
                           A  3162    .VALUE -6
                           A  3163    
                           A  3164    .TYPE 3
                           A  3165    
                           A  3166    .ENDEF
                           A  3167    
                           A  3168    .DEFINE "yn2"
                           A  3169    
                           A  3170    .CLASS 65
                           A  3171    
                           A  3172    .VALUE -8
                           A  3173    
                           A  3174    .TYPE 3
                           A  3175    
                           A  3176    .ENDEF
                           A  3177    
                           A  3178    .DEFINE "move"
                           A  3179    
                           A  3180    .CLASS 65
                           A  3181    
                           A  3182    .VALUE -9
                           A  3183    
                           A  3184    .TYPE 12
                           A  3185    
                           A  3186    .ENDEF
                           A  3187    
                           A  3188    .DEFINE "done"
                           A  3189    
                           A  3190    .CLASS 65
                           A  3191    
                           A  3192    .VALUE -10
                           A  3193    
                           A  3194    .TYPE 12
                           A  3195    
                           A  3196    .ENDEF
                           A  3197    
0412A7 DDE5                A  3198    	PUSH	IX
0412A9 DD210000 00         A  3199    	LD	IX,0
0412AE DD39                A  3200    	ADD	IX,SP
0412B0 C5                  A  3201    	PUSH	BC
0412B1 C5                  A  3202    	PUSH	BC
0412B2 C5                  A  3203    	PUSH	BC
0412B3 3B                  A  3204    	DEC	SP
                           A  3205    ;  314		BOOL done = FALSE;
                           A  3206    .LINE 314
                           A  3207    
0412B4 DD36F600            A  3208    	LD	(IX+%FFFFFFF6),%0
                           A  3209    ;  315		BOOL move = FALSE;
                           A  3210    ;  316		INT16	xn1 = 0,xn2 = 0,yn1 = 0,yn2
                           A  3211    .LINE 316
                           A  3212    
0412B8 DD36FE00            A  3213    	LD	(IX+%FFFFFFFE),%0
0412BC DD36FF00            A  3214    	LD	(IX+%FFFFFFFF),%0
0412C0 DD36FC00            A  3215    	LD	(IX+%FFFFFFFC),%0
0412C4 DD36FD00            A  3216    	LD	(IX+%FFFFFFFD),%0
0412C8 DD36FA00            A  3217    	LD	(IX+%FFFFFFFA),%0
0412CC DD36FB00            A  3218    	LD	(IX+%FFFFFFFB),%0
0412D0 DD36F800            A  3219    	LD	(IX+%FFFFFFF8),%0
0412D4 DD36F900            A  3220    	LD	(IX+%FFFFFFF9),%0
                           A  3221    ;  317		
                           A  3222    ;  318		switch(key)
                           A  3223    .LINE 318
                           A  3224    
0412D8 DD7E06              A  3225    	LD	A,(IX+%6)
0412DB 17ED62              A  3226    	SEXT	HL
0412DE DD6E06              A  3227    	LD	L,(IX+%6)
0412E1 CD C6 1E 04         A  3228    	CALL	__case8D
0412E5 E9                  A  3229    	JP	(HL)
0412E6                     A  3230    L__18:
0412E6 0400                A  3231    	DW	4
0412E8 61                  A  3232    	DB	97
0412E9 FB1204              A  3233    	DW24	L_49	
                           A  3234    
0412EC 64                  A  3235    	DB	100
0412ED C41304              A  3236    	DW24	L_52	
                           A  3237    
0412F0 73                  A  3238    	DB	115
0412F1 831304              A  3239    	DW24	L_51	
                           A  3240    
0412F4 77                  A  3241    	DB	119
0412F5 401304              A  3242    	DW24	L_50	
                           A  3243    
0412F8 071404              A  3244    	DW24	L_53	
                           A  3245    
                           A  3246    ;  319		{
                           A  3247    ;  320			case 'a':
0412FB                     A  3248    L_49:
                           A  3249    .LINE 320
                           A  3250    
                           A  3251    ;  321				xn1 = currentlevel.xpos - 1
                           A  3252    .LINE 321
                           A  3253    
0412FB 3A A3 3C 04         A  3254    	LD	A,(_currentlevel)
0412FF 4F                  A  3255    	LD	C,A
041300 0600                A  3256    	LD	B,%0
041302 0B                  A  3257    	DEC	BC
041303 C5E1                A  3258    	LD	HL,BC
041305 DD75FE              A  3259    	LD	(IX+%FFFFFFFE),L
041308 DD74FF              A  3260    	LD	(IX+%FFFFFFFF),H
                           A  3261    ;  322				yn1 = currentlevel.ypos;
                           A  3262    .LINE 322
                           A  3263    
04130B 3A A4 3C 04         A  3264    	LD	A,(_currentlevel+1)
04130F 4F                  A  3265    	LD	C,A
041310 0600                A  3266    	LD	B,%0
041312 C5E1                A  3267    	LD	HL,BC
041314 DD75FA              A  3268    	LD	(IX+%FFFFFFFA),L
041317 DD74FB              A  3269    	LD	(IX+%FFFFFFFB),H
                           A  3270    ;  323				xn2 = currentlevel.xpos - 2
                           A  3271    .LINE 323
                           A  3272    
04131A 3A A3 3C 04         A  3273    	LD	A,(_currentlevel)
04131E 4F                  A  3274    	LD	C,A
04131F 0B                  A  3275    	DEC	BC
041320 0B                  A  3276    	DEC	BC
041321 C5E1                A  3277    	LD	HL,BC
041323 DD75FC              A  3278    	LD	(IX+%FFFFFFFC),L
041326 DD74FD              A  3279    	LD	(IX+%FFFFFFFD),H
                           A  3280    ;  324				yn2 = currentlevel.ypos;
                           A  3281    .LINE 324
                           A  3282    
041329 3A A4 3C 04         A  3283    	LD	A,(_currentlevel+1)
04132D 4F                  A  3284    	LD	C,A
04132E 0600                A  3285    	LD	B,%0
041330 C5E1                A  3286    	LD	HL,BC
041332 DD75F8              A  3287    	LD	(IX+%FFFFFFF8),L
041335 DD74F9              A  3288    	LD	(IX+%FFFFFFF9),H
                           A  3289    ;  325				move = TRUE;
                           A  3290    .LINE 325
                           A  3291    
041338 DD36F701            A  3292    	LD	(IX+%FFFFFFF7),%1
                           A  3293    ;  326				break;
                           A  3294    .LINE 326
                           A  3295    
04133C C3 0B 14 04         A  3296    	JR	L_56
                           A  3297    ;  327			case 'w':
041340                     A  3298    L_50:
                           A  3299    .LINE 327
                           A  3300    
                           A  3301    ;  328				xn1 = currentlevel.xpos;
                           A  3302    .LINE 328
                           A  3303    
041340 3A A3 3C 04         A  3304    	LD	A,(_currentlevel)
041344 4F                  A  3305    	LD	C,A
041345 0600                A  3306    	LD	B,%0
041347 C5E1                A  3307    	LD	HL,BC
041349 DD75FE              A  3308    	LD	(IX+%FFFFFFFE),L
04134C DD74FF              A  3309    	LD	(IX+%FFFFFFFF),H
                           A  3310    ;  329				yn1 = currentlevel.ypos - 1
                           A  3311    .LINE 329
                           A  3312    
04134F 3A A4 3C 04         A  3313    	LD	A,(_currentlevel+1)
041353 4F                  A  3314    	LD	C,A
041354 0B                  A  3315    	DEC	BC
041355 C5E1                A  3316    	LD	HL,BC
041357 DD75FA              A  3317    	LD	(IX+%FFFFFFFA),L
04135A DD74FB              A  3318    	LD	(IX+%FFFFFFFB),H
                           A  3319    ;  330				xn2 = currentlevel.xpos;
                           A  3320    .LINE 330
                           A  3321    
04135D 3A A3 3C 04         A  3322    	LD	A,(_currentlevel)
041361 4F                  A  3323    	LD	C,A
041362 0600                A  3324    	LD	B,%0
041364 C5E1                A  3325    	LD	HL,BC
041366 DD75FC              A  3326    	LD	(IX+%FFFFFFFC),L
041369 DD74FD              A  3327    	LD	(IX+%FFFFFFFD),H
                           A  3328    ;  331				yn2 = currentlevel.ypos - 2
                           A  3329    .LINE 331
                           A  3330    
04136C 3A A4 3C 04         A  3331    	LD	A,(_currentlevel+1)
041370 4F                  A  3332    	LD	C,A
041371 0B                  A  3333    	DEC	BC
041372 0B                  A  3334    	DEC	BC
041373 C5E1                A  3335    	LD	HL,BC
041375 DD75F8              A  3336    	LD	(IX+%FFFFFFF8),L
041378 DD74F9              A  3337    	LD	(IX+%FFFFFFF9),H
                           A  3338    ;  332				move = TRUE;
                           A  3339    .LINE 332
                           A  3340    
04137B DD36F701            A  3341    	LD	(IX+%FFFFFFF7),%1
                           A  3342    ;  333				break;
                           A  3343    .LINE 333
                           A  3344    
04137F C3 0B 14 04         A  3345    	JR	L_56
                           A  3346    ;  334			case 's':
041383                     A  3347    L_51:
                           A  3348    .LINE 334
                           A  3349    
                           A  3350    ;  335				xn1 = currentlevel.xpos;
                           A  3351    .LINE 335
                           A  3352    
041383 3A A3 3C 04         A  3353    	LD	A,(_currentlevel)
041387 4F                  A  3354    	LD	C,A
041388 0600                A  3355    	LD	B,%0
04138A C5E1                A  3356    	LD	HL,BC
04138C DD75FE              A  3357    	LD	(IX+%FFFFFFFE),L
04138F DD74FF              A  3358    	LD	(IX+%FFFFFFFF),H
                           A  3359    ;  336				yn1 = currentlevel.ypos + 1
                           A  3360    .LINE 336
                           A  3361    
041392 3A A4 3C 04         A  3362    	LD	A,(_currentlevel+1)
041396 4F                  A  3363    	LD	C,A
041397 03                  A  3364    	INC	BC
041398 C5E1                A  3365    	LD	HL,BC
04139A DD75FA              A  3366    	LD	(IX+%FFFFFFFA),L
04139D DD74FB              A  3367    	LD	(IX+%FFFFFFFB),H
                           A  3368    ;  337				xn2 = currentlevel.xpos;
                           A  3369    .LINE 337
                           A  3370    
0413A0 3A A3 3C 04         A  3371    	LD	A,(_currentlevel)
0413A4 4F                  A  3372    	LD	C,A
0413A5 0600                A  3373    	LD	B,%0
0413A7 C5E1                A  3374    	LD	HL,BC
0413A9 DD75FC              A  3375    	LD	(IX+%FFFFFFFC),L
0413AC DD74FD              A  3376    	LD	(IX+%FFFFFFFD),H
                           A  3377    ;  338				yn2 = currentlevel.ypos + 2
                           A  3378    .LINE 338
                           A  3379    
0413AF 3A A4 3C 04         A  3380    	LD	A,(_currentlevel+1)
0413B3 4F                  A  3381    	LD	C,A
0413B4 03                  A  3382    	INC	BC
0413B5 03                  A  3383    	INC	BC
0413B6 C5E1                A  3384    	LD	HL,BC
0413B8 DD75F8              A  3385    	LD	(IX+%FFFFFFF8),L
0413BB DD74F9              A  3386    	LD	(IX+%FFFFFFF9),H
                           A  3387    ;  339				move = TRUE;
                           A  3388    .LINE 339
                           A  3389    
0413BE DD36F701            A  3390    	LD	(IX+%FFFFFFF7),%1
                           A  3391    ;  340				break;
                           A  3392    .LINE 340
                           A  3393    
0413C2 18 47               A  3394    	JR	L_56
                           A  3395    ;  341			case 'd':
0413C4                     A  3396    L_52:
                           A  3397    .LINE 341
                           A  3398    
                           A  3399    ;  342				xn1 = currentlevel.xpos + 1
                           A  3400    .LINE 342
                           A  3401    
0413C4 3A A3 3C 04         A  3402    	LD	A,(_currentlevel)
0413C8 4F                  A  3403    	LD	C,A
0413C9 0600                A  3404    	LD	B,%0
0413CB 03                  A  3405    	INC	BC
0413CC C5E1                A  3406    	LD	HL,BC
0413CE DD75FE              A  3407    	LD	(IX+%FFFFFFFE),L
0413D1 DD74FF              A  3408    	LD	(IX+%FFFFFFFF),H
                           A  3409    ;  343				yn1 = currentlevel.ypos;
                           A  3410    .LINE 343
                           A  3411    
0413D4 3A A4 3C 04         A  3412    	LD	A,(_currentlevel+1)
0413D8 4F                  A  3413    	LD	C,A
0413D9 0600                A  3414    	LD	B,%0
0413DB C5E1                A  3415    	LD	HL,BC
0413DD DD75FA              A  3416    	LD	(IX+%FFFFFFFA),L
0413E0 DD74FB              A  3417    	LD	(IX+%FFFFFFFB),H
                           A  3418    ;  344				xn2 = currentlevel.xpos + 2
                           A  3419    .LINE 344
                           A  3420    
0413E3 3A A3 3C 04         A  3421    	LD	A,(_currentlevel)
0413E7 4F                  A  3422    	LD	C,A
0413E8 03                  A  3423    	INC	BC
0413E9 03                  A  3424    	INC	BC
0413EA C5E1                A  3425    	LD	HL,BC
0413EC DD75FC              A  3426    	LD	(IX+%FFFFFFFC),L
0413EF DD74FD              A  3427    	LD	(IX+%FFFFFFFD),H
                           A  3428    ;  345				yn2 = currentlevel.ypos;
                           A  3429    .LINE 345
                           A  3430    
0413F2 3A A4 3C 04         A  3431    	LD	A,(_currentlevel+1)
0413F6 4F                  A  3432    	LD	C,A
0413F7 0600                A  3433    	LD	B,%0
0413F9 C5E1                A  3434    	LD	HL,BC
0413FB DD75F8              A  3435    	LD	(IX+%FFFFFFF8),L
0413FE DD74F9              A  3436    	LD	(IX+%FFFFFFF9),H
                           A  3437    ;  346				move = TRUE;
                           A  3438    .LINE 346
                           A  3439    
041401 DD36F701            A  3440    	LD	(IX+%FFFFFFF7),%1
                           A  3441    ;  347				break;
                           A  3442    .LINE 347
                           A  3443    
041405 18 04               A  3444    	JR	L_56
                           A  3445    ;  348			default:
041407                     A  3446    L_53:
                           A  3447    .LINE 348
                           A  3448    
                           A  3449    ;  349				move = FALSE;
                           A  3450    .LINE 349
                           A  3451    
041407 DD36F700            A  3452    	LD	(IX+%FFFFFFF7),%0
                           A  3453    ;  350				break;
                           A  3454    ;  351		}
04140B                     A  3455    L_56:
                           A  3456    .LINE 351
                           A  3457    
                           A  3458    ;  352		if(move)
                           A  3459    .LINE 352
                           A  3460    
04140B DD7EF7              A  3461    	LD	A,(IX+%FFFFFFF7)
04140E B7                  A  3462    	OR	A,A
04140F 28 5E               A  3463    	JR	Z,L_57
                           A  3464    ;  353		{
                           A  3465    ;  354			if(canmove(xn1,yn1,xn2,yn2))
                           A  3466    .LINE 354
                           A  3467    
041411 DD07F8              A  3468    	LD	BC,(IX+%FFFFFFF8)
041414 C5                  A  3469    	PUSH	BC
041415 DD07FC              A  3470    	LD	BC,(IX+%FFFFFFFC)
041418 C5                  A  3471    	PUSH	BC
041419 DD07FA              A  3472    	LD	BC,(IX+%FFFFFFFA)
04141C C5                  A  3473    	PUSH	BC
04141D DD07FE              A  3474    	LD	BC,(IX+%FFFFFFFE)
041420 C5                  A  3475    	PUSH	BC
041421 CD 5D 0E 04         A  3476    	CALL	_canmove
041425 C1                  A  3477    	POP	BC
041426 C1                  A  3478    	POP	BC
041427 C1                  A  3479    	POP	BC
041428 C1                  A  3480    	POP	BC
041429 B7                  A  3481    	OR	A,A
04142A 28 43               A  3482    	JR	Z,L_57
                           A  3483    ;  355			{
                           A  3484    ;  356				move_sprites(xn1,yn1,xn2,yn
                           A  3485    .LINE 356
                           A  3486    
04142C DD07F8              A  3487    	LD	BC,(IX+%FFFFFFF8)
04142F C5                  A  3488    	PUSH	BC
041430 DD07FC              A  3489    	LD	BC,(IX+%FFFFFFFC)
041433 C5                  A  3490    	PUSH	BC
041434 DD07FA              A  3491    	LD	BC,(IX+%FFFFFFFA)
041437 C5                  A  3492    	PUSH	BC
041438 DD07FE              A  3493    	LD	BC,(IX+%FFFFFFFE)
04143B C5                  A  3494    	PUSH	BC
04143C CD F6 0E 04         A  3495    	CALL	_move_sprites
041440 C1                  A  3496    	POP	BC
041441 C1                  A  3497    	POP	BC
041442 C1                  A  3498    	POP	BC
041443 C1                  A  3499    	POP	BC
                           A  3500    ;  357				move_updatelevel(xn1,yn1,xn
                           A  3501    .LINE 357
                           A  3502    
041444 DD07F8              A  3503    	LD	BC,(IX+%FFFFFFF8)
041447 C5                  A  3504    	PUSH	BC
041448 DD07FC              A  3505    	LD	BC,(IX+%FFFFFFFC)
04144B C5                  A  3506    	PUSH	BC
04144C DD07FA              A  3507    	LD	BC,(IX+%FFFFFFFA)
04144F C5                  A  3508    	PUSH	BC
041450 DD07FE              A  3509    	LD	BC,(IX+%FFFFFFFE)
041453 C5                  A  3510    	PUSH	BC
041454 CD 75 10 04         A  3511    	CALL	_move_updatelevel
041458 C1                  A  3512    	POP	BC
041459 C1                  A  3513    	POP	BC
04145A C1                  A  3514    	POP	BC
04145B C1                  A  3515    	POP	BC
                           A  3516    ;  358				done = (currentlevel.goals 
                           A  3517    .LINE 358
                           A  3518    
04145C 3A A7 3C 04         A  3519    	LD	A,(_currentlevel+4)
041460 21 A8 3C 04         A  3520    	LD	HL,_currentlevel+5
041464 BE                  A  3521    	CP	A,(HL)
041465 20 04               A  3522    	JR	NZ,L__22
041467 3E01                A  3523    	LD	A,%1
041469 18 01               A  3524    	JR	L__23
04146B                     A  3525    L__22:
04146B AF                  A  3526    	XOR	A,A
04146C                     A  3527    L__23:
04146C DD77F6              A  3528    	LD	(IX+%FFFFFFF6),A
                           A  3529    ;  359			}
                           A  3530    ;  360		}
04146F                     A  3531    L_57:
                           A  3532    .LINE 360
                           A  3533    
                           A  3534    ;  361		return done;
                           A  3535    .LINE 361
                           A  3536    
04146F DD7EF6              A  3537    	LD	A,(IX+%FFFFFFF6)
                           A  3538    ;  362	}
                           A  3539    .LINE 362
                           A  3540    
041472 DDF9                A  3541    	LD	SP,IX
041474 DDE1                A  3542    	POP	IX
041476 C9                  A  3543    	RET	
                           A  3544    
                           A  3545    
                           A  3546    ;**************************** _game_handleKey *
                           A  3547    ;Name                         Addr/Register   S
                           A  3548    ;_currentlevel                       STATIC   1
                           A  3549    ;done                                 IX-10    
                           A  3550    ;move                                  IX-9    
                           A  3551    ;yn2                                   IX-8    
                           A  3552    ;yn1                                   IX-6    
                           A  3553    ;xn2                                   IX-4    
                           A  3554    ;xn1                                   IX-2    
                           A  3555    ;key                                   IX+6    
                           A  3556    
                           A  3557    
                           A  3558    ; Stack Frame Size: 19 (bytes)
                           A  3559    ;       Spill Code: 0 (instruction)
                           A  3560    
                           A  3561    
                           A  3562    .ENDFUNC "game_handleKey",362,"_game_handleKey"
                           A  3563    ;  363	
                           A  3564    ;  364	char game_getResponse(char *message, ch
                           A  3565    ;  365	{
041477                     A  3566    _game_getResponse:
                           A  3567    .DEFINE "_game_getResponse"
                           A  3568    
                           A  3569    .VALUE _game_getResponse
                           A  3570    
                           A  3571    .CLASS 2
                           A  3572    
                           A  3573    .TYPE 66
                           A  3574    
                           A  3575    .ENDEF
                           A  3576    
                           A  3577    .BEGFUNC "game_getResponse",365,"_game_getRespo
                           A  3578    
                           A  3579    .LINE 365
                           A  3580    
                           A  3581    .DEFINE "message"
                           A  3582    
                           A  3583    .CLASS 65
                           A  3584    
                           A  3585    .VALUE 6
                           A  3586    
                           A  3587    .TYPE 34
                           A  3588    
                           A  3589    .ENDEF
                           A  3590    
                           A  3591    .DEFINE "option1"
                           A  3592    
                           A  3593    .CLASS 65
                           A  3594    
                           A  3595    .VALUE 9
                           A  3596    
                           A  3597    .TYPE 2
                           A  3598    
                           A  3599    .ENDEF
                           A  3600    
                           A  3601    .DEFINE "option2"
                           A  3602    
                           A  3603    .CLASS 65
                           A  3604    
                           A  3605    .VALUE 12
                           A  3606    
                           A  3607    .TYPE 2
                           A  3608    
                           A  3609    .ENDEF
                           A  3610    
                           A  3611    .DEFINE "n"
                           A  3612    
                           A  3613    .CLASS 65
                           A  3614    
                           A  3615    .VALUE -1
                           A  3616    
                           A  3617    .TYPE 12
                           A  3618    
                           A  3619    .ENDEF
                           A  3620    
                           A  3621    .DEFINE "ret"
                           A  3622    
                           A  3623    .CLASS 65
                           A  3624    
                           A  3625    .VALUE -2
                           A  3626    
                           A  3627    .TYPE 2
                           A  3628    
                           A  3629    .ENDEF
                           A  3630    
                           A  3631    .DEFINE "start"
                           A  3632    
                           A  3633    .CLASS 65
                           A  3634    
                           A  3635    .VALUE -3
                           A  3636    
                           A  3637    .TYPE 12
                           A  3638    
                           A  3639    .ENDEF
                           A  3640    
                           A  3641    .DEFINE "len"
                           A  3642    
                           A  3643    .CLASS 65
                           A  3644    
                           A  3645    .VALUE -4
                           A  3646    
                           A  3647    .TYPE 12
                           A  3648    
                           A  3649    .ENDEF
                           A  3650    
041477 DDE5                A  3651    	PUSH	IX
041479 DD210000 00         A  3652    	LD	IX,0
04147E DD39                A  3653    	ADD	IX,SP
041480 C5                  A  3654    	PUSH	BC
041481 3B                  A  3655    	DEC	SP
                           A  3656    ;  366		UINT8 n;
                           A  3657    ;  367		UINT8 len = strlen(message);
                           A  3658    .LINE 367
                           A  3659    
041482 DD0706              A  3660    	LD	BC,(IX+%6)
041485 C5                  A  3661    	PUSH	BC
041486 CD A0 1D 04         A  3662    	CALL	_strlen
04148A C1                  A  3663    	POP	BC
04148B DD75FC              A  3664    	LD	(IX+%FFFFFFFC),L
                           A  3665    ;  368		UINT8 start = (80 - len) / 2;
                           A  3666    .LINE 368
                           A  3667    
04148E DD7EFC              A  3668    	LD	A,(IX+%FFFFFFFC)
041491 B7ED62              A  3669    	UEXT	HL
041494 6F                  A  3670    	LD	L,A
041495 E5C1                A  3671    	LD	BC,HL
041497 21500000            A  3672    	LD	HL,80
04149B B7                  A  3673    	OR	A,A
04149C ED42                A  3674    	SBC	HL,BC
04149E 01020000            A  3675    	LD	BC,2
0414A2 CD FF 1D 04         A  3676    	CALL	__idivs
0414A6 DD75FD              A  3677    	LD	(IX+%FFFFFFFD),L
                           A  3678    ;  369		char ret = 0;
                           A  3679    .LINE 369
                           A  3680    
0414A9 DD36FE00            A  3681    	LD	(IX+%FFFFFFFE),%0
                           A  3682    ;  370		
                           A  3683    ;  371		
                           A  3684    ;  372		// vertical spacing
                           A  3685    ;  373		for(n = start - 1; n < (start+len+1
                           A  3686    .LINE 373
                           A  3687    
0414AD DD7EFD              A  3688    	LD	A,(IX+%FFFFFFFD)
0414B0 3D                  A  3689    	DEC	A
0414B1 DD77FF              A  3690    	LD	(IX+%FFFFFFFF),A
0414B4 18 39               A  3691    	JR	L_62
0414B6                     A  3692    L_60:
                           A  3693    ;  374		{
                           A  3694    ;  375			vdp_cursorGoto(n,27);
                           A  3695    .LINE 375
                           A  3696    
0414B6 011B0000            A  3697    	LD	BC,27
0414BA C5                  A  3698    	PUSH	BC
0414BB DD4EFF              A  3699    	LD	C,(IX+%FFFFFFFF)
0414BE 0600                A  3700    	LD	B,%0
0414C0 C5                  A  3701    	PUSH	BC
0414C1 CD 3A 03 04         A  3702    	CALL	_vdp_cursorGoto
0414C5 C1                  A  3703    	POP	BC
0414C6 C1                  A  3704    	POP	BC
                           A  3705    ;  376			putch(' ');
                           A  3706    .LINE 376
                           A  3707    
0414C7 01200000            A  3708    	LD	BC,32
0414CB C5                  A  3709    	PUSH	BC
0414CC CD B0 1A 04         A  3710    	CALL	_putch
0414D0 C1                  A  3711    	POP	BC
                           A  3712    ;  377			vdp_cursorGoto(n,29);
                           A  3713    .LINE 377
                           A  3714    
0414D1 011D0000            A  3715    	LD	BC,29
0414D5 C5                  A  3716    	PUSH	BC
0414D6 DD4EFF              A  3717    	LD	C,(IX+%FFFFFFFF)
0414D9 0600                A  3718    	LD	B,%0
0414DB C5                  A  3719    	PUSH	BC
0414DC CD 3A 03 04         A  3720    	CALL	_vdp_cursorGoto
0414E0 C1                  A  3721    	POP	BC
0414E1 C1                  A  3722    	POP	BC
                           A  3723    ;  378			putch(' ');
                           A  3724    .LINE 378
                           A  3725    
0414E2 01200000            A  3726    	LD	BC,32
0414E6 C5                  A  3727    	PUSH	BC
0414E7 CD B0 1A 04         A  3728    	CALL	_putch
0414EB C1                  A  3729    	POP	BC
0414EC DD34FF              A  3730    	INC	(IX+%FFFFFFFF)
                           A  3731    ;  379		}
0414EF                     A  3732    L_62:
                           A  3733    .LINE 379
                           A  3734    
0414EF DD7EFD              A  3735    	LD	A,(IX+%FFFFFFFD)
0414F2 B7ED62              A  3736    	UEXT	HL
0414F5 6F                  A  3737    	LD	L,A
0414F6 E5C1                A  3738    	LD	BC,HL
0414F8 DD7EFC              A  3739    	LD	A,(IX+%FFFFFFFC)
0414FB B7ED62              A  3740    	UEXT	HL
0414FE 6F                  A  3741    	LD	L,A
0414FF 09                  A  3742    	ADD	HL,BC
041500 E5C1                A  3743    	LD	BC,HL
041502 03                  A  3744    	INC	BC
041503 DD7EFF              A  3745    	LD	A,(IX+%FFFFFFFF)
041506 B7ED62              A  3746    	UEXT	HL
041509 6F                  A  3747    	LD	L,A
04150A B7                  A  3748    	OR	A,A
04150B ED42                A  3749    	SBC	HL,BC
04150D FA B6 14 04         A  3750    	JP	M,L_60
                           A  3751    ;  380		// horizontal spacing
                           A  3752    ;  381		vdp_cursorGoto(start-1,28);
                           A  3753    .LINE 381
                           A  3754    
041511 011C0000            A  3755    	LD	BC,28
041515 C5                  A  3756    	PUSH	BC
041516 DD4EFD              A  3757    	LD	C,(IX+%FFFFFFFD)
041519 0D                  A  3758    	DEC	C
04151A 0600                A  3759    	LD	B,%0
04151C C5                  A  3760    	PUSH	BC
04151D CD 3A 03 04         A  3761    	CALL	_vdp_cursorGoto
041521 C1                  A  3762    	POP	BC
041522 C1                  A  3763    	POP	BC
                           A  3764    ;  382		putch(' ');
                           A  3765    .LINE 382
                           A  3766    
041523 01200000            A  3767    	LD	BC,32
041527 C5                  A  3768    	PUSH	BC
041528 CD B0 1A 04         A  3769    	CALL	_putch
04152C C1                  A  3770    	POP	BC
                           A  3771    ;  383		printf("%s ", message);
                           A  3772    .LINE 383
                           A  3773    
04152D 01 2F 1D 04         A  3774    	LD	BC,___print_uputch
041531 ED43 9F 33 04       A  3775    	LD	(___print_xputch),BC
041536 DD0706              A  3776    	LD	BC,(IX+%6)
041539 C5                  A  3777    	PUSH	BC
04153A CD AF 1B 04         A  3778    	CALL	___print_sendstring
04153E C1                  A  3779    	POP	BC
04153F 01200000            A  3780    	LD	BC,32
041543 C5                  A  3781    	PUSH	BC
041544 CD 2F 1D 04         A  3782    	CALL	___print_uputch
041548 C1                  A  3783    	POP	BC
                           A  3784    ;  384	
                           A  3785    ;  385		while((ret != option1) && (ret != o
                           A  3786    .LINE 385
                           A  3787    
041549 18 07               A  3788    	JR	L_65
04154B                     A  3789    L_66:
04154B CD C8 1A 04         A  3790    	CALL	_getch
04154F DD77FE              A  3791    	LD	(IX+%FFFFFFFE),A
041552                     A  3792    L_65:
041552 DD7EFE              A  3793    	LD	A,(IX+%FFFFFFFE)
041555 DDBE09              A  3794    	CP	A,(IX+%9)
041558 28 08               A  3795    	JR	Z,L_67
04155A DD7EFE              A  3796    	LD	A,(IX+%FFFFFFFE)
04155D DDBE0C              A  3797    	CP	A,(IX+%C)
041560 20 E9               A  3798    	JR	NZ,L_66
041562                     A  3799    L_67:
                           A  3800    ;  386		
                           A  3801    ;  387		vdp_cls();
                           A  3802    .LINE 387
                           A  3803    
041562 CD F2 02 04         A  3804    	CALL	_vdp_cls
                           A  3805    ;  388		//vdp_cursorGoto(start, 28);
                           A  3806    ;  389		//while(len--) putch(' ');   // del
                           A  3807    ;  390	
                           A  3808    ;  391		return ret;
                           A  3809    .LINE 391
                           A  3810    
041566 DD7EFE              A  3811    	LD	A,(IX+%FFFFFFFE)
                           A  3812    ;  392	}
                           A  3813    .LINE 392
                           A  3814    
041569 DDF9                A  3815    	LD	SP,IX
04156B DDE1                A  3816    	POP	IX
04156D C9                  A  3817    	RET	
                           A  3818    
                           A  3819    
                           A  3820    ;**************************** _game_getResponse
                           A  3821    ;Name                         Addr/Register   S
                           A  3822    ;_vdp_cls                            IMPORT  --
                           A  3823    ;_getch                              IMPORT  --
                           A  3824    ;___print_sendstring                 IMPORT  --
                           A  3825    ;___print_xputch                     IMPORT    
                           A  3826    ;___print_uputch                     IMPORT  --
                           A  3827    ;_putch                              IMPORT  --
                           A  3828    ;_vdp_cursorGoto                     IMPORT  --
                           A  3829    ;_strlen                             IMPORT  --
                           A  3830    ;len                                   IX-4    
                           A  3831    ;start                                 IX-3    
                           A  3832    ;ret                                   IX-2    
                           A  3833    ;n                                     IX-1    
                           A  3834    ;option2                              IX+12    
                           A  3835    ;option1                               IX+9    
                           A  3836    ;message                               IX+6    
                           A  3837    
                           A  3838    
                           A  3839    ; Stack Frame Size: 19 (bytes)
                           A  3840    ;       Spill Code: 0 (instruction)
                           A  3841    
                           A  3842    
                           A  3843    .ENDFUNC "game_getResponse",392,"_game_getRespo
                           A  3844    ;  393	
                           A  3845    ;  394	
                           A  3846    ;  395	INT16 game_selectLevel(UINT8 levels)
                           A  3847    ;  396	{
04156E                     A  3848    _game_selectLevel:
                           A  3849    .DEFINE "_game_selectLevel"
                           A  3850    
                           A  3851    .VALUE _game_selectLevel
                           A  3852    
                           A  3853    .CLASS 2
                           A  3854    
                           A  3855    .TYPE 67
                           A  3856    
                           A  3857    .ENDEF
                           A  3858    
                           A  3859    .BEGFUNC "game_selectLevel",396,"_game_selectLe
                           A  3860    
                           A  3861    .LINE 396
                           A  3862    
                           A  3863    .DEFINE "levels"
                           A  3864    
                           A  3865    .CLASS 65
                           A  3866    
                           A  3867    .VALUE 6
                           A  3868    
                           A  3869    .TYPE 12
                           A  3870    
                           A  3871    .ENDEF
                           A  3872    
                           A  3873    ;  397		static INT16 lvl = -1;
                           A  3874    .LINE 397
                           A  3875    
                           A  3876    .DEFINE "lvl"
                           A  3877    
                           A  3878    .ALIAS "_0lvl"
                           A  3879    
                           A  3880    .CLASS 69
                           A  3881    
                           A  3882    .VALUE _0lvl
                           A  3883    
                           A  3884    .TYPE 3
                           A  3885    
                           A  3886    .ENDEF
                           A  3887    
04156E DDE5                A  3888    	PUSH	IX
041570 DD210000 00         A  3889    	LD	IX,0
041575 DD39                A  3890    	ADD	IX,SP
                           A  3891    ;  398		
                           A  3892    ;  399		lvl++;
                           A  3893    .LINE 399
                           A  3894    
041577 ED4B 9D 33 04       A  3895    	LD	BC,(_0lvl)
04157C 03                  A  3896    	INC	BC
04157D 21 9D 33 04         A  3897    	LD	HL,_0lvl
041581 71                  A  3898    	LD	(HL),C
041582 23                  A  3899    	INC	HL
041583 70                  A  3900    	LD	(HL),B
                           A  3901    ;  400		if(lvl == levels) lvl = -1;
                           A  3902    .LINE 400
                           A  3903    
041584 ED4B 9D 33 04       A  3904    	LD	BC,(_0lvl)
041589 CD 57 1F 04         A  3905    	CALL	__stoi
04158D E5D1                A  3906    	LD	DE,HL
04158F DD7E06              A  3907    	LD	A,(IX+%6)
041592 B7ED62              A  3908    	UEXT	HL
041595 6F                  A  3909    	LD	L,A
041596 E5C1                A  3910    	LD	BC,HL
041598 D5E1                A  3911    	LD	HL,DE
04159A B7                  A  3912    	OR	A,A
04159B ED42                A  3913    	SBC	HL,BC
04159D 20 09               A  3914    	JR	NZ,L_71
04159F 21 9D 33 04         A  3915    	LD	HL,_0lvl
0415A3 36FF                A  3916    	LD	(HL),%FF
0415A5 23                  A  3917    	INC	HL
0415A6 36FF                A  3918    	LD	(HL),%FF
0415A8                     A  3919    L_71:
                           A  3920    ;  401		return lvl;
                           A  3921    .LINE 401
                           A  3922    
0415A8 2A 9D 33 04         A  3923    	LD	HL,(_0lvl)
                           A  3924    ;  402	}
                           A  3925    .LINE 402
                           A  3926    
0415AC DDF9                A  3927    	LD	SP,IX
0415AE DDE1                A  3928    	POP	IX
0415B0 C9                  A  3929    	RET	
                           A  3930    
                           A  3931    
                           A  3932    ;**************************** _game_selectLevel
                           A  3933    ;Name                         Addr/Register   S
                           A  3934    ;_0lvl                               STATIC    
                           A  3935    ;levels                                IX+6    
                           A  3936    
                           A  3937    
                           A  3938    ; Stack Frame Size: 9 (bytes)
                           A  3939    ;       Spill Code: 0 (instruction)
                           A  3940    
                           A  3941    
                           A  3942    .ENDFUNC "game_selectLevel",402,"_game_selectLe
                           A  3943    	SEGMENT DATA
04339D                     A  3944    _0lvl:
04339D FFFF                A  3945    	DW	65535
                           A  3946    	SEGMENT CODE
                           A  3947    ;  403	
                           A  3948    ;  404	void debug_print_playfieldText(void)
                           A  3949    ;  405	{
0415B1                     A  3950    _debug_print_playfieldText:
                           A  3951    .DEFINE "_debug_print_playfieldText"
                           A  3952    
                           A  3953    .VALUE _debug_print_playfieldText
                           A  3954    
                           A  3955    .CLASS 2
                           A  3956    
                           A  3957    .TYPE 65
                           A  3958    
                           A  3959    .ENDEF
                           A  3960    
                           A  3961    .BEGFUNC "debug_print_playfieldText",405,"_debu
                           A  3962    
                           A  3963    .LINE 405
                           A  3964    
                           A  3965    .DEFINE "width"
                           A  3966    
                           A  3967    .CLASS 65
                           A  3968    
                           A  3969    .VALUE -2
                           A  3970    
                           A  3971    .TYPE 13
                           A  3972    
                           A  3973    .ENDEF
                           A  3974    
                           A  3975    .DEFINE "c"
                           A  3976    
                           A  3977    .CLASS 65
                           A  3978    
                           A  3979    .VALUE -3
                           A  3980    
                           A  3981    .TYPE 2
                           A  3982    
                           A  3983    .ENDEF
                           A  3984    
                           A  3985    .DEFINE "height"
                           A  3986    
                           A  3987    .CLASS 65
                           A  3988    
                           A  3989    .VALUE -5
                           A  3990    
                           A  3991    .TYPE 13
                           A  3992    
                           A  3993    .ENDEF
                           A  3994    
0415B1 DDE5                A  3995    	PUSH	IX
0415B3 DD210000 00         A  3996    	LD	IX,0
0415B8 DD39                A  3997    	ADD	IX,SP
0415BA C5                  A  3998    	PUSH	BC
0415BB C5                  A  3999    	PUSH	BC
0415BC 3B                  A  4000    	DEC	SP
0415BD 3B                  A  4001    	DEC	SP
                           A  4002    ;  406		UINT16 width, height;
                           A  4003    ;  407		char c;
                           A  4004    ;  408		
                           A  4005    ;  409		for(height = 0; height < currentlev
                           A  4006    .LINE 409
                           A  4007    
0415BE DD36FB00            A  4008    	LD	(IX+%FFFFFFFB),%0
0415C2 DD36FC00            A  4009    	LD	(IX+%FFFFFFFC),%0
0415C6 C3 D2 16 04         A  4010    	JR	L_92
0415CA                     A  4011    L_90:
                           A  4012    ;  410		{
                           A  4013    ;  411			for(width = 0; width < currentl
                           A  4014    .LINE 411
                           A  4015    
0415CA DD36FE00            A  4016    	LD	(IX+%FFFFFFFE),%0
0415CE DD36FF00            A  4017    	LD	(IX+%FFFFFFFF),%0
0415D2 18 56               A  4018    	JR	L_81
0415D4                     A  4019    L_79:
                           A  4020    ;  412			{
                           A  4021    ;  413				c = currentlevel.data[heigh
                           A  4022    .LINE 413
                           A  4023    
0415D4 DD07FB              A  4024    	LD	BC,(IX+%FFFFFFFB)
0415D7 CD 29 1D 04         A  4025    	CALL	__stoiu
0415DB 3E28                A  4026    	LD	A,%28
0415DD CD 38 1E 04         A  4027    	CALL	__imul_b
0415E1 01 AA 3C 04         A  4028    	LD	BC,_currentlevel+7
0415E5 09                  A  4029    	ADD	HL,BC
0415E6 E5D1                A  4030    	LD	DE,HL
0415E8 DD07FE              A  4031    	LD	BC,(IX+%FFFFFFFE)
0415EB CD 29 1D 04         A  4032    	CALL	__stoiu
0415EF 19                  A  4033    	ADD	HL,DE
0415F0 7E                  A  4034    	LD	A,(HL)
0415F1 DD77FD              A  4035    	LD	(IX+%FFFFFFFD),A
                           A  4036    ;  414				printf("%c",c?c:' ');
                           A  4037    .LINE 414
                           A  4038    
0415F4 B7                  A  4039    	OR	A,A
0415F5 28 0E               A  4040    	JR	Z,L_77
0415F7 DD7EFD              A  4041    	LD	A,(IX+%FFFFFFFD)
0415FA 17ED62              A  4042    	SEXT	HL
0415FD DD6EFD              A  4043    	LD	L,(IX+%FFFFFFFD)
041600 DD2FF8              A  4044    	LD	(IX+%FFFFFFF8),HL
041603 18 07               A  4045    	JR	L_78
041605                     A  4046    L_77:
041605 01200000            A  4047    	LD	BC,32
041609 DD0FF8              A  4048    	LD	(IX+%FFFFFFF8),BC
04160C                     A  4049    L_78:
04160C 01 2F 1D 04         A  4050    	LD	BC,___print_uputch
041610 ED43 9F 33 04       A  4051    	LD	(___print_xputch),BC
041615 DD4EF8              A  4052    	LD	C,(IX+%FFFFFFF8)
041618 0600                A  4053    	LD	B,%0
04161A C5                  A  4054    	PUSH	BC
04161B CD 2F 1D 04         A  4055    	CALL	___print_uputch
04161F C1                  A  4056    	POP	BC
041620 DD27FE              A  4057    	LD	HL,(IX+%FFFFFFFE)
041623 23                  A  4058    	INC	HL
041624 DD75FE              A  4059    	LD	(IX+%FFFFFFFE),L
041627 DD74FF              A  4060    	LD	(IX+%FFFFFFFF),H
                           A  4061    ;  415			}
04162A                     A  4062    L_81:
                           A  4063    .LINE 415
                           A  4064    
04162A 3A A5 3C 04         A  4065    	LD	A,(_currentlevel+2)
04162E 4F                  A  4066    	LD	C,A
04162F 0600                A  4067    	LD	B,%0
041631 DD27FE              A  4068    	LD	HL,(IX+%FFFFFFFE)
041634 B7                  A  4069    	OR	A,A
041635 40ED42              A  4070    	SBC.SIS	HL,BC
041638 38 9A               A  4071    	JR	C,L_79
                           A  4072    ;  416			printf(" ");
                           A  4073    .LINE 416
                           A  4074    
04163A 01 2F 1D 04         A  4075    	LD	BC,___print_uputch
04163E ED43 9F 33 04       A  4076    	LD	(___print_xputch),BC
041643 01200000            A  4077    	LD	BC,32
041647 C5                  A  4078    	PUSH	BC
041648 CD 2F 1D 04         A  4079    	CALL	___print_uputch
04164C C1                  A  4080    	POP	BC
                           A  4081    ;  417			for(width = 0; width < currentl
                           A  4082    .LINE 417
                           A  4083    
04164D DD36FE00            A  4084    	LD	(IX+%FFFFFFFE),%0
041651 DD36FF00            A  4085    	LD	(IX+%FFFFFFFF),%0
041655 18 4E               A  4086    	JR	L_88
041657                     A  4087    L_86:
                           A  4088    ;  418			{
                           A  4089    ;  419				c = sprites[height][width] 
                           A  4090    .LINE 419
                           A  4091    
041657 DD07FB              A  4092    	LD	BC,(IX+%FFFFFFFB)
04165A CD 29 1D 04         A  4093    	CALL	__stoiu
04165E 3E28                A  4094    	LD	A,%28
041660 CD 38 1E 04         A  4095    	CALL	__imul_b
041664 01 F3 37 04         A  4096    	LD	BC,_sprites
041668 09                  A  4097    	ADD	HL,BC
041669 E5D1                A  4098    	LD	DE,HL
04166B DD07FE              A  4099    	LD	BC,(IX+%FFFFFFFE)
04166E CD 29 1D 04         A  4100    	CALL	__stoiu
041672 19                  A  4101    	ADD	HL,DE
041673 7E                  A  4102    	LD	A,(HL)
041674 C630                A  4103    	ADD	A,%30
041676 DD77FD              A  4104    	LD	(IX+%FFFFFFFD),A
                           A  4105    ;  420				if(c > '9') c = 'X';
                           A  4106    .LINE 420
                           A  4107    
041679 3E39                A  4108    	LD	A,%39
04167B DDBEFD              A  4109    	CP	A,(IX+%FFFFFFFD)
04167E F2 86 16 04         A  4110    	JP	P,L_85
041682 DD36FD58            A  4111    	LD	(IX+%FFFFFFFD),%58
041686                     A  4112    L_85:
                           A  4113    ;  421				printf("%c",c);
                           A  4114    .LINE 421
                           A  4115    
041686 01 2F 1D 04         A  4116    	LD	BC,___print_uputch
04168A ED43 9F 33 04       A  4117    	LD	(___print_xputch),BC
04168F DD6EFD              A  4118    	LD	L,(IX+%FFFFFFFD)
041692 4D                  A  4119    	LD	C,L
041693 0600                A  4120    	LD	B,%0
041695 C5                  A  4121    	PUSH	BC
041696 CD 2F 1D 04         A  4122    	CALL	___print_uputch
04169A C1                  A  4123    	POP	BC
04169B DD27FE              A  4124    	LD	HL,(IX+%FFFFFFFE)
04169E 23                  A  4125    	INC	HL
04169F DD75FE              A  4126    	LD	(IX+%FFFFFFFE),L
0416A2 DD74FF              A  4127    	LD	(IX+%FFFFFFFF),H
                           A  4128    ;  422			}
0416A5                     A  4129    L_88:
                           A  4130    .LINE 422
                           A  4131    
0416A5 3A A5 3C 04         A  4132    	LD	A,(_currentlevel+2)
0416A9 4F                  A  4133    	LD	C,A
0416AA 0600                A  4134    	LD	B,%0
0416AC DD27FE              A  4135    	LD	HL,(IX+%FFFFFFFE)
0416AF B7                  A  4136    	OR	A,A
0416B0 40ED42              A  4137    	SBC.SIS	HL,BC
0416B3 38 A2               A  4138    	JR	C,L_86
                           A  4139    ;  423			printf("\n\r");
                           A  4140    .LINE 423
                           A  4141    
0416B5 01 2F 1D 04         A  4142    	LD	BC,___print_uputch
0416B9 ED43 9F 33 04       A  4143    	LD	(___print_xputch),BC
0416BE 01 F0 33 04         A  4144    	LD	BC,L__35
0416C2 C5                  A  4145    	PUSH	BC
0416C3 CD AF 1B 04         A  4146    	CALL	___print_sendstring
0416C7 C1                  A  4147    	POP	BC
0416C8 DD27FB              A  4148    	LD	HL,(IX+%FFFFFFFB)
0416CB 23                  A  4149    	INC	HL
0416CC DD75FB              A  4150    	LD	(IX+%FFFFFFFB),L
0416CF DD74FC              A  4151    	LD	(IX+%FFFFFFFC),H
                           A  4152    ;  424		}
0416D2                     A  4153    L_92:
                           A  4154    .LINE 424
                           A  4155    
0416D2 3A A6 3C 04         A  4156    	LD	A,(_currentlevel+3)
0416D6 4F                  A  4157    	LD	C,A
0416D7 0600                A  4158    	LD	B,%0
0416D9 DD27FB              A  4159    	LD	HL,(IX+%FFFFFFFB)
0416DC B7                  A  4160    	OR	A,A
0416DD 40ED42              A  4161    	SBC.SIS	HL,BC
0416E0 DA CA 15 04         A  4162    	JR	C,L_90
                           A  4163    ;  425		
                           A  4164    ;  426	}
                           A  4165    .LINE 426
                           A  4166    
0416E4 DDF9                A  4167    	LD	SP,IX
0416E6 DDE1                A  4168    	POP	IX
0416E8 C9                  A  4169    	RET	
                           A  4170    
                           A  4171    
                           A  4172    ;**************************** _debug_print_play
                           A  4173    ;Name                         Addr/Register   S
                           A  4174    ;___print_sendstring                 IMPORT  --
                           A  4175    ;_sprites                            STATIC   1
                           A  4176    ;___print_xputch                     IMPORT    
                           A  4177    ;___print_uputch                     IMPORT  --
                           A  4178    ;_currentlevel                       STATIC   1
                           A  4179    ;temp75                                IX-8    
                           A  4180    ;height                                IX-5    
                           A  4181    ;c                                     IX-3    
                           A  4182    ;width                                 IX-2    
                           A  4183    
                           A  4184    
                           A  4185    ; Stack Frame Size: 14 (bytes)
                           A  4186    ;       Spill Code: 0 (instruction)
                           A  4187    
                           A  4188    
                           A  4189    .ENDFUNC "debug_print_playfieldText",426,"_debu
                           A  4190    	SEGMENT STRSECT
0433F0                     A  4191    L__35:
0433F0 0A0D00              A  4192    	DB	10,13,0
                           A  4193    	SEGMENT CODE
                           A  4194    ;  427	
                           A  4195    ;  428	void game_displayLevel(void)
                           A  4196    ;  429	{
0416E9                     A  4197    _game_displayLevel:
                           A  4198    .DEFINE "_game_displayLevel"
                           A  4199    
                           A  4200    .VALUE _game_displayLevel
                           A  4201    
                           A  4202    .CLASS 2
                           A  4203    
                           A  4204    .TYPE 65
                           A  4205    
                           A  4206    .ENDEF
                           A  4207    
                           A  4208    .BEGFUNC "game_displayLevel",429,"_game_display
                           A  4209    
                           A  4210    .LINE 429
                           A  4211    
                           A  4212    .DEFINE "x"
                           A  4213    
                           A  4214    .CLASS 65
                           A  4215    
                           A  4216    .VALUE -2
                           A  4217    
                           A  4218    .TYPE 13
                           A  4219    
                           A  4220    .ENDEF
                           A  4221    
                           A  4222    .DEFINE "y"
                           A  4223    
                           A  4224    .CLASS 65
                           A  4225    
                           A  4226    .VALUE -4
                           A  4227    
                           A  4228    .TYPE 13
                           A  4229    
                           A  4230    .ENDEF
                           A  4231    
                           A  4232    .DEFINE "width"
                           A  4233    
                           A  4234    .CLASS 65
                           A  4235    
                           A  4236    .VALUE -6
                           A  4237    
                           A  4238    .TYPE 13
                           A  4239    
                           A  4240    .ENDEF
                           A  4241    
                           A  4242    .DEFINE "height"
                           A  4243    
                           A  4244    .CLASS 65
                           A  4245    
                           A  4246    .VALUE -8
                           A  4247    
                           A  4248    .TYPE 13
                           A  4249    
                           A  4250    .ENDEF
                           A  4251    
                           A  4252    .DEFINE "c"
                           A  4253    
                           A  4254    .CLASS 65
                           A  4255    
                           A  4256    .VALUE -9
                           A  4257    
                           A  4258    .TYPE 2
                           A  4259    
                           A  4260    .ENDEF
                           A  4261    
                           A  4262    .DEFINE "xstart"
                           A  4263    
                           A  4264    .CLASS 65
                           A  4265    
                           A  4266    .VALUE -11
                           A  4267    
                           A  4268    .TYPE 13
                           A  4269    
                           A  4270    .ENDEF
                           A  4271    
                           A  4272    .DEFINE "ystart"
                           A  4273    
                           A  4274    .CLASS 65
                           A  4275    
                           A  4276    .VALUE -13
                           A  4277    
                           A  4278    .TYPE 13
                           A  4279    
                           A  4280    .ENDEF
                           A  4281    
0416E9 DDE5                A  4282    	PUSH	IX
0416EB DD210000 00         A  4283    	LD	IX,0
0416F0 DD39                A  4284    	ADD	IX,SP
0416F2 ED22F0              A  4285    	LEA	HL,IX+%FFFFFFF0
0416F5 F9                  A  4286    	LD	SP,HL
                           A  4287    ;  430		UINT16 width, height;
                           A  4288    ;  431		UINT16 ystart,xstart,x,y;
                           A  4289    ;  432		char c;
                           A  4290    ;  433		
                           A  4291    ;  434		// calculate on-screen base coordin
                           A  4292    ;  435		xstart = ((MAXWIDTH - currentlevel.
                           A  4293    .LINE 435
                           A  4294    
0416F6 3A A5 3C 04         A  4295    	LD	A,(_currentlevel+2)
0416FA B7ED62              A  4296    	UEXT	HL
0416FD 6F                  A  4297    	LD	L,A
0416FE E5C1                A  4298    	LD	BC,HL
041700 21280000            A  4299    	LD	HL,40
041704 B7                  A  4300    	OR	A,A
041705 ED42                A  4301    	SBC	HL,BC
041707 01020000            A  4302    	LD	BC,2
04170B CD FF 1D 04         A  4303    	CALL	__idivs
04170F 29                  A  4304    	ADD	HL,HL
041710 29                  A  4305    	ADD	HL,HL
041711 29                  A  4306    	ADD	HL,HL
041712 29                  A  4307    	ADD	HL,HL
041713 DD75F5              A  4308    	LD	(IX+%FFFFFFF5),L
041716 DD74F6              A  4309    	LD	(IX+%FFFFFFF6),H
                           A  4310    ;  436		ystart = ((MAXHEIGHT - currentlevel
                           A  4311    .LINE 436
                           A  4312    
041719 3A A6 3C 04         A  4313    	LD	A,(_currentlevel+3)
04171D B7ED62              A  4314    	UEXT	HL
041720 6F                  A  4315    	LD	L,A
041721 E5C1                A  4316    	LD	BC,HL
041723 211E0000            A  4317    	LD	HL,30
041727 B7                  A  4318    	OR	A,A
041728 ED42                A  4319    	SBC	HL,BC
04172A 01020000            A  4320    	LD	BC,2
04172E CD FF 1D 04         A  4321    	CALL	__idivs
041732 29                  A  4322    	ADD	HL,HL
041733 29                  A  4323    	ADD	HL,HL
041734 29                  A  4324    	ADD	HL,HL
041735 29                  A  4325    	ADD	HL,HL
041736 DD75F3              A  4326    	LD	(IX+%FFFFFFF3),L
041739 DD74F4              A  4327    	LD	(IX+%FFFFFFF4),H
                           A  4328    ;  437		
                           A  4329    ;  438		y = ystart;
                           A  4330    .LINE 438
                           A  4331    
04173C DD07F3              A  4332    	LD	BC,(IX+%FFFFFFF3)
04173F DD71FC              A  4333    	LD	(IX+%FFFFFFFC),C
041742 DD70FD              A  4334    	LD	(IX+%FFFFFFFD),B
                           A  4335    ;  439		for(height = 0; height < currentlev
                           A  4336    .LINE 439
                           A  4337    
041745 DD36F800            A  4338    	LD	(IX+%FFFFFFF8),%0
041749 DD36F900            A  4339    	LD	(IX+%FFFFFFF9),%0
04174D C3 A0 18 04         A  4340    	JR	L_113
041751                     A  4341    L_111:
                           A  4342    ;  440		{
                           A  4343    ;  441			x = xstart;
                           A  4344    .LINE 441
                           A  4345    
041751 DD07F5              A  4346    	LD	BC,(IX+%FFFFFFF5)
041754 DD71FE              A  4347    	LD	(IX+%FFFFFFFE),C
041757 DD70FF              A  4348    	LD	(IX+%FFFFFFFF),B
                           A  4349    ;  442			for(width = 0; width < currentl
                           A  4350    .LINE 442
                           A  4351    
04175A DD36FA00            A  4352    	LD	(IX+%FFFFFFFA),%0
04175E DD36FB00            A  4353    	LD	(IX+%FFFFFFFB),%0
041762 C3 78 18 04         A  4354    	JR	L_109
041766                     A  4355    L_107:
                           A  4356    ;  443			{
                           A  4357    ;  444				c = currentlevel.data[heigh
                           A  4358    .LINE 444
                           A  4359    
041766 DD07F8              A  4360    	LD	BC,(IX+%FFFFFFF8)
041769 CD 29 1D 04         A  4361    	CALL	__stoiu
04176D 3E28                A  4362    	LD	A,%28
04176F CD 38 1E 04         A  4363    	CALL	__imul_b
041773 DD2FF0              A  4364    	LD	(IX+%FFFFFFF0),HL
041776 01 AA 3C 04         A  4365    	LD	BC,_currentlevel+7
04177A DD27F0              A  4366    	LD	HL,(IX+%FFFFFFF0)
04177D 09                  A  4367    	ADD	HL,BC
04177E E5D1                A  4368    	LD	DE,HL
041780 DD07FA              A  4369    	LD	BC,(IX+%FFFFFFFA)
041783 CD 29 1D 04         A  4370    	CALL	__stoiu
041787 19                  A  4371    	ADD	HL,DE
041788 7E                  A  4372    	LD	A,(HL)
041789 DD77F7              A  4373    	LD	(IX+%FFFFFFF7),A
                           A  4374    ;  445				switch(c)
                           A  4375    .LINE 445
                           A  4376    
04178C 17ED62              A  4377    	SEXT	HL
04178F DD6EF7              A  4378    	LD	L,(IX+%FFFFFFF7)
041792 CD C6 1E 04         A  4379    	CALL	__case8D
041796 E9                  A  4380    	JP	(HL)
041797                     A  4381    L__38:
041797 0700                A  4382    	DW	7
041799 20                  A  4383    	DB	32
04179A 4E1804              A  4384    	DW24	L_104	
                           A  4385    
04179D 23                  A  4386    	DB	35
04179E B81704              A  4387    	DW24	L_96	
                           A  4388    
0417A1 24                  A  4389    	DB	36
0417A2 EE1704              A  4390    	DW24	L_99	
                           A  4391    
0417A5 2A                  A  4392    	DB	42
0417A6 EE1704              A  4393    	DW24	L_100	
                           A  4394    
0417A9 2B                  A  4395    	DB	43
0417AA D01704              A  4396    	DW24	L_98	
                           A  4397    
0417AD 2E                  A  4398    	DB	46
0417AE 381804              A  4399    	DW24	L_103	
                           A  4400    
0417B1 40                  A  4401    	DB	64
0417B2 D01704              A  4402    	DW24	L_97	
                           A  4403    
0417B5 621804              A  4404    	DW24	L_106	
                           A  4405    
                           A  4406    ;  446				{
                           A  4407    ;  447					case CHAR_WALL:
0417B8                     A  4408    L_96:
                           A  4409    .LINE 447
                           A  4410    
                           A  4411    ;  448						vdp_bitmapDraw(TILE
                           A  4412    .LINE 448
                           A  4413    
0417B8 DD07FC              A  4414    	LD	BC,(IX+%FFFFFFFC)
0417BB C5                  A  4415    	PUSH	BC
0417BC DD07FE              A  4416    	LD	BC,(IX+%FFFFFFFE)
0417BF C5                  A  4417    	PUSH	BC
0417C0 01000000            A  4418    	LD	BC,0
0417C4 C5                  A  4419    	PUSH	BC
0417C5 CD 3C 07 04         A  4420    	CALL	_vdp_bitmapDraw
0417C9 C1                  A  4421    	POP	BC
0417CA C1                  A  4422    	POP	BC
0417CB C1                  A  4423    	POP	BC
                           A  4424    ;  449						break;
                           A  4425    .LINE 449
                           A  4426    
0417CC C3 62 18 04         A  4427    	JR	L_106
                           A  4428    ;  450					case CHAR_PLAYER:
0417D0                     A  4429    L_97:
                           A  4430    .LINE 450
                           A  4431    
                           A  4432    ;  451					case CHAR_PLAYERONGOAL:
0417D0                     A  4433    L_98:
                           A  4434    .LINE 451
                           A  4435    
                           A  4436    ;  452						vdp_spriteSelect(0)
                           A  4437    .LINE 452
                           A  4438    
0417D0 01000000            A  4439    	LD	BC,0
0417D4 C5                  A  4440    	PUSH	BC
0417D5 CD E4 07 04         A  4441    	CALL	_vdp_spriteSelect
0417D9 C1                  A  4442    	POP	BC
                           A  4443    ;  453						vdp_spriteMoveToSel
                           A  4444    .LINE 453
                           A  4445    
0417DA DD07FC              A  4446    	LD	BC,(IX+%FFFFFFFC)
0417DD C5                  A  4447    	PUSH	BC
0417DE DD07FE              A  4448    	LD	BC,(IX+%FFFFFFFE)
0417E1 C5                  A  4449    	PUSH	BC
0417E2 CD 3D 0A 04         A  4450    	CALL	_vdp_spriteMoveToSelected
0417E6 C1                  A  4451    	POP	BC
0417E7 C1                  A  4452    	POP	BC
                           A  4453    ;  454						vdp_spriteShowSelec
                           A  4454    .LINE 454
                           A  4455    
0417E8 CD AB 09 04         A  4456    	CALL	_vdp_spriteShowSelected
                           A  4457    ;  455						break;
                           A  4458    .LINE 455
                           A  4459    
0417EC 18 74               A  4460    	JR	L_106
                           A  4461    ;  456					case CHAR_BOX:
0417EE                     A  4462    L_99:
                           A  4463    .LINE 456
                           A  4464    
                           A  4465    ;  457					case CHAR_BOXONGOAL:
0417EE                     A  4466    L_100:
                           A  4467    .LINE 457
                           A  4468    
                           A  4469    ;  458						vdp_spriteSelect(sp
                           A  4470    .LINE 458
                           A  4471    
0417EE 01 F3 37 04         A  4472    	LD	BC,_sprites
0417F2 DD27F0              A  4473    	LD	HL,(IX+%FFFFFFF0)
0417F5 09                  A  4474    	ADD	HL,BC
0417F6 E5D1                A  4475    	LD	DE,HL
0417F8 DD07FA              A  4476    	LD	BC,(IX+%FFFFFFFA)
0417FB CD 29 1D 04         A  4477    	CALL	__stoiu
0417FF 19                  A  4478    	ADD	HL,DE
041800 4E                  A  4479    	LD	C,(HL)
041801 0600                A  4480    	LD	B,%0
041803 C5                  A  4481    	PUSH	BC
041804 CD E4 07 04         A  4482    	CALL	_vdp_spriteSelect
041808 C1                  A  4483    	POP	BC
                           A  4484    ;  459						vdp_spriteMoveToSel
                           A  4485    .LINE 459
                           A  4486    
041809 DD07FC              A  4487    	LD	BC,(IX+%FFFFFFFC)
04180C C5                  A  4488    	PUSH	BC
04180D DD07FE              A  4489    	LD	BC,(IX+%FFFFFFFE)
041810 C5                  A  4490    	PUSH	BC
041811 CD 3D 0A 04         A  4491    	CALL	_vdp_spriteMoveToSelected
041815 C1                  A  4492    	POP	BC
041816 C1                  A  4493    	POP	BC
                           A  4494    ;  460						vdp_spriteShowSelec
                           A  4495    .LINE 460
                           A  4496    
041817 CD AB 09 04         A  4497    	CALL	_vdp_spriteShowSelected
                           A  4498    ;  461						if(c == CHAR_BOXONG
                           A  4499    .LINE 461
                           A  4500    
04181B DD7EF7              A  4501    	LD	A,(IX+%FFFFFFF7)
04181E FE2A                A  4502    	CP	A,%2A
041820 20 40               A  4503    	JR	NZ,L_106
                           A  4504    ;  462						{
                           A  4505    ;  463							vdp_bitmapDraw(
                           A  4506    .LINE 463
                           A  4507    
041822 DD07FC              A  4508    	LD	BC,(IX+%FFFFFFFC)
041825 C5                  A  4509    	PUSH	BC
041826 DD07FE              A  4510    	LD	BC,(IX+%FFFFFFFE)
041829 C5                  A  4511    	PUSH	BC
04182A 01050000            A  4512    	LD	BC,5
04182E C5                  A  4513    	PUSH	BC
04182F CD 3C 07 04         A  4514    	CALL	_vdp_bitmapDraw
041833 C1                  A  4515    	POP	BC
041834 C1                  A  4516    	POP	BC
041835 C1                  A  4517    	POP	BC
                           A  4518    ;  464						}
                           A  4519    .LINE 464
                           A  4520    
                           A  4521    ;  465						break;
                           A  4522    .LINE 465
                           A  4523    
041836 18 2A               A  4524    	JR	L_106
                           A  4525    ;  466					case CHAR_GOAL:
041838                     A  4526    L_103:
                           A  4527    .LINE 466
                           A  4528    
                           A  4529    ;  467						vdp_bitmapDraw(TILE
                           A  4530    .LINE 467
                           A  4531    
041838 DD07FC              A  4532    	LD	BC,(IX+%FFFFFFFC)
04183B C5                  A  4533    	PUSH	BC
04183C DD07FE              A  4534    	LD	BC,(IX+%FFFFFFFE)
04183F C5                  A  4535    	PUSH	BC
041840 01050000            A  4536    	LD	BC,5
041844 C5                  A  4537    	PUSH	BC
041845 CD 3C 07 04         A  4538    	CALL	_vdp_bitmapDraw
041849 C1                  A  4539    	POP	BC
04184A C1                  A  4540    	POP	BC
04184B C1                  A  4541    	POP	BC
                           A  4542    ;  468						break;
                           A  4543    .LINE 468
                           A  4544    
04184C 18 14               A  4545    	JR	L_106
                           A  4546    ;  469					case CHAR_FLOOR:
04184E                     A  4547    L_104:
                           A  4548    .LINE 469
                           A  4549    
                           A  4550    ;  470						vdp_bitmapDraw(TILE
                           A  4551    .LINE 470
                           A  4552    
04184E DD07FC              A  4553    	LD	BC,(IX+%FFFFFFFC)
041851 C5                  A  4554    	PUSH	BC
041852 DD07FE              A  4555    	LD	BC,(IX+%FFFFFFFE)
041855 C5                  A  4556    	PUSH	BC
041856 01060000            A  4557    	LD	BC,6
04185A C5                  A  4558    	PUSH	BC
04185B CD 3C 07 04         A  4559    	CALL	_vdp_bitmapDraw
04185F C1                  A  4560    	POP	BC
041860 C1                  A  4561    	POP	BC
041861 C1                  A  4562    	POP	BC
                           A  4563    ;  471						break;
                           A  4564    ;  472					default:
                           A  4565    ;  473						break;
                           A  4566    ;  474				}
041862                     A  4567    L_106:
                           A  4568    .LINE 474
                           A  4569    
                           A  4570    ;  475				x += BITMAP_WIDTH;
                           A  4571    .LINE 475
                           A  4572    
041862 DD31FE              A  4573    	LD	IY,(IX+%FFFFFFFE)
041865 ED2310              A  4574    	LEA	HL,IY+%10
041868 DD75FE              A  4575    	LD	(IX+%FFFFFFFE),L
04186B DD74FF              A  4576    	LD	(IX+%FFFFFFFF),H
04186E DD27FA              A  4577    	LD	HL,(IX+%FFFFFFFA)
041871 23                  A  4578    	INC	HL
041872 DD75FA              A  4579    	LD	(IX+%FFFFFFFA),L
041875 DD74FB              A  4580    	LD	(IX+%FFFFFFFB),H
                           A  4581    ;  476			}
041878                     A  4582    L_109:
                           A  4583    .LINE 476
                           A  4584    
041878 3A A5 3C 04         A  4585    	LD	A,(_currentlevel+2)
04187C 4F                  A  4586    	LD	C,A
04187D 0600                A  4587    	LD	B,%0
04187F DD27FA              A  4588    	LD	HL,(IX+%FFFFFFFA)
041882 B7                  A  4589    	OR	A,A
041883 40ED42              A  4590    	SBC.SIS	HL,BC
041886 DA 66 17 04         A  4591    	JR	C,L_107
                           A  4592    ;  477			y += BITMAP_HEIGHT;
                           A  4593    .LINE 477
                           A  4594    
04188A DD31FC              A  4595    	LD	IY,(IX+%FFFFFFFC)
04188D ED2310              A  4596    	LEA	HL,IY+%10
041890 DD75FC              A  4597    	LD	(IX+%FFFFFFFC),L
041893 DD74FD              A  4598    	LD	(IX+%FFFFFFFD),H
041896 DD27F8              A  4599    	LD	HL,(IX+%FFFFFFF8)
041899 23                  A  4600    	INC	HL
04189A DD75F8              A  4601    	LD	(IX+%FFFFFFF8),L
04189D DD74F9              A  4602    	LD	(IX+%FFFFFFF9),H
                           A  4603    ;  478		}
0418A0                     A  4604    L_113:
                           A  4605    .LINE 478
                           A  4606    
0418A0 3A A6 3C 04         A  4607    	LD	A,(_currentlevel+3)
0418A4 4F                  A  4608    	LD	C,A
0418A5 0600                A  4609    	LD	B,%0
0418A7 DD27F8              A  4610    	LD	HL,(IX+%FFFFFFF8)
0418AA B7                  A  4611    	OR	A,A
0418AB 40ED42              A  4612    	SBC.SIS	HL,BC
0418AE DA 51 17 04         A  4613    	JR	C,L_111
                           A  4614    ;  479	
                           A  4615    ;  480		vdp_spriteRefresh();
                           A  4616    .LINE 480
                           A  4617    
0418B2 CD 40 0B 04         A  4618    	CALL	_vdp_spriteRefresh
                           A  4619    ;  481	}
                           A  4620    .LINE 481
                           A  4621    
0418B6 DDF9                A  4622    	LD	SP,IX
0418B8 DDE1                A  4623    	POP	IX
0418BA C9                  A  4624    	RET	
                           A  4625    
                           A  4626    
                           A  4627    ;**************************** _game_displayLeve
                           A  4628    ;Name                         Addr/Register   S
                           A  4629    ;_vdp_spriteRefresh                  IMPORT  --
                           A  4630    ;_sprites                            STATIC   1
                           A  4631    ;_vdp_spriteShowSelected             IMPORT  --
                           A  4632    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  4633    ;_vdp_spriteSelect                   IMPORT  --
                           A  4634    ;_vdp_bitmapDraw                     IMPORT  --
                           A  4635    ;_currentlevel                       STATIC   1
                           A  4636    ;G_13                                 IX-16    
                           A  4637    ;ystart                               IX-13    
                           A  4638    ;xstart                               IX-11    
                           A  4639    ;c                                     IX-9    
                           A  4640    ;height                                IX-8    
                           A  4641    ;width                                 IX-6    
                           A  4642    ;y                                     IX-4    
                           A  4643    ;x                                     IX-2    
                           A  4644    
                           A  4645    
                           A  4646    ; Stack Frame Size: 22 (bytes)
                           A  4647    ;       Spill Code: 0 (instruction)
                           A  4648    
                           A  4649    
                           A  4650    .ENDFUNC "game_displayLevel",481,"_game_display
                           A  4651    ;  482	
                           A  4652    ;  483	
                           A  4653    ;  484	UINT8 game_readLevels(char *filename)
                           A  4654    ;  485	{
0418BB                     A  4655    _game_readLevels:
                           A  4656    .DEFINE "_game_readLevels"
                           A  4657    
                           A  4658    .VALUE _game_readLevels
                           A  4659    
                           A  4660    .CLASS 2
                           A  4661    
                           A  4662    .TYPE 76
                           A  4663    
                           A  4664    .ENDEF
                           A  4665    
                           A  4666    .BEGFUNC "game_readLevels",485,"_game_readLevel
                           A  4667    
                           A  4668    .LINE 485
                           A  4669    
                           A  4670    .DEFINE "filename"
                           A  4671    
                           A  4672    .CLASS 65
                           A  4673    
                           A  4674    .VALUE 6
                           A  4675    
                           A  4676    .TYPE 34
                           A  4677    
                           A  4678    .ENDEF
                           A  4679    
                           A  4680    .DEFINE "numlevels"
                           A  4681    
                           A  4682    .CLASS 65
                           A  4683    
                           A  4684    .VALUE -1
                           A  4685    
                           A  4686    .TYPE 12
                           A  4687    
                           A  4688    .ENDEF
                           A  4689    
                           A  4690    .DEFINE "file"
                           A  4691    
                           A  4692    .CLASS 65
                           A  4693    
                           A  4694    .VALUE -2
                           A  4695    
                           A  4696    .TYPE 12
                           A  4697    
                           A  4698    .ENDEF
                           A  4699    
                           A  4700    .DEFINE "size"
                           A  4701    
                           A  4702    .CLASS 65
                           A  4703    
                           A  4704    .VALUE -4
                           A  4705    
                           A  4706    .TYPE 13
                           A  4707    
                           A  4708    .ENDEF
                           A  4709    
                           A  4710    .DEFINE "ptr"
                           A  4711    
                           A  4712    .CLASS 65
                           A  4713    
                           A  4714    .VALUE -7
                           A  4715    
                           A  4716    .TYPE 34
                           A  4717    
                           A  4718    .ENDEF
                           A  4719    
0418BB DDE5                A  4720    	PUSH	IX
0418BD DD210000 00         A  4721    	LD	IX,0
0418C2 DD39                A  4722    	ADD	IX,SP
0418C4 C5                  A  4723    	PUSH	BC
0418C5 C5                  A  4724    	PUSH	BC
0418C6 3B                  A  4725    	DEC	SP
                           A  4726    ;  486		// Reads all the levels in the stan
                           A  4727    ;  487		UINT8 numlevels = 0;
                           A  4728    .LINE 487
                           A  4729    
0418C7 DD36FF00            A  4730    	LD	(IX+%FFFFFFFF),%0
                           A  4731    ;  488		UINT16 size;
                           A  4732    ;  489		UINT8 file;
                           A  4733    ;  490		char* ptr = (char*)LEVELDATA;
                           A  4734    .LINE 490
                           A  4735    
0418CB 01000008            A  4736    	LD	BC,524288
0418CF DD0FF9              A  4737    	LD	(IX+%FFFFFFF9),BC
                           A  4738    ;  491		
                           A  4739    ;  492		file = mos_fopen(filename, fa_read)
                           A  4740    .LINE 492
                           A  4741    
0418D2 01010000            A  4742    	LD	BC,1
0418D6 C5                  A  4743    	PUSH	BC
0418D7 DD0706              A  4744    	LD	BC,(IX+%6)
0418DA C5                  A  4745    	PUSH	BC
0418DB CD 1A 1B 04         A  4746    	CALL	_mos_fopen
0418DF C1                  A  4747    	POP	BC
0418E0 C1                  A  4748    	POP	BC
0418E1 DD77FE              A  4749    	LD	(IX+%FFFFFFFE),A
                           A  4750    ;  493		if(file)
                           A  4751    .LINE 493
                           A  4752    
0418E4 B7                  A  4753    	OR	A,A
0418E5 28 61               A  4754    	JR	Z,L_126
                           A  4755    ;  494		{
                           A  4756    ;  495			numlevels = 0;
                           A  4757    .LINE 495
                           A  4758    
0418E7 DD36FF00            A  4759    	LD	(IX+%FFFFFFFF),%0
                           A  4760    ;  496			
                           A  4761    ;  497			while(!mos_feof(file))
                           A  4762    .LINE 497
                           A  4763    
0418EB 18 42               A  4764    	JR	L_122
0418ED                     A  4765    L_123:
                           A  4766    ;  498			{
                           A  4767    ;  499				size = sizeof(struct sokoba
                           A  4768    .LINE 499
                           A  4769    
0418ED DD36FCB7            A  4770    	LD	(IX+%FFFFFFFC),%B7
0418F1 DD36FD04            A  4771    	LD	(IX+%FFFFFFFD),%4
                           A  4772    ;  500				while(size)
                           A  4773    .LINE 500
                           A  4774    
0418F5 18 22               A  4775    	JR	L_118
0418F7                     A  4776    L_119:
                           A  4777    ;  501				{
                           A  4778    ;  502					*ptr = mos_fgetc(file);
                           A  4779    .LINE 502
                           A  4780    
0418F7 DD4EFE              A  4781    	LD	C,(IX+%FFFFFFFE)
0418FA 0600                A  4782    	LD	B,%0
0418FC C5                  A  4783    	PUSH	BC
0418FD CD 47 1B 04         A  4784    	CALL	_mos_fgetc
041901 C1                  A  4785    	POP	BC
041902 DD27F9              A  4786    	LD	HL,(IX+%FFFFFFF9)
041905 77                  A  4787    	LD	(HL),A
                           A  4788    ;  503					ptr++;
                           A  4789    .LINE 503
                           A  4790    
041906 DD07F9              A  4791    	LD	BC,(IX+%FFFFFFF9)
041909 03                  A  4792    	INC	BC
04190A DD0FF9              A  4793    	LD	(IX+%FFFFFFF9),BC
                           A  4794    ;  504					size--;
                           A  4795    .LINE 504
                           A  4796    
04190D DD31FC              A  4797    	LD	IY,(IX+%FFFFFFFC)
041910 ED23FF              A  4798    	LEA	HL,IY+%FFFFFFFF
041913 DD75FC              A  4799    	LD	(IX+%FFFFFFFC),L
041916 DD74FD              A  4800    	LD	(IX+%FFFFFFFD),H
                           A  4801    ;  505				}
041919                     A  4802    L_118:
                           A  4803    .LINE 505
                           A  4804    
041919 DD27FC              A  4805    	LD	HL,(IX+%FFFFFFFC)
04191C CD 09 1F 04         A  4806    	CALL	__scmpzero
041920 20 D5               A  4807    	JR	NZ,L_119
                           A  4808    ;  506				putch('.');
                           A  4809    .LINE 506
                           A  4810    
041922 012E0000            A  4811    	LD	BC,46
041926 C5                  A  4812    	PUSH	BC
041927 CD B0 1A 04         A  4813    	CALL	_putch
04192B C1                  A  4814    	POP	BC
                           A  4815    ;  507				numlevels++;
                           A  4816    .LINE 507
                           A  4817    
04192C DD34FF              A  4818    	INC	(IX+%FFFFFFFF)
                           A  4819    ;  508			}		
04192F                     A  4820    L_122:
                           A  4821    .LINE 508
                           A  4822    
04192F DD4EFE              A  4823    	LD	C,(IX+%FFFFFFFE)
041932 0600                A  4824    	LD	B,%0
041934 C5                  A  4825    	PUSH	BC
041935 CD 74 1B 04         A  4826    	CALL	_mos_feof
041939 C1                  A  4827    	POP	BC
04193A B7                  A  4828    	OR	A,A
04193B 28 B0               A  4829    	JR	Z,L_123
                           A  4830    ;  509			mos_fclose(file);
                           A  4831    .LINE 509
                           A  4832    
04193D DD4EFE              A  4833    	LD	C,(IX+%FFFFFFFE)
041940 0600                A  4834    	LD	B,%0
041942 C5                  A  4835    	PUSH	BC
041943 CD 32 1B 04         A  4836    	CALL	_mos_fclose
041947 C1                  A  4837    	POP	BC
                           A  4838    ;  510		}
041948                     A  4839    L_126:
                           A  4840    .LINE 510
                           A  4841    
                           A  4842    ;  511		return numlevels;
                           A  4843    .LINE 511
                           A  4844    
041948 DD7EFF              A  4845    	LD	A,(IX+%FFFFFFFF)
                           A  4846    ;  512	}	
                           A  4847    .LINE 512
                           A  4848    
04194B DDF9                A  4849    	LD	SP,IX
04194D DDE1                A  4850    	POP	IX
04194F C9                  A  4851    	RET	
                           A  4852    
                           A  4853    
                           A  4854    ;**************************** _game_readLevels 
                           A  4855    ;Name                         Addr/Register   S
                           A  4856    ;_mos_fclose                         IMPORT  --
                           A  4857    ;_mos_feof                           IMPORT  --
                           A  4858    ;_putch                              IMPORT  --
                           A  4859    ;_mos_fgetc                          IMPORT  --
                           A  4860    ;_mos_fopen                          IMPORT  --
                           A  4861    ;ptr                                   IX-7    
                           A  4862    ;size                                  IX-4    
                           A  4863    ;file                                  IX-2    
                           A  4864    ;numlevels                             IX-1    
                           A  4865    ;filename                              IX+6    
                           A  4866    
                           A  4867    
                           A  4868    ; Stack Frame Size: 16 (bytes)
                           A  4869    ;       Spill Code: 0 (instruction)
                           A  4870    
                           A  4871    
                           A  4872    .ENDFUNC "game_readLevels",512,"_game_readLevel
                           A  4873    ;  513	
                           A  4874    ;  514	
                           A  4875    ;  515	void game_initLevel(UINT8 levelid)
                           A  4876    ;  516	{
041950                     A  4877    _game_initLevel:
                           A  4878    .DEFINE "_game_initLevel"
                           A  4879    
                           A  4880    .VALUE _game_initLevel
                           A  4881    
                           A  4882    .CLASS 2
                           A  4883    
                           A  4884    .TYPE 65
                           A  4885    
                           A  4886    .ENDEF
                           A  4887    
                           A  4888    .BEGFUNC "game_initLevel",516,"_game_initLevel"
                           A  4889    
                           A  4890    .LINE 516
                           A  4891    
                           A  4892    .DEFINE "levelid"
                           A  4893    
                           A  4894    .CLASS 65
                           A  4895    
                           A  4896    .VALUE 6
                           A  4897    
                           A  4898    .TYPE 12
                           A  4899    
                           A  4900    .ENDEF
                           A  4901    
041950 DDE5                A  4902    	PUSH	IX
041952 DD210000 00         A  4903    	LD	IX,0
041957 DD39                A  4904    	ADD	IX,SP
                           A  4905    ;  517		memcpy(&currentlevel, (void*)(LEVEL
                           A  4906    .LINE 517
                           A  4907    
041959 01B70400            A  4908    	LD	BC,1207
04195D C5                  A  4909    	PUSH	BC
04195E DD7E06              A  4910    	LD	A,(IX+%6)
041961 B7ED62              A  4911    	UEXT	HL
041964 6F                  A  4912    	LD	L,A
041965 E5C1                A  4913    	LD	BC,HL
041967 21B70400            A  4914    	LD	HL,1207
04196B CD 44 1E 04         A  4915    	CALL	__imulu
04196F 01000008            A  4916    	LD	BC,524288
041973 09                  A  4917    	ADD	HL,BC
041974 E5                  A  4918    	PUSH	HL
041975 01 A3 3C 04         A  4919    	LD	BC,_currentlevel
041979 C5                  A  4920    	PUSH	BC
04197A CD B5 1D 04         A  4921    	CALL	_memcpy
04197E C1                  A  4922    	POP	BC
04197F C1                  A  4923    	POP	BC
041980 C1                  A  4924    	POP	BC
                           A  4925    ;  518	}
                           A  4926    .LINE 518
                           A  4927    
041981 DDF9                A  4928    	LD	SP,IX
041983 DDE1                A  4929    	POP	IX
041985 C9                  A  4930    	RET	
                           A  4931    
                           A  4932    
                           A  4933    ;**************************** _game_initLevel *
                           A  4934    ;Name                         Addr/Register   S
                           A  4935    ;_currentlevel                       STATIC   1
                           A  4936    ;_memcpy                             IMPORT  --
                           A  4937    ;levelid                               IX+6    
                           A  4938    
                           A  4939    
                           A  4940    ; Stack Frame Size: 9 (bytes)
                           A  4941    ;       Spill Code: 0 (instruction)
                           A  4942    
                           A  4943    
                           A  4944    .ENDFUNC "game_initLevel",518,"_game_initLevel"
                           A  4945    ;  519	
                           A  4946    ;  520	void game_initSprites(void)
                           A  4947    ;  521	{
041986                     A  4948    _game_initSprites:
                           A  4949    .DEFINE "_game_initSprites"
                           A  4950    
                           A  4951    .VALUE _game_initSprites
                           A  4952    
                           A  4953    .CLASS 2
                           A  4954    
                           A  4955    .TYPE 65
                           A  4956    
                           A  4957    .ENDEF
                           A  4958    
                           A  4959    .BEGFUNC "game_initSprites",521,"_game_initSpri
                           A  4960    
                           A  4961    .LINE 521
                           A  4962    
                           A  4963    .DEFINE "x"
                           A  4964    
                           A  4965    .CLASS 65
                           A  4966    
                           A  4967    .VALUE -1
                           A  4968    
                           A  4969    .TYPE 12
                           A  4970    
                           A  4971    .ENDEF
                           A  4972    
                           A  4973    .DEFINE "boxsprite"
                           A  4974    
                           A  4975    .CLASS 65
                           A  4976    
                           A  4977    .VALUE -2
                           A  4978    
                           A  4979    .TYPE 12
                           A  4980    
                           A  4981    .ENDEF
                           A  4982    
                           A  4983    .DEFINE "y"
                           A  4984    
                           A  4985    .CLASS 65
                           A  4986    
                           A  4987    .VALUE -3
                           A  4988    
                           A  4989    .TYPE 12
                           A  4990    
                           A  4991    .ENDEF
                           A  4992    
041986 DDE5                A  4993    	PUSH	IX
041988 DD210000 00         A  4994    	LD	IX,0
04198D DD39                A  4995    	ADD	IX,SP
04198F ED22F4              A  4996    	LEA	HL,IX+%FFFFFFF4
041992 F9                  A  4997    	LD	SP,HL
                           A  4998    ;  522		UINT8 x,y;
                           A  4999    ;  523		UINT8 boxsprite = 1;
                           A  5000    .LINE 523
                           A  5001    
041993 DD36FE01            A  5002    	LD	(IX+%FFFFFFFE),%1
                           A  5003    ;  524		
                           A  5004    ;  525		// Now build up the current level
                           A  5005    ;  526		// Player sprite
                           A  5006    ;  527		vdp_spriteSelect(0);
                           A  5007    .LINE 527
                           A  5008    
041997 01000000            A  5009    	LD	BC,0
04199B C5                  A  5010    	PUSH	BC
04199C CD E4 07 04         A  5011    	CALL	_vdp_spriteSelect
0419A0 C1                  A  5012    	POP	BC
                           A  5013    ;  528		vdp_spriteClearFramesSelected();
                           A  5014    .LINE 528
                           A  5015    
0419A1 CD 1D 08 04         A  5016    	CALL	_vdp_spriteClearFramesSelected
                           A  5017    ;  529		vdp_spriteAddFrameSelected(TILE_PLA
                           A  5018    .LINE 529
                           A  5019    
0419A5 01010000            A  5020    	LD	BC,1
0419A9 C5                  A  5021    	PUSH	BC
0419AA CD 66 08 04         A  5022    	CALL	_vdp_spriteAddFrameSelected
0419AE C1                  A  5023    	POP	BC
                           A  5024    ;  530		vdp_spriteHideSelected();
                           A  5025    .LINE 530
                           A  5026    
0419AF CD F4 09 04         A  5027    	CALL	_vdp_spriteHideSelected
                           A  5028    ;  531	
                           A  5029    ;  532		// set sprite positions
                           A  5030    ;  533		for(y = 0; y < currentlevel.height;
                           A  5031    .LINE 533
                           A  5032    
0419B3 DD36FD00            A  5033    	LD	(IX+%FFFFFFFD),%0
0419B7 C3 8F 1A 04         A  5034    	JR	L_143
0419BB                     A  5035    L_141:
                           A  5036    ;  534		{
                           A  5037    ;  535			for(x = 0; x < currentlevel.wid
                           A  5038    .LINE 535
                           A  5039    
0419BB DD36FF00            A  5040    	LD	(IX+%FFFFFFFF),%0
0419BF C3 80 1A 04         A  5041    	JR	L_140
0419C3                     A  5042    L_138:
                           A  5043    ;  536			{
                           A  5044    ;  537				switch(currentlevel.data[y]
                           A  5045    .LINE 537
                           A  5046    
0419C3 DD7EFD              A  5047    	LD	A,(IX+%FFFFFFFD)
0419C6 B7ED62              A  5048    	UEXT	HL
0419C9 6F                  A  5049    	LD	L,A
0419CA 3E28                A  5050    	LD	A,%28
0419CC CD 38 1E 04         A  5051    	CALL	__imul_b
0419D0 DD2FFA              A  5052    	LD	(IX+%FFFFFFFA),HL
0419D3 01 AA 3C 04         A  5053    	LD	BC,_currentlevel+7
0419D7 09                  A  5054    	ADD	HL,BC
0419D8 DD2FF4              A  5055    	LD	(IX+%FFFFFFF4),HL
0419DB DD7EFF              A  5056    	LD	A,(IX+%FFFFFFFF)
0419DE B7ED62              A  5057    	UEXT	HL
0419E1 6F                  A  5058    	LD	L,A
0419E2 DD07F4              A  5059    	LD	BC,(IX+%FFFFFFF4)
0419E5 09                  A  5060    	ADD	HL,BC
0419E6 DD2FF7              A  5061    	LD	(IX+%FFFFFFF7),HL
0419E9 7E                  A  5062    	LD	A,(HL)
0419EA B7ED62              A  5063    	UEXT	HL
0419ED 6F                  A  5064    	LD	L,A
0419EE CD C6 1E 04         A  5065    	CALL	__case8D
0419F2 E9                  A  5066    	JP	(HL)
0419F3                     A  5067    L__48:
0419F3 0200                A  5068    	DW	2
0419F5 24                  A  5069    	DB	36
0419F6 001A04              A  5070    	DW24	L_131	
                           A  5071    
0419F9 2A                  A  5072    	DB	42
0419FA 001A04              A  5073    	DW24	L_132	
                           A  5074    
0419FD 691A04              A  5075    	DW24	L_137	
                           A  5076    
                           A  5077    ;  538				{
                           A  5078    ;  539					case CHAR_BOX:
041A00                     A  5079    L_131:
                           A  5080    .LINE 539
                           A  5081    
                           A  5082    ;  540					case CHAR_BOXONGOAL:
041A00                     A  5083    L_132:
                           A  5084    .LINE 540
                           A  5085    
                           A  5086    ;  541						vdp_spriteSelect(bo
                           A  5087    .LINE 541
                           A  5088    
041A00 DD4EFE              A  5089    	LD	C,(IX+%FFFFFFFE)
041A03 0600                A  5090    	LD	B,%0
041A05 C5                  A  5091    	PUSH	BC
041A06 CD E4 07 04         A  5092    	CALL	_vdp_spriteSelect
041A0A C1                  A  5093    	POP	BC
                           A  5094    ;  542						vdp_spriteClearFram
                           A  5095    .LINE 542
                           A  5096    
041A0B CD 1D 08 04         A  5097    	CALL	_vdp_spriteClearFramesSelected
                           A  5098    ;  543						vdp_spriteAddFrameS
                           A  5099    .LINE 543
                           A  5100    
041A0F 01030000            A  5101    	LD	BC,3
041A13 C5                  A  5102    	PUSH	BC
041A14 CD 66 08 04         A  5103    	CALL	_vdp_spriteAddFrameSelected
041A18 C1                  A  5104    	POP	BC
                           A  5105    ;  544						vdp_spriteAddFrameS
                           A  5106    .LINE 544
                           A  5107    
041A19 01040000            A  5108    	LD	BC,4
041A1D C5                  A  5109    	PUSH	BC
041A1E CD 66 08 04         A  5110    	CALL	_vdp_spriteAddFrameSelected
041A22 C1                  A  5111    	POP	BC
                           A  5112    ;  545						if(currentlevel.dat
                           A  5113    .LINE 545
                           A  5114    
041A23 DD27F7              A  5115    	LD	HL,(IX+%FFFFFFF7)
041A26 7E                  A  5116    	LD	A,(HL)
041A27 B7ED62              A  5117    	UEXT	HL
041A2A 6F                  A  5118    	LD	L,A
041A2B 012A0000            A  5119    	LD	BC,42
041A2F B7                  A  5120    	OR	A,A
041A30 ED42                A  5121    	SBC	HL,BC
041A32 20 0C               A  5122    	JR	NZ,L_134
041A34 01010000            A  5123    	LD	BC,1
041A38 C5                  A  5124    	PUSH	BC
041A39 CD 55 09 04         A  5125    	CALL	_vdp_spriteSetFrameSelected
041A3D C1                  A  5126    	POP	BC
                           A  5127    ;  546						else vdp_spriteSetF
                           A  5128    .LINE 546
                           A  5129    
041A3E 18 0A               A  5130    	JR	L_135
041A40                     A  5131    L_134:
041A40 01000000            A  5132    	LD	BC,0
041A44 C5                  A  5133    	PUSH	BC
041A45 CD 55 09 04         A  5134    	CALL	_vdp_spriteSetFrameSelected
041A49 C1                  A  5135    	POP	BC
041A4A                     A  5136    L_135:
                           A  5137    ;  547						vdp_spriteHideSelec
                           A  5138    .LINE 547
                           A  5139    
041A4A CD F4 09 04         A  5140    	CALL	_vdp_spriteHideSelected
                           A  5141    ;  548						sprites[y][x] = box
                           A  5142    .LINE 548
                           A  5143    
041A4E 01 F3 37 04         A  5144    	LD	BC,_sprites
041A52 DD27FA              A  5145    	LD	HL,(IX+%FFFFFFFA)
041A55 09                  A  5146    	ADD	HL,BC
041A56 E5C1                A  5147    	LD	BC,HL
041A58 DD7EFF              A  5148    	LD	A,(IX+%FFFFFFFF)
041A5B B7ED62              A  5149    	UEXT	HL
041A5E 6F                  A  5150    	LD	L,A
041A5F 09                  A  5151    	ADD	HL,BC
041A60 DD7EFE              A  5152    	LD	A,(IX+%FFFFFFFE)
041A63 77                  A  5153    	LD	(HL),A
                           A  5154    ;  549						boxsprite++;
                           A  5155    .LINE 549
                           A  5156    
041A64 DD34FE              A  5157    	INC	(IX+%FFFFFFFE)
                           A  5158    ;  550						break;
                           A  5159    .LINE 550
                           A  5160    
041A67 18 14               A  5161    	JR	L_139
                           A  5162    ;  551					default:
041A69                     A  5163    L_137:
                           A  5164    .LINE 551
                           A  5165    
                           A  5166    ;  552						sprites[y][x] = NOS
                           A  5167    .LINE 552
                           A  5168    
041A69 01 F3 37 04         A  5169    	LD	BC,_sprites
041A6D DD27FA              A  5170    	LD	HL,(IX+%FFFFFFFA)
041A70 09                  A  5171    	ADD	HL,BC
041A71 E5C1                A  5172    	LD	BC,HL
041A73 DD7EFF              A  5173    	LD	A,(IX+%FFFFFFFF)
041A76 B7ED62              A  5174    	UEXT	HL
041A79 6F                  A  5175    	LD	L,A
041A7A 09                  A  5176    	ADD	HL,BC
041A7B 36FF                A  5177    	LD	(HL),%FF
                           A  5178    ;  553						break;
                           A  5179    ;  554				}	
                           A  5180    ;  555			}
041A7D                     A  5181    L_139:
                           A  5182    .LINE 555
                           A  5183    
041A7D DD34FF              A  5184    	INC	(IX+%FFFFFFFF)
041A80                     A  5185    L_140:
041A80 DD7EFF              A  5186    	LD	A,(IX+%FFFFFFFF)
041A83 21 A5 3C 04         A  5187    	LD	HL,_currentlevel+2
041A87 BE                  A  5188    	CP	A,(HL)
041A88 DA C3 19 04         A  5189    	JR	C,L_138
041A8C DD34FD              A  5190    	INC	(IX+%FFFFFFFD)
                           A  5191    ;  556		}
041A8F                     A  5192    L_143:
                           A  5193    .LINE 556
                           A  5194    
041A8F DD7EFD              A  5195    	LD	A,(IX+%FFFFFFFD)
041A92 21 A6 3C 04         A  5196    	LD	HL,_currentlevel+3
041A96 BE                  A  5197    	CP	A,(HL)
041A97 DA BB 19 04         A  5198    	JR	C,L_141
                           A  5199    ;  557	
                           A  5200    ;  558		// activate all sprites. boxsprite 
                           A  5201    ;  559		spritenumber = boxsprite;
                           A  5202    .LINE 559
                           A  5203    
041A9B DD7EFE              A  5204    	LD	A,(IX+%FFFFFFFE)
041A9E 32 5A 41 04         A  5205    	LD	(_spritenumber),A
                           A  5206    ;  560		vdp_spriteActivateTotal(spritenumbe
                           A  5207    .LINE 560
                           A  5208    
041AA2 4F                  A  5209    	LD	C,A
041AA3 0600                A  5210    	LD	B,%0
041AA5 C5                  A  5211    	PUSH	BC
041AA6 CD 07 0B 04         A  5212    	CALL	_vdp_spriteActivateTotal
041AAA C1                  A  5213    	POP	BC
                           A  5214    ;  561	}
                           A  5215    .LINE 561
                           A  5216    
041AAB DDF9                A  5217    	LD	SP,IX
041AAD DDE1                A  5218    	POP	IX
041AAF C9                  A  5219    	RET	
                           A  5220    
                           A  5221    
                           A  5222    ;**************************** _game_initSprites
                           A  5223    ;Name                         Addr/Register   S
                           A  5224    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  5225    ;_spritenumber                       STATIC    
                           A  5226    ;_sprites                            STATIC   1
                           A  5227    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  5228    ;_currentlevel                       STATIC   1
                           A  5229    ;_vdp_spriteHideSelected             IMPORT  --
                           A  5230    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  5231    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  5232    ;_vdp_spriteSelect                   IMPORT  --
                           A  5233    ;G_14                                 IX-12    
                           A  5234    ;G_15                                  IX-9    
                           A  5235    ;G_16                                  IX-6    
                           A  5236    ;y                                     IX-3    
                           A  5237    ;boxsprite                             IX-2    
                           A  5238    ;x                                     IX-1    
                           A  5239    
                           A  5240    
                           A  5241    ; Stack Frame Size: 18 (bytes)
                           A  5242    ;       Spill Code: 0 (instruction)
                           A  5243    
                           A  5244    
                           A  5245    .ENDFUNC "game_initSprites",561,"_game_initSpri
                           A  5246    	XREF _strlen:ROM
                           A  5247    	XREF _memset:ROM
                           A  5248    	XREF _memcpy:ROM
                           A  5249    	XREF ___print_sendstring:ROM
                           A  5250    	XREF ___print_xputch:ROM
                           A  5251    	XREF ___print_uputch:ROM
                           A  5252    	XREF _vdp_spriteRefresh:ROM
                           A  5253    	XREF _vdp_spriteActivateTotal:ROM
                           A  5254    	XREF _vdp_spriteMoveBySelected:ROM
                           A  5255    	XREF _vdp_spriteMoveToSelected:ROM
                           A  5256    	XREF _vdp_spriteHide:ROM
                           A  5257    	XREF _vdp_spriteHideSelected:ROM
                           A  5258    	XREF _vdp_spriteShowSelected:ROM
                           A  5259    	XREF _vdp_spriteSetFrame:ROM
                           A  5260    	XREF _vdp_spriteSetFrameSelected:ROM
                           A  5261    	XREF _vdp_spriteAddFrameSelected:ROM
                           A  5262    	XREF _vdp_spriteClearFramesSelected:ROM
                           A  5263    	XREF _vdp_spriteSelect:ROM
                           A  5264    	XREF _vdp_bitmapCreateSolidColor:ROM
                           A  5265    	XREF _vdp_bitmapDraw:ROM
                           A  5266    	XREF _vdp_bitmapSendData:ROM
                           A  5267    	XREF _vdp_cursorGoto:ROM
                           A  5268    	XREF _vdp_cls:ROM
                           A  5269    	XREF _mos_feof:ROM
                           A  5270    	XREF _mos_fgetc:ROM
                           A  5271    	XREF _mos_fclose:ROM
                           A  5272    	XREF _mos_fopen:ROM
                           A  5273    	XREF _getch:ROM
                           A  5274    	XREF _putch:ROM
                           A  5275    	XREF __idivs:ROM
                           A  5276    	XREF __imulu:ROM
                           A  5277    	XREF __stoi:ROM
                           A  5278    	XREF __stoiu:ROM
                           A  5279    	XREF __scmpzero:ROM
                           A  5280    	XREF __case8D:ROM
                           A  5281    	XREF __imul_b:ROM
                           A  5282    	XDEF _game_initSprites
                           A  5283    	XDEF _game_initLevel
                           A  5284    	XDEF _game_readLevels
                           A  5285    	XDEF _game_displayLevel
                           A  5286    	XDEF _debug_print_playfieldText
                           A  5287    	XDEF _game_selectLevel
                           A  5288    	XDEF _game_getResponse
                           A  5289    	XDEF _game_handleKey
                           A  5290    	XDEF _move_updatelevel
                           A  5291    	XDEF _move_sprites
                           A  5292    	XDEF _canmove
                           A  5293    	XDEF _game_resetSprites
                           A  5294    	XDEF _game_sendSpriteData
                           A  5295    	XDEF _lookup
                           A  5296    	XDEF _boxongoal_data
                           A  5297    	XDEF _box_data
                           A  5298    	XDEF _goal_data
                           A  5299    	XDEF _player_data
                           A  5300    	XDEF _wall_data
                           A  5301    	XDEF _spritenumber
                           A  5302    	XDEF _currentlevel
                           A  5303    	XDEF _sprites
                           A  5304    	XDEF _bitmapbuffer
                           A  5305    	END


Errors: 0
Warnings: 0
Lines Assembled: 5306
