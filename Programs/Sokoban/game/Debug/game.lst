Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED10-Dec-22     18:06:53     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\game.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "sokobanlevel",1207
                           A     9    .DEFINE "xpos"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "ypos"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "width"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "height"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "goals"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "goalstaken"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "crates"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "data"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .DIM 30
                           A    48    .DIM 40
                           A    49    .TYPE 876
                           A    50    .ENDEF
                           A    51    .ENDREC "sokobanlevel"
                           A    52    .BEGREC "NONAME0",2
                           A    53    .DEFINE "ch"
                           A    54    .VALUE 0
                           A    55    .CLASS 8
                           A    56    .TYPE 2
                           A    57    .ENDEF
                           A    58    .DEFINE "tile_id"
                           A    59    .VALUE 1
                           A    60    .CLASS 8
                           A    61    .TYPE 12
                           A    62    .ENDEF
                           A    63    .ENDREC "NONAME0"
                           A    64    .BEGREC "fmt_type",19
                           A    65    .DEFINE "status"
                           A    66    .VALUE 0
                           A    67    .CLASS 8
                           A    68    .TYPE 12
                           A    69    .ENDEF
                           A    70    .DEFINE "flags"
                           A    71    .VALUE 1
                           A    72    .CLASS 8
                           A    73    .TYPE 12
                           A    74    .ENDEF
                           A    75    .DEFINE "size"
                           A    76    .VALUE 2
                           A    77    .CLASS 8
                           A    78    .TYPE 2
                           A    79    .ENDEF
                           A    80    .DEFINE "chr"
                           A    81    .VALUE 3
                           A    82    .CLASS 8
                           A    83    .TYPE 2
                           A    84    .ENDEF
                           A    85    .DEFINE "type"
                           A    86    .VALUE 4
                           A    87    .CLASS 8
                           A    88    .TYPE 2
                           A    89    .ENDEF
                           A    90    .DEFINE "field_width"
                           A    91    .VALUE 5
                           A    92    .CLASS 8
                           A    93    .TYPE 2
                           A    94    .ENDEF
                           A    95    .DEFINE "precision"
                           A    96    .VALUE 6
                           A    97    .CLASS 8
                           A    98    .TYPE 2
                           A    99    .ENDEF
                           A   100    .DEFINE "set_begin"
                           A   101    .VALUE 7
                           A   102    .CLASS 8
                           A   103    .TYPE 34
                           A   104    .ENDEF
                           A   105    .DEFINE "set_end"
                           A   106    .VALUE 10
                           A   107    .CLASS 8
                           A   108    .TYPE 34
                           A   109    .ENDEF
                           A   110    .DEFINE "pad_whole"
                           A   111    .VALUE 13
                           A   112    .CLASS 8
                           A   113    .TYPE 12
                           A   114    .ENDEF
                           A   115    .DEFINE "pad_pre_fract"
                           A   116    .VALUE 14
                           A   117    .CLASS 8
                           A   118    .TYPE 12
                           A   119    .ENDEF
                           A   120    .DEFINE "pad_post_fract"
                           A   121    .VALUE 15
                           A   122    .CLASS 8
                           A   123    .TYPE 12
                           A   124    .ENDEF
                           A   125    .DEFINE "pad_at"
                           A   126    .VALUE 16
                           A   127    .CLASS 8
                           A   128    .TYPE 34
                           A   129    .ENDEF
                           A   130    .ENDREC "fmt_type"
                           A   131    .BEGREC "flt_info",12
                           A   132    .DEFINE "flags"
                           A   133    .VALUE 0
                           A   134    .CLASS 8
                           A   135    .TYPE 12
                           A   136    .ENDEF
                           A   137    .DEFINE "exp"
                           A   138    .VALUE 1
                           A   139    .CLASS 8
                           A   140    .TYPE 2
                           A   141    .ENDEF
                           A   142    .DEFINE "digits"
                           A   143    .VALUE 2
                           A   144    .CLASS 8
                           A   145    .DIM 10
                           A   146    .TYPE 108
                           A   147    .ENDEF
                           A   148    .ENDREC "flt_info"
                           A   149    	SEGMENT BSS
043742                     A   150    _bitmapbuffer:
043742                     A   151    	DS	1024
                           A   152    .DEFINE "bitmapbuffer"
                           A   153    .ALIAS "_bitmapbuffer"
                           A   154    .CLASS 83
                           A   155    .VALUE _bitmapbuffer
                           A   156    .DIM 256
                           A   157    .TYPE 111
                           A   158    .ENDEF
043B42                     A   159    _sprites:
043B42                     A   160    	DS	1200
                           A   161    .DEFINE "sprites"
                           A   162    .ALIAS "_sprites"
                           A   163    .CLASS 83
                           A   164    .VALUE _sprites
                           A   165    .DIM 30
                           A   166    .DIM 40
                           A   167    .TYPE 876
                           A   168    .ENDEF
043FF2                     A   169    _currentlevel:
043FF2                     A   170    	DS	1207
                           A   171    .DEFINE "currentlevel"
                           A   172    .ALIAS "_currentlevel"
                           A   173    .CLASS 83
                           A   174    .VALUE _currentlevel
                           A   175    .TAG "sokobanlevel"
                           A   176    .TYPE 8
                           A   177    .ENDEF
0444A9                     A   178    _spritenumber:
0444A9                     A   179    	DS	1
                           A   180    .DEFINE "spritenumber"
                           A   181    .ALIAS "_spritenumber"
                           A   182    .CLASS 83
                           A   183    .VALUE _spritenumber
                           A   184    .TYPE 12
                           A   185    .ENDEF
                           A   186    	SEGMENT DATA
042114                     A   187    _wall_data:
042114 808000FF            A   188    	DL	-16744320
042118 808000FF            A   189    	DL	-16744320
04211C 808000FF            A   190    	DL	-16744320
042120 808000FF            A   191    	DL	-16744320
042124 808000FF            A   192    	DL	-16744320
042128 808000FF            A   193    	DL	-16744320
04212C 808000FF            A   194    	DL	-16744320
042130 404040FF            A   195    	DL	-12566464
042134 808000FF            A   196    	DL	-16744320
042138 808000FF            A   197    	DL	-16744320
04213C 808000FF            A   198    	DL	-16744320
042140 808000FF            A   199    	DL	-16744320
042144 808000FF            A   200    	DL	-16744320
042148 808000FF            A   201    	DL	-16744320
04214C 808000FF            A   202    	DL	-16744320
042150 808000FF            A   203    	DL	-16744320
042154 800000FF            A   204    	DL	-16777088
042158 800000FF            A   205    	DL	-16777088
04215C 800000FF            A   206    	DL	-16777088
042160 800000FF            A   207    	DL	-16777088
042164 800000FF            A   208    	DL	-16777088
042168 800000FF            A   209    	DL	-16777088
04216C 808080FF            A   210    	DL	-8355712
042170 404040FF            A   211    	DL	-12566464
042174 808000FF            A   212    	DL	-16744320
042178 800000FF            A   213    	DL	-16777088
04217C 800000FF            A   214    	DL	-16777088
042180 800000FF            A   215    	DL	-16777088
042184 800000FF            A   216    	DL	-16777088
042188 800000FF            A   217    	DL	-16777088
04218C 800000FF            A   218    	DL	-16777088
042190 800000FF            A   219    	DL	-16777088
042194 800000FF            A   220    	DL	-16777088
042198 800000FF            A   221    	DL	-16777088
04219C 800000FF            A   222    	DL	-16777088
0421A0 800000FF            A   223    	DL	-16777088
0421A4 800000FF            A   224    	DL	-16777088
0421A8 800000FF            A   225    	DL	-16777088
0421AC 808080FF            A   226    	DL	-8355712
0421B0 404040FF            A   227    	DL	-12566464
0421B4 808000FF            A   228    	DL	-16744320
0421B8 800000FF            A   229    	DL	-16777088
0421BC 808080FF            A   230    	DL	-8355712
0421C0 800000FF            A   231    	DL	-16777088
0421C4 800000FF            A   232    	DL	-16777088
0421C8 800000FF            A   233    	DL	-16777088
0421CC 800000FF            A   234    	DL	-16777088
0421D0 800000FF            A   235    	DL	-16777088
0421D4 800000FF            A   236    	DL	-16777088
0421D8 800000FF            A   237    	DL	-16777088
0421DC 808080FF            A   238    	DL	-8355712
0421E0 808080FF            A   239    	DL	-8355712
0421E4 800000FF            A   240    	DL	-16777088
0421E8 800000FF            A   241    	DL	-16777088
0421EC 808080FF            A   242    	DL	-8355712
0421F0 404040FF            A   243    	DL	-12566464
0421F4 808000FF            A   244    	DL	-16744320
0421F8 800000FF            A   245    	DL	-16777088
0421FC 800000FF            A   246    	DL	-16777088
042200 800000FF            A   247    	DL	-16777088
042204 800000FF            A   248    	DL	-16777088
042208 800000FF            A   249    	DL	-16777088
04220C 800000FF            A   250    	DL	-16777088
042210 800000FF            A   251    	DL	-16777088
042214 800000FF            A   252    	DL	-16777088
042218 800000FF            A   253    	DL	-16777088
04221C 800000FF            A   254    	DL	-16777088
042220 800000FF            A   255    	DL	-16777088
042224 800000FF            A   256    	DL	-16777088
042228 800000FF            A   257    	DL	-16777088
04222C 808080FF            A   258    	DL	-8355712
042230 404040FF            A   259    	DL	-12566464
042234 808000FF            A   260    	DL	-16744320
042238 800000FF            A   261    	DL	-16777088
04223C 800000FF            A   262    	DL	-16777088
042240 800000FF            A   263    	DL	-16777088
042244 800000FF            A   264    	DL	-16777088
042248 800000FF            A   265    	DL	-16777088
04224C 800000FF            A   266    	DL	-16777088
042250 800000FF            A   267    	DL	-16777088
042254 800000FF            A   268    	DL	-16777088
042258 800000FF            A   269    	DL	-16777088
04225C 800000FF            A   270    	DL	-16777088
042260 800000FF            A   271    	DL	-16777088
042264 800000FF            A   272    	DL	-16777088
042268 800000FF            A   273    	DL	-16777088
04226C 808080FF            A   274    	DL	-8355712
042270 404040FF            A   275    	DL	-12566464
042274 808000FF            A   276    	DL	-16744320
042278 800000FF            A   277    	DL	-16777088
04227C 800000FF            A   278    	DL	-16777088
042280 800000FF            A   279    	DL	-16777088
042284 800000FF            A   280    	DL	-16777088
042288 808080FF            A   281    	DL	-8355712
04228C 808080FF            A   282    	DL	-8355712
042290 800000FF            A   283    	DL	-16777088
042294 808080FF            A   284    	DL	-8355712
042298 808080FF            A   285    	DL	-8355712
04229C 808080FF            A   286    	DL	-8355712
0422A0 808080FF            A   287    	DL	-8355712
0422A4 808080FF            A   288    	DL	-8355712
0422A8 808080FF            A   289    	DL	-8355712
0422AC 808080FF            A   290    	DL	-8355712
0422B0 404040FF            A   291    	DL	-12566464
0422B4 808000FF            A   292    	DL	-16744320
0422B8 808080FF            A   293    	DL	-8355712
0422BC 808080FF            A   294    	DL	-8355712
0422C0 808080FF            A   295    	DL	-8355712
0422C4 808080FF            A   296    	DL	-8355712
0422C8 808080FF            A   297    	DL	-8355712
0422CC 808080FF            A   298    	DL	-8355712
0422D0 808080FF            A   299    	DL	-8355712
0422D4 404040FF            A   300    	DL	-12566464
0422D8 404040FF            A   301    	DL	-12566464
0422DC 404040FF            A   302    	DL	-12566464
0422E0 404040FF            A   303    	DL	-12566464
0422E4 404040FF            A   304    	DL	-12566464
0422E8 404040FF            A   305    	DL	-12566464
0422EC 404040FF            A   306    	DL	-12566464
0422F0 404040FF            A   307    	DL	-12566464
0422F4 404040FF            A   308    	DL	-12566464
0422F8 404040FF            A   309    	DL	-12566464
0422FC 404040FF            A   310    	DL	-12566464
042300 404040FF            A   311    	DL	-12566464
042304 404040FF            A   312    	DL	-12566464
042308 404040FF            A   313    	DL	-12566464
04230C 404040FF            A   314    	DL	-12566464
042310 404040FF            A   315    	DL	-12566464
042314 404040FF            A   316    	DL	-12566464
042318 808000FF            A   317    	DL	-16744320
04231C 808000FF            A   318    	DL	-16744320
042320 808000FF            A   319    	DL	-16744320
042324 808000FF            A   320    	DL	-16744320
042328 808000FF            A   321    	DL	-16744320
04232C 808000FF            A   322    	DL	-16744320
042330 808000FF            A   323    	DL	-16744320
042334 808000FF            A   324    	DL	-16744320
042338 808000FF            A   325    	DL	-16744320
04233C 808000FF            A   326    	DL	-16744320
042340 808000FF            A   327    	DL	-16744320
042344 808000FF            A   328    	DL	-16744320
042348 808000FF            A   329    	DL	-16744320
04234C 808000FF            A   330    	DL	-16744320
042350 808000FF            A   331    	DL	-16744320
042354 404040FF            A   332    	DL	-12566464
042358 808000FF            A   333    	DL	-16744320
04235C 808000FF            A   334    	DL	-16744320
042360 800000FF            A   335    	DL	-16777088
042364 808080FF            A   336    	DL	-8355712
042368 808080FF            A   337    	DL	-8355712
04236C 800000FF            A   338    	DL	-16777088
042370 800000FF            A   339    	DL	-16777088
042374 800000FF            A   340    	DL	-16777088
042378 800000FF            A   341    	DL	-16777088
04237C 800000FF            A   342    	DL	-16777088
042380 800000FF            A   343    	DL	-16777088
042384 800000FF            A   344    	DL	-16777088
042388 800000FF            A   345    	DL	-16777088
04238C 800000FF            A   346    	DL	-16777088
042390 808080FF            A   347    	DL	-8355712
042394 404040FF            A   348    	DL	-12566464
042398 808000FF            A   349    	DL	-16744320
04239C 800000FF            A   350    	DL	-16777088
0423A0 800000FF            A   351    	DL	-16777088
0423A4 800000FF            A   352    	DL	-16777088
0423A8 800000FF            A   353    	DL	-16777088
0423AC 800000FF            A   354    	DL	-16777088
0423B0 800000FF            A   355    	DL	-16777088
0423B4 800000FF            A   356    	DL	-16777088
0423B8 800000FF            A   357    	DL	-16777088
0423BC 800000FF            A   358    	DL	-16777088
0423C0 800000FF            A   359    	DL	-16777088
0423C4 800000FF            A   360    	DL	-16777088
0423C8 800000FF            A   361    	DL	-16777088
0423CC 800000FF            A   362    	DL	-16777088
0423D0 808080FF            A   363    	DL	-8355712
0423D4 404040FF            A   364    	DL	-12566464
0423D8 808000FF            A   365    	DL	-16744320
0423DC 800000FF            A   366    	DL	-16777088
0423E0 800000FF            A   367    	DL	-16777088
0423E4 800000FF            A   368    	DL	-16777088
0423E8 800000FF            A   369    	DL	-16777088
0423EC 808080FF            A   370    	DL	-8355712
0423F0 808080FF            A   371    	DL	-8355712
0423F4 800000FF            A   372    	DL	-16777088
0423F8 800000FF            A   373    	DL	-16777088
0423FC 800000FF            A   374    	DL	-16777088
042400 800000FF            A   375    	DL	-16777088
042404 800000FF            A   376    	DL	-16777088
042408 800000FF            A   377    	DL	-16777088
04240C 800000FF            A   378    	DL	-16777088
042410 808080FF            A   379    	DL	-8355712
042414 404040FF            A   380    	DL	-12566464
042418 808000FF            A   381    	DL	-16744320
04241C 800000FF            A   382    	DL	-16777088
042420 800000FF            A   383    	DL	-16777088
042424 800000FF            A   384    	DL	-16777088
042428 800000FF            A   385    	DL	-16777088
04242C 800000FF            A   386    	DL	-16777088
042430 800000FF            A   387    	DL	-16777088
042434 800000FF            A   388    	DL	-16777088
042438 800000FF            A   389    	DL	-16777088
04243C 800000FF            A   390    	DL	-16777088
042440 800000FF            A   391    	DL	-16777088
042444 800000FF            A   392    	DL	-16777088
042448 808080FF            A   393    	DL	-8355712
04244C 800000FF            A   394    	DL	-16777088
042450 808080FF            A   395    	DL	-8355712
042454 404040FF            A   396    	DL	-12566464
042458 808000FF            A   397    	DL	-16744320
04245C 800000FF            A   398    	DL	-16777088
042460 800000FF            A   399    	DL	-16777088
042464 800000FF            A   400    	DL	-16777088
042468 800000FF            A   401    	DL	-16777088
04246C 800000FF            A   402    	DL	-16777088
042470 800000FF            A   403    	DL	-16777088
042474 800000FF            A   404    	DL	-16777088
042478 800000FF            A   405    	DL	-16777088
04247C 800000FF            A   406    	DL	-16777088
042480 800000FF            A   407    	DL	-16777088
042484 800000FF            A   408    	DL	-16777088
042488 800000FF            A   409    	DL	-16777088
04248C 800000FF            A   410    	DL	-16777088
042490 808080FF            A   411    	DL	-8355712
042494 404040FF            A   412    	DL	-12566464
042498 808000FF            A   413    	DL	-16744320
04249C 808080FF            A   414    	DL	-8355712
0424A0 808080FF            A   415    	DL	-8355712
0424A4 808080FF            A   416    	DL	-8355712
0424A8 808080FF            A   417    	DL	-8355712
0424AC 808080FF            A   418    	DL	-8355712
0424B0 808080FF            A   419    	DL	-8355712
0424B4 808080FF            A   420    	DL	-8355712
0424B8 808080FF            A   421    	DL	-8355712
0424BC 808080FF            A   422    	DL	-8355712
0424C0 808080FF            A   423    	DL	-8355712
0424C4 808080FF            A   424    	DL	-8355712
0424C8 808080FF            A   425    	DL	-8355712
0424CC 808080FF            A   426    	DL	-8355712
0424D0 808080FF            A   427    	DL	-8355712
0424D4 404040FF            A   428    	DL	-12566464
0424D8 404040FF            A   429    	DL	-12566464
0424DC 404040FF            A   430    	DL	-12566464
0424E0 404040FF            A   431    	DL	-12566464
0424E4 404040FF            A   432    	DL	-12566464
0424E8 404040FF            A   433    	DL	-12566464
0424EC 404040FF            A   434    	DL	-12566464
0424F0 404040FF            A   435    	DL	-12566464
0424F4 404040FF            A   436    	DL	-12566464
0424F8 404040FF            A   437    	DL	-12566464
0424FC 404040FF            A   438    	DL	-12566464
042500 404040FF            A   439    	DL	-12566464
042504 404040FF            A   440    	DL	-12566464
042508 404040FF            A   441    	DL	-12566464
04250C 404040FF            A   442    	DL	-12566464
042510 404040FF            A   443    	DL	-12566464
                           A   444    .DEFINE "wall_data"
                           A   445    .ALIAS "_wall_data"
                           A   446    .CLASS 69
                           A   447    .VALUE _wall_data
                           A   448    .DIM 1
                           A   449    .DIM 256
                           A   450    .TYPE 879
                           A   451    .ENDEF
042514                     A   452    _player_data:
042514 00000000            A   453    	DL	0
042518 00000000            A   454    	DL	0
04251C 00000000            A   455    	DL	0
042520 00000000            A   456    	DL	0
042524 00000000            A   457    	DL	0
042528 000000FF            A   458    	DL	-16777216
04252C 000000FF            A   459    	DL	-16777216
042530 000000FF            A   460    	DL	-16777216
042534 000000FF            A   461    	DL	-16777216
042538 404040FF            A   462    	DL	-12566464
04253C 00000000            A   463    	DL	0
042540 00000000            A   464    	DL	0
042544 00000000            A   465    	DL	0
042548 00000000            A   466    	DL	0
04254C 00000000            A   467    	DL	0
042550 00000000            A   468    	DL	0
042554 00000000            A   469    	DL	0
042558 00000000            A   470    	DL	0
04255C 00000000            A   471    	DL	0
042560 00000000            A   472    	DL	0
042564 000000FF            A   473    	DL	-16777216
042568 000000FF            A   474    	DL	-16777216
04256C 000000FF            A   475    	DL	-16777216
042570 000000FF            A   476    	DL	-16777216
042574 000000FF            A   477    	DL	-16777216
042578 000000FF            A   478    	DL	-16777216
04257C 000000FF            A   479    	DL	-16777216
042580 00000000            A   480    	DL	0
042584 00000000            A   481    	DL	0
042588 00000000            A   482    	DL	0
04258C 00000000            A   483    	DL	0
042590 00000000            A   484    	DL	0
042594 00000000            A   485    	DL	0
042598 00000000            A   486    	DL	0
04259C 00000000            A   487    	DL	0
0425A0 404040FF            A   488    	DL	-12566464
0425A4 000000FF            A   489    	DL	-16777216
0425A8 404040FF            A   490    	DL	-12566464
0425AC 808000FF            A   491    	DL	-16744320
0425B0 808000FF            A   492    	DL	-16744320
0425B4 808000FF            A   493    	DL	-16744320
0425B8 404040FF            A   494    	DL	-12566464
0425BC 000000FF            A   495    	DL	-16777216
0425C0 404040FF            A   496    	DL	-12566464
0425C4 00000000            A   497    	DL	0
0425C8 00000000            A   498    	DL	0
0425CC 00000000            A   499    	DL	0
0425D0 00000000            A   500    	DL	0
0425D4 00000000            A   501    	DL	0
0425D8 00000000            A   502    	DL	0
0425DC 00000000            A   503    	DL	0
0425E0 000000FF            A   504    	DL	-16777216
0425E4 404040FF            A   505    	DL	-12566464
0425E8 808000FF            A   506    	DL	-16744320
0425EC 808000FF            A   507    	DL	-16744320
0425F0 808000FF            A   508    	DL	-16744320
0425F4 808000FF            A   509    	DL	-16744320
0425F8 808000FF            A   510    	DL	-16744320
0425FC 404040FF            A   511    	DL	-12566464
042600 000000FF            A   512    	DL	-16777216
042604 00000000            A   513    	DL	0
042608 00000000            A   514    	DL	0
04260C 00000000            A   515    	DL	0
042610 00000000            A   516    	DL	0
042614 00000000            A   517    	DL	0
042618 00000000            A   518    	DL	0
04261C 00000000            A   519    	DL	0
042620 404040FF            A   520    	DL	-12566464
042624 808080FF            A   521    	DL	-8355712
042628 000000FF            A   522    	DL	-16777216
04262C 000000FF            A   523    	DL	-16777216
042630 808000FF            A   524    	DL	-16744320
042634 000000FF            A   525    	DL	-16777216
042638 000000FF            A   526    	DL	-16777216
04263C 808080FF            A   527    	DL	-8355712
042640 404040FF            A   528    	DL	-12566464
042644 00000000            A   529    	DL	0
042648 00000000            A   530    	DL	0
04264C 00000000            A   531    	DL	0
042650 00000000            A   532    	DL	0
042654 00000000            A   533    	DL	0
042658 00000000            A   534    	DL	0
04265C 00000000            A   535    	DL	0
042660 00000000            A   536    	DL	0
042664 000000FF            A   537    	DL	-16777216
042668 808000FF            A   538    	DL	-16744320
04266C 808000FF            A   539    	DL	-16744320
042670 808000FF            A   540    	DL	-16744320
042674 808000FF            A   541    	DL	-16744320
042678 808000FF            A   542    	DL	-16744320
04267C 000000FF            A   543    	DL	-16777216
042680 00000000            A   544    	DL	0
042684 00000000            A   545    	DL	0
042688 00000000            A   546    	DL	0
04268C 00000000            A   547    	DL	0
042690 00000000            A   548    	DL	0
042694 00000000            A   549    	DL	0
042698 00000000            A   550    	DL	0
04269C 00000000            A   551    	DL	0
0426A0 00000000            A   552    	DL	0
0426A4 00000000            A   553    	DL	0
0426A8 000000FF            A   554    	DL	-16777216
0426AC 808080FF            A   555    	DL	-8355712
0426B0 808080FF            A   556    	DL	-8355712
0426B4 808080FF            A   557    	DL	-8355712
0426B8 000000FF            A   558    	DL	-16777216
0426BC 00000000            A   559    	DL	0
0426C0 00000000            A   560    	DL	0
0426C4 00000000            A   561    	DL	0
0426C8 00000000            A   562    	DL	0
0426CC 00000000            A   563    	DL	0
0426D0 00000000            A   564    	DL	0
0426D4 00000000            A   565    	DL	0
0426D8 00000000            A   566    	DL	0
0426DC 00000000            A   567    	DL	0
0426E0 00000000            A   568    	DL	0
0426E4 000000FF            A   569    	DL	-16777216
0426E8 800000FF            A   570    	DL	-16777088
0426EC 000000FF            A   571    	DL	-16777216
0426F0 000000FF            A   572    	DL	-16777216
0426F4 000000FF            A   573    	DL	-16777216
0426F8 800000FF            A   574    	DL	-16777088
0426FC 000000FF            A   575    	DL	-16777216
042700 00000000            A   576    	DL	0
042704 00000000            A   577    	DL	0
042708 00000000            A   578    	DL	0
04270C 00000000            A   579    	DL	0
042710 00000000            A   580    	DL	0
042714 00000000            A   581    	DL	0
042718 00000000            A   582    	DL	0
04271C 00000000            A   583    	DL	0
042720 000000FF            A   584    	DL	-16777216
042724 800000FF            A   585    	DL	-16777088
042728 FF0000FF            A   586    	DL	-16776961
04272C FF0000FF            A   587    	DL	-16776961
042730 FF0000FF            A   588    	DL	-16776961
042734 FF0000FF            A   589    	DL	-16776961
042738 FF0000FF            A   590    	DL	-16776961
04273C 800000FF            A   591    	DL	-16777088
042740 000000FF            A   592    	DL	-16777216
042744 00000000            A   593    	DL	0
042748 00000000            A   594    	DL	0
04274C 00000000            A   595    	DL	0
042750 00000000            A   596    	DL	0
042754 00000000            A   597    	DL	0
042758 00000000            A   598    	DL	0
04275C 000000FF            A   599    	DL	-16777216
042760 FF0000FF            A   600    	DL	-16776961
042764 FF0000FF            A   601    	DL	-16776961
042768 FF0000FF            A   602    	DL	-16776961
04276C FF0000FF            A   603    	DL	-16776961
042770 FF0000FF            A   604    	DL	-16776961
042774 FF0000FF            A   605    	DL	-16776961
042778 FF0000FF            A   606    	DL	-16776961
04277C FF0000FF            A   607    	DL	-16776961
042780 FF0000FF            A   608    	DL	-16776961
042784 000000FF            A   609    	DL	-16777216
042788 00000000            A   610    	DL	0
04278C 00000000            A   611    	DL	0
042790 00000000            A   612    	DL	0
042794 00000000            A   613    	DL	0
042798 00000000            A   614    	DL	0
04279C 404040FF            A   615    	DL	-12566464
0427A0 800000FF            A   616    	DL	-16777088
0427A4 FF0000FF            A   617    	DL	-16776961
0427A8 800000FF            A   618    	DL	-16777088
0427AC FF0000FF            A   619    	DL	-16776961
0427B0 FF0000FF            A   620    	DL	-16776961
0427B4 FF0000FF            A   621    	DL	-16776961
0427B8 800000FF            A   622    	DL	-16777088
0427BC FF0000FF            A   623    	DL	-16776961
0427C0 800000FF            A   624    	DL	-16777088
0427C4 404040FF            A   625    	DL	-12566464
0427C8 00000000            A   626    	DL	0
0427CC 00000000            A   627    	DL	0
0427D0 00000000            A   628    	DL	0
0427D4 00000000            A   629    	DL	0
0427D8 000000FF            A   630    	DL	-16777216
0427DC 808000FF            A   631    	DL	-16744320
0427E0 808000FF            A   632    	DL	-16744320
0427E4 800000FF            A   633    	DL	-16777088
0427E8 800000FF            A   634    	DL	-16777088
0427EC FF0000FF            A   635    	DL	-16776961
0427F0 FF0000FF            A   636    	DL	-16776961
0427F4 FF0000FF            A   637    	DL	-16776961
0427F8 800000FF            A   638    	DL	-16777088
0427FC 800000FF            A   639    	DL	-16777088
042800 808000FF            A   640    	DL	-16744320
042804 808000FF            A   641    	DL	-16744320
042808 000000FF            A   642    	DL	-16777216
04280C 00000000            A   643    	DL	0
042810 00000000            A   644    	DL	0
042814 00000000            A   645    	DL	0
042818 000000FF            A   646    	DL	-16777216
04281C 808000FF            A   647    	DL	-16744320
042820 808000FF            A   648    	DL	-16744320
042824 000000FF            A   649    	DL	-16777216
042828 000080FF            A   650    	DL	-8388608
04282C 000080FF            A   651    	DL	-8388608
042830 000080FF            A   652    	DL	-8388608
042834 000080FF            A   653    	DL	-8388608
042838 000080FF            A   654    	DL	-8388608
04283C 000000FF            A   655    	DL	-16777216
042840 808000FF            A   656    	DL	-16744320
042844 808000FF            A   657    	DL	-16744320
042848 000000FF            A   658    	DL	-16777216
04284C 00000000            A   659    	DL	0
042850 00000000            A   660    	DL	0
042854 00000000            A   661    	DL	0
042858 00000000            A   662    	DL	0
04285C 000000FF            A   663    	DL	-16777216
042860 000000FF            A   664    	DL	-16777216
042864 000080FF            A   665    	DL	-8388608
042868 0000FFFF            A   666    	DL	-65536
04286C 0000FFFF            A   667    	DL	-65536
042870 0000FFFF            A   668    	DL	-65536
042874 0000FFFF            A   669    	DL	-65536
042878 0000FFFF            A   670    	DL	-65536
04287C 000080FF            A   671    	DL	-8388608
042880 000000FF            A   672    	DL	-16777216
042884 000000FF            A   673    	DL	-16777216
042888 00000000            A   674    	DL	0
04288C 00000000            A   675    	DL	0
042890 00000000            A   676    	DL	0
042894 00000000            A   677    	DL	0
042898 00000000            A   678    	DL	0
04289C 00000000            A   679    	DL	0
0428A0 000000FF            A   680    	DL	-16777216
0428A4 000080FF            A   681    	DL	-8388608
0428A8 0000FFFF            A   682    	DL	-65536
0428AC 0000FFFF            A   683    	DL	-65536
0428B0 000080FF            A   684    	DL	-8388608
0428B4 0000FFFF            A   685    	DL	-65536
0428B8 0000FFFF            A   686    	DL	-65536
0428BC 000080FF            A   687    	DL	-8388608
0428C0 000000FF            A   688    	DL	-16777216
0428C4 00000000            A   689    	DL	0
0428C8 00000000            A   690    	DL	0
0428CC 00000000            A   691    	DL	0
0428D0 00000000            A   692    	DL	0
0428D4 00000000            A   693    	DL	0
0428D8 00000000            A   694    	DL	0
0428DC 00000000            A   695    	DL	0
0428E0 000000FF            A   696    	DL	-16777216
0428E4 0000FFFF            A   697    	DL	-65536
0428E8 0000FFFF            A   698    	DL	-65536
0428EC 000080FF            A   699    	DL	-8388608
0428F0 000000FF            A   700    	DL	-16777216
0428F4 0000FFFF            A   701    	DL	-65536
0428F8 0000FFFF            A   702    	DL	-65536
0428FC 0000FFFF            A   703    	DL	-65536
042900 000000FF            A   704    	DL	-16777216
042904 00000000            A   705    	DL	0
042908 00000000            A   706    	DL	0
04290C 00000000            A   707    	DL	0
042910 00000000            A   708    	DL	0
                           A   709    .DEFINE "player_data"
                           A   710    .ALIAS "_player_data"
                           A   711    .CLASS 69
                           A   712    .VALUE _player_data
                           A   713    .DIM 1
                           A   714    .DIM 256
                           A   715    .TYPE 879
                           A   716    .ENDEF
042914                     A   717    _goal_data:
042914 00000000            A   718    	DL	0
042918 00000000            A   719    	DL	0
04291C 00000000            A   720    	DL	0
042920 00000000            A   721    	DL	0
042924 00000000            A   722    	DL	0
042928 00000000            A   723    	DL	0
04292C 00000000            A   724    	DL	0
042930 00000000            A   725    	DL	0
042934 00000000            A   726    	DL	0
042938 00000000            A   727    	DL	0
04293C 00000000            A   728    	DL	0
042940 00000000            A   729    	DL	0
042944 00000000            A   730    	DL	0
042948 00000000            A   731    	DL	0
04294C 00000000            A   732    	DL	0
042950 00000000            A   733    	DL	0
042954 00000000            A   734    	DL	0
042958 00000000            A   735    	DL	0
04295C 00000000            A   736    	DL	0
042960 00000000            A   737    	DL	0
042964 00000000            A   738    	DL	0
042968 00000000            A   739    	DL	0
04296C 00000000            A   740    	DL	0
042970 00000000            A   741    	DL	0
042974 00000000            A   742    	DL	0
042978 00000000            A   743    	DL	0
04297C 00000000            A   744    	DL	0
042980 00000000            A   745    	DL	0
042984 00000000            A   746    	DL	0
042988 00000000            A   747    	DL	0
04298C 00000000            A   748    	DL	0
042990 00000000            A   749    	DL	0
042994 00000000            A   750    	DL	0
042998 00000000            A   751    	DL	0
04299C 00000000            A   752    	DL	0
0429A0 00000000            A   753    	DL	0
0429A4 00000000            A   754    	DL	0
0429A8 00000000            A   755    	DL	0
0429AC 00000000            A   756    	DL	0
0429B0 00000000            A   757    	DL	0
0429B4 00000000            A   758    	DL	0
0429B8 00000000            A   759    	DL	0
0429BC 00000000            A   760    	DL	0
0429C0 00000000            A   761    	DL	0
0429C4 00000000            A   762    	DL	0
0429C8 00000000            A   763    	DL	0
0429CC 00000000            A   764    	DL	0
0429D0 00000000            A   765    	DL	0
0429D4 00000000            A   766    	DL	0
0429D8 00000000            A   767    	DL	0
0429DC 00000000            A   768    	DL	0
0429E0 00000000            A   769    	DL	0
0429E4 00000000            A   770    	DL	0
0429E8 00000000            A   771    	DL	0
0429EC 008000FF            A   772    	DL	-16744448
0429F0 00000000            A   773    	DL	0
0429F4 00000000            A   774    	DL	0
0429F8 008000FF            A   775    	DL	-16744448
0429FC 00000000            A   776    	DL	0
042A00 00000000            A   777    	DL	0
042A04 00000000            A   778    	DL	0
042A08 00000000            A   779    	DL	0
042A0C 00000000            A   780    	DL	0
042A10 00000000            A   781    	DL	0
042A14 00000000            A   782    	DL	0
042A18 00000000            A   783    	DL	0
042A1C 00000000            A   784    	DL	0
042A20 00000000            A   785    	DL	0
042A24 00000000            A   786    	DL	0
042A28 00000000            A   787    	DL	0
042A2C 00000000            A   788    	DL	0
042A30 008000FF            A   789    	DL	-16744448
042A34 008000FF            A   790    	DL	-16744448
042A38 00000000            A   791    	DL	0
042A3C 00000000            A   792    	DL	0
042A40 00000000            A   793    	DL	0
042A44 00000000            A   794    	DL	0
042A48 00000000            A   795    	DL	0
042A4C 00000000            A   796    	DL	0
042A50 00000000            A   797    	DL	0
042A54 00000000            A   798    	DL	0
042A58 00000000            A   799    	DL	0
042A5C 00000000            A   800    	DL	0
042A60 00000000            A   801    	DL	0
042A64 00000000            A   802    	DL	0
042A68 00000000            A   803    	DL	0
042A6C 00000000            A   804    	DL	0
042A70 00000000            A   805    	DL	0
042A74 00000000            A   806    	DL	0
042A78 00000000            A   807    	DL	0
042A7C 00000000            A   808    	DL	0
042A80 00000000            A   809    	DL	0
042A84 00000000            A   810    	DL	0
042A88 00000000            A   811    	DL	0
042A8C 00000000            A   812    	DL	0
042A90 00000000            A   813    	DL	0
042A94 00000000            A   814    	DL	0
042A98 00000000            A   815    	DL	0
042A9C 00000000            A   816    	DL	0
042AA0 008000FF            A   817    	DL	-16744448
042AA4 00000000            A   818    	DL	0
042AA8 00000000            A   819    	DL	0
042AAC 00000000            A   820    	DL	0
042AB0 00000000            A   821    	DL	0
042AB4 00000000            A   822    	DL	0
042AB8 00000000            A   823    	DL	0
042ABC 00000000            A   824    	DL	0
042AC0 00000000            A   825    	DL	0
042AC4 008000FF            A   826    	DL	-16744448
042AC8 00000000            A   827    	DL	0
042ACC 00000000            A   828    	DL	0
042AD0 00000000            A   829    	DL	0
042AD4 00000000            A   830    	DL	0
042AD8 00000000            A   831    	DL	0
042ADC 00000000            A   832    	DL	0
042AE0 00000000            A   833    	DL	0
042AE4 008000FF            A   834    	DL	-16744448
042AE8 00000000            A   835    	DL	0
042AEC 00000000            A   836    	DL	0
042AF0 00FF00FF            A   837    	DL	-16711936
042AF4 00FF00FF            A   838    	DL	-16711936
042AF8 00000000            A   839    	DL	0
042AFC 00000000            A   840    	DL	0
042B00 008000FF            A   841    	DL	-16744448
042B04 00000000            A   842    	DL	0
042B08 00000000            A   843    	DL	0
042B0C 00000000            A   844    	DL	0
042B10 00000000            A   845    	DL	0
042B14 00000000            A   846    	DL	0
042B18 00000000            A   847    	DL	0
042B1C 00000000            A   848    	DL	0
042B20 00000000            A   849    	DL	0
042B24 008000FF            A   850    	DL	-16744448
042B28 00000000            A   851    	DL	0
042B2C 00000000            A   852    	DL	0
042B30 00FF00FF            A   853    	DL	-16711936
042B34 00FF00FF            A   854    	DL	-16711936
042B38 00000000            A   855    	DL	0
042B3C 00000000            A   856    	DL	0
042B40 008000FF            A   857    	DL	-16744448
042B44 00000000            A   858    	DL	0
042B48 00000000            A   859    	DL	0
042B4C 00000000            A   860    	DL	0
042B50 00000000            A   861    	DL	0
042B54 00000000            A   862    	DL	0
042B58 00000000            A   863    	DL	0
042B5C 00000000            A   864    	DL	0
042B60 008000FF            A   865    	DL	-16744448
042B64 00000000            A   866    	DL	0
042B68 00000000            A   867    	DL	0
042B6C 00000000            A   868    	DL	0
042B70 00000000            A   869    	DL	0
042B74 00000000            A   870    	DL	0
042B78 00000000            A   871    	DL	0
042B7C 00000000            A   872    	DL	0
042B80 00000000            A   873    	DL	0
042B84 008000FF            A   874    	DL	-16744448
042B88 00000000            A   875    	DL	0
042B8C 00000000            A   876    	DL	0
042B90 00000000            A   877    	DL	0
042B94 00000000            A   878    	DL	0
042B98 00000000            A   879    	DL	0
042B9C 00000000            A   880    	DL	0
042BA0 00000000            A   881    	DL	0
042BA4 00000000            A   882    	DL	0
042BA8 00000000            A   883    	DL	0
042BAC 00000000            A   884    	DL	0
042BB0 00000000            A   885    	DL	0
042BB4 00000000            A   886    	DL	0
042BB8 00000000            A   887    	DL	0
042BBC 00000000            A   888    	DL	0
042BC0 00000000            A   889    	DL	0
042BC4 00000000            A   890    	DL	0
042BC8 00000000            A   891    	DL	0
042BCC 00000000            A   892    	DL	0
042BD0 00000000            A   893    	DL	0
042BD4 00000000            A   894    	DL	0
042BD8 00000000            A   895    	DL	0
042BDC 00000000            A   896    	DL	0
042BE0 00000000            A   897    	DL	0
042BE4 00000000            A   898    	DL	0
042BE8 00000000            A   899    	DL	0
042BEC 00000000            A   900    	DL	0
042BF0 008000FF            A   901    	DL	-16744448
042BF4 008000FF            A   902    	DL	-16744448
042BF8 00000000            A   903    	DL	0
042BFC 00000000            A   904    	DL	0
042C00 00000000            A   905    	DL	0
042C04 00000000            A   906    	DL	0
042C08 00000000            A   907    	DL	0
042C0C 00000000            A   908    	DL	0
042C10 00000000            A   909    	DL	0
042C14 00000000            A   910    	DL	0
042C18 00000000            A   911    	DL	0
042C1C 00000000            A   912    	DL	0
042C20 00000000            A   913    	DL	0
042C24 00000000            A   914    	DL	0
042C28 00000000            A   915    	DL	0
042C2C 008000FF            A   916    	DL	-16744448
042C30 00000000            A   917    	DL	0
042C34 00000000            A   918    	DL	0
042C38 008000FF            A   919    	DL	-16744448
042C3C 00000000            A   920    	DL	0
042C40 00000000            A   921    	DL	0
042C44 00000000            A   922    	DL	0
042C48 00000000            A   923    	DL	0
042C4C 00000000            A   924    	DL	0
042C50 00000000            A   925    	DL	0
042C54 00000000            A   926    	DL	0
042C58 00000000            A   927    	DL	0
042C5C 00000000            A   928    	DL	0
042C60 00000000            A   929    	DL	0
042C64 00000000            A   930    	DL	0
042C68 00000000            A   931    	DL	0
042C6C 00000000            A   932    	DL	0
042C70 00000000            A   933    	DL	0
042C74 00000000            A   934    	DL	0
042C78 00000000            A   935    	DL	0
042C7C 00000000            A   936    	DL	0
042C80 00000000            A   937    	DL	0
042C84 00000000            A   938    	DL	0
042C88 00000000            A   939    	DL	0
042C8C 00000000            A   940    	DL	0
042C90 00000000            A   941    	DL	0
042C94 00000000            A   942    	DL	0
042C98 00000000            A   943    	DL	0
042C9C 00000000            A   944    	DL	0
042CA0 00000000            A   945    	DL	0
042CA4 00000000            A   946    	DL	0
042CA8 00000000            A   947    	DL	0
042CAC 00000000            A   948    	DL	0
042CB0 00000000            A   949    	DL	0
042CB4 00000000            A   950    	DL	0
042CB8 00000000            A   951    	DL	0
042CBC 00000000            A   952    	DL	0
042CC0 00000000            A   953    	DL	0
042CC4 00000000            A   954    	DL	0
042CC8 00000000            A   955    	DL	0
042CCC 00000000            A   956    	DL	0
042CD0 00000000            A   957    	DL	0
042CD4 00000000            A   958    	DL	0
042CD8 00000000            A   959    	DL	0
042CDC 00000000            A   960    	DL	0
042CE0 00000000            A   961    	DL	0
042CE4 00000000            A   962    	DL	0
042CE8 00000000            A   963    	DL	0
042CEC 00000000            A   964    	DL	0
042CF0 00000000            A   965    	DL	0
042CF4 00000000            A   966    	DL	0
042CF8 00000000            A   967    	DL	0
042CFC 00000000            A   968    	DL	0
042D00 00000000            A   969    	DL	0
042D04 00000000            A   970    	DL	0
042D08 00000000            A   971    	DL	0
042D0C 00000000            A   972    	DL	0
042D10 00000000            A   973    	DL	0
                           A   974    .DEFINE "goal_data"
                           A   975    .ALIAS "_goal_data"
                           A   976    .CLASS 69
                           A   977    .VALUE _goal_data
                           A   978    .DIM 1
                           A   979    .DIM 256
                           A   980    .TYPE 879
                           A   981    .ENDEF
042D14                     A   982    _box_data:
042D14 FFFF00FF            A   983    	DL	-16711681
042D18 FFFF00FF            A   984    	DL	-16711681
042D1C FFFF00FF            A   985    	DL	-16711681
042D20 FFFF00FF            A   986    	DL	-16711681
042D24 FFFF00FF            A   987    	DL	-16711681
042D28 FFFF00FF            A   988    	DL	-16711681
042D2C FFFF00FF            A   989    	DL	-16711681
042D30 FFFF00FF            A   990    	DL	-16711681
042D34 FFFF00FF            A   991    	DL	-16711681
042D38 FFFF00FF            A   992    	DL	-16711681
042D3C FFFF00FF            A   993    	DL	-16711681
042D40 FFFF00FF            A   994    	DL	-16711681
042D44 FFFF00FF            A   995    	DL	-16711681
042D48 FFFF00FF            A   996    	DL	-16711681
042D4C FFFF00FF            A   997    	DL	-16711681
042D50 FFFF00FF            A   998    	DL	-16711681
042D54 FFFF00FF            A   999    	DL	-16711681
042D58 808000FF            A  1000    	DL	-16744320
042D5C 808000FF            A  1001    	DL	-16744320
042D60 808000FF            A  1002    	DL	-16744320
042D64 808000FF            A  1003    	DL	-16744320
042D68 808000FF            A  1004    	DL	-16744320
042D6C 808000FF            A  1005    	DL	-16744320
042D70 808000FF            A  1006    	DL	-16744320
042D74 808000FF            A  1007    	DL	-16744320
042D78 808000FF            A  1008    	DL	-16744320
042D7C 808000FF            A  1009    	DL	-16744320
042D80 808000FF            A  1010    	DL	-16744320
042D84 808000FF            A  1011    	DL	-16744320
042D88 808000FF            A  1012    	DL	-16744320
042D8C FFFF00FF            A  1013    	DL	-16711681
042D90 808000FF            A  1014    	DL	-16744320
042D94 FFFF00FF            A  1015    	DL	-16711681
042D98 808000FF            A  1016    	DL	-16744320
042D9C 000000FF            A  1017    	DL	-16777216
042DA0 000000FF            A  1018    	DL	-16777216
042DA4 000000FF            A  1019    	DL	-16777216
042DA8 000000FF            A  1020    	DL	-16777216
042DAC 000000FF            A  1021    	DL	-16777216
042DB0 000000FF            A  1022    	DL	-16777216
042DB4 000000FF            A  1023    	DL	-16777216
042DB8 000000FF            A  1024    	DL	-16777216
042DBC 000000FF            A  1025    	DL	-16777216
042DC0 000000FF            A  1026    	DL	-16777216
042DC4 000000FF            A  1027    	DL	-16777216
042DC8 000000FF            A  1028    	DL	-16777216
042DCC FFFF00FF            A  1029    	DL	-16711681
042DD0 808000FF            A  1030    	DL	-16744320
042DD4 FFFF00FF            A  1031    	DL	-16711681
042DD8 808000FF            A  1032    	DL	-16744320
042DDC 000000FF            A  1033    	DL	-16777216
042DE0 808000FF            A  1034    	DL	-16744320
042DE4 808000FF            A  1035    	DL	-16744320
042DE8 000000FF            A  1036    	DL	-16777216
042DEC 808000FF            A  1037    	DL	-16744320
042DF0 808000FF            A  1038    	DL	-16744320
042DF4 808000FF            A  1039    	DL	-16744320
042DF8 808000FF            A  1040    	DL	-16744320
042DFC 000000FF            A  1041    	DL	-16777216
042E00 808000FF            A  1042    	DL	-16744320
042E04 808000FF            A  1043    	DL	-16744320
042E08 000000FF            A  1044    	DL	-16777216
042E0C FFFF00FF            A  1045    	DL	-16711681
042E10 808000FF            A  1046    	DL	-16744320
042E14 FFFF00FF            A  1047    	DL	-16711681
042E18 808000FF            A  1048    	DL	-16744320
042E1C 000000FF            A  1049    	DL	-16777216
042E20 808000FF            A  1050    	DL	-16744320
042E24 FFFF00FF            A  1051    	DL	-16711681
042E28 808000FF            A  1052    	DL	-16744320
042E2C 000000FF            A  1053    	DL	-16777216
042E30 FFFF00FF            A  1054    	DL	-16711681
042E34 FFFF00FF            A  1055    	DL	-16711681
042E38 000000FF            A  1056    	DL	-16777216
042E3C 808000FF            A  1057    	DL	-16744320
042E40 FFFF00FF            A  1058    	DL	-16711681
042E44 808000FF            A  1059    	DL	-16744320
042E48 000000FF            A  1060    	DL	-16777216
042E4C FFFF00FF            A  1061    	DL	-16711681
042E50 808000FF            A  1062    	DL	-16744320
042E54 FFFF00FF            A  1063    	DL	-16711681
042E58 808000FF            A  1064    	DL	-16744320
042E5C 000000FF            A  1065    	DL	-16777216
042E60 000000FF            A  1066    	DL	-16777216
042E64 808000FF            A  1067    	DL	-16744320
042E68 FFFF00FF            A  1068    	DL	-16711681
042E6C 808000FF            A  1069    	DL	-16744320
042E70 000000FF            A  1070    	DL	-16777216
042E74 000000FF            A  1071    	DL	-16777216
042E78 808000FF            A  1072    	DL	-16744320
042E7C FFFF00FF            A  1073    	DL	-16711681
042E80 808000FF            A  1074    	DL	-16744320
042E84 000000FF            A  1075    	DL	-16777216
042E88 000000FF            A  1076    	DL	-16777216
042E8C FFFF00FF            A  1077    	DL	-16711681
042E90 808000FF            A  1078    	DL	-16744320
042E94 FFFF00FF            A  1079    	DL	-16711681
042E98 808000FF            A  1080    	DL	-16744320
042E9C 000000FF            A  1081    	DL	-16777216
042EA0 808000FF            A  1082    	DL	-16744320
042EA4 000000FF            A  1083    	DL	-16777216
042EA8 808000FF            A  1084    	DL	-16744320
042EAC FFFF00FF            A  1085    	DL	-16711681
042EB0 808000FF            A  1086    	DL	-16744320
042EB4 FFFF00FF            A  1087    	DL	-16711681
042EB8 FFFF00FF            A  1088    	DL	-16711681
042EBC 808000FF            A  1089    	DL	-16744320
042EC0 000000FF            A  1090    	DL	-16777216
042EC4 808000FF            A  1091    	DL	-16744320
042EC8 000000FF            A  1092    	DL	-16777216
042ECC FFFF00FF            A  1093    	DL	-16711681
042ED0 808000FF            A  1094    	DL	-16744320
042ED4 FFFF00FF            A  1095    	DL	-16711681
042ED8 808000FF            A  1096    	DL	-16744320
042EDC 000000FF            A  1097    	DL	-16777216
042EE0 808000FF            A  1098    	DL	-16744320
042EE4 FFFF00FF            A  1099    	DL	-16711681
042EE8 000000FF            A  1100    	DL	-16777216
042EEC 808000FF            A  1101    	DL	-16744320
042EF0 FFFF00FF            A  1102    	DL	-16711681
042EF4 FFFF00FF            A  1103    	DL	-16711681
042EF8 808000FF            A  1104    	DL	-16744320
042EFC 000000FF            A  1105    	DL	-16777216
042F00 808000FF            A  1106    	DL	-16744320
042F04 FFFF00FF            A  1107    	DL	-16711681
042F08 000000FF            A  1108    	DL	-16777216
042F0C FFFF00FF            A  1109    	DL	-16711681
042F10 808000FF            A  1110    	DL	-16744320
042F14 FFFF00FF            A  1111    	DL	-16711681
042F18 808000FF            A  1112    	DL	-16744320
042F1C 000000FF            A  1113    	DL	-16777216
042F20 808000FF            A  1114    	DL	-16744320
042F24 808000FF            A  1115    	DL	-16744320
042F28 000000FF            A  1116    	DL	-16777216
042F2C FFFF00FF            A  1117    	DL	-16711681
042F30 FFFF00FF            A  1118    	DL	-16711681
042F34 FFFF00FF            A  1119    	DL	-16711681
042F38 FFFF00FF            A  1120    	DL	-16711681
042F3C 000000FF            A  1121    	DL	-16777216
042F40 808000FF            A  1122    	DL	-16744320
042F44 FFFF00FF            A  1123    	DL	-16711681
042F48 000000FF            A  1124    	DL	-16777216
042F4C FFFF00FF            A  1125    	DL	-16711681
042F50 808000FF            A  1126    	DL	-16744320
042F54 FFFF00FF            A  1127    	DL	-16711681
042F58 808000FF            A  1128    	DL	-16744320
042F5C 000000FF            A  1129    	DL	-16777216
042F60 808000FF            A  1130    	DL	-16744320
042F64 000000FF            A  1131    	DL	-16777216
042F68 808000FF            A  1132    	DL	-16744320
042F6C FFFF00FF            A  1133    	DL	-16711681
042F70 808000FF            A  1134    	DL	-16744320
042F74 FFFF00FF            A  1135    	DL	-16711681
042F78 FFFF00FF            A  1136    	DL	-16711681
042F7C 808000FF            A  1137    	DL	-16744320
042F80 000000FF            A  1138    	DL	-16777216
042F84 FFFF00FF            A  1139    	DL	-16711681
042F88 000000FF            A  1140    	DL	-16777216
042F8C FFFF00FF            A  1141    	DL	-16711681
042F90 808000FF            A  1142    	DL	-16744320
042F94 FFFF00FF            A  1143    	DL	-16711681
042F98 808000FF            A  1144    	DL	-16744320
042F9C 000000FF            A  1145    	DL	-16777216
042FA0 000000FF            A  1146    	DL	-16777216
042FA4 808000FF            A  1147    	DL	-16744320
042FA8 FFFF00FF            A  1148    	DL	-16711681
042FAC 808000FF            A  1149    	DL	-16744320
042FB0 000000FF            A  1150    	DL	-16777216
042FB4 000000FF            A  1151    	DL	-16777216
042FB8 808000FF            A  1152    	DL	-16744320
042FBC FFFF00FF            A  1153    	DL	-16711681
042FC0 808000FF            A  1154    	DL	-16744320
042FC4 000000FF            A  1155    	DL	-16777216
042FC8 000000FF            A  1156    	DL	-16777216
042FCC FFFF00FF            A  1157    	DL	-16711681
042FD0 808000FF            A  1158    	DL	-16744320
042FD4 FFFF00FF            A  1159    	DL	-16711681
042FD8 808000FF            A  1160    	DL	-16744320
042FDC 000000FF            A  1161    	DL	-16777216
042FE0 808000FF            A  1162    	DL	-16744320
042FE4 FFFF00FF            A  1163    	DL	-16711681
042FE8 808000FF            A  1164    	DL	-16744320
042FEC 000000FF            A  1165    	DL	-16777216
042FF0 808000FF            A  1166    	DL	-16744320
042FF4 FFFF00FF            A  1167    	DL	-16711681
042FF8 000000FF            A  1168    	DL	-16777216
042FFC 808000FF            A  1169    	DL	-16744320
043000 FFFF00FF            A  1170    	DL	-16711681
043004 808000FF            A  1171    	DL	-16744320
043008 000000FF            A  1172    	DL	-16777216
04300C FFFF00FF            A  1173    	DL	-16711681
043010 808000FF            A  1174    	DL	-16744320
043014 FFFF00FF            A  1175    	DL	-16711681
043018 808000FF            A  1176    	DL	-16744320
04301C 000000FF            A  1177    	DL	-16777216
043020 808000FF            A  1178    	DL	-16744320
043024 808000FF            A  1179    	DL	-16744320
043028 000000FF            A  1180    	DL	-16777216
04302C 808000FF            A  1181    	DL	-16744320
043030 FFFF00FF            A  1182    	DL	-16711681
043034 FFFF00FF            A  1183    	DL	-16711681
043038 FFFF00FF            A  1184    	DL	-16711681
04303C 000000FF            A  1185    	DL	-16777216
043040 808000FF            A  1186    	DL	-16744320
043044 808000FF            A  1187    	DL	-16744320
043048 000000FF            A  1188    	DL	-16777216
04304C FFFF00FF            A  1189    	DL	-16711681
043050 808000FF            A  1190    	DL	-16744320
043054 FFFF00FF            A  1191    	DL	-16711681
043058 808000FF            A  1192    	DL	-16744320
04305C 000000FF            A  1193    	DL	-16777216
043060 000000FF            A  1194    	DL	-16777216
043064 000000FF            A  1195    	DL	-16777216
043068 000000FF            A  1196    	DL	-16777216
04306C 000000FF            A  1197    	DL	-16777216
043070 000000FF            A  1198    	DL	-16777216
043074 000000FF            A  1199    	DL	-16777216
043078 000000FF            A  1200    	DL	-16777216
04307C 000000FF            A  1201    	DL	-16777216
043080 000000FF            A  1202    	DL	-16777216
043084 000000FF            A  1203    	DL	-16777216
043088 000000FF            A  1204    	DL	-16777216
04308C FFFF00FF            A  1205    	DL	-16711681
043090 808000FF            A  1206    	DL	-16744320
043094 FFFF00FF            A  1207    	DL	-16711681
043098 FFFF00FF            A  1208    	DL	-16711681
04309C FFFF00FF            A  1209    	DL	-16711681
0430A0 FFFF00FF            A  1210    	DL	-16711681
0430A4 FFFF00FF            A  1211    	DL	-16711681
0430A8 FFFF00FF            A  1212    	DL	-16711681
0430AC FFFF00FF            A  1213    	DL	-16711681
0430B0 FFFF00FF            A  1214    	DL	-16711681
0430B4 FFFF00FF            A  1215    	DL	-16711681
0430B8 FFFF00FF            A  1216    	DL	-16711681
0430BC FFFF00FF            A  1217    	DL	-16711681
0430C0 FFFF00FF            A  1218    	DL	-16711681
0430C4 FFFF00FF            A  1219    	DL	-16711681
0430C8 FFFF00FF            A  1220    	DL	-16711681
0430CC FFFF00FF            A  1221    	DL	-16711681
0430D0 808000FF            A  1222    	DL	-16744320
0430D4 FFFF00FF            A  1223    	DL	-16711681
0430D8 808000FF            A  1224    	DL	-16744320
0430DC 808000FF            A  1225    	DL	-16744320
0430E0 808000FF            A  1226    	DL	-16744320
0430E4 808000FF            A  1227    	DL	-16744320
0430E8 808000FF            A  1228    	DL	-16744320
0430EC 808000FF            A  1229    	DL	-16744320
0430F0 808000FF            A  1230    	DL	-16744320
0430F4 808000FF            A  1231    	DL	-16744320
0430F8 808000FF            A  1232    	DL	-16744320
0430FC 808000FF            A  1233    	DL	-16744320
043100 808000FF            A  1234    	DL	-16744320
043104 808000FF            A  1235    	DL	-16744320
043108 808000FF            A  1236    	DL	-16744320
04310C 808000FF            A  1237    	DL	-16744320
043110 808000FF            A  1238    	DL	-16744320
                           A  1239    .DEFINE "box_data"
                           A  1240    .ALIAS "_box_data"
                           A  1241    .CLASS 69
                           A  1242    .VALUE _box_data
                           A  1243    .DIM 1
                           A  1244    .DIM 256
                           A  1245    .TYPE 879
                           A  1246    .ENDEF
043114                     A  1247    _boxongoal_data:
043114 FFFF00FF            A  1248    	DL	-16711681
043118 FFFF00FF            A  1249    	DL	-16711681
04311C FFFF00FF            A  1250    	DL	-16711681
043120 FFFF00FF            A  1251    	DL	-16711681
043124 FFFF00FF            A  1252    	DL	-16711681
043128 FFFF00FF            A  1253    	DL	-16711681
04312C FFFF00FF            A  1254    	DL	-16711681
043130 FFFF00FF            A  1255    	DL	-16711681
043134 FFFF00FF            A  1256    	DL	-16711681
043138 FFFF00FF            A  1257    	DL	-16711681
04313C FFFF00FF            A  1258    	DL	-16711681
043140 FFFF00FF            A  1259    	DL	-16711681
043144 FFFF00FF            A  1260    	DL	-16711681
043148 FFFF00FF            A  1261    	DL	-16711681
04314C FFFF00FF            A  1262    	DL	-16711681
043150 FFFF00FF            A  1263    	DL	-16711681
043154 FFFF00FF            A  1264    	DL	-16711681
043158 808000FF            A  1265    	DL	-16744320
04315C 808000FF            A  1266    	DL	-16744320
043160 808000FF            A  1267    	DL	-16744320
043164 808000FF            A  1268    	DL	-16744320
043168 808000FF            A  1269    	DL	-16744320
04316C 808000FF            A  1270    	DL	-16744320
043170 808000FF            A  1271    	DL	-16744320
043174 808000FF            A  1272    	DL	-16744320
043178 808000FF            A  1273    	DL	-16744320
04317C 808000FF            A  1274    	DL	-16744320
043180 808000FF            A  1275    	DL	-16744320
043184 808000FF            A  1276    	DL	-16744320
043188 808000FF            A  1277    	DL	-16744320
04318C FFFF00FF            A  1278    	DL	-16711681
043190 808000FF            A  1279    	DL	-16744320
043194 FFFF00FF            A  1280    	DL	-16711681
043198 808000FF            A  1281    	DL	-16744320
04319C 000000FF            A  1282    	DL	-16777216
0431A0 000000FF            A  1283    	DL	-16777216
0431A4 000000FF            A  1284    	DL	-16777216
0431A8 000000FF            A  1285    	DL	-16777216
0431AC 000000FF            A  1286    	DL	-16777216
0431B0 000000FF            A  1287    	DL	-16777216
0431B4 000000FF            A  1288    	DL	-16777216
0431B8 000000FF            A  1289    	DL	-16777216
0431BC 000000FF            A  1290    	DL	-16777216
0431C0 000000FF            A  1291    	DL	-16777216
0431C4 000000FF            A  1292    	DL	-16777216
0431C8 000000FF            A  1293    	DL	-16777216
0431CC FFFF00FF            A  1294    	DL	-16711681
0431D0 808000FF            A  1295    	DL	-16744320
0431D4 FFFF00FF            A  1296    	DL	-16711681
0431D8 808000FF            A  1297    	DL	-16744320
0431DC 000000FF            A  1298    	DL	-16777216
0431E0 808000FF            A  1299    	DL	-16744320
0431E4 808000FF            A  1300    	DL	-16744320
0431E8 000000FF            A  1301    	DL	-16777216
0431EC 008000FF            A  1302    	DL	-16744448
0431F0 008000FF            A  1303    	DL	-16744448
0431F4 008000FF            A  1304    	DL	-16744448
0431F8 008000FF            A  1305    	DL	-16744448
0431FC 000000FF            A  1306    	DL	-16777216
043200 808000FF            A  1307    	DL	-16744320
043204 808000FF            A  1308    	DL	-16744320
043208 000000FF            A  1309    	DL	-16777216
04320C FFFF00FF            A  1310    	DL	-16711681
043210 808000FF            A  1311    	DL	-16744320
043214 FFFF00FF            A  1312    	DL	-16711681
043218 808000FF            A  1313    	DL	-16744320
04321C 000000FF            A  1314    	DL	-16777216
043220 808000FF            A  1315    	DL	-16744320
043224 FFFF00FF            A  1316    	DL	-16711681
043228 808000FF            A  1317    	DL	-16744320
04322C 000000FF            A  1318    	DL	-16777216
043230 00FF00FF            A  1319    	DL	-16711936
043234 00FF00FF            A  1320    	DL	-16711936
043238 000000FF            A  1321    	DL	-16777216
04323C 808000FF            A  1322    	DL	-16744320
043240 FFFF00FF            A  1323    	DL	-16711681
043244 808000FF            A  1324    	DL	-16744320
043248 000000FF            A  1325    	DL	-16777216
04324C FFFF00FF            A  1326    	DL	-16711681
043250 808000FF            A  1327    	DL	-16744320
043254 FFFF00FF            A  1328    	DL	-16711681
043258 808000FF            A  1329    	DL	-16744320
04325C 000000FF            A  1330    	DL	-16777216
043260 000000FF            A  1331    	DL	-16777216
043264 808000FF            A  1332    	DL	-16744320
043268 FFFF00FF            A  1333    	DL	-16711681
04326C 808000FF            A  1334    	DL	-16744320
043270 000000FF            A  1335    	DL	-16777216
043274 000000FF            A  1336    	DL	-16777216
043278 808000FF            A  1337    	DL	-16744320
04327C FFFF00FF            A  1338    	DL	-16711681
043280 808000FF            A  1339    	DL	-16744320
043284 000000FF            A  1340    	DL	-16777216
043288 000000FF            A  1341    	DL	-16777216
04328C FFFF00FF            A  1342    	DL	-16711681
043290 808000FF            A  1343    	DL	-16744320
043294 FFFF00FF            A  1344    	DL	-16711681
043298 808000FF            A  1345    	DL	-16744320
04329C 000000FF            A  1346    	DL	-16777216
0432A0 008000FF            A  1347    	DL	-16744448
0432A4 000000FF            A  1348    	DL	-16777216
0432A8 808000FF            A  1349    	DL	-16744320
0432AC FFFF00FF            A  1350    	DL	-16711681
0432B0 808000FF            A  1351    	DL	-16744320
0432B4 FFFF00FF            A  1352    	DL	-16711681
0432B8 FFFF00FF            A  1353    	DL	-16711681
0432BC 808000FF            A  1354    	DL	-16744320
0432C0 000000FF            A  1355    	DL	-16777216
0432C4 008000FF            A  1356    	DL	-16744448
0432C8 000000FF            A  1357    	DL	-16777216
0432CC FFFF00FF            A  1358    	DL	-16711681
0432D0 808000FF            A  1359    	DL	-16744320
0432D4 FFFF00FF            A  1360    	DL	-16711681
0432D8 808000FF            A  1361    	DL	-16744320
0432DC 000000FF            A  1362    	DL	-16777216
0432E0 008000FF            A  1363    	DL	-16744448
0432E4 00FF00FF            A  1364    	DL	-16711936
0432E8 000000FF            A  1365    	DL	-16777216
0432EC 808000FF            A  1366    	DL	-16744320
0432F0 00FF00FF            A  1367    	DL	-16711936
0432F4 00FF00FF            A  1368    	DL	-16711936
0432F8 808000FF            A  1369    	DL	-16744320
0432FC 000000FF            A  1370    	DL	-16777216
043300 00FF00FF            A  1371    	DL	-16711936
043304 008000FF            A  1372    	DL	-16744448
043308 000000FF            A  1373    	DL	-16777216
04330C FFFF00FF            A  1374    	DL	-16711681
043310 808000FF            A  1375    	DL	-16744320
043314 FFFF00FF            A  1376    	DL	-16711681
043318 808000FF            A  1377    	DL	-16744320
04331C 000000FF            A  1378    	DL	-16777216
043320 008000FF            A  1379    	DL	-16744448
043324 00FF00FF            A  1380    	DL	-16711936
043328 000000FF            A  1381    	DL	-16777216
04332C FFFF00FF            A  1382    	DL	-16711681
043330 00FF00FF            A  1383    	DL	-16711936
043334 00FF00FF            A  1384    	DL	-16711936
043338 FFFF00FF            A  1385    	DL	-16711681
04333C 000000FF            A  1386    	DL	-16777216
043340 00FF00FF            A  1387    	DL	-16711936
043344 008000FF            A  1388    	DL	-16744448
043348 000000FF            A  1389    	DL	-16777216
04334C FFFF00FF            A  1390    	DL	-16711681
043350 808000FF            A  1391    	DL	-16744320
043354 FFFF00FF            A  1392    	DL	-16711681
043358 808000FF            A  1393    	DL	-16744320
04335C 000000FF            A  1394    	DL	-16777216
043360 008000FF            A  1395    	DL	-16744448
043364 000000FF            A  1396    	DL	-16777216
043368 808000FF            A  1397    	DL	-16744320
04336C FFFF00FF            A  1398    	DL	-16711681
043370 808000FF            A  1399    	DL	-16744320
043374 FFFF00FF            A  1400    	DL	-16711681
043378 FFFF00FF            A  1401    	DL	-16711681
04337C 808000FF            A  1402    	DL	-16744320
043380 000000FF            A  1403    	DL	-16777216
043384 008000FF            A  1404    	DL	-16744448
043388 000000FF            A  1405    	DL	-16777216
04338C FFFF00FF            A  1406    	DL	-16711681
043390 808000FF            A  1407    	DL	-16744320
043394 FFFF00FF            A  1408    	DL	-16711681
043398 808000FF            A  1409    	DL	-16744320
04339C 000000FF            A  1410    	DL	-16777216
0433A0 000000FF            A  1411    	DL	-16777216
0433A4 808000FF            A  1412    	DL	-16744320
0433A8 FFFF00FF            A  1413    	DL	-16711681
0433AC 808000FF            A  1414    	DL	-16744320
0433B0 000000FF            A  1415    	DL	-16777216
0433B4 000000FF            A  1416    	DL	-16777216
0433B8 808000FF            A  1417    	DL	-16744320
0433BC FFFF00FF            A  1418    	DL	-16711681
0433C0 808000FF            A  1419    	DL	-16744320
0433C4 000000FF            A  1420    	DL	-16777216
0433C8 000000FF            A  1421    	DL	-16777216
0433CC FFFF00FF            A  1422    	DL	-16711681
0433D0 808000FF            A  1423    	DL	-16744320
0433D4 FFFF00FF            A  1424    	DL	-16711681
0433D8 808000FF            A  1425    	DL	-16744320
0433DC 000000FF            A  1426    	DL	-16777216
0433E0 808000FF            A  1427    	DL	-16744320
0433E4 FFFF00FF            A  1428    	DL	-16711681
0433E8 808000FF            A  1429    	DL	-16744320
0433EC 000000FF            A  1430    	DL	-16777216
0433F0 00FF00FF            A  1431    	DL	-16711936
0433F4 00FF00FF            A  1432    	DL	-16711936
0433F8 000000FF            A  1433    	DL	-16777216
0433FC 808000FF            A  1434    	DL	-16744320
043400 FFFF00FF            A  1435    	DL	-16711681
043404 808000FF            A  1436    	DL	-16744320
043408 000000FF            A  1437    	DL	-16777216
04340C FFFF00FF            A  1438    	DL	-16711681
043410 808000FF            A  1439    	DL	-16744320
043414 FFFF00FF            A  1440    	DL	-16711681
043418 808000FF            A  1441    	DL	-16744320
04341C 000000FF            A  1442    	DL	-16777216
043420 808000FF            A  1443    	DL	-16744320
043424 808000FF            A  1444    	DL	-16744320
043428 000000FF            A  1445    	DL	-16777216
04342C 008000FF            A  1446    	DL	-16744448
043430 008000FF            A  1447    	DL	-16744448
043434 008000FF            A  1448    	DL	-16744448
043438 008000FF            A  1449    	DL	-16744448
04343C 000000FF            A  1450    	DL	-16777216
043440 808000FF            A  1451    	DL	-16744320
043444 808000FF            A  1452    	DL	-16744320
043448 000000FF            A  1453    	DL	-16777216
04344C FFFF00FF            A  1454    	DL	-16711681
043450 808000FF            A  1455    	DL	-16744320
043454 FFFF00FF            A  1456    	DL	-16711681
043458 808000FF            A  1457    	DL	-16744320
04345C 000000FF            A  1458    	DL	-16777216
043460 000000FF            A  1459    	DL	-16777216
043464 000000FF            A  1460    	DL	-16777216
043468 000000FF            A  1461    	DL	-16777216
04346C 000000FF            A  1462    	DL	-16777216
043470 000000FF            A  1463    	DL	-16777216
043474 000000FF            A  1464    	DL	-16777216
043478 000000FF            A  1465    	DL	-16777216
04347C 000000FF            A  1466    	DL	-16777216
043480 000000FF            A  1467    	DL	-16777216
043484 000000FF            A  1468    	DL	-16777216
043488 000000FF            A  1469    	DL	-16777216
04348C FFFF00FF            A  1470    	DL	-16711681
043490 808000FF            A  1471    	DL	-16744320
043494 FFFF00FF            A  1472    	DL	-16711681
043498 FFFF00FF            A  1473    	DL	-16711681
04349C FFFF00FF            A  1474    	DL	-16711681
0434A0 FFFF00FF            A  1475    	DL	-16711681
0434A4 FFFF00FF            A  1476    	DL	-16711681
0434A8 FFFF00FF            A  1477    	DL	-16711681
0434AC FFFF00FF            A  1478    	DL	-16711681
0434B0 FFFF00FF            A  1479    	DL	-16711681
0434B4 FFFF00FF            A  1480    	DL	-16711681
0434B8 FFFF00FF            A  1481    	DL	-16711681
0434BC FFFF00FF            A  1482    	DL	-16711681
0434C0 FFFF00FF            A  1483    	DL	-16711681
0434C4 FFFF00FF            A  1484    	DL	-16711681
0434C8 FFFF00FF            A  1485    	DL	-16711681
0434CC FFFF00FF            A  1486    	DL	-16711681
0434D0 808000FF            A  1487    	DL	-16744320
0434D4 FFFF00FF            A  1488    	DL	-16711681
0434D8 808000FF            A  1489    	DL	-16744320
0434DC 808000FF            A  1490    	DL	-16744320
0434E0 808000FF            A  1491    	DL	-16744320
0434E4 808000FF            A  1492    	DL	-16744320
0434E8 808000FF            A  1493    	DL	-16744320
0434EC 808000FF            A  1494    	DL	-16744320
0434F0 808000FF            A  1495    	DL	-16744320
0434F4 808000FF            A  1496    	DL	-16744320
0434F8 808000FF            A  1497    	DL	-16744320
0434FC 808000FF            A  1498    	DL	-16744320
043500 808000FF            A  1499    	DL	-16744320
043504 808000FF            A  1500    	DL	-16744320
043508 808000FF            A  1501    	DL	-16744320
04350C 808000FF            A  1502    	DL	-16744320
043510 808000FF            A  1503    	DL	-16744320
                           A  1504    .DEFINE "boxongoal_data"
                           A  1505    .ALIAS "_boxongoal_data"
                           A  1506    .CLASS 69
                           A  1507    .VALUE _boxongoal_data
                           A  1508    .DIM 1
                           A  1509    .DIM 256
                           A  1510    .TYPE 879
                           A  1511    .ENDEF
043514                     A  1512    _lookup:
043514 23                  A  1513    	DB	35
043515 00                  A  1514    	DB	0
043516 40                  A  1515    	DB	64
043517 01                  A  1516    	DB	1
043518 2B                  A  1517    	DB	43
043519 02                  A  1518    	DB	2
04351A 24                  A  1519    	DB	36
04351B 03                  A  1520    	DB	3
04351C 2A                  A  1521    	DB	42
04351D 04                  A  1522    	DB	4
04351E 2E                  A  1523    	DB	46
04351F 05                  A  1524    	DB	5
043520 20                  A  1525    	DB	32
043521 06                  A  1526    	DB	6
                           A  1527    .DEFINE "lookup"
                           A  1528    .ALIAS "_lookup"
                           A  1529    .CLASS 69
                           A  1530    .VALUE _lookup
                           A  1531    .DIM 7
                           A  1532    .TAG "NONAME0"
                           A  1533    .TYPE 104
                           A  1534    .ENDEF
                           A  1535    ;    1	#include "game.h"
                           A  1536    ;    2	#include "sokobanprep.h"
                           A  1537    ;    3	#include "vdp.h"
                           A  1538    ;    4	#include <ctype.h>
                           A  1539    ;    5	#include <stdio.h>
                           A  1540    ;    6	#include <string.h>
                           A  1541    ;    7	
                           A  1542    ;    8	UINT32 bitmapbuffer[BITMAPSIZE];	// 
                           A  1543    ;    9	UINT8 sprites[MAXHEIGHT][MAXWIDTH]; // 
                           A  1544    ;   10	struct sokobanlevel currentlevel;	// 
                           A  1545    ;   11	UINT8 spritenumber;					// 
                           A  1546    ;   12	
                           A  1547    ;   13	UINT32 wall_data[1][256] = {
                           A  1548    ;   14	{
                           A  1549    ;   15	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  1550    ;   16	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1551    ;   17	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1552    ;   18	0xff000080, 0xff000080, 0xff808080, 0xf
                           A  1553    ;   19	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1554    ;   20	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1555    ;   21	0xff808080, 0xff808080, 0xff808080, 0xf
                           A  1556    ;   22	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1557    ;   23	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1558    ;   24	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1559    ;   25	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1560    ;   26	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1561    ;   27	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1562    ;   28	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1563    ;   29	0xff404040, 0xff008080, 0xff808080, 0xf
                           A  1564    ;   30	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1565    ;   31	}
                           A  1566    ;   32	};
                           A  1567    ;   33	
                           A  1568    ;   34	UINT32 player_data[1][256] = {
                           A  1569    ;   35	{
                           A  1570    ;   36	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1571    ;   37	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1572    ;   38	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1573    ;   39	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1574    ;   40	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1575    ;   41	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1576    ;   42	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1577    ;   43	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1578    ;   44	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1579    ;   45	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1580    ;   46	0x00000000, 0x00000000, 0xff404040, 0xf
                           A  1581    ;   47	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1582    ;   48	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1583    ;   49	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1584    ;   50	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1585    ;   51	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1586    ;   52	}
                           A  1587    ;   53	};
                           A  1588    ;   54	
                           A  1589    ;   55	UINT32 goal_data[1][256] = {
                           A  1590    ;   56	{
                           A  1591    ;   57	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1592    ;   58	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1593    ;   59	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1594    ;   60	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1595    ;   61	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1596    ;   62	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1597    ;   63	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1598    ;   64	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1599    ;   65	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1600    ;   66	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1601    ;   67	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1602    ;   68	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1603    ;   69	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1604    ;   70	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1605    ;   71	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1606    ;   72	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1607    ;   73	}
                           A  1608    ;   74	};
                           A  1609    ;   75	
                           A  1610    ;   76	UINT32 box_data[1][256] = {
                           A  1611    ;   77	{
                           A  1612    ;   78	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1613    ;   79	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1614    ;   80	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1615    ;   81	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1616    ;   82	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1617    ;   83	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1618    ;   84	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1619    ;   85	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1620    ;   86	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1621    ;   87	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1622    ;   88	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1623    ;   89	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1624    ;   90	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1625    ;   91	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1626    ;   92	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1627    ;   93	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1628    ;   94	}
                           A  1629    ;   95	};
                           A  1630    ;   96	
                           A  1631    ;   97	UINT32 boxongoal_data[1][256] = {
                           A  1632    ;   98	{
                           A  1633    ;   99	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1634    ;  100	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1635    ;  101	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1636    ;  102	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1637    ;  103	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1638    ;  104	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1639    ;  105	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1640    ;  106	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1641    ;  107	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1642    ;  108	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1643    ;  109	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1644    ;  110	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1645    ;  111	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1646    ;  112	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  1647    ;  113	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  1648    ;  114	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  1649    ;  115	}
                           A  1650    ;  116	};
                           A  1651    ;  117	
                           A  1652    ;  118	chartotile lookup[] =
                           A  1653    ;  119	{
                           A  1654    	SEGMENT CODE
                           A  1655    ;  120		{CHAR_WALL, TILE_WALL},
                           A  1656    ;  121		{CHAR_PLAYER, TILE_PLAYER},
                           A  1657    ;  122		{CHAR_PLAYERONGOAL, TILE_PLAYERONGO
                           A  1658    ;  123		{CHAR_BOX, TILE_BOX},
                           A  1659    ;  124		{CHAR_BOXONGOAL, TILE_BOXONGOAL},
                           A  1660    ;  125		{CHAR_GOAL, TILE_GOAL},
                           A  1661    ;  126		{CHAR_FLOOR, TILE_FLOOR}
                           A  1662    ;  127	};
                           A  1663    ;  128	
                           A  1664    ;  129	void game_sendSpriteData(void)
                           A  1665    ;  130	{
040E86                     A  1666    _game_sendSpriteData:
                           A  1667    .DEFINE "_game_sendSpriteData"
                           A  1668    
                           A  1669    .VALUE _game_sendSpriteData
                           A  1670    
                           A  1671    .CLASS 2
                           A  1672    
                           A  1673    .TYPE 65
                           A  1674    
                           A  1675    .ENDEF
                           A  1676    
                           A  1677    .BEGFUNC "game_sendSpriteData",130,"_game_sendS
                           A  1678    
040E86 DDE5                A  1679    	PUSH	IX
040E88 DD210000 00         A  1680    	LD	IX,0
040E8D DD39                A  1681    	ADD	IX,SP
                           A  1682    ;  131		// needs to be called once, to load
                           A  1683    ;  132		
                           A  1684    ;  133		vdp_bitmapSendData(TILE_WALL, BITMA
                           A  1685    .LINE 133
                           A  1686    
040E8F 01 14 21 04         A  1687    	LD	BC,_wall_data
040E93 C5                  A  1688    	PUSH	BC
040E94 01100000            A  1689    	LD	BC,16
040E98 C5                  A  1690    	PUSH	BC
040E99 C5                  A  1691    	PUSH	BC
040E9A 01000000            A  1692    	LD	BC,0
040E9E C5                  A  1693    	PUSH	BC
040E9F CD 2D 08 04         A  1694    	CALL	_vdp_bitmapSendData
040EA3 C1                  A  1695    	POP	BC
040EA4 C1                  A  1696    	POP	BC
040EA5 C1                  A  1697    	POP	BC
040EA6 C1                  A  1698    	POP	BC
                           A  1699    ;  134		vdp_bitmapSendData(TILE_PLAYER, BIT
                           A  1700    .LINE 134
                           A  1701    
040EA7 01 14 25 04         A  1702    	LD	BC,_player_data
040EAB C5                  A  1703    	PUSH	BC
040EAC 01100000            A  1704    	LD	BC,16
040EB0 C5                  A  1705    	PUSH	BC
040EB1 C5                  A  1706    	PUSH	BC
040EB2 01010000            A  1707    	LD	BC,1
040EB6 C5                  A  1708    	PUSH	BC
040EB7 CD 2D 08 04         A  1709    	CALL	_vdp_bitmapSendData
040EBB C1                  A  1710    	POP	BC
040EBC C1                  A  1711    	POP	BC
040EBD C1                  A  1712    	POP	BC
040EBE C1                  A  1713    	POP	BC
                           A  1714    ;  135		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  1715    .LINE 135
                           A  1716    
040EBF 01 14 25 04         A  1717    	LD	BC,_player_data
040EC3 C5                  A  1718    	PUSH	BC
040EC4 01100000            A  1719    	LD	BC,16
040EC8 C5                  A  1720    	PUSH	BC
040EC9 C5                  A  1721    	PUSH	BC
040ECA 01020000            A  1722    	LD	BC,2
040ECE C5                  A  1723    	PUSH	BC
040ECF CD 2D 08 04         A  1724    	CALL	_vdp_bitmapSendData
040ED3 C1                  A  1725    	POP	BC
040ED4 C1                  A  1726    	POP	BC
040ED5 C1                  A  1727    	POP	BC
040ED6 C1                  A  1728    	POP	BC
                           A  1729    ;  136		vdp_bitmapSendData(TILE_BOX, BITMAP
                           A  1730    .LINE 136
                           A  1731    
040ED7 01 14 2D 04         A  1732    	LD	BC,_box_data
040EDB C5                  A  1733    	PUSH	BC
040EDC 01100000            A  1734    	LD	BC,16
040EE0 C5                  A  1735    	PUSH	BC
040EE1 C5                  A  1736    	PUSH	BC
040EE2 01030000            A  1737    	LD	BC,3
040EE6 C5                  A  1738    	PUSH	BC
040EE7 CD 2D 08 04         A  1739    	CALL	_vdp_bitmapSendData
040EEB C1                  A  1740    	POP	BC
040EEC C1                  A  1741    	POP	BC
040EED C1                  A  1742    	POP	BC
040EEE C1                  A  1743    	POP	BC
                           A  1744    ;  137		vdp_bitmapSendData(TILE_BOXONGOAL, 
                           A  1745    .LINE 137
                           A  1746    
040EEF 01 14 31 04         A  1747    	LD	BC,_boxongoal_data
040EF3 C5                  A  1748    	PUSH	BC
040EF4 01100000            A  1749    	LD	BC,16
040EF8 C5                  A  1750    	PUSH	BC
040EF9 C5                  A  1751    	PUSH	BC
040EFA 01040000            A  1752    	LD	BC,4
040EFE C5                  A  1753    	PUSH	BC
040EFF CD 2D 08 04         A  1754    	CALL	_vdp_bitmapSendData
040F03 C1                  A  1755    	POP	BC
040F04 C1                  A  1756    	POP	BC
040F05 C1                  A  1757    	POP	BC
040F06 C1                  A  1758    	POP	BC
                           A  1759    ;  138		vdp_bitmapSendData(TILE_GOAL, BITMA
                           A  1760    .LINE 138
                           A  1761    
040F07 01 14 29 04         A  1762    	LD	BC,_goal_data
040F0B C5                  A  1763    	PUSH	BC
040F0C 01100000            A  1764    	LD	BC,16
040F10 C5                  A  1765    	PUSH	BC
040F11 C5                  A  1766    	PUSH	BC
040F12 01050000            A  1767    	LD	BC,5
040F16 C5                  A  1768    	PUSH	BC
040F17 CD 2D 08 04         A  1769    	CALL	_vdp_bitmapSendData
040F1B C1                  A  1770    	POP	BC
040F1C C1                  A  1771    	POP	BC
040F1D C1                  A  1772    	POP	BC
040F1E C1                  A  1773    	POP	BC
                           A  1774    ;  139		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  1775    .LINE 139
                           A  1776    
040F1F 01FF0000            A  1777    	LD	BC,255
040F23 C5                  A  1778    	PUSH	BC
040F24 01000000            A  1779    	LD	BC,0
040F28 C5                  A  1780    	PUSH	BC
040F29 01100000            A  1781    	LD	BC,16
040F2D C5                  A  1782    	PUSH	BC
040F2E C5                  A  1783    	PUSH	BC
040F2F 01060000            A  1784    	LD	BC,6
040F33 C5                  A  1785    	PUSH	BC
040F34 CD 0C 09 04         A  1786    	CALL	_vdp_bitmapCreateSolidColor
040F38 C1                  A  1787    	POP	BC
040F39 C1                  A  1788    	POP	BC
040F3A C1                  A  1789    	POP	BC
040F3B C1                  A  1790    	POP	BC
040F3C C1                  A  1791    	POP	BC
                           A  1792    ;  140		
                           A  1793    ;  141		return;
                           A  1794    ;  142	}
                           A  1795    .LINE 142
                           A  1796    
040F3D DDF9                A  1797    	LD	SP,IX
040F3F DDE1                A  1798    	POP	IX
040F41 C9                  A  1799    	RET	
                           A  1800    
                           A  1801    
                           A  1802    ;**************************** _game_sendSpriteD
                           A  1803    ;Name                         Addr/Register   S
                           A  1804    ;_vdp_bitmapCreateSolidColor         IMPORT  --
                           A  1805    ;_goal_data                          STATIC   1
                           A  1806    ;_boxongoal_data                     STATIC   1
                           A  1807    ;_box_data                           STATIC   1
                           A  1808    ;_player_data                        STATIC   1
                           A  1809    ;_wall_data                          STATIC   1
                           A  1810    ;_vdp_bitmapSendData                 IMPORT  --
                           A  1811    
                           A  1812    
                           A  1813    ; Stack Frame Size: 6 (bytes)
                           A  1814    ;       Spill Code: 0 (instruction)
                           A  1815    
                           A  1816    
                           A  1817    .ENDFUNC "game_sendSpriteData",142,"_game_sendS
                           A  1818    ;  143	
                           A  1819    ;  144	void game_resetSprites(void)
                           A  1820    ;  145	{
040F42                     A  1821    _game_resetSprites:
                           A  1822    .DEFINE "_game_resetSprites"
                           A  1823    
                           A  1824    .VALUE _game_resetSprites
                           A  1825    
                           A  1826    .CLASS 2
                           A  1827    
                           A  1828    .TYPE 65
                           A  1829    
                           A  1830    .ENDEF
                           A  1831    
                           A  1832    .BEGFUNC "game_resetSprites",145,"_game_resetSp
                           A  1833    
                           A  1834    .LINE 145
                           A  1835    
                           A  1836    .DEFINE "n"
                           A  1837    
                           A  1838    .CLASS 65
                           A  1839    
                           A  1840    .VALUE -1
                           A  1841    
                           A  1842    .TYPE 12
                           A  1843    
                           A  1844    .ENDEF
                           A  1845    
040F42 DDE5                A  1846    	PUSH	IX
040F44 DD210000 00         A  1847    	LD	IX,0
040F49 DD39                A  1848    	ADD	IX,SP
040F4B 3B                  A  1849    	DEC	SP
                           A  1850    ;  146		UINT8 n;
                           A  1851    ;  147		
                           A  1852    ;  148		// disable all sprites
                           A  1853    ;  149		for(n = 0; n < spritenumber; n++)
                           A  1854    .LINE 149
                           A  1855    
040F4C DD36FF00            A  1856    	LD	(IX+%FFFFFFFF),%0
040F50 18 2E               A  1857    	JR	L_4
040F52                     A  1858    L_2:
                           A  1859    ;  150		{
                           A  1860    ;  151			vdp_spriteSelect(n);
                           A  1861    .LINE 151
                           A  1862    
040F52 DD4EFF              A  1863    	LD	C,(IX+%FFFFFFFF)
040F55 0600                A  1864    	LD	B,%0
040F57 C5                  A  1865    	PUSH	BC
040F58 CD 3F 09 04         A  1866    	CALL	_vdp_spriteSelect
040F5C C1                  A  1867    	POP	BC
                           A  1868    ;  152			vdp_spriteHide(n);
                           A  1869    .LINE 152
                           A  1870    
040F5D DD4EFF              A  1871    	LD	C,(IX+%FFFFFFFF)
040F60 0600                A  1872    	LD	B,%0
040F62 C5                  A  1873    	PUSH	BC
040F63 CD 7B 0B 04         A  1874    	CALL	_vdp_spriteHide
040F67 C1                  A  1875    	POP	BC
                           A  1876    ;  153			vdp_spriteSetFrame(n,0);
                           A  1877    .LINE 153
                           A  1878    
040F68 01000000            A  1879    	LD	BC,0
040F6C C5                  A  1880    	PUSH	BC
040F6D DD4EFF              A  1881    	LD	C,(IX+%FFFFFFFF)
040F70 0600                A  1882    	LD	B,%0
040F72 C5                  A  1883    	PUSH	BC
040F73 CD E9 0A 04         A  1884    	CALL	_vdp_spriteSetFrame
040F77 C1                  A  1885    	POP	BC
040F78 C1                  A  1886    	POP	BC
                           A  1887    ;  154			vdp_spriteClearFramesSelected()
                           A  1888    .LINE 154
                           A  1889    
040F79 CD 78 09 04         A  1890    	CALL	_vdp_spriteClearFramesSelected
040F7D DD34FF              A  1891    	INC	(IX+%FFFFFFFF)
                           A  1892    ;  155		}
040F80                     A  1893    L_4:
                           A  1894    .LINE 155
                           A  1895    
040F80 DD7EFF              A  1896    	LD	A,(IX+%FFFFFFFF)
040F83 21 A9 44 04         A  1897    	LD	HL,_spritenumber
040F87 BE                  A  1898    	CP	A,(HL)
040F88 38 C8               A  1899    	JR	C,L_2
                           A  1900    ;  156		vdp_spriteActivateTotal(0);
                           A  1901    .LINE 156
                           A  1902    
040F8A 01000000            A  1903    	LD	BC,0
040F8E C5                  A  1904    	PUSH	BC
040F8F CD 62 0C 04         A  1905    	CALL	_vdp_spriteActivateTotal
040F93 C1                  A  1906    	POP	BC
                           A  1907    ;  157		spritenumber = 0;
                           A  1908    .LINE 157
                           A  1909    
040F94 AF                  A  1910    	XOR	A,A
040F95 32 A9 44 04         A  1911    	LD	(_spritenumber),A
                           A  1912    ;  158	
                           A  1913    ;  159		// reset all sprite positions and c
                           A  1914    ;  160		memset(sprites, 255, MAXHEIGHT*MAXW
                           A  1915    .LINE 160
                           A  1916    
040F99 01B00400            A  1917    	LD	BC,1200
040F9D C5                  A  1918    	PUSH	BC
040F9E 01FF0000            A  1919    	LD	BC,255
040FA2 C5                  A  1920    	PUSH	BC
040FA3 01 42 3B 04         A  1921    	LD	BC,_sprites
040FA7 C5                  A  1922    	PUSH	BC
040FA8 CD BB 20 04         A  1923    	CALL	_memset
040FAC C1                  A  1924    	POP	BC
040FAD C1                  A  1925    	POP	BC
040FAE C1                  A  1926    	POP	BC
                           A  1927    ;  161	
                           A  1928    ;  162		vdp_spriteRefresh();
                           A  1929    .LINE 162
                           A  1930    
040FAF CD 9B 0C 04         A  1931    	CALL	_vdp_spriteRefresh
                           A  1932    ;  163		return;
                           A  1933    ;  164	}
                           A  1934    .LINE 164
                           A  1935    
040FB3 DDF9                A  1936    	LD	SP,IX
040FB5 DDE1                A  1937    	POP	IX
040FB7 C9                  A  1938    	RET	
                           A  1939    
                           A  1940    
                           A  1941    ;**************************** _game_resetSprite
                           A  1942    ;Name                         Addr/Register   S
                           A  1943    ;_vdp_spriteRefresh                  IMPORT  --
                           A  1944    ;_sprites                            STATIC   1
                           A  1945    ;_memset                             IMPORT  --
                           A  1946    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  1947    ;_spritenumber                       STATIC    
                           A  1948    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  1949    ;_vdp_spriteSetFrame                 IMPORT  --
                           A  1950    ;_vdp_spriteHide                     IMPORT  --
                           A  1951    ;_vdp_spriteSelect                   IMPORT  --
                           A  1952    ;n                                     IX-1    
                           A  1953    
                           A  1954    
                           A  1955    ; Stack Frame Size: 7 (bytes)
                           A  1956    ;       Spill Code: 0 (instruction)
                           A  1957    
                           A  1958    
                           A  1959    .ENDFUNC "game_resetSprites",164,"_game_resetSp
                           A  1960    ;  165	
                           A  1961    ;  166	BOOL canmove(UINT16 xn1, UINT16 yn1, UI
                           A  1962    ;  167	{
040FB8                     A  1963    _canmove:
                           A  1964    .DEFINE "_canmove"
                           A  1965    
                           A  1966    .VALUE _canmove
                           A  1967    
                           A  1968    .CLASS 2
                           A  1969    
                           A  1970    .TYPE 76
                           A  1971    
                           A  1972    .ENDEF
                           A  1973    
                           A  1974    .BEGFUNC "canmove",167,"_canmove"
                           A  1975    
                           A  1976    .LINE 167
                           A  1977    
                           A  1978    .DEFINE "xn1"
                           A  1979    
                           A  1980    .CLASS 65
                           A  1981    
                           A  1982    .VALUE 6
                           A  1983    
                           A  1984    .TYPE 13
                           A  1985    
                           A  1986    .ENDEF
                           A  1987    
                           A  1988    .DEFINE "yn1"
                           A  1989    
                           A  1990    .CLASS 65
                           A  1991    
                           A  1992    .VALUE 9
                           A  1993    
                           A  1994    .TYPE 13
                           A  1995    
                           A  1996    .ENDEF
                           A  1997    
                           A  1998    .DEFINE "xn2"
                           A  1999    
                           A  2000    .CLASS 65
                           A  2001    
                           A  2002    .VALUE 12
                           A  2003    
                           A  2004    .TYPE 13
                           A  2005    
                           A  2006    .ENDEF
                           A  2007    
                           A  2008    .DEFINE "yn2"
                           A  2009    
                           A  2010    .CLASS 65
                           A  2011    
                           A  2012    .VALUE 15
                           A  2013    
                           A  2014    .TYPE 13
                           A  2015    
                           A  2016    .ENDEF
                           A  2017    
                           A  2018    .DEFINE "n1"
                           A  2019    
                           A  2020    .CLASS 65
                           A  2021    
                           A  2022    .VALUE -1
                           A  2023    
                           A  2024    .TYPE 12
                           A  2025    
                           A  2026    .ENDEF
                           A  2027    
                           A  2028    .DEFINE "n2"
                           A  2029    
                           A  2030    .CLASS 65
                           A  2031    
                           A  2032    .VALUE -2
                           A  2033    
                           A  2034    .TYPE 12
                           A  2035    
                           A  2036    .ENDEF
                           A  2037    
040FB8 DDE5                A  2038    	PUSH	IX
040FBA DD210000 00         A  2039    	LD	IX,0
040FBF DD39                A  2040    	ADD	IX,SP
040FC1 3B                  A  2041    	DEC	SP
040FC2 3B                  A  2042    	DEC	SP
                           A  2043    ;  168		BOOL can = FALSE;
                           A  2044    ;  169		UINT8 n1, n2;
                           A  2045    ;  170		
                           A  2046    ;  171		n1 = currentlevel.data[yn1][xn1];
                           A  2047    .LINE 171
                           A  2048    
040FC3 DD0709              A  2049    	LD	BC,(IX+%9)
040FC6 CD 7A 1E 04         A  2050    	CALL	__stoiu
040FCA 3E28                A  2051    	LD	A,%28
040FCC CD BD 1F 04         A  2052    	CALL	__imul_b
040FD0 01 F9 3F 04         A  2053    	LD	BC,_currentlevel+7
040FD4 09                  A  2054    	ADD	HL,BC
040FD5 E5D1                A  2055    	LD	DE,HL
040FD7 DD0706              A  2056    	LD	BC,(IX+%6)
040FDA CD 7A 1E 04         A  2057    	CALL	__stoiu
040FDE 19                  A  2058    	ADD	HL,DE
040FDF 7E                  A  2059    	LD	A,(HL)
040FE0 DD77FF              A  2060    	LD	(IX+%FFFFFFFF),A
                           A  2061    ;  172		n2 = currentlevel.data[yn2][xn2];
                           A  2062    .LINE 172
                           A  2063    
040FE3 DD070F              A  2064    	LD	BC,(IX+%F)
040FE6 CD 7A 1E 04         A  2065    	CALL	__stoiu
040FEA 3E28                A  2066    	LD	A,%28
040FEC CD BD 1F 04         A  2067    	CALL	__imul_b
040FF0 01 F9 3F 04         A  2068    	LD	BC,_currentlevel+7
040FF4 09                  A  2069    	ADD	HL,BC
040FF5 E5D1                A  2070    	LD	DE,HL
040FF7 DD070C              A  2071    	LD	BC,(IX+%C)
040FFA CD 7A 1E 04         A  2072    	CALL	__stoiu
040FFE 19                  A  2073    	ADD	HL,DE
040FFF 7E                  A  2074    	LD	A,(HL)
041000 DD77FE              A  2075    	LD	(IX+%FFFFFFFE),A
                           A  2076    ;  173		
                           A  2077    ;  174		switch(n1)
                           A  2078    .LINE 174
                           A  2079    
041003 DD7EFF              A  2080    	LD	A,(IX+%FFFFFFFF)
041006 B7ED62              A  2081    	UEXT	HL
041009 6F                  A  2082    	LD	L,A
04100A CD 4B 20 04         A  2083    	CALL	__case8D
04100E E9                  A  2084    	JP	(HL)
04100F                     A  2085    L__3:
04100F 0300                A  2086    	DW	3
041011 20                  A  2087    	DB	32
041012 231004              A  2088    	DW24	L_8	
                           A  2089    
041015 23                  A  2090    	DB	35
041016 201004              A  2091    	DW24	L_7	
                           A  2092    
041019 2E                  A  2093    	DB	46
04101A 231004              A  2094    	DW24	L_9	
                           A  2095    
04101D 271004              A  2096    	DW24	L_13	
                           A  2097    
                           A  2098    ;  175		{
                           A  2099    ;  176			case CHAR_WALL:
041020                     A  2100    L_7:
                           A  2101    .LINE 176
                           A  2102    
                           A  2103    ;  177				return FALSE;
                           A  2104    .LINE 177
                           A  2105    
041020 AF                  A  2106    	XOR	A,A
041021 18 29               A  2107    	JR	L_15
                           A  2108    ;  178				break;
                           A  2109    ;  179			case CHAR_FLOOR:
041023                     A  2110    L_8:
                           A  2111    .LINE 179
                           A  2112    
                           A  2113    ;  180			case CHAR_GOAL:
041023                     A  2114    L_9:
                           A  2115    .LINE 180
                           A  2116    
                           A  2117    ;  181				return TRUE;
                           A  2118    .LINE 181
                           A  2119    
041023 3E01                A  2120    	LD	A,%1
041025 18 25               A  2121    	JR	L_15
                           A  2122    ;  182				break;
                           A  2123    ;  183		}
041027                     A  2124    L_13:
                           A  2125    .LINE 183
                           A  2126    
                           A  2127    ;  184		// either BOX or BOXONGOAL next to 
                           A  2128    ;  185		switch(n2)
                           A  2129    .LINE 185
                           A  2130    
041027 DD7EFE              A  2131    	LD	A,(IX+%FFFFFFFE)
04102A B7ED62              A  2132    	UEXT	HL
04102D 6F                  A  2133    	LD	L,A
04102E CD 4B 20 04         A  2134    	CALL	__case8D
041032 E9                  A  2135    	JP	(HL)
041033                     A  2136    L__4:
041033 0300                A  2137    	DW	3
041035 23                  A  2138    	DB	35
041036 441004              A  2139    	DW24	L_10	
                           A  2140    
041039 24                  A  2141    	DB	36
04103A 471004              A  2142    	DW24	L_11	
                           A  2143    
04103D 2A                  A  2144    	DB	42
04103E 471004              A  2145    	DW24	L_12	
                           A  2146    
041041 4A1004              A  2147    	DW24	L_14	
                           A  2148    
                           A  2149    ;  186		{
                           A  2150    ;  187			case CHAR_WALL:
041044                     A  2151    L_10:
                           A  2152    .LINE 187
                           A  2153    
                           A  2154    ;  188				return FALSE;
                           A  2155    .LINE 188
                           A  2156    
041044 AF                  A  2157    	XOR	A,A
041045 18 05               A  2158    	JR	L_15
                           A  2159    ;  189				break;
                           A  2160    ;  190			case CHAR_BOX:
041047                     A  2161    L_11:
                           A  2162    .LINE 190
                           A  2163    
                           A  2164    ;  191			case CHAR_BOXONGOAL:
041047                     A  2165    L_12:
                           A  2166    .LINE 191
                           A  2167    
                           A  2168    ;  192				return FALSE;
                           A  2169    .LINE 192
                           A  2170    
041047 AF                  A  2171    	XOR	A,A
041048 18 02               A  2172    	JR	L_15
                           A  2173    ;  193				break;
                           A  2174    ;  194		}
04104A                     A  2175    L_14:
                           A  2176    .LINE 194
                           A  2177    
                           A  2178    ;  195		// only FLOOR or empty GOAL remaini
                           A  2179    ;  196		return TRUE;
                           A  2180    .LINE 196
                           A  2181    
04104A 3E01                A  2182    	LD	A,%1
                           A  2183    ;  197	}
04104C                     A  2184    L_15:
                           A  2185    .LINE 197
                           A  2186    
04104C DDF9                A  2187    	LD	SP,IX
04104E DDE1                A  2188    	POP	IX
041050 C9                  A  2189    	RET	
                           A  2190    
                           A  2191    
                           A  2192    ;**************************** _canmove ********
                           A  2193    ;Name                         Addr/Register   S
                           A  2194    ;_currentlevel                       STATIC   1
                           A  2195    ;n2                                    IX-2    
                           A  2196    ;n1                                    IX-1    
                           A  2197    ;yn2                                  IX+15    
                           A  2198    ;xn2                                  IX+12    
                           A  2199    ;yn1                                   IX+9    
                           A  2200    ;xn1                                   IX+6    
                           A  2201    
                           A  2202    
                           A  2203    ; Stack Frame Size: 20 (bytes)
                           A  2204    ;       Spill Code: 0 (instruction)
                           A  2205    
                           A  2206    
                           A  2207    .ENDFUNC "canmove",197,"_canmove"
                           A  2208    ;  198	
                           A  2209    ;  199	void move_sprites(UINT16 xn1, UINT16 yn
                           A  2210    ;  200	{
041051                     A  2211    _move_sprites:
                           A  2212    .DEFINE "_move_sprites"
                           A  2213    
                           A  2214    .VALUE _move_sprites
                           A  2215    
                           A  2216    .CLASS 2
                           A  2217    
                           A  2218    .TYPE 65
                           A  2219    
                           A  2220    .ENDEF
                           A  2221    
                           A  2222    .BEGFUNC "move_sprites",200,"_move_sprites"
                           A  2223    
                           A  2224    .LINE 200
                           A  2225    
                           A  2226    .DEFINE "xn1"
                           A  2227    
                           A  2228    .CLASS 65
                           A  2229    
                           A  2230    .VALUE 6
                           A  2231    
                           A  2232    .TYPE 13
                           A  2233    
                           A  2234    .ENDEF
                           A  2235    
                           A  2236    .DEFINE "yn1"
                           A  2237    
                           A  2238    .CLASS 65
                           A  2239    
                           A  2240    .VALUE 9
                           A  2241    
                           A  2242    .TYPE 13
                           A  2243    
                           A  2244    .ENDEF
                           A  2245    
                           A  2246    .DEFINE "xn2"
                           A  2247    
                           A  2248    .CLASS 65
                           A  2249    
                           A  2250    .VALUE 12
                           A  2251    
                           A  2252    .TYPE 13
                           A  2253    
                           A  2254    .ENDEF
                           A  2255    
                           A  2256    .DEFINE "yn2"
                           A  2257    
                           A  2258    .CLASS 65
                           A  2259    
                           A  2260    .VALUE 15
                           A  2261    
                           A  2262    .TYPE 13
                           A  2263    
                           A  2264    .ENDEF
                           A  2265    
                           A  2266    .DEFINE "spriteid"
                           A  2267    
                           A  2268    .CLASS 65
                           A  2269    
                           A  2270    .VALUE -1
                           A  2271    
                           A  2272    .TYPE 12
                           A  2273    
                           A  2274    .ENDEF
                           A  2275    
                           A  2276    .DEFINE "n"
                           A  2277    
                           A  2278    .CLASS 65
                           A  2279    
                           A  2280    .VALUE -2
                           A  2281    
                           A  2282    .TYPE 12
                           A  2283    
                           A  2284    .ENDEF
                           A  2285    
                           A  2286    .DEFINE "dx"
                           A  2287    
                           A  2288    .CLASS 65
                           A  2289    
                           A  2290    .VALUE -4
                           A  2291    
                           A  2292    .TYPE 3
                           A  2293    
                           A  2294    .ENDEF
                           A  2295    
                           A  2296    .DEFINE "dy"
                           A  2297    
                           A  2298    .CLASS 65
                           A  2299    
                           A  2300    .VALUE -6
                           A  2301    
                           A  2302    .TYPE 3
                           A  2303    
                           A  2304    .ENDEF
                           A  2305    
                           A  2306    .DEFINE "n2"
                           A  2307    
                           A  2308    .CLASS 65
                           A  2309    
                           A  2310    .VALUE -7
                           A  2311    
                           A  2312    .TYPE 12
                           A  2313    
                           A  2314    .ENDEF
                           A  2315    
041051 DDE5                A  2316    	PUSH	IX
041053 DD210000 00         A  2317    	LD	IX,0
041058 DD39                A  2318    	ADD	IX,SP
04105A C5                  A  2319    	PUSH	BC
04105B C5                  A  2320    	PUSH	BC
04105C 3B                  A  2321    	DEC	SP
                           A  2322    ;  201		// move can happen, no need to chec
                           A  2323    ;  202		UINT8 spriteid = sprites[yn1][xn1];
                           A  2324    .LINE 202
                           A  2325    
04105D DD0709              A  2326    	LD	BC,(IX+%9)
041060 CD 7A 1E 04         A  2327    	CALL	__stoiu
041064 3E28                A  2328    	LD	A,%28
041066 CD BD 1F 04         A  2329    	CALL	__imul_b
04106A 01 42 3B 04         A  2330    	LD	BC,_sprites
04106E 09                  A  2331    	ADD	HL,BC
04106F E5D1                A  2332    	LD	DE,HL
041071 DD0706              A  2333    	LD	BC,(IX+%6)
041074 CD 7A 1E 04         A  2334    	CALL	__stoiu
041078 19                  A  2335    	ADD	HL,DE
041079 7E                  A  2336    	LD	A,(HL)
04107A DD77FF              A  2337    	LD	(IX+%FFFFFFFF),A
                           A  2338    ;  203		UINT8 n;
                           A  2339    ;  204		INT16 dx, dy;
                           A  2340    ;  205		UINT8 n2;
                           A  2341    ;  206			
                           A  2342    ;  207		dx = xn2 - xn1;
                           A  2343    .LINE 207
                           A  2344    
04107D DD0706              A  2345    	LD	BC,(IX+%6)
041080 DD270C              A  2346    	LD	HL,(IX+%C)
041083 B7                  A  2347    	OR	A,A
041084 40ED42              A  2348    	SBC.SIS	HL,BC
041087 DD75FC              A  2349    	LD	(IX+%FFFFFFFC),L
04108A DD74FD              A  2350    	LD	(IX+%FFFFFFFD),H
                           A  2351    ;  208		dy = yn2 - yn1;
                           A  2352    .LINE 208
                           A  2353    
04108D DD0709              A  2354    	LD	BC,(IX+%9)
041090 DD270F              A  2355    	LD	HL,(IX+%F)
041093 B7                  A  2356    	OR	A,A
041094 40ED42              A  2357    	SBC.SIS	HL,BC
041097 DD75FA              A  2358    	LD	(IX+%FFFFFFFA),L
04109A DD74FB              A  2359    	LD	(IX+%FFFFFFFB),H
                           A  2360    ;  209		
                           A  2361    ;  210		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  2362    .LINE 210
                           A  2363    
04109D DD36FE00            A  2364    	LD	(IX+%FFFFFFFE),%0
0410A1 18 3B               A  2365    	JR	L_21
0410A3                     A  2366    L_19:
                           A  2367    ;  211		{
                           A  2368    ;  212			if(spriteid != NOSPRITE)
                           A  2369    .LINE 212
                           A  2370    
0410A3 DD7EFF              A  2371    	LD	A,(IX+%FFFFFFFF)
0410A6 FEFF                A  2372    	CP	A,%FF
0410A8 28 19               A  2373    	JR	Z,L_18
                           A  2374    ;  213			{
                           A  2375    ;  214				vdp_spriteSelect(spriteid);
                           A  2376    .LINE 214
                           A  2377    
0410AA DD4EFF              A  2378    	LD	C,(IX+%FFFFFFFF)
0410AD 0600                A  2379    	LD	B,%0
0410AF C5                  A  2380    	PUSH	BC
0410B0 CD 3F 09 04         A  2381    	CALL	_vdp_spriteSelect
0410B4 C1                  A  2382    	POP	BC
                           A  2383    ;  215				vdp_spriteMoveBySelected(dx
                           A  2384    .LINE 215
                           A  2385    
0410B5 DD07FA              A  2386    	LD	BC,(IX+%FFFFFFFA)
0410B8 C5                  A  2387    	PUSH	BC
0410B9 DD07FC              A  2388    	LD	BC,(IX+%FFFFFFFC)
0410BC C5                  A  2389    	PUSH	BC
0410BD CD FD 0B 04         A  2390    	CALL	_vdp_spriteMoveBySelected
0410C1 C1                  A  2391    	POP	BC
0410C2 C1                  A  2392    	POP	BC
                           A  2393    ;  216			}
0410C3                     A  2394    L_18:
                           A  2395    .LINE 216
                           A  2396    
                           A  2397    ;  217			vdp_spriteSelect(0);
                           A  2398    .LINE 217
                           A  2399    
0410C3 01000000            A  2400    	LD	BC,0
0410C7 C5                  A  2401    	PUSH	BC
0410C8 CD 3F 09 04         A  2402    	CALL	_vdp_spriteSelect
0410CC C1                  A  2403    	POP	BC
                           A  2404    ;  218			vdp_spriteMoveBySelected(dx, dy
                           A  2405    .LINE 218
                           A  2406    
0410CD DD07FA              A  2407    	LD	BC,(IX+%FFFFFFFA)
0410D0 C5                  A  2408    	PUSH	BC
0410D1 DD07FC              A  2409    	LD	BC,(IX+%FFFFFFFC)
0410D4 C5                  A  2410    	PUSH	BC
0410D5 CD FD 0B 04         A  2411    	CALL	_vdp_spriteMoveBySelected
0410D9 C1                  A  2412    	POP	BC
0410DA C1                  A  2413    	POP	BC
0410DB DD34FE              A  2414    	INC	(IX+%FFFFFFFE)
                           A  2415    ;  219		}
0410DE                     A  2416    L_21:
                           A  2417    .LINE 219
                           A  2418    
0410DE DD7EFE              A  2419    	LD	A,(IX+%FFFFFFFE)
0410E1 FE10                A  2420    	CP	A,%10
0410E3 38 BE               A  2421    	JR	C,L_19
                           A  2422    ;  220	
                           A  2423    ;  221		// set destination sprite frame
                           A  2424    ;  222		if(spriteid != NOSPRITE)
                           A  2425    .LINE 222
                           A  2426    
0410E5 DD7EFF              A  2427    	LD	A,(IX+%FFFFFFFF)
0410E8 FEFF                A  2428    	CP	A,%FF
0410EA 28 57               A  2429    	JR	Z,L_27
                           A  2430    ;  223		{
                           A  2431    ;  224			vdp_spriteSelect(spriteid);
                           A  2432    .LINE 224
                           A  2433    
0410EC DD4EFF              A  2434    	LD	C,(IX+%FFFFFFFF)
0410EF 0600                A  2435    	LD	B,%0
0410F1 C5                  A  2436    	PUSH	BC
0410F2 CD 3F 09 04         A  2437    	CALL	_vdp_spriteSelect
0410F6 C1                  A  2438    	POP	BC
                           A  2439    ;  225			// Check if the sprite moved to
                           A  2440    ;  226			n2 = currentlevel.data[yn2][xn2
                           A  2441    .LINE 226
                           A  2442    
0410F7 DD070F              A  2443    	LD	BC,(IX+%F)
0410FA CD 7A 1E 04         A  2444    	CALL	__stoiu
0410FE 3E28                A  2445    	LD	A,%28
041100 CD BD 1F 04         A  2446    	CALL	__imul_b
041104 01 F9 3F 04         A  2447    	LD	BC,_currentlevel+7
041108 09                  A  2448    	ADD	HL,BC
041109 E5D1                A  2449    	LD	DE,HL
04110B DD070C              A  2450    	LD	BC,(IX+%C)
04110E CD 7A 1E 04         A  2451    	CALL	__stoiu
041112 19                  A  2452    	ADD	HL,DE
041113 7E                  A  2453    	LD	A,(HL)
041114 DD77F9              A  2454    	LD	(IX+%FFFFFFF9),A
                           A  2455    ;  227			switch(n2)
                           A  2456    .LINE 227
                           A  2457    
041117 B7ED62              A  2458    	UEXT	HL
04111A 6F                  A  2459    	LD	L,A
04111B CD 4B 20 04         A  2460    	CALL	__case8D
04111F E9                  A  2461    	JP	(HL)
041120                     A  2462    L__9:
041120 0200                A  2463    	DW	2
041122 20                  A  2464    	DB	32
041123 2D1104              A  2465    	DW24	L_22	
                           A  2466    
041126 2E                  A  2467    	DB	46
041127 391104              A  2468    	DW24	L_23	
                           A  2469    
04112A 431104              A  2470    	DW24	L_27	
                           A  2471    
                           A  2472    ;  228			{
                           A  2473    ;  229				case CHAR_FLOOR:
04112D                     A  2474    L_22:
                           A  2475    .LINE 229
                           A  2476    
                           A  2477    ;  230					vdp_spriteSetFrameSelec
                           A  2478    .LINE 230
                           A  2479    
04112D 01000000            A  2480    	LD	BC,0
041131 C5                  A  2481    	PUSH	BC
041132 CD B0 0A 04         A  2482    	CALL	_vdp_spriteSetFrameSelected
041136 C1                  A  2483    	POP	BC
                           A  2484    ;  231					break;
                           A  2485    .LINE 231
                           A  2486    
041137 18 0A               A  2487    	JR	L_27
                           A  2488    ;  232				case CHAR_GOAL:
041139                     A  2489    L_23:
                           A  2490    .LINE 232
                           A  2491    
                           A  2492    ;  233					vdp_spriteSetFrameSelec
                           A  2493    .LINE 233
                           A  2494    
041139 01010000            A  2495    	LD	BC,1
04113D C5                  A  2496    	PUSH	BC
04113E CD B0 0A 04         A  2497    	CALL	_vdp_spriteSetFrameSelected
041142 C1                  A  2498    	POP	BC
                           A  2499    ;  234					break;
                           A  2500    ;  235			}
                           A  2501    ;  236		}
041143                     A  2502    L_27:
                           A  2503    .LINE 236
                           A  2504    
                           A  2505    ;  237		// update sprite number matrix
                           A  2506    ;  238		if(spriteid != NOSPRITE)
                           A  2507    .LINE 238
                           A  2508    
041143 DD7EFF              A  2509    	LD	A,(IX+%FFFFFFFF)
041146 FEFF                A  2510    	CP	A,%FF
041148 28 3F               A  2511    	JR	Z,L_28
                           A  2512    ;  239		{
                           A  2513    ;  240			// player shoves a box here
                           A  2514    ;  241			sprites[yn2][xn2] = sprites[yn1
                           A  2515    .LINE 241
                           A  2516    
04114A DD0709              A  2517    	LD	BC,(IX+%9)
04114D CD 7A 1E 04         A  2518    	CALL	__stoiu
041151 3E28                A  2519    	LD	A,%28
041153 CD BD 1F 04         A  2520    	CALL	__imul_b
041157 01 42 3B 04         A  2521    	LD	BC,_sprites
04115B 09                  A  2522    	ADD	HL,BC
04115C E5D1                A  2523    	LD	DE,HL
04115E DD0706              A  2524    	LD	BC,(IX+%6)
041161 CD 7A 1E 04         A  2525    	CALL	__stoiu
041165 19                  A  2526    	ADD	HL,DE
041166 E5FDE1              A  2527    	LD	IY,HL
041169 DD070F              A  2528    	LD	BC,(IX+%F)
04116C CD 7A 1E 04         A  2529    	CALL	__stoiu
041170 3E28                A  2530    	LD	A,%28
041172 CD BD 1F 04         A  2531    	CALL	__imul_b
041176 01 42 3B 04         A  2532    	LD	BC,_sprites
04117A 09                  A  2533    	ADD	HL,BC
04117B E5D1                A  2534    	LD	DE,HL
04117D DD070C              A  2535    	LD	BC,(IX+%C)
041180 CD 7A 1E 04         A  2536    	CALL	__stoiu
041184 19                  A  2537    	ADD	HL,DE
041185 FD7E00              A  2538    	LD	A,(IY)
041188 77                  A  2539    	LD	(HL),A
                           A  2540    ;  242		}
041189                     A  2541    L_28:
                           A  2542    .LINE 242
                           A  2543    
                           A  2544    ;  243		sprites[yn1][xn1] = NOSPRITE; // pl
                           A  2545    .LINE 243
                           A  2546    
041189 DD0709              A  2547    	LD	BC,(IX+%9)
04118C CD 7A 1E 04         A  2548    	CALL	__stoiu
041190 3E28                A  2549    	LD	A,%28
041192 CD BD 1F 04         A  2550    	CALL	__imul_b
041196 01 42 3B 04         A  2551    	LD	BC,_sprites
04119A 09                  A  2552    	ADD	HL,BC
04119B E5D1                A  2553    	LD	DE,HL
04119D DD0706              A  2554    	LD	BC,(IX+%6)
0411A0 CD 7A 1E 04         A  2555    	CALL	__stoiu
0411A4 19                  A  2556    	ADD	HL,DE
0411A5 36FF                A  2557    	LD	(HL),%FF
                           A  2558    ;  244		sprites[currentlevel.ypos][currentl
                           A  2559    .LINE 244
                           A  2560    
0411A7 3A F3 3F 04         A  2561    	LD	A,(_currentlevel+1)
0411AB B7ED62              A  2562    	UEXT	HL
0411AE 6F                  A  2563    	LD	L,A
0411AF 3E28                A  2564    	LD	A,%28
0411B1 CD BD 1F 04         A  2565    	CALL	__imul_b
0411B5 01 42 3B 04         A  2566    	LD	BC,_sprites
0411B9 09                  A  2567    	ADD	HL,BC
0411BA E5C1                A  2568    	LD	BC,HL
0411BC 3A F2 3F 04         A  2569    	LD	A,(_currentlevel)
0411C0 B7ED62              A  2570    	UEXT	HL
0411C3 6F                  A  2571    	LD	L,A
0411C4 09                  A  2572    	ADD	HL,BC
0411C5 36FF                A  2573    	LD	(HL),%FF
                           A  2574    ;  245		
                           A  2575    ;  246		vdp_spriteRefresh();
                           A  2576    .LINE 246
                           A  2577    
0411C7 CD 9B 0C 04         A  2578    	CALL	_vdp_spriteRefresh
                           A  2579    ;  247	}
                           A  2580    .LINE 247
                           A  2581    
0411CB DDF9                A  2582    	LD	SP,IX
0411CD DDE1                A  2583    	POP	IX
0411CF C9                  A  2584    	RET	
                           A  2585    
                           A  2586    
                           A  2587    ;**************************** _move_sprites ***
                           A  2588    ;Name                         Addr/Register   S
                           A  2589    ;_vdp_spriteRefresh                  IMPORT  --
                           A  2590    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  2591    ;_currentlevel                       STATIC   1
                           A  2592    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  2593    ;_vdp_spriteSelect                   IMPORT  --
                           A  2594    ;_sprites                            STATIC   1
                           A  2595    ;n2                                    IX-7    
                           A  2596    ;dy                                    IX-6    
                           A  2597    ;dx                                    IX-4    
                           A  2598    ;n                                     IX-2    
                           A  2599    ;spriteid                              IX-1    
                           A  2600    ;yn2                                  IX+15    
                           A  2601    ;xn2                                  IX+12    
                           A  2602    ;yn1                                   IX+9    
                           A  2603    ;xn1                                   IX+6    
                           A  2604    
                           A  2605    
                           A  2606    ; Stack Frame Size: 25 (bytes)
                           A  2607    ;       Spill Code: 0 (instruction)
                           A  2608    
                           A  2609    
                           A  2610    .ENDFUNC "move_sprites",247,"_move_sprites"
                           A  2611    ;  248	
                           A  2612    ;  249	void move_updatelevel(UINT16 xn1, UINT1
                           A  2613    ;  250	{
0411D0                     A  2614    _move_updatelevel:
                           A  2615    .DEFINE "_move_updatelevel"
                           A  2616    
                           A  2617    .VALUE _move_updatelevel
                           A  2618    
                           A  2619    .CLASS 2
                           A  2620    
                           A  2621    .TYPE 65
                           A  2622    
                           A  2623    .ENDEF
                           A  2624    
                           A  2625    .BEGFUNC "move_updatelevel",250,"_move_updatele
                           A  2626    
                           A  2627    .LINE 250
                           A  2628    
                           A  2629    .DEFINE "xn1"
                           A  2630    
                           A  2631    .CLASS 65
                           A  2632    
                           A  2633    .VALUE 6
                           A  2634    
                           A  2635    .TYPE 13
                           A  2636    
                           A  2637    .ENDEF
                           A  2638    
                           A  2639    .DEFINE "yn1"
                           A  2640    
                           A  2641    .CLASS 65
                           A  2642    
                           A  2643    .VALUE 9
                           A  2644    
                           A  2645    .TYPE 13
                           A  2646    
                           A  2647    .ENDEF
                           A  2648    
                           A  2649    .DEFINE "xn2"
                           A  2650    
                           A  2651    .CLASS 65
                           A  2652    
                           A  2653    .VALUE 12
                           A  2654    
                           A  2655    .TYPE 13
                           A  2656    
                           A  2657    .ENDEF
                           A  2658    
                           A  2659    .DEFINE "yn2"
                           A  2660    
                           A  2661    .CLASS 65
                           A  2662    
                           A  2663    .VALUE 15
                           A  2664    
                           A  2665    .TYPE 13
                           A  2666    
                           A  2667    .ENDEF
                           A  2668    
                           A  2669    .DEFINE "onlyplayermoves"
                           A  2670    
                           A  2671    .CLASS 65
                           A  2672    
                           A  2673    .VALUE -4
                           A  2674    
                           A  2675    .TYPE 12
                           A  2676    
                           A  2677    .ENDEF
                           A  2678    
                           A  2679    .DEFINE "n1"
                           A  2680    
                           A  2681    .CLASS 65
                           A  2682    
                           A  2683    .VALUE -5
                           A  2684    
                           A  2685    .TYPE 12
                           A  2686    
                           A  2687    .ENDEF
                           A  2688    
                           A  2689    .DEFINE "n2"
                           A  2690    
                           A  2691    .CLASS 65
                           A  2692    
                           A  2693    .VALUE -21
                           A  2694    
                           A  2695    .TYPE 12
                           A  2696    
                           A  2697    .ENDEF
                           A  2698    
0411D0 DDE5                A  2699    	PUSH	IX
0411D2 DD210000 00         A  2700    	LD	IX,0
0411D7 DD39                A  2701    	ADD	IX,SP
0411D9 ED22E5              A  2702    	LEA	HL,IX+%FFFFFFE5
0411DC F9                  A  2703    	LD	SP,HL
                           A  2704    ;  251		// move can happen, no need to chec
                           A  2705    ;  252		UINT8 n1, n2;
                           A  2706    ;  253		BOOL onlyplayermoves;
                           A  2707    ;  254		
                           A  2708    ;  255		n1 = currentlevel.data[yn1][xn1];
                           A  2709    .LINE 255
                           A  2710    
0411DD 01 F9 3F 04         A  2711    	LD	BC,_currentlevel+7
0411E1 DD0FE5              A  2712    	LD	(IX+%FFFFFFE5),BC
0411E4 DD0FEC              A  2713    	LD	(IX+%FFFFFFEC),BC
0411E7 DD0709              A  2714    	LD	BC,(IX+%9)
0411EA CD 7A 1E 04         A  2715    	CALL	__stoiu
0411EE 3E28                A  2716    	LD	A,%28
0411F0 CD BD 1F 04         A  2717    	CALL	__imul_b
0411F4 DD2FFD              A  2718    	LD	(IX+%FFFFFFFD),HL
0411F7 DD2FEF              A  2719    	LD	(IX+%FFFFFFEF),HL
0411FA DD2FF2              A  2720    	LD	(IX+%FFFFFFF2),HL
0411FD DD2FE8              A  2721    	LD	(IX+%FFFFFFE8),HL
041200 01 F9 3F 04         A  2722    	LD	BC,_currentlevel+7
041204 DD27FD              A  2723    	LD	HL,(IX+%FFFFFFFD)
041207 09                  A  2724    	ADD	HL,BC
041208 E5D1                A  2725    	LD	DE,HL
04120A DD0706              A  2726    	LD	BC,(IX+%6)
04120D CD 7A 1E 04         A  2727    	CALL	__stoiu
041211 19                  A  2728    	ADD	HL,DE
041212 7E                  A  2729    	LD	A,(HL)
041213 DD77FB              A  2730    	LD	(IX+%FFFFFFFB),A
                           A  2731    ;  256		n2 = currentlevel.data[yn2][xn2];
                           A  2732    .LINE 256
                           A  2733    
041216 DD070F              A  2734    	LD	BC,(IX+%F)
041219 CD 7A 1E 04         A  2735    	CALL	__stoiu
04121D 3E28                A  2736    	LD	A,%28
04121F CD BD 1F 04         A  2737    	CALL	__imul_b
041223 DD2FF8              A  2738    	LD	(IX+%FFFFFFF8),HL
041226 01 F9 3F 04         A  2739    	LD	BC,_currentlevel+7
04122A DD27F8              A  2740    	LD	HL,(IX+%FFFFFFF8)
04122D 09                  A  2741    	ADD	HL,BC
04122E E5D1                A  2742    	LD	DE,HL
041230 DD070C              A  2743    	LD	BC,(IX+%C)
041233 CD 7A 1E 04         A  2744    	CALL	__stoiu
041237 19                  A  2745    	ADD	HL,DE
041238 7E                  A  2746    	LD	A,(HL)
041239 DD77EB              A  2747    	LD	(IX+%FFFFFFEB),A
                           A  2748    ;  257	
                           A  2749    ;  258		
                           A  2750    ;  259		switch(n1)
                           A  2751    .LINE 259
                           A  2752    
04123C DD7EFB              A  2753    	LD	A,(IX+%FFFFFFFB)
04123F B7ED62              A  2754    	UEXT	HL
041242 6F                  A  2755    	LD	L,A
041243 CD 4B 20 04         A  2756    	CALL	__case8D
041247 E9                  A  2757    	JP	(HL)
041248                     A  2758    L__12:
041248 0200                A  2759    	DW	2
04124A 20                  A  2760    	DB	32
04124B 551204              A  2761    	DW24	L_30	
                           A  2762    
04124E 2E                  A  2763    	DB	46
04124F 8B1204              A  2764    	DW24	L_31	
                           A  2765    
041252 C11204              A  2766    	DW24	L_32	
                           A  2767    
                           A  2768    ;  260		{
                           A  2769    ;  261			case CHAR_FLOOR:
041255                     A  2770    L_30:
                           A  2771    .LINE 261
                           A  2772    
                           A  2773    ;  262				onlyplayermoves = TRUE;
                           A  2774    .LINE 262
                           A  2775    
041255 DD36FC01            A  2776    	LD	(IX+%FFFFFFFC),%1
                           A  2777    ;  263				currentlevel.data[yn1][xn1]
                           A  2778    .LINE 263
                           A  2779    
041259 01 F9 3F 04         A  2780    	LD	BC,_currentlevel+7
04125D DD0FE5              A  2781    	LD	(IX+%FFFFFFE5),BC
041260 DD0FEC              A  2782    	LD	(IX+%FFFFFFEC),BC
041263 DD07FD              A  2783    	LD	BC,(IX+%FFFFFFFD)
041266 DD0FEF              A  2784    	LD	(IX+%FFFFFFEF),BC
041269 DD07FD              A  2785    	LD	BC,(IX+%FFFFFFFD)
04126C DD0FF2              A  2786    	LD	(IX+%FFFFFFF2),BC
04126F DD07FD              A  2787    	LD	BC,(IX+%FFFFFFFD)
041272 DD0FE8              A  2788    	LD	(IX+%FFFFFFE8),BC
041275 01 F9 3F 04         A  2789    	LD	BC,_currentlevel+7
041279 DD27FD              A  2790    	LD	HL,(IX+%FFFFFFFD)
04127C 09                  A  2791    	ADD	HL,BC
04127D E5D1                A  2792    	LD	DE,HL
04127F DD0706              A  2793    	LD	BC,(IX+%6)
041282 CD 7A 1E 04         A  2794    	CALL	__stoiu
041286 19                  A  2795    	ADD	HL,DE
041287 3640                A  2796    	LD	(HL),%40
                           A  2797    ;  264				break;
                           A  2798    .LINE 264
                           A  2799    
041289 18 3A               A  2800    	JR	L_43
                           A  2801    ;  265			case CHAR_GOAL:
04128B                     A  2802    L_31:
                           A  2803    .LINE 265
                           A  2804    
                           A  2805    ;  266				onlyplayermoves = TRUE;
                           A  2806    .LINE 266
                           A  2807    
04128B DD36FC01            A  2808    	LD	(IX+%FFFFFFFC),%1
                           A  2809    ;  267				currentlevel.data[yn1][xn1]
                           A  2810    .LINE 267
                           A  2811    
04128F 01 F9 3F 04         A  2812    	LD	BC,_currentlevel+7
041293 DD0FE5              A  2813    	LD	(IX+%FFFFFFE5),BC
041296 DD0FEC              A  2814    	LD	(IX+%FFFFFFEC),BC
041299 DD07FD              A  2815    	LD	BC,(IX+%FFFFFFFD)
04129C DD0FEF              A  2816    	LD	(IX+%FFFFFFEF),BC
04129F DD07FD              A  2817    	LD	BC,(IX+%FFFFFFFD)
0412A2 DD0FF2              A  2818    	LD	(IX+%FFFFFFF2),BC
0412A5 DD07FD              A  2819    	LD	BC,(IX+%FFFFFFFD)
0412A8 DD0FE8              A  2820    	LD	(IX+%FFFFFFE8),BC
0412AB 01 F9 3F 04         A  2821    	LD	BC,_currentlevel+7
0412AF DD27FD              A  2822    	LD	HL,(IX+%FFFFFFFD)
0412B2 09                  A  2823    	ADD	HL,BC
0412B3 E5D1                A  2824    	LD	DE,HL
0412B5 DD0706              A  2825    	LD	BC,(IX+%6)
0412B8 CD 7A 1E 04         A  2826    	CALL	__stoiu
0412BC 19                  A  2827    	ADD	HL,DE
0412BD 362B                A  2828    	LD	(HL),%2B
                           A  2829    ;  268				break;
                           A  2830    .LINE 268
                           A  2831    
0412BF 18 04               A  2832    	JR	L_43
                           A  2833    ;  269			default:
0412C1                     A  2834    L_32:
                           A  2835    .LINE 269
                           A  2836    
                           A  2837    ;  270				onlyplayermoves = FALSE;
                           A  2838    .LINE 270
                           A  2839    
0412C1 DD36FC00            A  2840    	LD	(IX+%FFFFFFFC),%0
                           A  2841    ;  271				break;
                           A  2842    ;  272		}
0412C5                     A  2843    L_43:
                           A  2844    .LINE 272
                           A  2845    
                           A  2846    ;  273		if(!onlyplayermoves)
                           A  2847    .LINE 273
                           A  2848    
0412C5 DD7EFC              A  2849    	LD	A,(IX+%FFFFFFFC)
0412C8 B7                  A  2850    	OR	A,A
0412C9 C2 7D 13 04         A  2851    	JR	NZ,L_46
                           A  2852    ;  274		{
                           A  2853    ;  275			switch(n2)
                           A  2854    .LINE 275
                           A  2855    
0412CD DD7EEB              A  2856    	LD	A,(IX+%FFFFFFEB)
0412D0 B7ED62              A  2857    	UEXT	HL
0412D3 6F                  A  2858    	LD	L,A
0412D4 CD 4B 20 04         A  2859    	CALL	__case8D
0412D8 E9                  A  2860    	JP	(HL)
0412D9                     A  2861    L__14:
0412D9 0200                A  2862    	DW	2
0412DB 20                  A  2863    	DB	32
0412DC E61204              A  2864    	DW24	L_33	
                           A  2865    
0412DF 2E                  A  2866    	DB	46
0412E0 FB1204              A  2867    	DW24	L_34	
                           A  2868    
0412E3 171304              A  2869    	DW24	L_41	
                           A  2870    
                           A  2871    ;  276			{
                           A  2872    ;  277				case CHAR_FLOOR:
0412E6                     A  2873    L_33:
                           A  2874    .LINE 277
                           A  2875    
                           A  2876    ;  278					currentlevel.data[yn2][
                           A  2877    .LINE 278
                           A  2878    
0412E6 DD07F8              A  2879    	LD	BC,(IX+%FFFFFFF8)
0412E9 DD27E5              A  2880    	LD	HL,(IX+%FFFFFFE5)
0412EC 09                  A  2881    	ADD	HL,BC
0412ED E5D1                A  2882    	LD	DE,HL
0412EF DD070C              A  2883    	LD	BC,(IX+%C)
0412F2 CD 7A 1E 04         A  2884    	CALL	__stoiu
0412F6 19                  A  2885    	ADD	HL,DE
0412F7 3624                A  2886    	LD	(HL),%24
                           A  2887    ;  279					break;
                           A  2888    .LINE 279
                           A  2889    
0412F9 18 1C               A  2890    	JR	L_41
                           A  2891    ;  280				case CHAR_GOAL:
0412FB                     A  2892    L_34:
                           A  2893    .LINE 280
                           A  2894    
                           A  2895    ;  281					currentlevel.data[yn2][
                           A  2896    .LINE 281
                           A  2897    
0412FB DD07F8              A  2898    	LD	BC,(IX+%FFFFFFF8)
0412FE DD27EC              A  2899    	LD	HL,(IX+%FFFFFFEC)
041301 09                  A  2900    	ADD	HL,BC
041302 E5D1                A  2901    	LD	DE,HL
041304 DD070C              A  2902    	LD	BC,(IX+%C)
041307 CD 7A 1E 04         A  2903    	CALL	__stoiu
04130B 19                  A  2904    	ADD	HL,DE
04130C 362A                A  2905    	LD	(HL),%2A
                           A  2906    ;  282					currentlevel.goalstaken
                           A  2907    .LINE 282
                           A  2908    
04130E 3A F7 3F 04         A  2909    	LD	A,(_currentlevel+5)
041312 3C                  A  2910    	INC	A
041313 32 F7 3F 04         A  2911    	LD	(_currentlevel+5),A
                           A  2912    ;  283					break;
                           A  2913    ;  284				default:
                           A  2914    ;  285					break; // ignore the re
                           A  2915    ;  286			}
041317                     A  2916    L_41:
                           A  2917    .LINE 286
                           A  2918    
                           A  2919    ;  287			switch(n1)
                           A  2920    .LINE 287
                           A  2921    
041317 DD7EFB              A  2922    	LD	A,(IX+%FFFFFFFB)
04131A B7ED62              A  2923    	UEXT	HL
04131D 6F                  A  2924    	LD	L,A
04131E CD 4B 20 04         A  2925    	CALL	__case8D
041322 E9                  A  2926    	JP	(HL)
041323                     A  2927    L__15:
041323 0300                A  2928    	DW	3
041325 24                  A  2929    	DB	36
041326 341304              A  2930    	DW24	L_37	
                           A  2931    
041329 2A                  A  2932    	DB	42
04132A 4A1304              A  2933    	DW24	L_38	
                           A  2934    
04132D 2E                  A  2935    	DB	46
04132E 691304              A  2936    	DW24	L_40	
                           A  2937    
041331 7D1304              A  2938    	DW24	L_46	
                           A  2939    
                           A  2940    ;  288			{
                           A  2941    ;  289				case CHAR_BOX:
041334                     A  2942    L_37:
                           A  2943    .LINE 289
                           A  2944    
                           A  2945    ;  290					currentlevel.data[yn1][
                           A  2946    .LINE 290
                           A  2947    
041334 01 F9 3F 04         A  2948    	LD	BC,_currentlevel+7
041338 DD27EF              A  2949    	LD	HL,(IX+%FFFFFFEF)
04133B 09                  A  2950    	ADD	HL,BC
04133C E5D1                A  2951    	LD	DE,HL
04133E DD0706              A  2952    	LD	BC,(IX+%6)
041341 CD 7A 1E 04         A  2953    	CALL	__stoiu
041345 19                  A  2954    	ADD	HL,DE
041346 3640                A  2955    	LD	(HL),%40
                           A  2956    ;  291					break;
                           A  2957    .LINE 291
                           A  2958    
041348 18 33               A  2959    	JR	L_46
                           A  2960    ;  292				case CHAR_BOXONGOAL:
04134A                     A  2961    L_38:
                           A  2962    .LINE 292
                           A  2963    
                           A  2964    ;  293					currentlevel.data[yn1][
                           A  2965    .LINE 293
                           A  2966    
04134A 01 F9 3F 04         A  2967    	LD	BC,_currentlevel+7
04134E DD27F2              A  2968    	LD	HL,(IX+%FFFFFFF2)
041351 09                  A  2969    	ADD	HL,BC
041352 E5D1                A  2970    	LD	DE,HL
041354 DD0706              A  2971    	LD	BC,(IX+%6)
041357 CD 7A 1E 04         A  2972    	CALL	__stoiu
04135B 19                  A  2973    	ADD	HL,DE
04135C 362B                A  2974    	LD	(HL),%2B
                           A  2975    ;  294					currentlevel.goalstaken
                           A  2976    .LINE 294
                           A  2977    
04135E 3A F7 3F 04         A  2978    	LD	A,(_currentlevel+5)
041362 3D                  A  2979    	DEC	A
041363 32 F7 3F 04         A  2980    	LD	(_currentlevel+5),A
                           A  2981    ;  295					break;
                           A  2982    .LINE 295
                           A  2983    
041367 18 14               A  2984    	JR	L_46
                           A  2985    ;  296				case CHAR_GOAL:
041369                     A  2986    L_40:
                           A  2987    .LINE 296
                           A  2988    
                           A  2989    ;  297					currentlevel.data[yn1][
                           A  2990    .LINE 297
                           A  2991    
041369 01 F9 3F 04         A  2992    	LD	BC,_currentlevel+7
04136D DD27E8              A  2993    	LD	HL,(IX+%FFFFFFE8)
041370 09                  A  2994    	ADD	HL,BC
041371 E5D1                A  2995    	LD	DE,HL
041373 DD0706              A  2996    	LD	BC,(IX+%6)
041376 CD 7A 1E 04         A  2997    	CALL	__stoiu
04137A 19                  A  2998    	ADD	HL,DE
04137B 362B                A  2999    	LD	(HL),%2B
                           A  3000    ;  298					break;
                           A  3001    ;  299			}
                           A  3002    ;  300		}
04137D                     A  3003    L_46:
                           A  3004    .LINE 300
                           A  3005    
                           A  3006    ;  301		
                           A  3007    ;  302		
                           A  3008    ;  303		// check where the player was stand
                           A  3009    ;  304		if(currentlevel.data[currentlevel.y
                           A  3010    .LINE 304
                           A  3011    
04137D 01 F9 3F 04         A  3012    	LD	BC,_currentlevel+7
041381 DD0FF5              A  3013    	LD	(IX+%FFFFFFF5),BC
041384 3A F3 3F 04         A  3014    	LD	A,(_currentlevel+1)
041388 B7ED62              A  3015    	UEXT	HL
04138B 6F                  A  3016    	LD	L,A
04138C 3E28                A  3017    	LD	A,%28
04138E CD BD 1F 04         A  3018    	CALL	__imul_b
041392 DD07F5              A  3019    	LD	BC,(IX+%FFFFFFF5)
041395 09                  A  3020    	ADD	HL,BC
041396 E5C1                A  3021    	LD	BC,HL
041398 3A F2 3F 04         A  3022    	LD	A,(_currentlevel)
04139C B7ED62              A  3023    	UEXT	HL
04139F 6F                  A  3024    	LD	L,A
0413A0 09                  A  3025    	ADD	HL,BC
0413A1 7E                  A  3026    	LD	A,(HL)
0413A2 B7ED62              A  3027    	UEXT	HL
0413A5 6F                  A  3028    	LD	L,A
0413A6 012B0000            A  3029    	LD	BC,43
0413AA B7                  A  3030    	OR	A,A
0413AB ED42                A  3031    	SBC	HL,BC
0413AD 20 21               A  3032    	JR	NZ,L_45
0413AF 3A F3 3F 04         A  3033    	LD	A,(_currentlevel+1)
0413B3 B7ED62              A  3034    	UEXT	HL
0413B6 6F                  A  3035    	LD	L,A
0413B7 3E28                A  3036    	LD	A,%28
0413B9 CD BD 1F 04         A  3037    	CALL	__imul_b
0413BD DD07F5              A  3038    	LD	BC,(IX+%FFFFFFF5)
0413C0 09                  A  3039    	ADD	HL,BC
0413C1 E5C1                A  3040    	LD	BC,HL
0413C3 3A F2 3F 04         A  3041    	LD	A,(_currentlevel)
0413C7 B7ED62              A  3042    	UEXT	HL
0413CA 6F                  A  3043    	LD	L,A
0413CB 09                  A  3044    	ADD	HL,BC
0413CC 362E                A  3045    	LD	(HL),%2E
                           A  3046    ;  305		else currentlevel.data[currentlevel
                           A  3047    .LINE 305
                           A  3048    
0413CE 18 1F               A  3049    	JR	L_47
0413D0                     A  3050    L_45:
0413D0 3A F3 3F 04         A  3051    	LD	A,(_currentlevel+1)
0413D4 B7ED62              A  3052    	UEXT	HL
0413D7 6F                  A  3053    	LD	L,A
0413D8 3E28                A  3054    	LD	A,%28
0413DA CD BD 1F 04         A  3055    	CALL	__imul_b
0413DE DD07F5              A  3056    	LD	BC,(IX+%FFFFFFF5)
0413E1 09                  A  3057    	ADD	HL,BC
0413E2 E5C1                A  3058    	LD	BC,HL
0413E4 3A F2 3F 04         A  3059    	LD	A,(_currentlevel)
0413E8 B7ED62              A  3060    	UEXT	HL
0413EB 6F                  A  3061    	LD	L,A
0413EC 09                  A  3062    	ADD	HL,BC
0413ED 3620                A  3063    	LD	(HL),%20
0413EF                     A  3064    L_47:
                           A  3065    ;  306		
                           A  3066    ;  307		// update player position
                           A  3067    ;  308		currentlevel.xpos = xn1;
                           A  3068    .LINE 308
                           A  3069    
0413EF DD7E06              A  3070    	LD	A,(IX+%6)
0413F2 32 F2 3F 04         A  3071    	LD	(_currentlevel),A
                           A  3072    ;  309		currentlevel.ypos = yn1;
                           A  3073    .LINE 309
                           A  3074    
0413F6 DD7E09              A  3075    	LD	A,(IX+%9)
0413F9 32 F3 3F 04         A  3076    	LD	(_currentlevel+1),A
                           A  3077    ;  310	}
                           A  3078    .LINE 310
                           A  3079    
0413FD DDF9                A  3080    	LD	SP,IX
0413FF DDE1                A  3081    	POP	IX
041401 C9                  A  3082    	RET	
                           A  3083    
                           A  3084    
                           A  3085    ;**************************** _move_updatelevel
                           A  3086    ;Name                         Addr/Register   S
                           A  3087    ;_currentlevel                       STATIC   1
                           A  3088    ;G_4                                  IX-27    
                           A  3089    ;G_10                                 IX-24    
                           A  3090    ;n2                                   IX-21    
                           A  3091    ;G_6                                  IX-20    
                           A  3092    ;G_8                                  IX-17    
                           A  3093    ;G_9                                  IX-14    
                           A  3094    ;G_11                                 IX-11    
                           A  3095    ;G_5                                   IX-8    
                           A  3096    ;n1                                    IX-5    
                           A  3097    ;onlyplayermoves                       IX-4    
                           A  3098    ;G_1                                   IX-3    
                           A  3099    ;yn2                                  IX+15    
                           A  3100    ;xn2                                  IX+12    
                           A  3101    ;yn1                                   IX+9    
                           A  3102    ;xn1                                   IX+6    
                           A  3103    
                           A  3104    
                           A  3105    ; Stack Frame Size: 45 (bytes)
                           A  3106    ;       Spill Code: 0 (instruction)
                           A  3107    
                           A  3108    
                           A  3109    .ENDFUNC "move_updatelevel",310,"_move_updatele
                           A  3110    ;  311	
                           A  3111    ;  312	BOOL game_handleKey(char key)
                           A  3112    ;  313	{
041402                     A  3113    _game_handleKey:
                           A  3114    .DEFINE "_game_handleKey"
                           A  3115    
                           A  3116    .VALUE _game_handleKey
                           A  3117    
                           A  3118    .CLASS 2
                           A  3119    
                           A  3120    .TYPE 76
                           A  3121    
                           A  3122    .ENDEF
                           A  3123    
                           A  3124    .BEGFUNC "game_handleKey",313,"_game_handleKey"
                           A  3125    
                           A  3126    .LINE 313
                           A  3127    
                           A  3128    .DEFINE "key"
                           A  3129    
                           A  3130    .CLASS 65
                           A  3131    
                           A  3132    .VALUE 6
                           A  3133    
                           A  3134    .TYPE 2
                           A  3135    
                           A  3136    .ENDEF
                           A  3137    
                           A  3138    .DEFINE "xn1"
                           A  3139    
                           A  3140    .CLASS 65
                           A  3141    
                           A  3142    .VALUE -2
                           A  3143    
                           A  3144    .TYPE 3
                           A  3145    
                           A  3146    .ENDEF
                           A  3147    
                           A  3148    .DEFINE "xn2"
                           A  3149    
                           A  3150    .CLASS 65
                           A  3151    
                           A  3152    .VALUE -4
                           A  3153    
                           A  3154    .TYPE 3
                           A  3155    
                           A  3156    .ENDEF
                           A  3157    
                           A  3158    .DEFINE "yn1"
                           A  3159    
                           A  3160    .CLASS 65
                           A  3161    
                           A  3162    .VALUE -6
                           A  3163    
                           A  3164    .TYPE 3
                           A  3165    
                           A  3166    .ENDEF
                           A  3167    
                           A  3168    .DEFINE "yn2"
                           A  3169    
                           A  3170    .CLASS 65
                           A  3171    
                           A  3172    .VALUE -8
                           A  3173    
                           A  3174    .TYPE 3
                           A  3175    
                           A  3176    .ENDEF
                           A  3177    
                           A  3178    .DEFINE "move"
                           A  3179    
                           A  3180    .CLASS 65
                           A  3181    
                           A  3182    .VALUE -9
                           A  3183    
                           A  3184    .TYPE 12
                           A  3185    
                           A  3186    .ENDEF
                           A  3187    
                           A  3188    .DEFINE "done"
                           A  3189    
                           A  3190    .CLASS 65
                           A  3191    
                           A  3192    .VALUE -10
                           A  3193    
                           A  3194    .TYPE 12
                           A  3195    
                           A  3196    .ENDEF
                           A  3197    
041402 DDE5                A  3198    	PUSH	IX
041404 DD210000 00         A  3199    	LD	IX,0
041409 DD39                A  3200    	ADD	IX,SP
04140B C5                  A  3201    	PUSH	BC
04140C C5                  A  3202    	PUSH	BC
04140D C5                  A  3203    	PUSH	BC
04140E 3B                  A  3204    	DEC	SP
                           A  3205    ;  314		BOOL done = FALSE;
                           A  3206    .LINE 314
                           A  3207    
04140F DD36F600            A  3208    	LD	(IX+%FFFFFFF6),%0
                           A  3209    ;  315		BOOL move = FALSE;
                           A  3210    ;  316		INT16	xn1 = 0,xn2 = 0,yn1 = 0,yn2
                           A  3211    .LINE 316
                           A  3212    
041413 DD36FE00            A  3213    	LD	(IX+%FFFFFFFE),%0
041417 DD36FF00            A  3214    	LD	(IX+%FFFFFFFF),%0
04141B DD36FC00            A  3215    	LD	(IX+%FFFFFFFC),%0
04141F DD36FD00            A  3216    	LD	(IX+%FFFFFFFD),%0
041423 DD36FA00            A  3217    	LD	(IX+%FFFFFFFA),%0
041427 DD36FB00            A  3218    	LD	(IX+%FFFFFFFB),%0
04142B DD36F800            A  3219    	LD	(IX+%FFFFFFF8),%0
04142F DD36F900            A  3220    	LD	(IX+%FFFFFFF9),%0
                           A  3221    ;  317		
                           A  3222    ;  318		switch(key)
                           A  3223    .LINE 318
                           A  3224    
041433 DD7E06              A  3225    	LD	A,(IX+%6)
041436 17ED62              A  3226    	SEXT	HL
041439 DD6E06              A  3227    	LD	L,(IX+%6)
04143C CD 4B 20 04         A  3228    	CALL	__case8D
041440 E9                  A  3229    	JP	(HL)
041441                     A  3230    L__18:
041441 0400                A  3231    	DW	4
041443 61                  A  3232    	DB	97
041444 561404              A  3233    	DW24	L_49	
                           A  3234    
041447 64                  A  3235    	DB	100
041448 1F1504              A  3236    	DW24	L_52	
                           A  3237    
04144B 73                  A  3238    	DB	115
04144C DE1404              A  3239    	DW24	L_51	
                           A  3240    
04144F 77                  A  3241    	DB	119
041450 9B1404              A  3242    	DW24	L_50	
                           A  3243    
041453 621504              A  3244    	DW24	L_53	
                           A  3245    
                           A  3246    ;  319		{
                           A  3247    ;  320			case 'a':
041456                     A  3248    L_49:
                           A  3249    .LINE 320
                           A  3250    
                           A  3251    ;  321				xn1 = currentlevel.xpos - 1
                           A  3252    .LINE 321
                           A  3253    
041456 3A F2 3F 04         A  3254    	LD	A,(_currentlevel)
04145A 4F                  A  3255    	LD	C,A
04145B 0600                A  3256    	LD	B,%0
04145D 0B                  A  3257    	DEC	BC
04145E C5E1                A  3258    	LD	HL,BC
041460 DD75FE              A  3259    	LD	(IX+%FFFFFFFE),L
041463 DD74FF              A  3260    	LD	(IX+%FFFFFFFF),H
                           A  3261    ;  322				yn1 = currentlevel.ypos;
                           A  3262    .LINE 322
                           A  3263    
041466 3A F3 3F 04         A  3264    	LD	A,(_currentlevel+1)
04146A 4F                  A  3265    	LD	C,A
04146B 0600                A  3266    	LD	B,%0
04146D C5E1                A  3267    	LD	HL,BC
04146F DD75FA              A  3268    	LD	(IX+%FFFFFFFA),L
041472 DD74FB              A  3269    	LD	(IX+%FFFFFFFB),H
                           A  3270    ;  323				xn2 = currentlevel.xpos - 2
                           A  3271    .LINE 323
                           A  3272    
041475 3A F2 3F 04         A  3273    	LD	A,(_currentlevel)
041479 4F                  A  3274    	LD	C,A
04147A 0B                  A  3275    	DEC	BC
04147B 0B                  A  3276    	DEC	BC
04147C C5E1                A  3277    	LD	HL,BC
04147E DD75FC              A  3278    	LD	(IX+%FFFFFFFC),L
041481 DD74FD              A  3279    	LD	(IX+%FFFFFFFD),H
                           A  3280    ;  324				yn2 = currentlevel.ypos;
                           A  3281    .LINE 324
                           A  3282    
041484 3A F3 3F 04         A  3283    	LD	A,(_currentlevel+1)
041488 4F                  A  3284    	LD	C,A
041489 0600                A  3285    	LD	B,%0
04148B C5E1                A  3286    	LD	HL,BC
04148D DD75F8              A  3287    	LD	(IX+%FFFFFFF8),L
041490 DD74F9              A  3288    	LD	(IX+%FFFFFFF9),H
                           A  3289    ;  325				move = TRUE;
                           A  3290    .LINE 325
                           A  3291    
041493 DD36F701            A  3292    	LD	(IX+%FFFFFFF7),%1
                           A  3293    ;  326				break;
                           A  3294    .LINE 326
                           A  3295    
041497 C3 66 15 04         A  3296    	JR	L_56
                           A  3297    ;  327			case 'w':
04149B                     A  3298    L_50:
                           A  3299    .LINE 327
                           A  3300    
                           A  3301    ;  328				xn1 = currentlevel.xpos;
                           A  3302    .LINE 328
                           A  3303    
04149B 3A F2 3F 04         A  3304    	LD	A,(_currentlevel)
04149F 4F                  A  3305    	LD	C,A
0414A0 0600                A  3306    	LD	B,%0
0414A2 C5E1                A  3307    	LD	HL,BC
0414A4 DD75FE              A  3308    	LD	(IX+%FFFFFFFE),L
0414A7 DD74FF              A  3309    	LD	(IX+%FFFFFFFF),H
                           A  3310    ;  329				yn1 = currentlevel.ypos - 1
                           A  3311    .LINE 329
                           A  3312    
0414AA 3A F3 3F 04         A  3313    	LD	A,(_currentlevel+1)
0414AE 4F                  A  3314    	LD	C,A
0414AF 0B                  A  3315    	DEC	BC
0414B0 C5E1                A  3316    	LD	HL,BC
0414B2 DD75FA              A  3317    	LD	(IX+%FFFFFFFA),L
0414B5 DD74FB              A  3318    	LD	(IX+%FFFFFFFB),H
                           A  3319    ;  330				xn2 = currentlevel.xpos;
                           A  3320    .LINE 330
                           A  3321    
0414B8 3A F2 3F 04         A  3322    	LD	A,(_currentlevel)
0414BC 4F                  A  3323    	LD	C,A
0414BD 0600                A  3324    	LD	B,%0
0414BF C5E1                A  3325    	LD	HL,BC
0414C1 DD75FC              A  3326    	LD	(IX+%FFFFFFFC),L
0414C4 DD74FD              A  3327    	LD	(IX+%FFFFFFFD),H
                           A  3328    ;  331				yn2 = currentlevel.ypos - 2
                           A  3329    .LINE 331
                           A  3330    
0414C7 3A F3 3F 04         A  3331    	LD	A,(_currentlevel+1)
0414CB 4F                  A  3332    	LD	C,A
0414CC 0B                  A  3333    	DEC	BC
0414CD 0B                  A  3334    	DEC	BC
0414CE C5E1                A  3335    	LD	HL,BC
0414D0 DD75F8              A  3336    	LD	(IX+%FFFFFFF8),L
0414D3 DD74F9              A  3337    	LD	(IX+%FFFFFFF9),H
                           A  3338    ;  332				move = TRUE;
                           A  3339    .LINE 332
                           A  3340    
0414D6 DD36F701            A  3341    	LD	(IX+%FFFFFFF7),%1
                           A  3342    ;  333				break;
                           A  3343    .LINE 333
                           A  3344    
0414DA C3 66 15 04         A  3345    	JR	L_56
                           A  3346    ;  334			case 's':
0414DE                     A  3347    L_51:
                           A  3348    .LINE 334
                           A  3349    
                           A  3350    ;  335				xn1 = currentlevel.xpos;
                           A  3351    .LINE 335
                           A  3352    
0414DE 3A F2 3F 04         A  3353    	LD	A,(_currentlevel)
0414E2 4F                  A  3354    	LD	C,A
0414E3 0600                A  3355    	LD	B,%0
0414E5 C5E1                A  3356    	LD	HL,BC
0414E7 DD75FE              A  3357    	LD	(IX+%FFFFFFFE),L
0414EA DD74FF              A  3358    	LD	(IX+%FFFFFFFF),H
                           A  3359    ;  336				yn1 = currentlevel.ypos + 1
                           A  3360    .LINE 336
                           A  3361    
0414ED 3A F3 3F 04         A  3362    	LD	A,(_currentlevel+1)
0414F1 4F                  A  3363    	LD	C,A
0414F2 03                  A  3364    	INC	BC
0414F3 C5E1                A  3365    	LD	HL,BC
0414F5 DD75FA              A  3366    	LD	(IX+%FFFFFFFA),L
0414F8 DD74FB              A  3367    	LD	(IX+%FFFFFFFB),H
                           A  3368    ;  337				xn2 = currentlevel.xpos;
                           A  3369    .LINE 337
                           A  3370    
0414FB 3A F2 3F 04         A  3371    	LD	A,(_currentlevel)
0414FF 4F                  A  3372    	LD	C,A
041500 0600                A  3373    	LD	B,%0
041502 C5E1                A  3374    	LD	HL,BC
041504 DD75FC              A  3375    	LD	(IX+%FFFFFFFC),L
041507 DD74FD              A  3376    	LD	(IX+%FFFFFFFD),H
                           A  3377    ;  338				yn2 = currentlevel.ypos + 2
                           A  3378    .LINE 338
                           A  3379    
04150A 3A F3 3F 04         A  3380    	LD	A,(_currentlevel+1)
04150E 4F                  A  3381    	LD	C,A
04150F 03                  A  3382    	INC	BC
041510 03                  A  3383    	INC	BC
041511 C5E1                A  3384    	LD	HL,BC
041513 DD75F8              A  3385    	LD	(IX+%FFFFFFF8),L
041516 DD74F9              A  3386    	LD	(IX+%FFFFFFF9),H
                           A  3387    ;  339				move = TRUE;
                           A  3388    .LINE 339
                           A  3389    
041519 DD36F701            A  3390    	LD	(IX+%FFFFFFF7),%1
                           A  3391    ;  340				break;
                           A  3392    .LINE 340
                           A  3393    
04151D 18 47               A  3394    	JR	L_56
                           A  3395    ;  341			case 'd':
04151F                     A  3396    L_52:
                           A  3397    .LINE 341
                           A  3398    
                           A  3399    ;  342				xn1 = currentlevel.xpos + 1
                           A  3400    .LINE 342
                           A  3401    
04151F 3A F2 3F 04         A  3402    	LD	A,(_currentlevel)
041523 4F                  A  3403    	LD	C,A
041524 0600                A  3404    	LD	B,%0
041526 03                  A  3405    	INC	BC
041527 C5E1                A  3406    	LD	HL,BC
041529 DD75FE              A  3407    	LD	(IX+%FFFFFFFE),L
04152C DD74FF              A  3408    	LD	(IX+%FFFFFFFF),H
                           A  3409    ;  343				yn1 = currentlevel.ypos;
                           A  3410    .LINE 343
                           A  3411    
04152F 3A F3 3F 04         A  3412    	LD	A,(_currentlevel+1)
041533 4F                  A  3413    	LD	C,A
041534 0600                A  3414    	LD	B,%0
041536 C5E1                A  3415    	LD	HL,BC
041538 DD75FA              A  3416    	LD	(IX+%FFFFFFFA),L
04153B DD74FB              A  3417    	LD	(IX+%FFFFFFFB),H
                           A  3418    ;  344				xn2 = currentlevel.xpos + 2
                           A  3419    .LINE 344
                           A  3420    
04153E 3A F2 3F 04         A  3421    	LD	A,(_currentlevel)
041542 4F                  A  3422    	LD	C,A
041543 03                  A  3423    	INC	BC
041544 03                  A  3424    	INC	BC
041545 C5E1                A  3425    	LD	HL,BC
041547 DD75FC              A  3426    	LD	(IX+%FFFFFFFC),L
04154A DD74FD              A  3427    	LD	(IX+%FFFFFFFD),H
                           A  3428    ;  345				yn2 = currentlevel.ypos;
                           A  3429    .LINE 345
                           A  3430    
04154D 3A F3 3F 04         A  3431    	LD	A,(_currentlevel+1)
041551 4F                  A  3432    	LD	C,A
041552 0600                A  3433    	LD	B,%0
041554 C5E1                A  3434    	LD	HL,BC
041556 DD75F8              A  3435    	LD	(IX+%FFFFFFF8),L
041559 DD74F9              A  3436    	LD	(IX+%FFFFFFF9),H
                           A  3437    ;  346				move = TRUE;
                           A  3438    .LINE 346
                           A  3439    
04155C DD36F701            A  3440    	LD	(IX+%FFFFFFF7),%1
                           A  3441    ;  347				break;
                           A  3442    .LINE 347
                           A  3443    
041560 18 04               A  3444    	JR	L_56
                           A  3445    ;  348			default:
041562                     A  3446    L_53:
                           A  3447    .LINE 348
                           A  3448    
                           A  3449    ;  349				move = FALSE;
                           A  3450    .LINE 349
                           A  3451    
041562 DD36F700            A  3452    	LD	(IX+%FFFFFFF7),%0
                           A  3453    ;  350				break;
                           A  3454    ;  351		}
041566                     A  3455    L_56:
                           A  3456    .LINE 351
                           A  3457    
                           A  3458    ;  352		if(move)
                           A  3459    .LINE 352
                           A  3460    
041566 DD7EF7              A  3461    	LD	A,(IX+%FFFFFFF7)
041569 B7                  A  3462    	OR	A,A
04156A 28 5E               A  3463    	JR	Z,L_57
                           A  3464    ;  353		{
                           A  3465    ;  354			if(canmove(xn1,yn1,xn2,yn2))
                           A  3466    .LINE 354
                           A  3467    
04156C DD07F8              A  3468    	LD	BC,(IX+%FFFFFFF8)
04156F C5                  A  3469    	PUSH	BC
041570 DD07FC              A  3470    	LD	BC,(IX+%FFFFFFFC)
041573 C5                  A  3471    	PUSH	BC
041574 DD07FA              A  3472    	LD	BC,(IX+%FFFFFFFA)
041577 C5                  A  3473    	PUSH	BC
041578 DD07FE              A  3474    	LD	BC,(IX+%FFFFFFFE)
04157B C5                  A  3475    	PUSH	BC
04157C CD B8 0F 04         A  3476    	CALL	_canmove
041580 C1                  A  3477    	POP	BC
041581 C1                  A  3478    	POP	BC
041582 C1                  A  3479    	POP	BC
041583 C1                  A  3480    	POP	BC
041584 B7                  A  3481    	OR	A,A
041585 28 43               A  3482    	JR	Z,L_57
                           A  3483    ;  355			{
                           A  3484    ;  356				move_sprites(xn1,yn1,xn2,yn
                           A  3485    .LINE 356
                           A  3486    
041587 DD07F8              A  3487    	LD	BC,(IX+%FFFFFFF8)
04158A C5                  A  3488    	PUSH	BC
04158B DD07FC              A  3489    	LD	BC,(IX+%FFFFFFFC)
04158E C5                  A  3490    	PUSH	BC
04158F DD07FA              A  3491    	LD	BC,(IX+%FFFFFFFA)
041592 C5                  A  3492    	PUSH	BC
041593 DD07FE              A  3493    	LD	BC,(IX+%FFFFFFFE)
041596 C5                  A  3494    	PUSH	BC
041597 CD 51 10 04         A  3495    	CALL	_move_sprites
04159B C1                  A  3496    	POP	BC
04159C C1                  A  3497    	POP	BC
04159D C1                  A  3498    	POP	BC
04159E C1                  A  3499    	POP	BC
                           A  3500    ;  357				move_updatelevel(xn1,yn1,xn
                           A  3501    .LINE 357
                           A  3502    
04159F DD07F8              A  3503    	LD	BC,(IX+%FFFFFFF8)
0415A2 C5                  A  3504    	PUSH	BC
0415A3 DD07FC              A  3505    	LD	BC,(IX+%FFFFFFFC)
0415A6 C5                  A  3506    	PUSH	BC
0415A7 DD07FA              A  3507    	LD	BC,(IX+%FFFFFFFA)
0415AA C5                  A  3508    	PUSH	BC
0415AB DD07FE              A  3509    	LD	BC,(IX+%FFFFFFFE)
0415AE C5                  A  3510    	PUSH	BC
0415AF CD D0 11 04         A  3511    	CALL	_move_updatelevel
0415B3 C1                  A  3512    	POP	BC
0415B4 C1                  A  3513    	POP	BC
0415B5 C1                  A  3514    	POP	BC
0415B6 C1                  A  3515    	POP	BC
                           A  3516    ;  358				done = (currentlevel.goals 
                           A  3517    .LINE 358
                           A  3518    
0415B7 3A F6 3F 04         A  3519    	LD	A,(_currentlevel+4)
0415BB 21 F7 3F 04         A  3520    	LD	HL,_currentlevel+5
0415BF BE                  A  3521    	CP	A,(HL)
0415C0 20 04               A  3522    	JR	NZ,L__22
0415C2 3E01                A  3523    	LD	A,%1
0415C4 18 01               A  3524    	JR	L__23
0415C6                     A  3525    L__22:
0415C6 AF                  A  3526    	XOR	A,A
0415C7                     A  3527    L__23:
0415C7 DD77F6              A  3528    	LD	(IX+%FFFFFFF6),A
                           A  3529    ;  359			}
                           A  3530    ;  360		}
0415CA                     A  3531    L_57:
                           A  3532    .LINE 360
                           A  3533    
                           A  3534    ;  361		return done;
                           A  3535    .LINE 361
                           A  3536    
0415CA DD7EF6              A  3537    	LD	A,(IX+%FFFFFFF6)
                           A  3538    ;  362	}
                           A  3539    .LINE 362
                           A  3540    
0415CD DDF9                A  3541    	LD	SP,IX
0415CF DDE1                A  3542    	POP	IX
0415D1 C9                  A  3543    	RET	
                           A  3544    
                           A  3545    
                           A  3546    ;**************************** _game_handleKey *
                           A  3547    ;Name                         Addr/Register   S
                           A  3548    ;_currentlevel                       STATIC   1
                           A  3549    ;done                                 IX-10    
                           A  3550    ;move                                  IX-9    
                           A  3551    ;yn2                                   IX-8    
                           A  3552    ;yn1                                   IX-6    
                           A  3553    ;xn2                                   IX-4    
                           A  3554    ;xn1                                   IX-2    
                           A  3555    ;key                                   IX+6    
                           A  3556    
                           A  3557    
                           A  3558    ; Stack Frame Size: 19 (bytes)
                           A  3559    ;       Spill Code: 0 (instruction)
                           A  3560    
                           A  3561    
                           A  3562    .ENDFUNC "game_handleKey",362,"_game_handleKey"
                           A  3563    ;  363	
                           A  3564    ;  364	char game_getResponse(char *message, ch
                           A  3565    ;  365	{
0415D2                     A  3566    _game_getResponse:
                           A  3567    .DEFINE "_game_getResponse"
                           A  3568    
                           A  3569    .VALUE _game_getResponse
                           A  3570    
                           A  3571    .CLASS 2
                           A  3572    
                           A  3573    .TYPE 66
                           A  3574    
                           A  3575    .ENDEF
                           A  3576    
                           A  3577    .BEGFUNC "game_getResponse",365,"_game_getRespo
                           A  3578    
                           A  3579    .LINE 365
                           A  3580    
                           A  3581    .DEFINE "message"
                           A  3582    
                           A  3583    .CLASS 65
                           A  3584    
                           A  3585    .VALUE 6
                           A  3586    
                           A  3587    .TYPE 34
                           A  3588    
                           A  3589    .ENDEF
                           A  3590    
                           A  3591    .DEFINE "option1"
                           A  3592    
                           A  3593    .CLASS 65
                           A  3594    
                           A  3595    .VALUE 9
                           A  3596    
                           A  3597    .TYPE 2
                           A  3598    
                           A  3599    .ENDEF
                           A  3600    
                           A  3601    .DEFINE "option2"
                           A  3602    
                           A  3603    .CLASS 65
                           A  3604    
                           A  3605    .VALUE 12
                           A  3606    
                           A  3607    .TYPE 2
                           A  3608    
                           A  3609    .ENDEF
                           A  3610    
                           A  3611    .DEFINE "n"
                           A  3612    
                           A  3613    .CLASS 65
                           A  3614    
                           A  3615    .VALUE -1
                           A  3616    
                           A  3617    .TYPE 12
                           A  3618    
                           A  3619    .ENDEF
                           A  3620    
                           A  3621    .DEFINE "ret"
                           A  3622    
                           A  3623    .CLASS 65
                           A  3624    
                           A  3625    .VALUE -2
                           A  3626    
                           A  3627    .TYPE 2
                           A  3628    
                           A  3629    .ENDEF
                           A  3630    
                           A  3631    .DEFINE "start"
                           A  3632    
                           A  3633    .CLASS 65
                           A  3634    
                           A  3635    .VALUE -3
                           A  3636    
                           A  3637    .TYPE 12
                           A  3638    
                           A  3639    .ENDEF
                           A  3640    
                           A  3641    .DEFINE "len"
                           A  3642    
                           A  3643    .CLASS 65
                           A  3644    
                           A  3645    .VALUE -4
                           A  3646    
                           A  3647    .TYPE 12
                           A  3648    
                           A  3649    .ENDEF
                           A  3650    
0415D2 DDE5                A  3651    	PUSH	IX
0415D4 DD210000 00         A  3652    	LD	IX,0
0415D9 DD39                A  3653    	ADD	IX,SP
0415DB C5                  A  3654    	PUSH	BC
0415DC 3B                  A  3655    	DEC	SP
                           A  3656    ;  366		UINT8 n;
                           A  3657    ;  367		UINT8 len = strlen(message);
                           A  3658    .LINE 367
                           A  3659    
0415DD DD0706              A  3660    	LD	BC,(IX+%6)
0415E0 C5                  A  3661    	PUSH	BC
0415E1 CD F1 1E 04         A  3662    	CALL	_strlen
0415E5 C1                  A  3663    	POP	BC
0415E6 DD75FC              A  3664    	LD	(IX+%FFFFFFFC),L
                           A  3665    ;  368		UINT8 start = (80 - len) / 2;
                           A  3666    .LINE 368
                           A  3667    
0415E9 DD7EFC              A  3668    	LD	A,(IX+%FFFFFFFC)
0415EC B7ED62              A  3669    	UEXT	HL
0415EF 6F                  A  3670    	LD	L,A
0415F0 E5C1                A  3671    	LD	BC,HL
0415F2 21500000            A  3672    	LD	HL,80
0415F6 B7                  A  3673    	OR	A,A
0415F7 ED42                A  3674    	SBC	HL,BC
0415F9 01020000            A  3675    	LD	BC,2
0415FD CD 84 1F 04         A  3676    	CALL	__idivs
041601 DD75FD              A  3677    	LD	(IX+%FFFFFFFD),L
                           A  3678    ;  369		char ret = 0;
                           A  3679    .LINE 369
                           A  3680    
041604 DD36FE00            A  3681    	LD	(IX+%FFFFFFFE),%0
                           A  3682    ;  370		
                           A  3683    ;  371		
                           A  3684    ;  372		// vertical spacing
                           A  3685    ;  373		for(n = start - 1; n < (start+len+1
                           A  3686    .LINE 373
                           A  3687    
041608 DD7EFD              A  3688    	LD	A,(IX+%FFFFFFFD)
04160B 3D                  A  3689    	DEC	A
04160C DD77FF              A  3690    	LD	(IX+%FFFFFFFF),A
04160F 18 39               A  3691    	JR	L_62
041611                     A  3692    L_60:
                           A  3693    ;  374		{
                           A  3694    ;  375			vdp_cursorGoto(n,27);
                           A  3695    .LINE 375
                           A  3696    
041611 011B0000            A  3697    	LD	BC,27
041615 C5                  A  3698    	PUSH	BC
041616 DD4EFF              A  3699    	LD	C,(IX+%FFFFFFFF)
041619 0600                A  3700    	LD	B,%0
04161B C5                  A  3701    	PUSH	BC
04161C CD 95 04 04         A  3702    	CALL	_vdp_cursorGoto
041620 C1                  A  3703    	POP	BC
041621 C1                  A  3704    	POP	BC
                           A  3705    ;  376			putch(' ');
                           A  3706    .LINE 376
                           A  3707    
041622 01200000            A  3708    	LD	BC,32
041626 C5                  A  3709    	PUSH	BC
041627 CD 01 1C 04         A  3710    	CALL	_putch
04162B C1                  A  3711    	POP	BC
                           A  3712    ;  377			vdp_cursorGoto(n,29);
                           A  3713    .LINE 377
                           A  3714    
04162C 011D0000            A  3715    	LD	BC,29
041630 C5                  A  3716    	PUSH	BC
041631 DD4EFF              A  3717    	LD	C,(IX+%FFFFFFFF)
041634 0600                A  3718    	LD	B,%0
041636 C5                  A  3719    	PUSH	BC
041637 CD 95 04 04         A  3720    	CALL	_vdp_cursorGoto
04163B C1                  A  3721    	POP	BC
04163C C1                  A  3722    	POP	BC
                           A  3723    ;  378			putch(' ');
                           A  3724    .LINE 378
                           A  3725    
04163D 01200000            A  3726    	LD	BC,32
041641 C5                  A  3727    	PUSH	BC
041642 CD 01 1C 04         A  3728    	CALL	_putch
041646 C1                  A  3729    	POP	BC
041647 DD34FF              A  3730    	INC	(IX+%FFFFFFFF)
                           A  3731    ;  379		}
04164A                     A  3732    L_62:
                           A  3733    .LINE 379
                           A  3734    
04164A DD7EFD              A  3735    	LD	A,(IX+%FFFFFFFD)
04164D B7ED62              A  3736    	UEXT	HL
041650 6F                  A  3737    	LD	L,A
041651 E5C1                A  3738    	LD	BC,HL
041653 DD7EFC              A  3739    	LD	A,(IX+%FFFFFFFC)
041656 B7ED62              A  3740    	UEXT	HL
041659 6F                  A  3741    	LD	L,A
04165A 09                  A  3742    	ADD	HL,BC
04165B E5C1                A  3743    	LD	BC,HL
04165D 03                  A  3744    	INC	BC
04165E DD7EFF              A  3745    	LD	A,(IX+%FFFFFFFF)
041661 B7ED62              A  3746    	UEXT	HL
041664 6F                  A  3747    	LD	L,A
041665 B7                  A  3748    	OR	A,A
041666 ED42                A  3749    	SBC	HL,BC
041668 FA 11 16 04         A  3750    	JP	M,L_60
                           A  3751    ;  380		// horizontal spacing
                           A  3752    ;  381		vdp_cursorGoto(start-1,28);
                           A  3753    .LINE 381
                           A  3754    
04166C 011C0000            A  3755    	LD	BC,28
041670 C5                  A  3756    	PUSH	BC
041671 DD4EFD              A  3757    	LD	C,(IX+%FFFFFFFD)
041674 0D                  A  3758    	DEC	C
041675 0600                A  3759    	LD	B,%0
041677 C5                  A  3760    	PUSH	BC
041678 CD 95 04 04         A  3761    	CALL	_vdp_cursorGoto
04167C C1                  A  3762    	POP	BC
04167D C1                  A  3763    	POP	BC
                           A  3764    ;  382		putch(' ');
                           A  3765    .LINE 382
                           A  3766    
04167E 01200000            A  3767    	LD	BC,32
041682 C5                  A  3768    	PUSH	BC
041683 CD 01 1C 04         A  3769    	CALL	_putch
041687 C1                  A  3770    	POP	BC
                           A  3771    ;  383		printf("%s ", message);
                           A  3772    .LINE 383
                           A  3773    
041688 01 80 1E 04         A  3774    	LD	BC,___print_uputch
04168C ED43 24 35 04       A  3775    	LD	(___print_xputch),BC
041691 DD0706              A  3776    	LD	BC,(IX+%6)
041694 C5                  A  3777    	PUSH	BC
041695 CD 00 1D 04         A  3778    	CALL	___print_sendstring
041699 C1                  A  3779    	POP	BC
04169A 01200000            A  3780    	LD	BC,32
04169E C5                  A  3781    	PUSH	BC
04169F CD 80 1E 04         A  3782    	CALL	___print_uputch
0416A3 C1                  A  3783    	POP	BC
                           A  3784    ;  384	
                           A  3785    ;  385		while((ret != option1) && (ret != o
                           A  3786    .LINE 385
                           A  3787    
0416A4 18 07               A  3788    	JR	L_65
0416A6                     A  3789    L_66:
0416A6 CD 19 1C 04         A  3790    	CALL	_getch
0416AA DD77FE              A  3791    	LD	(IX+%FFFFFFFE),A
0416AD                     A  3792    L_65:
0416AD DD7EFE              A  3793    	LD	A,(IX+%FFFFFFFE)
0416B0 DDBE09              A  3794    	CP	A,(IX+%9)
0416B3 28 08               A  3795    	JR	Z,L_67
0416B5 DD7EFE              A  3796    	LD	A,(IX+%FFFFFFFE)
0416B8 DDBE0C              A  3797    	CP	A,(IX+%C)
0416BB 20 E9               A  3798    	JR	NZ,L_66
0416BD                     A  3799    L_67:
                           A  3800    ;  386		
                           A  3801    ;  387		vdp_cls();
                           A  3802    .LINE 387
                           A  3803    
0416BD CD 4D 04 04         A  3804    	CALL	_vdp_cls
                           A  3805    ;  388	
                           A  3806    ;  389		return ret;
                           A  3807    .LINE 389
                           A  3808    
0416C1 DD7EFE              A  3809    	LD	A,(IX+%FFFFFFFE)
                           A  3810    ;  390	}
                           A  3811    .LINE 390
                           A  3812    
0416C4 DDF9                A  3813    	LD	SP,IX
0416C6 DDE1                A  3814    	POP	IX
0416C8 C9                  A  3815    	RET	
                           A  3816    
                           A  3817    
                           A  3818    ;**************************** _game_getResponse
                           A  3819    ;Name                         Addr/Register   S
                           A  3820    ;_vdp_cls                            IMPORT  --
                           A  3821    ;_getch                              IMPORT  --
                           A  3822    ;___print_sendstring                 IMPORT  --
                           A  3823    ;___print_xputch                     IMPORT    
                           A  3824    ;___print_uputch                     IMPORT  --
                           A  3825    ;_putch                              IMPORT  --
                           A  3826    ;_vdp_cursorGoto                     IMPORT  --
                           A  3827    ;_strlen                             IMPORT  --
                           A  3828    ;len                                   IX-4    
                           A  3829    ;start                                 IX-3    
                           A  3830    ;ret                                   IX-2    
                           A  3831    ;n                                     IX-1    
                           A  3832    ;option2                              IX+12    
                           A  3833    ;option1                               IX+9    
                           A  3834    ;message                               IX+6    
                           A  3835    
                           A  3836    
                           A  3837    ; Stack Frame Size: 19 (bytes)
                           A  3838    ;       Spill Code: 0 (instruction)
                           A  3839    
                           A  3840    
                           A  3841    .ENDFUNC "game_getResponse",390,"_game_getRespo
                           A  3842    ;  391	
                           A  3843    ;  392	
                           A  3844    ;  393	INT16 game_selectLevel(UINT8 levels)
                           A  3845    ;  394	{
0416C9                     A  3846    _game_selectLevel:
                           A  3847    .DEFINE "_game_selectLevel"
                           A  3848    
                           A  3849    .VALUE _game_selectLevel
                           A  3850    
                           A  3851    .CLASS 2
                           A  3852    
                           A  3853    .TYPE 67
                           A  3854    
                           A  3855    .ENDEF
                           A  3856    
                           A  3857    .BEGFUNC "game_selectLevel",394,"_game_selectLe
                           A  3858    
                           A  3859    .LINE 394
                           A  3860    
                           A  3861    .DEFINE "levels"
                           A  3862    
                           A  3863    .CLASS 65
                           A  3864    
                           A  3865    .VALUE 6
                           A  3866    
                           A  3867    .TYPE 12
                           A  3868    
                           A  3869    .ENDEF
                           A  3870    
                           A  3871    ;  395		static INT16 lvl = -1;
                           A  3872    .LINE 395
                           A  3873    
                           A  3874    .DEFINE "lvl"
                           A  3875    
                           A  3876    .ALIAS "_0lvl"
                           A  3877    
                           A  3878    .CLASS 69
                           A  3879    
                           A  3880    .VALUE _0lvl
                           A  3881    
                           A  3882    .TYPE 3
                           A  3883    
                           A  3884    .ENDEF
                           A  3885    
0416C9 DDE5                A  3886    	PUSH	IX
0416CB DD210000 00         A  3887    	LD	IX,0
0416D0 DD39                A  3888    	ADD	IX,SP
                           A  3889    ;  396		
                           A  3890    ;  397		lvl++;
                           A  3891    .LINE 397
                           A  3892    
0416D2 ED4B 22 35 04       A  3893    	LD	BC,(_0lvl)
0416D7 03                  A  3894    	INC	BC
0416D8 21 22 35 04         A  3895    	LD	HL,_0lvl
0416DC 71                  A  3896    	LD	(HL),C
0416DD 23                  A  3897    	INC	HL
0416DE 70                  A  3898    	LD	(HL),B
                           A  3899    ;  398		if(lvl == levels) lvl = -1;
                           A  3900    .LINE 398
                           A  3901    
0416DF ED4B 22 35 04       A  3902    	LD	BC,(_0lvl)
0416E4 CD DC 20 04         A  3903    	CALL	__stoi
0416E8 E5D1                A  3904    	LD	DE,HL
0416EA DD7E06              A  3905    	LD	A,(IX+%6)
0416ED B7ED62              A  3906    	UEXT	HL
0416F0 6F                  A  3907    	LD	L,A
0416F1 E5C1                A  3908    	LD	BC,HL
0416F3 D5E1                A  3909    	LD	HL,DE
0416F5 B7                  A  3910    	OR	A,A
0416F6 ED42                A  3911    	SBC	HL,BC
0416F8 20 09               A  3912    	JR	NZ,L_71
0416FA 21 22 35 04         A  3913    	LD	HL,_0lvl
0416FE 36FF                A  3914    	LD	(HL),%FF
041700 23                  A  3915    	INC	HL
041701 36FF                A  3916    	LD	(HL),%FF
041703                     A  3917    L_71:
                           A  3918    ;  399		return lvl;
                           A  3919    .LINE 399
                           A  3920    
041703 2A 22 35 04         A  3921    	LD	HL,(_0lvl)
                           A  3922    ;  400	}
                           A  3923    .LINE 400
                           A  3924    
041707 DDF9                A  3925    	LD	SP,IX
041709 DDE1                A  3926    	POP	IX
04170B C9                  A  3927    	RET	
                           A  3928    
                           A  3929    
                           A  3930    ;**************************** _game_selectLevel
                           A  3931    ;Name                         Addr/Register   S
                           A  3932    ;_0lvl                               STATIC    
                           A  3933    ;levels                                IX+6    
                           A  3934    
                           A  3935    
                           A  3936    ; Stack Frame Size: 9 (bytes)
                           A  3937    ;       Spill Code: 0 (instruction)
                           A  3938    
                           A  3939    
                           A  3940    .ENDFUNC "game_selectLevel",400,"_game_selectLe
                           A  3941    	SEGMENT DATA
043522                     A  3942    _0lvl:
043522 FFFF                A  3943    	DW	65535
                           A  3944    	SEGMENT CODE
                           A  3945    ;  401	
                           A  3946    ;  402	void debug_print_playfieldText(void)
                           A  3947    ;  403	{
04170C                     A  3948    _debug_print_playfieldText:
                           A  3949    .DEFINE "_debug_print_playfieldText"
                           A  3950    
                           A  3951    .VALUE _debug_print_playfieldText
                           A  3952    
                           A  3953    .CLASS 2
                           A  3954    
                           A  3955    .TYPE 65
                           A  3956    
                           A  3957    .ENDEF
                           A  3958    
                           A  3959    .BEGFUNC "debug_print_playfieldText",403,"_debu
                           A  3960    
                           A  3961    .LINE 403
                           A  3962    
                           A  3963    .DEFINE "width"
                           A  3964    
                           A  3965    .CLASS 65
                           A  3966    
                           A  3967    .VALUE -2
                           A  3968    
                           A  3969    .TYPE 13
                           A  3970    
                           A  3971    .ENDEF
                           A  3972    
                           A  3973    .DEFINE "c"
                           A  3974    
                           A  3975    .CLASS 65
                           A  3976    
                           A  3977    .VALUE -3
                           A  3978    
                           A  3979    .TYPE 2
                           A  3980    
                           A  3981    .ENDEF
                           A  3982    
                           A  3983    .DEFINE "height"
                           A  3984    
                           A  3985    .CLASS 65
                           A  3986    
                           A  3987    .VALUE -5
                           A  3988    
                           A  3989    .TYPE 13
                           A  3990    
                           A  3991    .ENDEF
                           A  3992    
04170C DDE5                A  3993    	PUSH	IX
04170E DD210000 00         A  3994    	LD	IX,0
041713 DD39                A  3995    	ADD	IX,SP
041715 C5                  A  3996    	PUSH	BC
041716 C5                  A  3997    	PUSH	BC
041717 3B                  A  3998    	DEC	SP
041718 3B                  A  3999    	DEC	SP
                           A  4000    ;  404		UINT16 width, height;
                           A  4001    ;  405		char c;
                           A  4002    ;  406		
                           A  4003    ;  407		for(height = 0; height < currentlev
                           A  4004    .LINE 407
                           A  4005    
041719 DD36FB00            A  4006    	LD	(IX+%FFFFFFFB),%0
04171D DD36FC00            A  4007    	LD	(IX+%FFFFFFFC),%0
041721 C3 2D 18 04         A  4008    	JR	L_92
041725                     A  4009    L_90:
                           A  4010    ;  408		{
                           A  4011    ;  409			for(width = 0; width < currentl
                           A  4012    .LINE 409
                           A  4013    
041725 DD36FE00            A  4014    	LD	(IX+%FFFFFFFE),%0
041729 DD36FF00            A  4015    	LD	(IX+%FFFFFFFF),%0
04172D 18 56               A  4016    	JR	L_81
04172F                     A  4017    L_79:
                           A  4018    ;  410			{
                           A  4019    ;  411				c = currentlevel.data[heigh
                           A  4020    .LINE 411
                           A  4021    
04172F DD07FB              A  4022    	LD	BC,(IX+%FFFFFFFB)
041732 CD 7A 1E 04         A  4023    	CALL	__stoiu
041736 3E28                A  4024    	LD	A,%28
041738 CD BD 1F 04         A  4025    	CALL	__imul_b
04173C 01 F9 3F 04         A  4026    	LD	BC,_currentlevel+7
041740 09                  A  4027    	ADD	HL,BC
041741 E5D1                A  4028    	LD	DE,HL
041743 DD07FE              A  4029    	LD	BC,(IX+%FFFFFFFE)
041746 CD 7A 1E 04         A  4030    	CALL	__stoiu
04174A 19                  A  4031    	ADD	HL,DE
04174B 7E                  A  4032    	LD	A,(HL)
04174C DD77FD              A  4033    	LD	(IX+%FFFFFFFD),A
                           A  4034    ;  412				printf("%c",c?c:' ');
                           A  4035    .LINE 412
                           A  4036    
04174F B7                  A  4037    	OR	A,A
041750 28 0E               A  4038    	JR	Z,L_77
041752 DD7EFD              A  4039    	LD	A,(IX+%FFFFFFFD)
041755 17ED62              A  4040    	SEXT	HL
041758 DD6EFD              A  4041    	LD	L,(IX+%FFFFFFFD)
04175B DD2FF8              A  4042    	LD	(IX+%FFFFFFF8),HL
04175E 18 07               A  4043    	JR	L_78
041760                     A  4044    L_77:
041760 01200000            A  4045    	LD	BC,32
041764 DD0FF8              A  4046    	LD	(IX+%FFFFFFF8),BC
041767                     A  4047    L_78:
041767 01 80 1E 04         A  4048    	LD	BC,___print_uputch
04176B ED43 24 35 04       A  4049    	LD	(___print_xputch),BC
041770 DD4EF8              A  4050    	LD	C,(IX+%FFFFFFF8)
041773 0600                A  4051    	LD	B,%0
041775 C5                  A  4052    	PUSH	BC
041776 CD 80 1E 04         A  4053    	CALL	___print_uputch
04177A C1                  A  4054    	POP	BC
04177B DD27FE              A  4055    	LD	HL,(IX+%FFFFFFFE)
04177E 23                  A  4056    	INC	HL
04177F DD75FE              A  4057    	LD	(IX+%FFFFFFFE),L
041782 DD74FF              A  4058    	LD	(IX+%FFFFFFFF),H
                           A  4059    ;  413			}
041785                     A  4060    L_81:
                           A  4061    .LINE 413
                           A  4062    
041785 3A F4 3F 04         A  4063    	LD	A,(_currentlevel+2)
041789 4F                  A  4064    	LD	C,A
04178A 0600                A  4065    	LD	B,%0
04178C DD27FE              A  4066    	LD	HL,(IX+%FFFFFFFE)
04178F B7                  A  4067    	OR	A,A
041790 40ED42              A  4068    	SBC.SIS	HL,BC
041793 38 9A               A  4069    	JR	C,L_79
                           A  4070    ;  414			printf(" ");
                           A  4071    .LINE 414
                           A  4072    
041795 01 80 1E 04         A  4073    	LD	BC,___print_uputch
041799 ED43 24 35 04       A  4074    	LD	(___print_xputch),BC
04179E 01200000            A  4075    	LD	BC,32
0417A2 C5                  A  4076    	PUSH	BC
0417A3 CD 80 1E 04         A  4077    	CALL	___print_uputch
0417A7 C1                  A  4078    	POP	BC
                           A  4079    ;  415			for(width = 0; width < currentl
                           A  4080    .LINE 415
                           A  4081    
0417A8 DD36FE00            A  4082    	LD	(IX+%FFFFFFFE),%0
0417AC DD36FF00            A  4083    	LD	(IX+%FFFFFFFF),%0
0417B0 18 4E               A  4084    	JR	L_88
0417B2                     A  4085    L_86:
                           A  4086    ;  416			{
                           A  4087    ;  417				c = sprites[height][width] 
                           A  4088    .LINE 417
                           A  4089    
0417B2 DD07FB              A  4090    	LD	BC,(IX+%FFFFFFFB)
0417B5 CD 7A 1E 04         A  4091    	CALL	__stoiu
0417B9 3E28                A  4092    	LD	A,%28
0417BB CD BD 1F 04         A  4093    	CALL	__imul_b
0417BF 01 42 3B 04         A  4094    	LD	BC,_sprites
0417C3 09                  A  4095    	ADD	HL,BC
0417C4 E5D1                A  4096    	LD	DE,HL
0417C6 DD07FE              A  4097    	LD	BC,(IX+%FFFFFFFE)
0417C9 CD 7A 1E 04         A  4098    	CALL	__stoiu
0417CD 19                  A  4099    	ADD	HL,DE
0417CE 7E                  A  4100    	LD	A,(HL)
0417CF C630                A  4101    	ADD	A,%30
0417D1 DD77FD              A  4102    	LD	(IX+%FFFFFFFD),A
                           A  4103    ;  418				if(c > '9') c = 'X';
                           A  4104    .LINE 418
                           A  4105    
0417D4 3E39                A  4106    	LD	A,%39
0417D6 DDBEFD              A  4107    	CP	A,(IX+%FFFFFFFD)
0417D9 F2 E1 17 04         A  4108    	JP	P,L_85
0417DD DD36FD58            A  4109    	LD	(IX+%FFFFFFFD),%58
0417E1                     A  4110    L_85:
                           A  4111    ;  419				printf("%c",c);
                           A  4112    .LINE 419
                           A  4113    
0417E1 01 80 1E 04         A  4114    	LD	BC,___print_uputch
0417E5 ED43 24 35 04       A  4115    	LD	(___print_xputch),BC
0417EA DD6EFD              A  4116    	LD	L,(IX+%FFFFFFFD)
0417ED 4D                  A  4117    	LD	C,L
0417EE 0600                A  4118    	LD	B,%0
0417F0 C5                  A  4119    	PUSH	BC
0417F1 CD 80 1E 04         A  4120    	CALL	___print_uputch
0417F5 C1                  A  4121    	POP	BC
0417F6 DD27FE              A  4122    	LD	HL,(IX+%FFFFFFFE)
0417F9 23                  A  4123    	INC	HL
0417FA DD75FE              A  4124    	LD	(IX+%FFFFFFFE),L
0417FD DD74FF              A  4125    	LD	(IX+%FFFFFFFF),H
                           A  4126    ;  420			}
041800                     A  4127    L_88:
                           A  4128    .LINE 420
                           A  4129    
041800 3A F4 3F 04         A  4130    	LD	A,(_currentlevel+2)
041804 4F                  A  4131    	LD	C,A
041805 0600                A  4132    	LD	B,%0
041807 DD27FE              A  4133    	LD	HL,(IX+%FFFFFFFE)
04180A B7                  A  4134    	OR	A,A
04180B 40ED42              A  4135    	SBC.SIS	HL,BC
04180E 38 A2               A  4136    	JR	C,L_86
                           A  4137    ;  421			printf("\n\r");
                           A  4138    .LINE 421
                           A  4139    
041810 01 80 1E 04         A  4140    	LD	BC,___print_uputch
041814 ED43 24 35 04       A  4141    	LD	(___print_xputch),BC
041819 01 3F 37 04         A  4142    	LD	BC,L__35
04181D C5                  A  4143    	PUSH	BC
04181E CD 00 1D 04         A  4144    	CALL	___print_sendstring
041822 C1                  A  4145    	POP	BC
041823 DD27FB              A  4146    	LD	HL,(IX+%FFFFFFFB)
041826 23                  A  4147    	INC	HL
041827 DD75FB              A  4148    	LD	(IX+%FFFFFFFB),L
04182A DD74FC              A  4149    	LD	(IX+%FFFFFFFC),H
                           A  4150    ;  422		}
04182D                     A  4151    L_92:
                           A  4152    .LINE 422
                           A  4153    
04182D 3A F5 3F 04         A  4154    	LD	A,(_currentlevel+3)
041831 4F                  A  4155    	LD	C,A
041832 0600                A  4156    	LD	B,%0
041834 DD27FB              A  4157    	LD	HL,(IX+%FFFFFFFB)
041837 B7                  A  4158    	OR	A,A
041838 40ED42              A  4159    	SBC.SIS	HL,BC
04183B DA 25 17 04         A  4160    	JR	C,L_90
                           A  4161    ;  423		
                           A  4162    ;  424	}
                           A  4163    .LINE 424
                           A  4164    
04183F DDF9                A  4165    	LD	SP,IX
041841 DDE1                A  4166    	POP	IX
041843 C9                  A  4167    	RET	
                           A  4168    
                           A  4169    
                           A  4170    ;**************************** _debug_print_play
                           A  4171    ;Name                         Addr/Register   S
                           A  4172    ;___print_sendstring                 IMPORT  --
                           A  4173    ;_sprites                            STATIC   1
                           A  4174    ;___print_xputch                     IMPORT    
                           A  4175    ;___print_uputch                     IMPORT  --
                           A  4176    ;_currentlevel                       STATIC   1
                           A  4177    ;temp75                                IX-8    
                           A  4178    ;height                                IX-5    
                           A  4179    ;c                                     IX-3    
                           A  4180    ;width                                 IX-2    
                           A  4181    
                           A  4182    
                           A  4183    ; Stack Frame Size: 14 (bytes)
                           A  4184    ;       Spill Code: 0 (instruction)
                           A  4185    
                           A  4186    
                           A  4187    .ENDFUNC "debug_print_playfieldText",424,"_debu
                           A  4188    	SEGMENT STRSECT
04373F                     A  4189    L__35:
04373F 0A0D00              A  4190    	DB	10,13,0
                           A  4191    	SEGMENT CODE
                           A  4192    ;  425	
                           A  4193    ;  426	void game_displayLevel(void)
                           A  4194    ;  427	{
041844                     A  4195    _game_displayLevel:
                           A  4196    .DEFINE "_game_displayLevel"
                           A  4197    
                           A  4198    .VALUE _game_displayLevel
                           A  4199    
                           A  4200    .CLASS 2
                           A  4201    
                           A  4202    .TYPE 65
                           A  4203    
                           A  4204    .ENDEF
                           A  4205    
                           A  4206    .BEGFUNC "game_displayLevel",427,"_game_display
                           A  4207    
                           A  4208    .LINE 427
                           A  4209    
                           A  4210    .DEFINE "x"
                           A  4211    
                           A  4212    .CLASS 65
                           A  4213    
                           A  4214    .VALUE -2
                           A  4215    
                           A  4216    .TYPE 13
                           A  4217    
                           A  4218    .ENDEF
                           A  4219    
                           A  4220    .DEFINE "y"
                           A  4221    
                           A  4222    .CLASS 65
                           A  4223    
                           A  4224    .VALUE -4
                           A  4225    
                           A  4226    .TYPE 13
                           A  4227    
                           A  4228    .ENDEF
                           A  4229    
                           A  4230    .DEFINE "width"
                           A  4231    
                           A  4232    .CLASS 65
                           A  4233    
                           A  4234    .VALUE -6
                           A  4235    
                           A  4236    .TYPE 13
                           A  4237    
                           A  4238    .ENDEF
                           A  4239    
                           A  4240    .DEFINE "height"
                           A  4241    
                           A  4242    .CLASS 65
                           A  4243    
                           A  4244    .VALUE -8
                           A  4245    
                           A  4246    .TYPE 13
                           A  4247    
                           A  4248    .ENDEF
                           A  4249    
                           A  4250    .DEFINE "c"
                           A  4251    
                           A  4252    .CLASS 65
                           A  4253    
                           A  4254    .VALUE -9
                           A  4255    
                           A  4256    .TYPE 2
                           A  4257    
                           A  4258    .ENDEF
                           A  4259    
                           A  4260    .DEFINE "xstart"
                           A  4261    
                           A  4262    .CLASS 65
                           A  4263    
                           A  4264    .VALUE -11
                           A  4265    
                           A  4266    .TYPE 13
                           A  4267    
                           A  4268    .ENDEF
                           A  4269    
                           A  4270    .DEFINE "ystart"
                           A  4271    
                           A  4272    .CLASS 65
                           A  4273    
                           A  4274    .VALUE -13
                           A  4275    
                           A  4276    .TYPE 13
                           A  4277    
                           A  4278    .ENDEF
                           A  4279    
041844 DDE5                A  4280    	PUSH	IX
041846 DD210000 00         A  4281    	LD	IX,0
04184B DD39                A  4282    	ADD	IX,SP
04184D ED22F0              A  4283    	LEA	HL,IX+%FFFFFFF0
041850 F9                  A  4284    	LD	SP,HL
                           A  4285    ;  428		UINT16 width, height;
                           A  4286    ;  429		UINT16 ystart,xstart,x,y;
                           A  4287    ;  430		char c;
                           A  4288    ;  431		
                           A  4289    ;  432		// calculate on-screen base coordin
                           A  4290    ;  433		xstart = ((MAXWIDTH - currentlevel.
                           A  4291    .LINE 433
                           A  4292    
041851 3A F4 3F 04         A  4293    	LD	A,(_currentlevel+2)
041855 B7ED62              A  4294    	UEXT	HL
041858 6F                  A  4295    	LD	L,A
041859 E5C1                A  4296    	LD	BC,HL
04185B 21280000            A  4297    	LD	HL,40
04185F B7                  A  4298    	OR	A,A
041860 ED42                A  4299    	SBC	HL,BC
041862 01020000            A  4300    	LD	BC,2
041866 CD 84 1F 04         A  4301    	CALL	__idivs
04186A 29                  A  4302    	ADD	HL,HL
04186B 29                  A  4303    	ADD	HL,HL
04186C 29                  A  4304    	ADD	HL,HL
04186D 29                  A  4305    	ADD	HL,HL
04186E DD75F5              A  4306    	LD	(IX+%FFFFFFF5),L
041871 DD74F6              A  4307    	LD	(IX+%FFFFFFF6),H
                           A  4308    ;  434		ystart = ((MAXHEIGHT - currentlevel
                           A  4309    .LINE 434
                           A  4310    
041874 3A F5 3F 04         A  4311    	LD	A,(_currentlevel+3)
041878 B7ED62              A  4312    	UEXT	HL
04187B 6F                  A  4313    	LD	L,A
04187C E5C1                A  4314    	LD	BC,HL
04187E 211E0000            A  4315    	LD	HL,30
041882 B7                  A  4316    	OR	A,A
041883 ED42                A  4317    	SBC	HL,BC
041885 01020000            A  4318    	LD	BC,2
041889 CD 84 1F 04         A  4319    	CALL	__idivs
04188D 29                  A  4320    	ADD	HL,HL
04188E 29                  A  4321    	ADD	HL,HL
04188F 29                  A  4322    	ADD	HL,HL
041890 29                  A  4323    	ADD	HL,HL
041891 DD75F3              A  4324    	LD	(IX+%FFFFFFF3),L
041894 DD74F4              A  4325    	LD	(IX+%FFFFFFF4),H
                           A  4326    ;  435		
                           A  4327    ;  436		y = ystart;
                           A  4328    .LINE 436
                           A  4329    
041897 DD07F3              A  4330    	LD	BC,(IX+%FFFFFFF3)
04189A DD71FC              A  4331    	LD	(IX+%FFFFFFFC),C
04189D DD70FD              A  4332    	LD	(IX+%FFFFFFFD),B
                           A  4333    ;  437		for(height = 0; height < currentlev
                           A  4334    .LINE 437
                           A  4335    
0418A0 DD36F800            A  4336    	LD	(IX+%FFFFFFF8),%0
0418A4 DD36F900            A  4337    	LD	(IX+%FFFFFFF9),%0
0418A8 C3 FB 19 04         A  4338    	JR	L_113
0418AC                     A  4339    L_111:
                           A  4340    ;  438		{
                           A  4341    ;  439			x = xstart;
                           A  4342    .LINE 439
                           A  4343    
0418AC DD07F5              A  4344    	LD	BC,(IX+%FFFFFFF5)
0418AF DD71FE              A  4345    	LD	(IX+%FFFFFFFE),C
0418B2 DD70FF              A  4346    	LD	(IX+%FFFFFFFF),B
                           A  4347    ;  440			for(width = 0; width < currentl
                           A  4348    .LINE 440
                           A  4349    
0418B5 DD36FA00            A  4350    	LD	(IX+%FFFFFFFA),%0
0418B9 DD36FB00            A  4351    	LD	(IX+%FFFFFFFB),%0
0418BD C3 D3 19 04         A  4352    	JR	L_109
0418C1                     A  4353    L_107:
                           A  4354    ;  441			{
                           A  4355    ;  442				c = currentlevel.data[heigh
                           A  4356    .LINE 442
                           A  4357    
0418C1 DD07F8              A  4358    	LD	BC,(IX+%FFFFFFF8)
0418C4 CD 7A 1E 04         A  4359    	CALL	__stoiu
0418C8 3E28                A  4360    	LD	A,%28
0418CA CD BD 1F 04         A  4361    	CALL	__imul_b
0418CE DD2FF0              A  4362    	LD	(IX+%FFFFFFF0),HL
0418D1 01 F9 3F 04         A  4363    	LD	BC,_currentlevel+7
0418D5 DD27F0              A  4364    	LD	HL,(IX+%FFFFFFF0)
0418D8 09                  A  4365    	ADD	HL,BC
0418D9 E5D1                A  4366    	LD	DE,HL
0418DB DD07FA              A  4367    	LD	BC,(IX+%FFFFFFFA)
0418DE CD 7A 1E 04         A  4368    	CALL	__stoiu
0418E2 19                  A  4369    	ADD	HL,DE
0418E3 7E                  A  4370    	LD	A,(HL)
0418E4 DD77F7              A  4371    	LD	(IX+%FFFFFFF7),A
                           A  4372    ;  443				switch(c)
                           A  4373    .LINE 443
                           A  4374    
0418E7 17ED62              A  4375    	SEXT	HL
0418EA DD6EF7              A  4376    	LD	L,(IX+%FFFFFFF7)
0418ED CD 4B 20 04         A  4377    	CALL	__case8D
0418F1 E9                  A  4378    	JP	(HL)
0418F2                     A  4379    L__38:
0418F2 0700                A  4380    	DW	7
0418F4 20                  A  4381    	DB	32
0418F5 A91904              A  4382    	DW24	L_104	
                           A  4383    
0418F8 23                  A  4384    	DB	35
0418F9 131904              A  4385    	DW24	L_96	
                           A  4386    
0418FC 24                  A  4387    	DB	36
0418FD 491904              A  4388    	DW24	L_99	
                           A  4389    
041900 2A                  A  4390    	DB	42
041901 491904              A  4391    	DW24	L_100	
                           A  4392    
041904 2B                  A  4393    	DB	43
041905 2B1904              A  4394    	DW24	L_98	
                           A  4395    
041908 2E                  A  4396    	DB	46
041909 931904              A  4397    	DW24	L_103	
                           A  4398    
04190C 40                  A  4399    	DB	64
04190D 2B1904              A  4400    	DW24	L_97	
                           A  4401    
041910 BD1904              A  4402    	DW24	L_106	
                           A  4403    
                           A  4404    ;  444				{
                           A  4405    ;  445					case CHAR_WALL:
041913                     A  4406    L_96:
                           A  4407    .LINE 445
                           A  4408    
                           A  4409    ;  446						vdp_bitmapDraw(TILE
                           A  4410    .LINE 446
                           A  4411    
041913 DD07FC              A  4412    	LD	BC,(IX+%FFFFFFFC)
041916 C5                  A  4413    	PUSH	BC
041917 DD07FE              A  4414    	LD	BC,(IX+%FFFFFFFE)
04191A C5                  A  4415    	PUSH	BC
04191B 01000000            A  4416    	LD	BC,0
04191F C5                  A  4417    	PUSH	BC
041920 CD 97 08 04         A  4418    	CALL	_vdp_bitmapDraw
041924 C1                  A  4419    	POP	BC
041925 C1                  A  4420    	POP	BC
041926 C1                  A  4421    	POP	BC
                           A  4422    ;  447						break;
                           A  4423    .LINE 447
                           A  4424    
041927 C3 BD 19 04         A  4425    	JR	L_106
                           A  4426    ;  448					case CHAR_PLAYER:
04192B                     A  4427    L_97:
                           A  4428    .LINE 448
                           A  4429    
                           A  4430    ;  449					case CHAR_PLAYERONGOAL:
04192B                     A  4431    L_98:
                           A  4432    .LINE 449
                           A  4433    
                           A  4434    ;  450						vdp_spriteSelect(0)
                           A  4435    .LINE 450
                           A  4436    
04192B 01000000            A  4437    	LD	BC,0
04192F C5                  A  4438    	PUSH	BC
041930 CD 3F 09 04         A  4439    	CALL	_vdp_spriteSelect
041934 C1                  A  4440    	POP	BC
                           A  4441    ;  451						vdp_spriteMoveToSel
                           A  4442    .LINE 451
                           A  4443    
041935 DD07FC              A  4444    	LD	BC,(IX+%FFFFFFFC)
041938 C5                  A  4445    	PUSH	BC
041939 DD07FE              A  4446    	LD	BC,(IX+%FFFFFFFE)
04193C C5                  A  4447    	PUSH	BC
04193D CD 98 0B 04         A  4448    	CALL	_vdp_spriteMoveToSelected
041941 C1                  A  4449    	POP	BC
041942 C1                  A  4450    	POP	BC
                           A  4451    ;  452						vdp_spriteShowSelec
                           A  4452    .LINE 452
                           A  4453    
041943 CD 06 0B 04         A  4454    	CALL	_vdp_spriteShowSelected
                           A  4455    ;  453						break;
                           A  4456    .LINE 453
                           A  4457    
041947 18 74               A  4458    	JR	L_106
                           A  4459    ;  454					case CHAR_BOX:
041949                     A  4460    L_99:
                           A  4461    .LINE 454
                           A  4462    
                           A  4463    ;  455					case CHAR_BOXONGOAL:
041949                     A  4464    L_100:
                           A  4465    .LINE 455
                           A  4466    
                           A  4467    ;  456						vdp_spriteSelect(sp
                           A  4468    .LINE 456
                           A  4469    
041949 01 42 3B 04         A  4470    	LD	BC,_sprites
04194D DD27F0              A  4471    	LD	HL,(IX+%FFFFFFF0)
041950 09                  A  4472    	ADD	HL,BC
041951 E5D1                A  4473    	LD	DE,HL
041953 DD07FA              A  4474    	LD	BC,(IX+%FFFFFFFA)
041956 CD 7A 1E 04         A  4475    	CALL	__stoiu
04195A 19                  A  4476    	ADD	HL,DE
04195B 4E                  A  4477    	LD	C,(HL)
04195C 0600                A  4478    	LD	B,%0
04195E C5                  A  4479    	PUSH	BC
04195F CD 3F 09 04         A  4480    	CALL	_vdp_spriteSelect
041963 C1                  A  4481    	POP	BC
                           A  4482    ;  457						vdp_spriteMoveToSel
                           A  4483    .LINE 457
                           A  4484    
041964 DD07FC              A  4485    	LD	BC,(IX+%FFFFFFFC)
041967 C5                  A  4486    	PUSH	BC
041968 DD07FE              A  4487    	LD	BC,(IX+%FFFFFFFE)
04196B C5                  A  4488    	PUSH	BC
04196C CD 98 0B 04         A  4489    	CALL	_vdp_spriteMoveToSelected
041970 C1                  A  4490    	POP	BC
041971 C1                  A  4491    	POP	BC
                           A  4492    ;  458						vdp_spriteShowSelec
                           A  4493    .LINE 458
                           A  4494    
041972 CD 06 0B 04         A  4495    	CALL	_vdp_spriteShowSelected
                           A  4496    ;  459						if(c == CHAR_BOXONG
                           A  4497    .LINE 459
                           A  4498    
041976 DD7EF7              A  4499    	LD	A,(IX+%FFFFFFF7)
041979 FE2A                A  4500    	CP	A,%2A
04197B 20 40               A  4501    	JR	NZ,L_106
                           A  4502    ;  460						{
                           A  4503    ;  461							vdp_bitmapDraw(
                           A  4504    .LINE 461
                           A  4505    
04197D DD07FC              A  4506    	LD	BC,(IX+%FFFFFFFC)
041980 C5                  A  4507    	PUSH	BC
041981 DD07FE              A  4508    	LD	BC,(IX+%FFFFFFFE)
041984 C5                  A  4509    	PUSH	BC
041985 01050000            A  4510    	LD	BC,5
041989 C5                  A  4511    	PUSH	BC
04198A CD 97 08 04         A  4512    	CALL	_vdp_bitmapDraw
04198E C1                  A  4513    	POP	BC
04198F C1                  A  4514    	POP	BC
041990 C1                  A  4515    	POP	BC
                           A  4516    ;  462						}
                           A  4517    .LINE 462
                           A  4518    
                           A  4519    ;  463						break;
                           A  4520    .LINE 463
                           A  4521    
041991 18 2A               A  4522    	JR	L_106
                           A  4523    ;  464					case CHAR_GOAL:
041993                     A  4524    L_103:
                           A  4525    .LINE 464
                           A  4526    
                           A  4527    ;  465						vdp_bitmapDraw(TILE
                           A  4528    .LINE 465
                           A  4529    
041993 DD07FC              A  4530    	LD	BC,(IX+%FFFFFFFC)
041996 C5                  A  4531    	PUSH	BC
041997 DD07FE              A  4532    	LD	BC,(IX+%FFFFFFFE)
04199A C5                  A  4533    	PUSH	BC
04199B 01050000            A  4534    	LD	BC,5
04199F C5                  A  4535    	PUSH	BC
0419A0 CD 97 08 04         A  4536    	CALL	_vdp_bitmapDraw
0419A4 C1                  A  4537    	POP	BC
0419A5 C1                  A  4538    	POP	BC
0419A6 C1                  A  4539    	POP	BC
                           A  4540    ;  466						break;
                           A  4541    .LINE 466
                           A  4542    
0419A7 18 14               A  4543    	JR	L_106
                           A  4544    ;  467					case CHAR_FLOOR:
0419A9                     A  4545    L_104:
                           A  4546    .LINE 467
                           A  4547    
                           A  4548    ;  468						vdp_bitmapDraw(TILE
                           A  4549    .LINE 468
                           A  4550    
0419A9 DD07FC              A  4551    	LD	BC,(IX+%FFFFFFFC)
0419AC C5                  A  4552    	PUSH	BC
0419AD DD07FE              A  4553    	LD	BC,(IX+%FFFFFFFE)
0419B0 C5                  A  4554    	PUSH	BC
0419B1 01060000            A  4555    	LD	BC,6
0419B5 C5                  A  4556    	PUSH	BC
0419B6 CD 97 08 04         A  4557    	CALL	_vdp_bitmapDraw
0419BA C1                  A  4558    	POP	BC
0419BB C1                  A  4559    	POP	BC
0419BC C1                  A  4560    	POP	BC
                           A  4561    ;  469						break;
                           A  4562    ;  470					default:
                           A  4563    ;  471						break;
                           A  4564    ;  472				}
0419BD                     A  4565    L_106:
                           A  4566    .LINE 472
                           A  4567    
                           A  4568    ;  473				x += BITMAP_WIDTH;
                           A  4569    .LINE 473
                           A  4570    
0419BD DD31FE              A  4571    	LD	IY,(IX+%FFFFFFFE)
0419C0 ED2310              A  4572    	LEA	HL,IY+%10
0419C3 DD75FE              A  4573    	LD	(IX+%FFFFFFFE),L
0419C6 DD74FF              A  4574    	LD	(IX+%FFFFFFFF),H
0419C9 DD27FA              A  4575    	LD	HL,(IX+%FFFFFFFA)
0419CC 23                  A  4576    	INC	HL
0419CD DD75FA              A  4577    	LD	(IX+%FFFFFFFA),L
0419D0 DD74FB              A  4578    	LD	(IX+%FFFFFFFB),H
                           A  4579    ;  474			}
0419D3                     A  4580    L_109:
                           A  4581    .LINE 474
                           A  4582    
0419D3 3A F4 3F 04         A  4583    	LD	A,(_currentlevel+2)
0419D7 4F                  A  4584    	LD	C,A
0419D8 0600                A  4585    	LD	B,%0
0419DA DD27FA              A  4586    	LD	HL,(IX+%FFFFFFFA)
0419DD B7                  A  4587    	OR	A,A
0419DE 40ED42              A  4588    	SBC.SIS	HL,BC
0419E1 DA C1 18 04         A  4589    	JR	C,L_107
                           A  4590    ;  475			y += BITMAP_HEIGHT;
                           A  4591    .LINE 475
                           A  4592    
0419E5 DD31FC              A  4593    	LD	IY,(IX+%FFFFFFFC)
0419E8 ED2310              A  4594    	LEA	HL,IY+%10
0419EB DD75FC              A  4595    	LD	(IX+%FFFFFFFC),L
0419EE DD74FD              A  4596    	LD	(IX+%FFFFFFFD),H
0419F1 DD27F8              A  4597    	LD	HL,(IX+%FFFFFFF8)
0419F4 23                  A  4598    	INC	HL
0419F5 DD75F8              A  4599    	LD	(IX+%FFFFFFF8),L
0419F8 DD74F9              A  4600    	LD	(IX+%FFFFFFF9),H
                           A  4601    ;  476		}
0419FB                     A  4602    L_113:
                           A  4603    .LINE 476
                           A  4604    
0419FB 3A F5 3F 04         A  4605    	LD	A,(_currentlevel+3)
0419FF 4F                  A  4606    	LD	C,A
041A00 0600                A  4607    	LD	B,%0
041A02 DD27F8              A  4608    	LD	HL,(IX+%FFFFFFF8)
041A05 B7                  A  4609    	OR	A,A
041A06 40ED42              A  4610    	SBC.SIS	HL,BC
041A09 DA AC 18 04         A  4611    	JR	C,L_111
                           A  4612    ;  477	
                           A  4613    ;  478		vdp_spriteRefresh();
                           A  4614    .LINE 478
                           A  4615    
041A0D CD 9B 0C 04         A  4616    	CALL	_vdp_spriteRefresh
                           A  4617    ;  479	}
                           A  4618    .LINE 479
                           A  4619    
041A11 DDF9                A  4620    	LD	SP,IX
041A13 DDE1                A  4621    	POP	IX
041A15 C9                  A  4622    	RET	
                           A  4623    
                           A  4624    
                           A  4625    ;**************************** _game_displayLeve
                           A  4626    ;Name                         Addr/Register   S
                           A  4627    ;_vdp_spriteRefresh                  IMPORT  --
                           A  4628    ;_sprites                            STATIC   1
                           A  4629    ;_vdp_spriteShowSelected             IMPORT  --
                           A  4630    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  4631    ;_vdp_spriteSelect                   IMPORT  --
                           A  4632    ;_vdp_bitmapDraw                     IMPORT  --
                           A  4633    ;_currentlevel                       STATIC   1
                           A  4634    ;G_13                                 IX-16    
                           A  4635    ;ystart                               IX-13    
                           A  4636    ;xstart                               IX-11    
                           A  4637    ;c                                     IX-9    
                           A  4638    ;height                                IX-8    
                           A  4639    ;width                                 IX-6    
                           A  4640    ;y                                     IX-4    
                           A  4641    ;x                                     IX-2    
                           A  4642    
                           A  4643    
                           A  4644    ; Stack Frame Size: 22 (bytes)
                           A  4645    ;       Spill Code: 0 (instruction)
                           A  4646    
                           A  4647    
                           A  4648    .ENDFUNC "game_displayLevel",479,"_game_display
                           A  4649    ;  480	
                           A  4650    ;  481	
                           A  4651    ;  482	UINT8 game_readLevels(char *filename)
                           A  4652    ;  483	{
041A16                     A  4653    _game_readLevels:
                           A  4654    .DEFINE "_game_readLevels"
                           A  4655    
                           A  4656    .VALUE _game_readLevels
                           A  4657    
                           A  4658    .CLASS 2
                           A  4659    
                           A  4660    .TYPE 76
                           A  4661    
                           A  4662    .ENDEF
                           A  4663    
                           A  4664    .BEGFUNC "game_readLevels",483,"_game_readLevel
                           A  4665    
                           A  4666    .LINE 483
                           A  4667    
                           A  4668    .DEFINE "filename"
                           A  4669    
                           A  4670    .CLASS 65
                           A  4671    
                           A  4672    .VALUE 6
                           A  4673    
                           A  4674    .TYPE 34
                           A  4675    
                           A  4676    .ENDEF
                           A  4677    
                           A  4678    .DEFINE "numlevels"
                           A  4679    
                           A  4680    .CLASS 65
                           A  4681    
                           A  4682    .VALUE -1
                           A  4683    
                           A  4684    .TYPE 12
                           A  4685    
                           A  4686    .ENDEF
                           A  4687    
                           A  4688    .DEFINE "file"
                           A  4689    
                           A  4690    .CLASS 65
                           A  4691    
                           A  4692    .VALUE -2
                           A  4693    
                           A  4694    .TYPE 12
                           A  4695    
                           A  4696    .ENDEF
                           A  4697    
                           A  4698    .DEFINE "size"
                           A  4699    
                           A  4700    .CLASS 65
                           A  4701    
                           A  4702    .VALUE -4
                           A  4703    
                           A  4704    .TYPE 13
                           A  4705    
                           A  4706    .ENDEF
                           A  4707    
                           A  4708    .DEFINE "ptr"
                           A  4709    
                           A  4710    .CLASS 65
                           A  4711    
                           A  4712    .VALUE -7
                           A  4713    
                           A  4714    .TYPE 34
                           A  4715    
                           A  4716    .ENDEF
                           A  4717    
041A16 DDE5                A  4718    	PUSH	IX
041A18 DD210000 00         A  4719    	LD	IX,0
041A1D DD39                A  4720    	ADD	IX,SP
041A1F C5                  A  4721    	PUSH	BC
041A20 C5                  A  4722    	PUSH	BC
041A21 3B                  A  4723    	DEC	SP
                           A  4724    ;  484		// Reads all the levels in the stan
                           A  4725    ;  485		UINT8 numlevels = 0;
                           A  4726    .LINE 485
                           A  4727    
041A22 DD36FF00            A  4728    	LD	(IX+%FFFFFFFF),%0
                           A  4729    ;  486		UINT16 size;
                           A  4730    ;  487		UINT8 file;
                           A  4731    ;  488		char* ptr = (char*)LEVELDATA;
                           A  4732    .LINE 488
                           A  4733    
041A26 01000008            A  4734    	LD	BC,524288
041A2A DD0FF9              A  4735    	LD	(IX+%FFFFFFF9),BC
                           A  4736    ;  489		
                           A  4737    ;  490		file = mos_fopen(filename, fa_read)
                           A  4738    .LINE 490
                           A  4739    
041A2D 01010000            A  4740    	LD	BC,1
041A31 C5                  A  4741    	PUSH	BC
041A32 DD0706              A  4742    	LD	BC,(IX+%6)
041A35 C5                  A  4743    	PUSH	BC
041A36 CD 6B 1C 04         A  4744    	CALL	_mos_fopen
041A3A C1                  A  4745    	POP	BC
041A3B C1                  A  4746    	POP	BC
041A3C DD77FE              A  4747    	LD	(IX+%FFFFFFFE),A
                           A  4748    ;  491		if(file)
                           A  4749    .LINE 491
                           A  4750    
041A3F B7                  A  4751    	OR	A,A
041A40 28 57               A  4752    	JR	Z,L_126
                           A  4753    ;  492		{
                           A  4754    ;  493			numlevels = 0;
                           A  4755    .LINE 493
                           A  4756    
041A42 DD36FF00            A  4757    	LD	(IX+%FFFFFFFF),%0
                           A  4758    ;  494			
                           A  4759    ;  495			while(!mos_feof(file))
                           A  4760    .LINE 495
                           A  4761    
041A46 18 38               A  4762    	JR	L_122
041A48                     A  4763    L_123:
                           A  4764    ;  496			{
                           A  4765    ;  497				size = sizeof(struct sokoba
                           A  4766    .LINE 497
                           A  4767    
041A48 DD36FCB7            A  4768    	LD	(IX+%FFFFFFFC),%B7
041A4C DD36FD04            A  4769    	LD	(IX+%FFFFFFFD),%4
                           A  4770    ;  498				while(size)
                           A  4771    .LINE 498
                           A  4772    
041A50 18 22               A  4773    	JR	L_118
041A52                     A  4774    L_119:
                           A  4775    ;  499				{
                           A  4776    ;  500					*ptr = mos_fgetc(file);
                           A  4777    .LINE 500
                           A  4778    
041A52 DD4EFE              A  4779    	LD	C,(IX+%FFFFFFFE)
041A55 0600                A  4780    	LD	B,%0
041A57 C5                  A  4781    	PUSH	BC
041A58 CD 98 1C 04         A  4782    	CALL	_mos_fgetc
041A5C C1                  A  4783    	POP	BC
041A5D DD27F9              A  4784    	LD	HL,(IX+%FFFFFFF9)
041A60 77                  A  4785    	LD	(HL),A
                           A  4786    ;  501					ptr++;
                           A  4787    .LINE 501
                           A  4788    
041A61 DD07F9              A  4789    	LD	BC,(IX+%FFFFFFF9)
041A64 03                  A  4790    	INC	BC
041A65 DD0FF9              A  4791    	LD	(IX+%FFFFFFF9),BC
                           A  4792    ;  502					size--;
                           A  4793    .LINE 502
                           A  4794    
041A68 DD31FC              A  4795    	LD	IY,(IX+%FFFFFFFC)
041A6B ED23FF              A  4796    	LEA	HL,IY+%FFFFFFFF
041A6E DD75FC              A  4797    	LD	(IX+%FFFFFFFC),L
041A71 DD74FD              A  4798    	LD	(IX+%FFFFFFFD),H
                           A  4799    ;  503				}
041A74                     A  4800    L_118:
                           A  4801    .LINE 503
                           A  4802    
041A74 DD27FC              A  4803    	LD	HL,(IX+%FFFFFFFC)
041A77 CD 8E 20 04         A  4804    	CALL	__scmpzero
041A7B 20 D5               A  4805    	JR	NZ,L_119
                           A  4806    ;  504				numlevels++;
                           A  4807    .LINE 504
                           A  4808    
041A7D DD34FF              A  4809    	INC	(IX+%FFFFFFFF)
                           A  4810    ;  505			}		
041A80                     A  4811    L_122:
                           A  4812    .LINE 505
                           A  4813    
041A80 DD4EFE              A  4814    	LD	C,(IX+%FFFFFFFE)
041A83 0600                A  4815    	LD	B,%0
041A85 C5                  A  4816    	PUSH	BC
041A86 CD C5 1C 04         A  4817    	CALL	_mos_feof
041A8A C1                  A  4818    	POP	BC
041A8B B7                  A  4819    	OR	A,A
041A8C 28 BA               A  4820    	JR	Z,L_123
                           A  4821    ;  506			mos_fclose(file);
                           A  4822    .LINE 506
                           A  4823    
041A8E DD4EFE              A  4824    	LD	C,(IX+%FFFFFFFE)
041A91 0600                A  4825    	LD	B,%0
041A93 C5                  A  4826    	PUSH	BC
041A94 CD 83 1C 04         A  4827    	CALL	_mos_fclose
041A98 C1                  A  4828    	POP	BC
                           A  4829    ;  507		}
041A99                     A  4830    L_126:
                           A  4831    .LINE 507
                           A  4832    
                           A  4833    ;  508		return numlevels;
                           A  4834    .LINE 508
                           A  4835    
041A99 DD7EFF              A  4836    	LD	A,(IX+%FFFFFFFF)
                           A  4837    ;  509	}	
                           A  4838    .LINE 509
                           A  4839    
041A9C DDF9                A  4840    	LD	SP,IX
041A9E DDE1                A  4841    	POP	IX
041AA0 C9                  A  4842    	RET	
                           A  4843    
                           A  4844    
                           A  4845    ;**************************** _game_readLevels 
                           A  4846    ;Name                         Addr/Register   S
                           A  4847    ;_mos_fclose                         IMPORT  --
                           A  4848    ;_mos_feof                           IMPORT  --
                           A  4849    ;_mos_fgetc                          IMPORT  --
                           A  4850    ;_mos_fopen                          IMPORT  --
                           A  4851    ;ptr                                   IX-7    
                           A  4852    ;size                                  IX-4    
                           A  4853    ;file                                  IX-2    
                           A  4854    ;numlevels                             IX-1    
                           A  4855    ;filename                              IX+6    
                           A  4856    
                           A  4857    
                           A  4858    ; Stack Frame Size: 16 (bytes)
                           A  4859    ;       Spill Code: 0 (instruction)
                           A  4860    
                           A  4861    
                           A  4862    .ENDFUNC "game_readLevels",509,"_game_readLevel
                           A  4863    ;  510	
                           A  4864    ;  511	
                           A  4865    ;  512	void game_initLevel(UINT8 levelid)
                           A  4866    ;  513	{
041AA1                     A  4867    _game_initLevel:
                           A  4868    .DEFINE "_game_initLevel"
                           A  4869    
                           A  4870    .VALUE _game_initLevel
                           A  4871    
                           A  4872    .CLASS 2
                           A  4873    
                           A  4874    .TYPE 65
                           A  4875    
                           A  4876    .ENDEF
                           A  4877    
                           A  4878    .BEGFUNC "game_initLevel",513,"_game_initLevel"
                           A  4879    
                           A  4880    .LINE 513
                           A  4881    
                           A  4882    .DEFINE "levelid"
                           A  4883    
                           A  4884    .CLASS 65
                           A  4885    
                           A  4886    .VALUE 6
                           A  4887    
                           A  4888    .TYPE 12
                           A  4889    
                           A  4890    .ENDEF
                           A  4891    
041AA1 DDE5                A  4892    	PUSH	IX
041AA3 DD210000 00         A  4893    	LD	IX,0
041AA8 DD39                A  4894    	ADD	IX,SP
                           A  4895    ;  514		memcpy(&currentlevel, (void*)(LEVEL
                           A  4896    .LINE 514
                           A  4897    
041AAA 01B70400            A  4898    	LD	BC,1207
041AAE C5                  A  4899    	PUSH	BC
041AAF DD7E06              A  4900    	LD	A,(IX+%6)
041AB2 B7ED62              A  4901    	UEXT	HL
041AB5 6F                  A  4902    	LD	L,A
041AB6 E5C1                A  4903    	LD	BC,HL
041AB8 21B70400            A  4904    	LD	HL,1207
041ABC CD C9 1F 04         A  4905    	CALL	__imulu
041AC0 01000008            A  4906    	LD	BC,524288
041AC4 09                  A  4907    	ADD	HL,BC
041AC5 E5                  A  4908    	PUSH	HL
041AC6 01 F2 3F 04         A  4909    	LD	BC,_currentlevel
041ACA C5                  A  4910    	PUSH	BC
041ACB CD 06 1F 04         A  4911    	CALL	_memcpy
041ACF C1                  A  4912    	POP	BC
041AD0 C1                  A  4913    	POP	BC
041AD1 C1                  A  4914    	POP	BC
                           A  4915    ;  515	}
                           A  4916    .LINE 515
                           A  4917    
041AD2 DDF9                A  4918    	LD	SP,IX
041AD4 DDE1                A  4919    	POP	IX
041AD6 C9                  A  4920    	RET	
                           A  4921    
                           A  4922    
                           A  4923    ;**************************** _game_initLevel *
                           A  4924    ;Name                         Addr/Register   S
                           A  4925    ;_currentlevel                       STATIC   1
                           A  4926    ;_memcpy                             IMPORT  --
                           A  4927    ;levelid                               IX+6    
                           A  4928    
                           A  4929    
                           A  4930    ; Stack Frame Size: 9 (bytes)
                           A  4931    ;       Spill Code: 0 (instruction)
                           A  4932    
                           A  4933    
                           A  4934    .ENDFUNC "game_initLevel",515,"_game_initLevel"
                           A  4935    ;  516	
                           A  4936    ;  517	void game_initSprites(void)
                           A  4937    ;  518	{
041AD7                     A  4938    _game_initSprites:
                           A  4939    .DEFINE "_game_initSprites"
                           A  4940    
                           A  4941    .VALUE _game_initSprites
                           A  4942    
                           A  4943    .CLASS 2
                           A  4944    
                           A  4945    .TYPE 65
                           A  4946    
                           A  4947    .ENDEF
                           A  4948    
                           A  4949    .BEGFUNC "game_initSprites",518,"_game_initSpri
                           A  4950    
                           A  4951    .LINE 518
                           A  4952    
                           A  4953    .DEFINE "x"
                           A  4954    
                           A  4955    .CLASS 65
                           A  4956    
                           A  4957    .VALUE -1
                           A  4958    
                           A  4959    .TYPE 12
                           A  4960    
                           A  4961    .ENDEF
                           A  4962    
                           A  4963    .DEFINE "boxsprite"
                           A  4964    
                           A  4965    .CLASS 65
                           A  4966    
                           A  4967    .VALUE -2
                           A  4968    
                           A  4969    .TYPE 12
                           A  4970    
                           A  4971    .ENDEF
                           A  4972    
                           A  4973    .DEFINE "y"
                           A  4974    
                           A  4975    .CLASS 65
                           A  4976    
                           A  4977    .VALUE -3
                           A  4978    
                           A  4979    .TYPE 12
                           A  4980    
                           A  4981    .ENDEF
                           A  4982    
041AD7 DDE5                A  4983    	PUSH	IX
041AD9 DD210000 00         A  4984    	LD	IX,0
041ADE DD39                A  4985    	ADD	IX,SP
041AE0 ED22F4              A  4986    	LEA	HL,IX+%FFFFFFF4
041AE3 F9                  A  4987    	LD	SP,HL
                           A  4988    ;  519		UINT8 x,y;
                           A  4989    ;  520		UINT8 boxsprite = 1;
                           A  4990    .LINE 520
                           A  4991    
041AE4 DD36FE01            A  4992    	LD	(IX+%FFFFFFFE),%1
                           A  4993    ;  521		
                           A  4994    ;  522		// Now build up the current level
                           A  4995    ;  523		// Player sprite
                           A  4996    ;  524		vdp_spriteSelect(0);
                           A  4997    .LINE 524
                           A  4998    
041AE8 01000000            A  4999    	LD	BC,0
041AEC C5                  A  5000    	PUSH	BC
041AED CD 3F 09 04         A  5001    	CALL	_vdp_spriteSelect
041AF1 C1                  A  5002    	POP	BC
                           A  5003    ;  525		vdp_spriteClearFramesSelected();
                           A  5004    .LINE 525
                           A  5005    
041AF2 CD 78 09 04         A  5006    	CALL	_vdp_spriteClearFramesSelected
                           A  5007    ;  526		vdp_spriteAddFrameSelected(TILE_PLA
                           A  5008    .LINE 526
                           A  5009    
041AF6 01010000            A  5010    	LD	BC,1
041AFA C5                  A  5011    	PUSH	BC
041AFB CD C1 09 04         A  5012    	CALL	_vdp_spriteAddFrameSelected
041AFF C1                  A  5013    	POP	BC
                           A  5014    ;  527		vdp_spriteHideSelected();
                           A  5015    .LINE 527
                           A  5016    
041B00 CD 4F 0B 04         A  5017    	CALL	_vdp_spriteHideSelected
                           A  5018    ;  528	
                           A  5019    ;  529		// set sprite positions
                           A  5020    ;  530		for(y = 0; y < currentlevel.height;
                           A  5021    .LINE 530
                           A  5022    
041B04 DD36FD00            A  5023    	LD	(IX+%FFFFFFFD),%0
041B08 C3 E0 1B 04         A  5024    	JR	L_143
041B0C                     A  5025    L_141:
                           A  5026    ;  531		{
                           A  5027    ;  532			for(x = 0; x < currentlevel.wid
                           A  5028    .LINE 532
                           A  5029    
041B0C DD36FF00            A  5030    	LD	(IX+%FFFFFFFF),%0
041B10 C3 D1 1B 04         A  5031    	JR	L_140
041B14                     A  5032    L_138:
                           A  5033    ;  533			{
                           A  5034    ;  534				switch(currentlevel.data[y]
                           A  5035    .LINE 534
                           A  5036    
041B14 DD7EFD              A  5037    	LD	A,(IX+%FFFFFFFD)
041B17 B7ED62              A  5038    	UEXT	HL
041B1A 6F                  A  5039    	LD	L,A
041B1B 3E28                A  5040    	LD	A,%28
041B1D CD BD 1F 04         A  5041    	CALL	__imul_b
041B21 DD2FFA              A  5042    	LD	(IX+%FFFFFFFA),HL
041B24 01 F9 3F 04         A  5043    	LD	BC,_currentlevel+7
041B28 09                  A  5044    	ADD	HL,BC
041B29 DD2FF4              A  5045    	LD	(IX+%FFFFFFF4),HL
041B2C DD7EFF              A  5046    	LD	A,(IX+%FFFFFFFF)
041B2F B7ED62              A  5047    	UEXT	HL
041B32 6F                  A  5048    	LD	L,A
041B33 DD07F4              A  5049    	LD	BC,(IX+%FFFFFFF4)
041B36 09                  A  5050    	ADD	HL,BC
041B37 DD2FF7              A  5051    	LD	(IX+%FFFFFFF7),HL
041B3A 7E                  A  5052    	LD	A,(HL)
041B3B B7ED62              A  5053    	UEXT	HL
041B3E 6F                  A  5054    	LD	L,A
041B3F CD 4B 20 04         A  5055    	CALL	__case8D
041B43 E9                  A  5056    	JP	(HL)
041B44                     A  5057    L__48:
041B44 0200                A  5058    	DW	2
041B46 24                  A  5059    	DB	36
041B47 511B04              A  5060    	DW24	L_131	
                           A  5061    
041B4A 2A                  A  5062    	DB	42
041B4B 511B04              A  5063    	DW24	L_132	
                           A  5064    
041B4E BA1B04              A  5065    	DW24	L_137	
                           A  5066    
                           A  5067    ;  535				{
                           A  5068    ;  536					case CHAR_BOX:
041B51                     A  5069    L_131:
                           A  5070    .LINE 536
                           A  5071    
                           A  5072    ;  537					case CHAR_BOXONGOAL:
041B51                     A  5073    L_132:
                           A  5074    .LINE 537
                           A  5075    
                           A  5076    ;  538						vdp_spriteSelect(bo
                           A  5077    .LINE 538
                           A  5078    
041B51 DD4EFE              A  5079    	LD	C,(IX+%FFFFFFFE)
041B54 0600                A  5080    	LD	B,%0
041B56 C5                  A  5081    	PUSH	BC
041B57 CD 3F 09 04         A  5082    	CALL	_vdp_spriteSelect
041B5B C1                  A  5083    	POP	BC
                           A  5084    ;  539						vdp_spriteClearFram
                           A  5085    .LINE 539
                           A  5086    
041B5C CD 78 09 04         A  5087    	CALL	_vdp_spriteClearFramesSelected
                           A  5088    ;  540						vdp_spriteAddFrameS
                           A  5089    .LINE 540
                           A  5090    
041B60 01030000            A  5091    	LD	BC,3
041B64 C5                  A  5092    	PUSH	BC
041B65 CD C1 09 04         A  5093    	CALL	_vdp_spriteAddFrameSelected
041B69 C1                  A  5094    	POP	BC
                           A  5095    ;  541						vdp_spriteAddFrameS
                           A  5096    .LINE 541
                           A  5097    
041B6A 01040000            A  5098    	LD	BC,4
041B6E C5                  A  5099    	PUSH	BC
041B6F CD C1 09 04         A  5100    	CALL	_vdp_spriteAddFrameSelected
041B73 C1                  A  5101    	POP	BC
                           A  5102    ;  542						if(currentlevel.dat
                           A  5103    .LINE 542
                           A  5104    
041B74 DD27F7              A  5105    	LD	HL,(IX+%FFFFFFF7)
041B77 7E                  A  5106    	LD	A,(HL)
041B78 B7ED62              A  5107    	UEXT	HL
041B7B 6F                  A  5108    	LD	L,A
041B7C 012A0000            A  5109    	LD	BC,42
041B80 B7                  A  5110    	OR	A,A
041B81 ED42                A  5111    	SBC	HL,BC
041B83 20 0C               A  5112    	JR	NZ,L_134
041B85 01010000            A  5113    	LD	BC,1
041B89 C5                  A  5114    	PUSH	BC
041B8A CD B0 0A 04         A  5115    	CALL	_vdp_spriteSetFrameSelected
041B8E C1                  A  5116    	POP	BC
                           A  5117    ;  543						else vdp_spriteSetF
                           A  5118    .LINE 543
                           A  5119    
041B8F 18 0A               A  5120    	JR	L_135
041B91                     A  5121    L_134:
041B91 01000000            A  5122    	LD	BC,0
041B95 C5                  A  5123    	PUSH	BC
041B96 CD B0 0A 04         A  5124    	CALL	_vdp_spriteSetFrameSelected
041B9A C1                  A  5125    	POP	BC
041B9B                     A  5126    L_135:
                           A  5127    ;  544						vdp_spriteHideSelec
                           A  5128    .LINE 544
                           A  5129    
041B9B CD 4F 0B 04         A  5130    	CALL	_vdp_spriteHideSelected
                           A  5131    ;  545						sprites[y][x] = box
                           A  5132    .LINE 545
                           A  5133    
041B9F 01 42 3B 04         A  5134    	LD	BC,_sprites
041BA3 DD27FA              A  5135    	LD	HL,(IX+%FFFFFFFA)
041BA6 09                  A  5136    	ADD	HL,BC
041BA7 E5C1                A  5137    	LD	BC,HL
041BA9 DD7EFF              A  5138    	LD	A,(IX+%FFFFFFFF)
041BAC B7ED62              A  5139    	UEXT	HL
041BAF 6F                  A  5140    	LD	L,A
041BB0 09                  A  5141    	ADD	HL,BC
041BB1 DD7EFE              A  5142    	LD	A,(IX+%FFFFFFFE)
041BB4 77                  A  5143    	LD	(HL),A
                           A  5144    ;  546						boxsprite++;
                           A  5145    .LINE 546
                           A  5146    
041BB5 DD34FE              A  5147    	INC	(IX+%FFFFFFFE)
                           A  5148    ;  547						break;
                           A  5149    .LINE 547
                           A  5150    
041BB8 18 14               A  5151    	JR	L_139
                           A  5152    ;  548					default:
041BBA                     A  5153    L_137:
                           A  5154    .LINE 548
                           A  5155    
                           A  5156    ;  549						sprites[y][x] = NOS
                           A  5157    .LINE 549
                           A  5158    
041BBA 01 42 3B 04         A  5159    	LD	BC,_sprites
041BBE DD27FA              A  5160    	LD	HL,(IX+%FFFFFFFA)
041BC1 09                  A  5161    	ADD	HL,BC
041BC2 E5C1                A  5162    	LD	BC,HL
041BC4 DD7EFF              A  5163    	LD	A,(IX+%FFFFFFFF)
041BC7 B7ED62              A  5164    	UEXT	HL
041BCA 6F                  A  5165    	LD	L,A
041BCB 09                  A  5166    	ADD	HL,BC
041BCC 36FF                A  5167    	LD	(HL),%FF
                           A  5168    ;  550						break;
                           A  5169    ;  551				}	
                           A  5170    ;  552			}
041BCE                     A  5171    L_139:
                           A  5172    .LINE 552
                           A  5173    
041BCE DD34FF              A  5174    	INC	(IX+%FFFFFFFF)
041BD1                     A  5175    L_140:
041BD1 DD7EFF              A  5176    	LD	A,(IX+%FFFFFFFF)
041BD4 21 F4 3F 04         A  5177    	LD	HL,_currentlevel+2
041BD8 BE                  A  5178    	CP	A,(HL)
041BD9 DA 14 1B 04         A  5179    	JR	C,L_138
041BDD DD34FD              A  5180    	INC	(IX+%FFFFFFFD)
                           A  5181    ;  553		}
041BE0                     A  5182    L_143:
                           A  5183    .LINE 553
                           A  5184    
041BE0 DD7EFD              A  5185    	LD	A,(IX+%FFFFFFFD)
041BE3 21 F5 3F 04         A  5186    	LD	HL,_currentlevel+3
041BE7 BE                  A  5187    	CP	A,(HL)
041BE8 DA 0C 1B 04         A  5188    	JR	C,L_141
                           A  5189    ;  554	
                           A  5190    ;  555		// activate all sprites. boxsprite 
                           A  5191    ;  556		spritenumber = boxsprite;
                           A  5192    .LINE 556
                           A  5193    
041BEC DD7EFE              A  5194    	LD	A,(IX+%FFFFFFFE)
041BEF 32 A9 44 04         A  5195    	LD	(_spritenumber),A
                           A  5196    ;  557		vdp_spriteActivateTotal(spritenumbe
                           A  5197    .LINE 557
                           A  5198    
041BF3 4F                  A  5199    	LD	C,A
041BF4 0600                A  5200    	LD	B,%0
041BF6 C5                  A  5201    	PUSH	BC
041BF7 CD 62 0C 04         A  5202    	CALL	_vdp_spriteActivateTotal
041BFB C1                  A  5203    	POP	BC
                           A  5204    ;  558	}
                           A  5205    .LINE 558
                           A  5206    
041BFC DDF9                A  5207    	LD	SP,IX
041BFE DDE1                A  5208    	POP	IX
041C00 C9                  A  5209    	RET	
                           A  5210    
                           A  5211    
                           A  5212    ;**************************** _game_initSprites
                           A  5213    ;Name                         Addr/Register   S
                           A  5214    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  5215    ;_spritenumber                       STATIC    
                           A  5216    ;_sprites                            STATIC   1
                           A  5217    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  5218    ;_currentlevel                       STATIC   1
                           A  5219    ;_vdp_spriteHideSelected             IMPORT  --
                           A  5220    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  5221    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  5222    ;_vdp_spriteSelect                   IMPORT  --
                           A  5223    ;G_14                                 IX-12    
                           A  5224    ;G_15                                  IX-9    
                           A  5225    ;G_16                                  IX-6    
                           A  5226    ;y                                     IX-3    
                           A  5227    ;boxsprite                             IX-2    
                           A  5228    ;x                                     IX-1    
                           A  5229    
                           A  5230    
                           A  5231    ; Stack Frame Size: 18 (bytes)
                           A  5232    ;       Spill Code: 0 (instruction)
                           A  5233    
                           A  5234    
                           A  5235    .ENDFUNC "game_initSprites",558,"_game_initSpri
                           A  5236    	XREF _strlen:ROM
                           A  5237    	XREF _memset:ROM
                           A  5238    	XREF _memcpy:ROM
                           A  5239    	XREF ___print_sendstring:ROM
                           A  5240    	XREF ___print_xputch:ROM
                           A  5241    	XREF ___print_uputch:ROM
                           A  5242    	XREF _vdp_spriteRefresh:ROM
                           A  5243    	XREF _vdp_spriteActivateTotal:ROM
                           A  5244    	XREF _vdp_spriteMoveBySelected:ROM
                           A  5245    	XREF _vdp_spriteMoveToSelected:ROM
                           A  5246    	XREF _vdp_spriteHide:ROM
                           A  5247    	XREF _vdp_spriteHideSelected:ROM
                           A  5248    	XREF _vdp_spriteShowSelected:ROM
                           A  5249    	XREF _vdp_spriteSetFrame:ROM
                           A  5250    	XREF _vdp_spriteSetFrameSelected:ROM
                           A  5251    	XREF _vdp_spriteAddFrameSelected:ROM
                           A  5252    	XREF _vdp_spriteClearFramesSelected:ROM
                           A  5253    	XREF _vdp_spriteSelect:ROM
                           A  5254    	XREF _vdp_bitmapCreateSolidColor:ROM
                           A  5255    	XREF _vdp_bitmapDraw:ROM
                           A  5256    	XREF _vdp_bitmapSendData:ROM
                           A  5257    	XREF _vdp_cursorGoto:ROM
                           A  5258    	XREF _vdp_cls:ROM
                           A  5259    	XREF _mos_feof:ROM
                           A  5260    	XREF _mos_fgetc:ROM
                           A  5261    	XREF _mos_fclose:ROM
                           A  5262    	XREF _mos_fopen:ROM
                           A  5263    	XREF _getch:ROM
                           A  5264    	XREF _putch:ROM
                           A  5265    	XREF __idivs:ROM
                           A  5266    	XREF __imulu:ROM
                           A  5267    	XREF __stoi:ROM
                           A  5268    	XREF __stoiu:ROM
                           A  5269    	XREF __scmpzero:ROM
                           A  5270    	XREF __case8D:ROM
                           A  5271    	XREF __imul_b:ROM
                           A  5272    	XDEF _game_initSprites
                           A  5273    	XDEF _game_initLevel
                           A  5274    	XDEF _game_readLevels
                           A  5275    	XDEF _game_displayLevel
                           A  5276    	XDEF _debug_print_playfieldText
                           A  5277    	XDEF _game_selectLevel
                           A  5278    	XDEF _game_getResponse
                           A  5279    	XDEF _game_handleKey
                           A  5280    	XDEF _move_updatelevel
                           A  5281    	XDEF _move_sprites
                           A  5282    	XDEF _canmove
                           A  5283    	XDEF _game_resetSprites
                           A  5284    	XDEF _game_sendSpriteData
                           A  5285    	XDEF _lookup
                           A  5286    	XDEF _boxongoal_data
                           A  5287    	XDEF _box_data
                           A  5288    	XDEF _goal_data
                           A  5289    	XDEF _player_data
                           A  5290    	XDEF _wall_data
                           A  5291    	XDEF _spritenumber
                           A  5292    	XDEF _currentlevel
                           A  5293    	XDEF _sprites
                           A  5294    	XDEF _bitmapbuffer
                           A  5295    	END


Errors: 0
Warnings: 0
Lines Assembled: 5296
