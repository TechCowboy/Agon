Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED13-Nov-23     20:19:20     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\vdp.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "NONAME0",51
                           A     9    .DEFINE "clock"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 15
                           A    13    .ENDEF
                           A    14    .DEFINE "vpd_protocol_flags"
                           A    15    .VALUE 4
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "keyascii"
                           A    20    .VALUE 5
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "keymods"
                           A    25    .VALUE 6
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "cursorX"
                           A    30    .VALUE 7
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "cursorY"
                           A    35    .VALUE 8
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "scrchar"
                           A    40    .VALUE 9
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "scrpixel"
                           A    45    .VALUE 10
                           A    46    .CLASS 8
                           A    47    .TYPE 14
                           A    48    .ENDEF
                           A    49    .DEFINE "audioChannel"
                           A    50    .VALUE 13
                           A    51    .CLASS 8
                           A    52    .TYPE 12
                           A    53    .ENDEF
                           A    54    .DEFINE "audioSuccess"
                           A    55    .VALUE 14
                           A    56    .CLASS 8
                           A    57    .TYPE 12
                           A    58    .ENDEF
                           A    59    .DEFINE "scrwidth"
                           A    60    .VALUE 15
                           A    61    .CLASS 8
                           A    62    .TYPE 13
                           A    63    .ENDEF
                           A    64    .DEFINE "scrheight"
                           A    65    .VALUE 17
                           A    66    .CLASS 8
                           A    67    .TYPE 13
                           A    68    .ENDEF
                           A    69    .DEFINE "scrcols"
                           A    70    .VALUE 19
                           A    71    .CLASS 8
                           A    72    .TYPE 12
                           A    73    .ENDEF
                           A    74    .DEFINE "scrrows"
                           A    75    .VALUE 20
                           A    76    .CLASS 8
                           A    77    .TYPE 12
                           A    78    .ENDEF
                           A    79    .DEFINE "scrcolours"
                           A    80    .VALUE 21
                           A    81    .CLASS 8
                           A    82    .TYPE 12
                           A    83    .ENDEF
                           A    84    .DEFINE "scrpixelIndex"
                           A    85    .VALUE 22
                           A    86    .CLASS 8
                           A    87    .TYPE 12
                           A    88    .ENDEF
                           A    89    .DEFINE "keycode"
                           A    90    .VALUE 23
                           A    91    .CLASS 8
                           A    92    .TYPE 12
                           A    93    .ENDEF
                           A    94    .DEFINE "keydown"
                           A    95    .VALUE 24
                           A    96    .CLASS 8
                           A    97    .TYPE 12
                           A    98    .ENDEF
                           A    99    .DEFINE "keycount"
                           A   100    .VALUE 25
                           A   101    .CLASS 8
                           A   102    .TYPE 12
                           A   103    .ENDEF
                           A   104    .DEFINE "rtc"
                           A   105    .VALUE 26
                           A   106    .CLASS 8
                           A   107    .DIM 6
                           A   108    .TYPE 108
                           A   109    .ENDEF
                           A   110    .DEFINE "rtc_spare"
                           A   111    .VALUE 32
                           A   112    .CLASS 8
                           A   113    .DIM 2
                           A   114    .TYPE 108
                           A   115    .ENDEF
                           A   116    .DEFINE "keydelay"
                           A   117    .VALUE 34
                           A   118    .CLASS 8
                           A   119    .TYPE 13
                           A   120    .ENDEF
                           A   121    .DEFINE "keyrate"
                           A   122    .VALUE 36
                           A   123    .CLASS 8
                           A   124    .TYPE 13
                           A   125    .ENDEF
                           A   126    .DEFINE "keyled"
                           A   127    .VALUE 38
                           A   128    .CLASS 8
                           A   129    .TYPE 12
                           A   130    .ENDEF
                           A   131    .DEFINE "scrmode"
                           A   132    .VALUE 39
                           A   133    .CLASS 8
                           A   134    .TYPE 12
                           A   135    .ENDEF
                           A   136    .DEFINE "rtc_enable"
                           A   137    .VALUE 40
                           A   138    .CLASS 8
                           A   139    .TYPE 12
                           A   140    .ENDEF
                           A   141    .DEFINE "mouseX"
                           A   142    .VALUE 41
                           A   143    .CLASS 8
                           A   144    .TYPE 13
                           A   145    .ENDEF
                           A   146    .DEFINE "mouseY"
                           A   147    .VALUE 43
                           A   148    .CLASS 8
                           A   149    .TYPE 13
                           A   150    .ENDEF
                           A   151    .DEFINE "mouseButtons"
                           A   152    .VALUE 45
                           A   153    .CLASS 8
                           A   154    .TYPE 12
                           A   155    .ENDEF
                           A   156    .DEFINE "mouseWheel"
                           A   157    .VALUE 46
                           A   158    .CLASS 8
                           A   159    .TYPE 12
                           A   160    .ENDEF
                           A   161    .DEFINE "mouseXDelta"
                           A   162    .VALUE 47
                           A   163    .CLASS 8
                           A   164    .TYPE 13
                           A   165    .ENDEF
                           A   166    .DEFINE "mouseYDelta"
                           A   167    .VALUE 49
                           A   168    .CLASS 8
                           A   169    .TYPE 13
                           A   170    .ENDEF
                           A   171    .ENDREC "NONAME0"
                           A   172    .BEGREC "NONAME1",8
                           A   173    .DEFINE "baudRate"
                           A   174    .VALUE 0
                           A   175    .CLASS 8
                           A   176    .TYPE 4
                           A   177    .ENDEF
                           A   178    .DEFINE "dataBits"
                           A   179    .VALUE 3
                           A   180    .CLASS 8
                           A   181    .TYPE 12
                           A   182    .ENDEF
                           A   183    .DEFINE "stopBits"
                           A   184    .VALUE 4
                           A   185    .CLASS 8
                           A   186    .TYPE 12
                           A   187    .ENDEF
                           A   188    .DEFINE "parity"
                           A   189    .VALUE 5
                           A   190    .CLASS 8
                           A   191    .TYPE 12
                           A   192    .ENDEF
                           A   193    .DEFINE "flowcontrol"
                           A   194    .VALUE 6
                           A   195    .CLASS 8
                           A   196    .TYPE 12
                           A   197    .ENDEF
                           A   198    .DEFINE "eir"
                           A   199    .VALUE 7
                           A   200    .CLASS 8
                           A   201    .TYPE 12
                           A   202    .ENDEF
                           A   203    .ENDREC "NONAME1"
                           A   204    .BEGREC "NONAME2",15
                           A   205    .DEFINE "fs"
                           A   206    .VALUE 0
                           A   207    .CLASS 8
                           A   208    .TYPE 46
                           A   209    .ENDEF
                           A   210    .DEFINE "id"
                           A   211    .VALUE 3
                           A   212    .CLASS 8
                           A   213    .TYPE 13
                           A   214    .ENDEF
                           A   215    .DEFINE "attr"
                           A   216    .VALUE 5
                           A   217    .CLASS 8
                           A   218    .TYPE 12
                           A   219    .ENDEF
                           A   220    .DEFINE "stat"
                           A   221    .VALUE 6
                           A   222    .CLASS 8
                           A   223    .TYPE 12
                           A   224    .ENDEF
                           A   225    .DEFINE "sclust"
                           A   226    .VALUE 7
                           A   227    .CLASS 8
                           A   228    .TYPE 15
                           A   229    .ENDEF
                           A   230    .DEFINE "objsize"
                           A   231    .VALUE 11
                           A   232    .CLASS 8
                           A   233    .TYPE 15
                           A   234    .ENDEF
                           A   235    .ENDREC "NONAME2"
                           A   236    .BEGREC "NONAME3",36
                           A   237    .DEFINE "obj"
                           A   238    .VALUE 0
                           A   239    .CLASS 8
                           A   240    .TAG "NONAME2"
                           A   241    .TYPE 8
                           A   242    .ENDEF
                           A   243    .DEFINE "flag"
                           A   244    .VALUE 15
                           A   245    .CLASS 8
                           A   246    .TYPE 12
                           A   247    .ENDEF
                           A   248    .DEFINE "err"
                           A   249    .VALUE 16
                           A   250    .CLASS 8
                           A   251    .TYPE 12
                           A   252    .ENDEF
                           A   253    .DEFINE "fptr"
                           A   254    .VALUE 17
                           A   255    .CLASS 8
                           A   256    .TYPE 15
                           A   257    .ENDEF
                           A   258    .DEFINE "clust"
                           A   259    .VALUE 21
                           A   260    .CLASS 8
                           A   261    .TYPE 15
                           A   262    .ENDEF
                           A   263    .DEFINE "sect"
                           A   264    .VALUE 25
                           A   265    .CLASS 8
                           A   266    .TYPE 15
                           A   267    .ENDEF
                           A   268    .DEFINE "dir_sect"
                           A   269    .VALUE 29
                           A   270    .CLASS 8
                           A   271    .TYPE 15
                           A   272    .ENDEF
                           A   273    .DEFINE "dir_ptr"
                           A   274    .VALUE 33
                           A   275    .CLASS 8
                           A   276    .TYPE 46
                           A   277    .ENDEF
                           A   278    .ENDREC "NONAME3"
                           A   279    ;    1	#include <defines.h>
                           A   280    ;    2	#include "vdp.h"
                           A   281    ;    3	#include "mos-interface.h"
                           A   282    ;    4	
                           A   283    ;    5	// Generic functions
                           A   284    ;    6	
                           A   285    ;    7	void write16bit(UINT16 w)
                           A   286    ;    8	{
040109                     A   287    _write16bit:
                           A   288    .DEFINE "_write16bit"
                           A   289    
                           A   290    .VALUE _write16bit
                           A   291    
                           A   292    .CLASS 2
                           A   293    
                           A   294    .TYPE 65
                           A   295    
                           A   296    .ENDEF
                           A   297    
                           A   298    .BEGFUNC "write16bit",8,"_write16bit"
                           A   299    
                           A   300    .LINE 8
                           A   301    
                           A   302    .DEFINE "w"
                           A   303    
                           A   304    .CLASS 65
                           A   305    
                           A   306    .VALUE 6
                           A   307    
                           A   308    .TYPE 13
                           A   309    
                           A   310    .ENDEF
                           A   311    
040109 DDE5                A   312    	PUSH	IX
04010B DD210000 00         A   313    	LD	IX,0
040110 DD39                A   314    	ADD	IX,SP
                           A   315    ;    9		putch(w & 0xFF); // write LSB
                           A   316    .LINE 9
                           A   317    
040112 DD0706              A   318    	LD	BC,(IX+%6)
040115 CD 07 12 04         A   319    	CALL	__stoiu
040119 7D                  A   320    	LD	A,L
04011A B7ED62              A   321    	UEXT	HL
04011D 6F                  A   322    	LD	L,A
04011E E5                  A   323    	PUSH	HL
04011F CD 62 0C 04         A   324    	CALL	_putch
040123 C1                  A   325    	POP	BC
                           A   326    ;   10		putch(w >> 8);	 // write MSB	
                           A   327    .LINE 10
                           A   328    
040124 DD0706              A   329    	LD	BC,(IX+%6)
040127 CD 07 12 04         A   330    	CALL	__stoiu
04012B 3E08                A   331    	LD	A,%8
04012D CD 5C 10 04         A   332    	CALL	__ishrs_b
040131 E5                  A   333    	PUSH	HL
040132 CD 62 0C 04         A   334    	CALL	_putch
040136 C1                  A   335    	POP	BC
                           A   336    ;   11	}
                           A   337    .LINE 11
                           A   338    
040137 DDF9                A   339    	LD	SP,IX
040139 DDE1                A   340    	POP	IX
04013B C9                  A   341    	RET	
                           A   342    
                           A   343    
                           A   344    ;**************************** _write16bit *****
                           A   345    ;Name                         Addr/Register   S
                           A   346    ;_putch                              IMPORT  --
                           A   347    ;w                                     IX+6    
                           A   348    
                           A   349    
                           A   350    ; Stack Frame Size: 9 (bytes)
                           A   351    ;       Spill Code: 0 (instruction)
                           A   352    
                           A   353    
                           A   354    .ENDFUNC "write16bit",11,"_write16bit"
                           A   355    ;   12	
                           A   356    ;   13	void write32bit(UINT32 l)
                           A   357    ;   14	{
04013C                     A   358    _write32bit:
                           A   359    .DEFINE "_write32bit"
                           A   360    
                           A   361    .VALUE _write32bit
                           A   362    
                           A   363    .CLASS 2
                           A   364    
                           A   365    .TYPE 65
                           A   366    
                           A   367    .ENDEF
                           A   368    
                           A   369    .BEGFUNC "write32bit",14,"_write32bit"
                           A   370    
                           A   371    .LINE 14
                           A   372    
                           A   373    .DEFINE "l"
                           A   374    
                           A   375    .CLASS 65
                           A   376    
                           A   377    .VALUE 6
                           A   378    
                           A   379    .TYPE 15
                           A   380    
                           A   381    .ENDEF
                           A   382    
                           A   383    .DEFINE "temp"
                           A   384    
                           A   385    .CLASS 65
                           A   386    
                           A   387    .VALUE -4
                           A   388    
                           A   389    .TYPE 15
                           A   390    
                           A   391    .ENDEF
                           A   392    
04013C DDE5                A   393    	PUSH	IX
04013E DD210000 00         A   394    	LD	IX,0
040143 DD39                A   395    	ADD	IX,SP
040145 C5                  A   396    	PUSH	BC
040146 3B                  A   397    	DEC	SP
                           A   398    ;   15		UINT32 temp = l;
                           A   399    ;   16		
                           A   400    ;   17		putch(temp & 0xFF); // write LSB
                           A   401    .LINE 17
                           A   402    
040147 DD2706              A   403    	LD	HL,(IX+%6)
04014A 7D                  A   404    	LD	A,L
04014B B7ED62              A   405    	UEXT	HL
04014E 6F                  A   406    	LD	L,A
04014F E5                  A   407    	PUSH	HL
040150 CD 62 0C 04         A   408    	CALL	_putch
040154 C1                  A   409    	POP	BC
                           A   410    ;   18		temp = temp >> 8;
                           A   411    .LINE 18
                           A   412    
040155 DD0706              A   413    	LD	BC,(IX+%6)
040158 DD7E09              A   414    	LD	A,(IX+%9)
04015B 2E08                A   415    	LD	L,%8
04015D CD 05 13 04         A   416    	CALL	__lshru
040161 DD0FFC              A   417    	LD	(IX+%FFFFFFFC),BC
040164 DD77FF              A   418    	LD	(IX+%FFFFFFFF),A
                           A   419    ;   19		putch(temp & 0xFF);
                           A   420    .LINE 19
                           A   421    
040167 C5E1                A   422    	LD	HL,BC
040169 7D                  A   423    	LD	A,L
04016A B7ED62              A   424    	UEXT	HL
04016D 6F                  A   425    	LD	L,A
04016E E5                  A   426    	PUSH	HL
04016F CD 62 0C 04         A   427    	CALL	_putch
040173 C1                  A   428    	POP	BC
                           A   429    ;   20		temp = temp >> 8;
                           A   430    .LINE 20
                           A   431    
040174 DD07FC              A   432    	LD	BC,(IX+%FFFFFFFC)
040177 DD7EFF              A   433    	LD	A,(IX+%FFFFFFFF)
04017A 2E08                A   434    	LD	L,%8
04017C CD 05 13 04         A   435    	CALL	__lshru
040180 DD0FFC              A   436    	LD	(IX+%FFFFFFFC),BC
040183 DD77FF              A   437    	LD	(IX+%FFFFFFFF),A
                           A   438    ;   21		putch(temp & 0xFF);
                           A   439    .LINE 21
                           A   440    
040186 C5E1                A   441    	LD	HL,BC
040188 7D                  A   442    	LD	A,L
040189 B7ED62              A   443    	UEXT	HL
04018C 6F                  A   444    	LD	L,A
04018D E5                  A   445    	PUSH	HL
04018E CD 62 0C 04         A   446    	CALL	_putch
040192 C1                  A   447    	POP	BC
                           A   448    ;   22		temp = temp >> 8;
                           A   449    .LINE 22
                           A   450    
040193 DD07FC              A   451    	LD	BC,(IX+%FFFFFFFC)
040196 DD7EFF              A   452    	LD	A,(IX+%FFFFFFFF)
040199 2E08                A   453    	LD	L,%8
04019B CD 05 13 04         A   454    	CALL	__lshru
04019F DD0FFC              A   455    	LD	(IX+%FFFFFFFC),BC
0401A2 DD77FF              A   456    	LD	(IX+%FFFFFFFF),A
                           A   457    ;   23		putch(temp & 0xFF);
                           A   458    .LINE 23
                           A   459    
0401A5 C5E1                A   460    	LD	HL,BC
0401A7 7D                  A   461    	LD	A,L
0401A8 B7ED62              A   462    	UEXT	HL
0401AB 6F                  A   463    	LD	L,A
0401AC E5                  A   464    	PUSH	HL
0401AD CD 62 0C 04         A   465    	CALL	_putch
0401B1 C1                  A   466    	POP	BC
                           A   467    ;   24		return;	
                           A   468    ;   25	}
                           A   469    .LINE 25
                           A   470    
0401B2 DDF9                A   471    	LD	SP,IX
0401B4 DDE1                A   472    	POP	IX
0401B6 C9                  A   473    	RET	
                           A   474    
                           A   475    
                           A   476    ;**************************** _write32bit *****
                           A   477    ;Name                         Addr/Register   S
                           A   478    ;_putch                              IMPORT  --
                           A   479    ;temp                                  IX-4    
                           A   480    ;l                                     IX+6    
                           A   481    
                           A   482    
                           A   483    ; Stack Frame Size: 16 (bytes)
                           A   484    ;       Spill Code: 0 (instruction)
                           A   485    
                           A   486    
                           A   487    .ENDFUNC "write32bit",25,"_write32bit"
                           A   488    ;   26	
                           A   489    ;   27	void vdp_mode(unsigned char mode)
                           A   490    ;   28	{
0401B7                     A   491    _vdp_mode:
                           A   492    .DEFINE "_vdp_mode"
                           A   493    
                           A   494    .VALUE _vdp_mode
                           A   495    
                           A   496    .CLASS 2
                           A   497    
                           A   498    .TYPE 65
                           A   499    
                           A   500    .ENDEF
                           A   501    
                           A   502    .BEGFUNC "vdp_mode",28,"_vdp_mode"
                           A   503    
                           A   504    .LINE 28
                           A   505    
                           A   506    .DEFINE "mode"
                           A   507    
                           A   508    .CLASS 65
                           A   509    
                           A   510    .VALUE 6
                           A   511    
                           A   512    .TYPE 12
                           A   513    
                           A   514    .ENDEF
                           A   515    
0401B7 DDE5                A   516    	PUSH	IX
0401B9 DD210000 00         A   517    	LD	IX,0
0401BE DD39                A   518    	ADD	IX,SP
                           A   519    ;   29	    putch(22);
                           A   520    .LINE 29
                           A   521    
0401C0 01160000            A   522    	LD	BC,22
0401C4 C5                  A   523    	PUSH	BC
0401C5 CD 62 0C 04         A   524    	CALL	_putch
0401C9 C1                  A   525    	POP	BC
                           A   526    ;   30	    putch(mode);
                           A   527    .LINE 30
                           A   528    
0401CA DD7E06              A   529    	LD	A,(IX+%6)
0401CD B7ED62              A   530    	UEXT	HL
0401D0 6F                  A   531    	LD	L,A
0401D1 E5                  A   532    	PUSH	HL
0401D2 CD 62 0C 04         A   533    	CALL	_putch
0401D6 C1                  A   534    	POP	BC
                           A   535    ;   31	}
                           A   536    .LINE 31
                           A   537    
0401D7 DDF9                A   538    	LD	SP,IX
0401D9 DDE1                A   539    	POP	IX
0401DB C9                  A   540    	RET	
                           A   541    
                           A   542    
                           A   543    ;**************************** _vdp_mode *******
                           A   544    ;Name                         Addr/Register   S
                           A   545    ;_putch                              IMPORT  --
                           A   546    ;mode                                  IX+6    
                           A   547    
                           A   548    
                           A   549    ; Stack Frame Size: 9 (bytes)
                           A   550    ;       Spill Code: 0 (instruction)
                           A   551    
                           A   552    
                           A   553    .ENDFUNC "vdp_mode",31,"_vdp_mode"
                           A   554    ;   32	
                           A   555    ;   33	void vdp_getMode(void) {
0401DC                     A   556    _vdp_getMode:
                           A   557    .DEFINE "_vdp_getMode"
                           A   558    
                           A   559    .VALUE _vdp_getMode
                           A   560    
                           A   561    .CLASS 2
                           A   562    
                           A   563    .TYPE 65
                           A   564    
                           A   565    .ENDEF
                           A   566    
                           A   567    .BEGFUNC "vdp_getMode",33,"_vdp_getMode"
                           A   568    
0401DC DDE5                A   569    	PUSH	IX
0401DE DD210000 00         A   570    	LD	IX,0
0401E3 DD39                A   571    	ADD	IX,SP
                           A   572    ;   34		putch(23);
                           A   573    .LINE 34
                           A   574    
0401E5 01170000            A   575    	LD	BC,23
0401E9 C5                  A   576    	PUSH	BC
0401EA CD 62 0C 04         A   577    	CALL	_putch
0401EE C1                  A   578    	POP	BC
                           A   579    ;   35		putch(0);
                           A   580    .LINE 35
                           A   581    
0401EF 01000000            A   582    	LD	BC,0
0401F3 C5                  A   583    	PUSH	BC
0401F4 CD 62 0C 04         A   584    	CALL	_putch
0401F8 C1                  A   585    	POP	BC
                           A   586    ;   36		putch(0x86);
                           A   587    .LINE 36
                           A   588    
0401F9 01860000            A   589    	LD	BC,134
0401FD C5                  A   590    	PUSH	BC
0401FE CD 62 0C 04         A   591    	CALL	_putch
040202 C1                  A   592    	POP	BC
                           A   593    ;   37	}
                           A   594    .LINE 37
                           A   595    
040203 DDF9                A   596    	LD	SP,IX
040205 DDE1                A   597    	POP	IX
040207 C9                  A   598    	RET	
                           A   599    
                           A   600    
                           A   601    ;**************************** _vdp_getMode ****
                           A   602    ;Name                         Addr/Register   S
                           A   603    ;_putch                              IMPORT  --
                           A   604    
                           A   605    
                           A   606    ; Stack Frame Size: 6 (bytes)
                           A   607    ;       Spill Code: 0 (instruction)
                           A   608    
                           A   609    
                           A   610    .ENDFUNC "vdp_getMode",37,"_vdp_getMode"
                           A   611    ;   38	
                           A   612    ;   39	void vdp_setPaletteColor(UINT8 index, U
040208                     A   613    _vdp_setPaletteColor:
                           A   614    .DEFINE "_vdp_setPaletteColor"
                           A   615    
                           A   616    .VALUE _vdp_setPaletteColor
                           A   617    
                           A   618    .CLASS 2
                           A   619    
                           A   620    .TYPE 65
                           A   621    
                           A   622    .ENDEF
                           A   623    
                           A   624    .BEGFUNC "vdp_setPaletteColor",39,"_vdp_setPale
                           A   625    
                           A   626    .LINE 39
                           A   627    
                           A   628    .DEFINE "index"
                           A   629    
                           A   630    .CLASS 65
                           A   631    
                           A   632    .VALUE 6
                           A   633    
                           A   634    .TYPE 12
                           A   635    
                           A   636    .ENDEF
                           A   637    
                           A   638    .DEFINE "color"
                           A   639    
                           A   640    .CLASS 65
                           A   641    
                           A   642    .VALUE 9
                           A   643    
                           A   644    .TYPE 12
                           A   645    
                           A   646    .ENDEF
                           A   647    
                           A   648    .DEFINE "r"
                           A   649    
                           A   650    .CLASS 65
                           A   651    
                           A   652    .VALUE 12
                           A   653    
                           A   654    .TYPE 12
                           A   655    
                           A   656    .ENDEF
                           A   657    
                           A   658    .DEFINE "g"
                           A   659    
                           A   660    .CLASS 65
                           A   661    
                           A   662    .VALUE 15
                           A   663    
                           A   664    .TYPE 12
                           A   665    
                           A   666    .ENDEF
                           A   667    
                           A   668    .DEFINE "b"
                           A   669    
                           A   670    .CLASS 65
                           A   671    
                           A   672    .VALUE 18
                           A   673    
                           A   674    .TYPE 12
                           A   675    
                           A   676    .ENDEF
                           A   677    
040208 DDE5                A   678    	PUSH	IX
04020A DD210000 00         A   679    	LD	IX,0
04020F DD39                A   680    	ADD	IX,SP
                           A   681    ;   40		putch(0x13); // VDU palette
                           A   682    .LINE 40
                           A   683    
040211 01130000            A   684    	LD	BC,19
040215 C5                  A   685    	PUSH	BC
040216 CD 62 0C 04         A   686    	CALL	_putch
04021A C1                  A   687    	POP	BC
                           A   688    ;   41		putch(index);
                           A   689    .LINE 41
                           A   690    
04021B DD7E06              A   691    	LD	A,(IX+%6)
04021E B7ED62              A   692    	UEXT	HL
040221 6F                  A   693    	LD	L,A
040222 E5                  A   694    	PUSH	HL
040223 CD 62 0C 04         A   695    	CALL	_putch
040227 C1                  A   696    	POP	BC
                           A   697    ;   42		putch(color); // 255 - set R/G/B co
                           A   698    .LINE 42
                           A   699    
040228 DD7E09              A   700    	LD	A,(IX+%9)
04022B B7ED62              A   701    	UEXT	HL
04022E 6F                  A   702    	LD	L,A
04022F E5                  A   703    	PUSH	HL
040230 CD 62 0C 04         A   704    	CALL	_putch
040234 C1                  A   705    	POP	BC
                           A   706    ;   43		putch(r);
                           A   707    .LINE 43
                           A   708    
040235 DD7E0C              A   709    	LD	A,(IX+%C)
040238 B7ED62              A   710    	UEXT	HL
04023B 6F                  A   711    	LD	L,A
04023C E5                  A   712    	PUSH	HL
04023D CD 62 0C 04         A   713    	CALL	_putch
040241 C1                  A   714    	POP	BC
                           A   715    ;   44		putch(g);
                           A   716    .LINE 44
                           A   717    
040242 DD7E0F              A   718    	LD	A,(IX+%F)
040245 B7ED62              A   719    	UEXT	HL
040248 6F                  A   720    	LD	L,A
040249 E5                  A   721    	PUSH	HL
04024A CD 62 0C 04         A   722    	CALL	_putch
04024E C1                  A   723    	POP	BC
                           A   724    ;   45		putch(b);
                           A   725    .LINE 45
                           A   726    
04024F DD7E12              A   727    	LD	A,(IX+%12)
040252 B7ED62              A   728    	UEXT	HL
040255 6F                  A   729    	LD	L,A
040256 E5                  A   730    	PUSH	HL
040257 CD 62 0C 04         A   731    	CALL	_putch
04025B C1                  A   732    	POP	BC
                           A   733    ;   46	}
                           A   734    .LINE 46
                           A   735    
04025C DDF9                A   736    	LD	SP,IX
04025E DDE1                A   737    	POP	IX
040260 C9                  A   738    	RET	
                           A   739    
                           A   740    
                           A   741    ;**************************** _vdp_setPaletteCo
                           A   742    ;Name                         Addr/Register   S
                           A   743    ;_putch                              IMPORT  --
                           A   744    ;b                                    IX+18    
                           A   745    ;g                                    IX+15    
                           A   746    ;r                                    IX+12    
                           A   747    ;color                                 IX+9    
                           A   748    ;index                                 IX+6    
                           A   749    
                           A   750    
                           A   751    ; Stack Frame Size: 21 (bytes)
                           A   752    ;       Spill Code: 0 (instruction)
                           A   753    
                           A   754    
                           A   755    .ENDFUNC "vdp_setPaletteColor",46,"_vdp_setPale
                           A   756    ;   47	
                           A   757    ;   48	// Text functions
                           A   758    ;   49	void vdp_cls()
                           A   759    ;   50	{
040261                     A   760    _vdp_cls:
                           A   761    .DEFINE "_vdp_cls"
                           A   762    
                           A   763    .VALUE _vdp_cls
                           A   764    
                           A   765    .CLASS 2
                           A   766    
                           A   767    .TYPE 65
                           A   768    
                           A   769    .ENDEF
                           A   770    
                           A   771    .BEGFUNC "vdp_cls",50,"_vdp_cls"
                           A   772    
040261 DDE5                A   773    	PUSH	IX
040263 DD210000 00         A   774    	LD	IX,0
040268 DD39                A   775    	ADD	IX,SP
                           A   776    ;   51	    putch(12);
                           A   777    .LINE 51
                           A   778    
04026A 010C0000            A   779    	LD	BC,12
04026E C5                  A   780    	PUSH	BC
04026F CD 62 0C 04         A   781    	CALL	_putch
040273 C1                  A   782    	POP	BC
                           A   783    ;   52	}
                           A   784    .LINE 52
                           A   785    
040274 DDF9                A   786    	LD	SP,IX
040276 DDE1                A   787    	POP	IX
040278 C9                  A   788    	RET	
                           A   789    
                           A   790    
                           A   791    ;**************************** _vdp_cls ********
                           A   792    ;Name                         Addr/Register   S
                           A   793    ;_putch                              IMPORT  --
                           A   794    
                           A   795    
                           A   796    ; Stack Frame Size: 6 (bytes)
                           A   797    ;       Spill Code: 0 (instruction)
                           A   798    
                           A   799    
                           A   800    .ENDFUNC "vdp_cls",52,"_vdp_cls"
                           A   801    ;   53	
                           A   802    ;   54	void vdp_cursorHome()
                           A   803    ;   55	{
040279                     A   804    _vdp_cursorHome:
                           A   805    .DEFINE "_vdp_cursorHome"
                           A   806    
                           A   807    .VALUE _vdp_cursorHome
                           A   808    
                           A   809    .CLASS 2
                           A   810    
                           A   811    .TYPE 65
                           A   812    
                           A   813    .ENDEF
                           A   814    
                           A   815    .BEGFUNC "vdp_cursorHome",55,"_vdp_cursorHome"
                           A   816    
040279 DDE5                A   817    	PUSH	IX
04027B DD210000 00         A   818    	LD	IX,0
040280 DD39                A   819    	ADD	IX,SP
                           A   820    ;   56	    putch(30);
                           A   821    .LINE 56
                           A   822    
040282 011E0000            A   823    	LD	BC,30
040286 C5                  A   824    	PUSH	BC
040287 CD 62 0C 04         A   825    	CALL	_putch
04028B C1                  A   826    	POP	BC
                           A   827    ;   57	}
                           A   828    .LINE 57
                           A   829    
04028C DDF9                A   830    	LD	SP,IX
04028E DDE1                A   831    	POP	IX
040290 C9                  A   832    	RET	
                           A   833    
                           A   834    
                           A   835    ;**************************** _vdp_cursorHome *
                           A   836    ;Name                         Addr/Register   S
                           A   837    ;_putch                              IMPORT  --
                           A   838    
                           A   839    
                           A   840    ; Stack Frame Size: 6 (bytes)
                           A   841    ;       Spill Code: 0 (instruction)
                           A   842    
                           A   843    
                           A   844    .ENDFUNC "vdp_cursorHome",57,"_vdp_cursorHome"
                           A   845    ;   58	
                           A   846    ;   59	void vdp_cursorUp()
                           A   847    ;   60	{
040291                     A   848    _vdp_cursorUp:
                           A   849    .DEFINE "_vdp_cursorUp"
                           A   850    
                           A   851    .VALUE _vdp_cursorUp
                           A   852    
                           A   853    .CLASS 2
                           A   854    
                           A   855    .TYPE 65
                           A   856    
                           A   857    .ENDEF
                           A   858    
                           A   859    .BEGFUNC "vdp_cursorUp",60,"_vdp_cursorUp"
                           A   860    
040291 DDE5                A   861    	PUSH	IX
040293 DD210000 00         A   862    	LD	IX,0
040298 DD39                A   863    	ADD	IX,SP
                           A   864    ;   61	    putch(11);
                           A   865    .LINE 61
                           A   866    
04029A 010B0000            A   867    	LD	BC,11
04029E C5                  A   868    	PUSH	BC
04029F CD 62 0C 04         A   869    	CALL	_putch
0402A3 C1                  A   870    	POP	BC
                           A   871    ;   62	}
                           A   872    .LINE 62
                           A   873    
0402A4 DDF9                A   874    	LD	SP,IX
0402A6 DDE1                A   875    	POP	IX
0402A8 C9                  A   876    	RET	
                           A   877    
                           A   878    
                           A   879    ;**************************** _vdp_cursorUp ***
                           A   880    ;Name                         Addr/Register   S
                           A   881    ;_putch                              IMPORT  --
                           A   882    
                           A   883    
                           A   884    ; Stack Frame Size: 6 (bytes)
                           A   885    ;       Spill Code: 0 (instruction)
                           A   886    
                           A   887    
                           A   888    .ENDFUNC "vdp_cursorUp",62,"_vdp_cursorUp"
                           A   889    ;   63	
                           A   890    ;   64	void vdp_cursorGoto(unsigned char x, un
                           A   891    ;   65	{
0402A9                     A   892    _vdp_cursorGoto:
                           A   893    .DEFINE "_vdp_cursorGoto"
                           A   894    
                           A   895    .VALUE _vdp_cursorGoto
                           A   896    
                           A   897    .CLASS 2
                           A   898    
                           A   899    .TYPE 65
                           A   900    
                           A   901    .ENDEF
                           A   902    
                           A   903    .BEGFUNC "vdp_cursorGoto",65,"_vdp_cursorGoto"
                           A   904    
                           A   905    .LINE 65
                           A   906    
                           A   907    .DEFINE "x"
                           A   908    
                           A   909    .CLASS 65
                           A   910    
                           A   911    .VALUE 6
                           A   912    
                           A   913    .TYPE 12
                           A   914    
                           A   915    .ENDEF
                           A   916    
                           A   917    .DEFINE "y"
                           A   918    
                           A   919    .CLASS 65
                           A   920    
                           A   921    .VALUE 9
                           A   922    
                           A   923    .TYPE 12
                           A   924    
                           A   925    .ENDEF
                           A   926    
0402A9 DDE5                A   927    	PUSH	IX
0402AB DD210000 00         A   928    	LD	IX,0
0402B0 DD39                A   929    	ADD	IX,SP
                           A   930    ;   66	    putch(31); // TAB
                           A   931    .LINE 66
                           A   932    
0402B2 011F0000            A   933    	LD	BC,31
0402B6 C5                  A   934    	PUSH	BC
0402B7 CD 62 0C 04         A   935    	CALL	_putch
0402BB C1                  A   936    	POP	BC
                           A   937    ;   67	    putch(x);
                           A   938    .LINE 67
                           A   939    
0402BC DD7E06              A   940    	LD	A,(IX+%6)
0402BF B7ED62              A   941    	UEXT	HL
0402C2 6F                  A   942    	LD	L,A
0402C3 E5                  A   943    	PUSH	HL
0402C4 CD 62 0C 04         A   944    	CALL	_putch
0402C8 C1                  A   945    	POP	BC
                           A   946    ;   68	    putch(y);
                           A   947    .LINE 68
                           A   948    
0402C9 DD7E09              A   949    	LD	A,(IX+%9)
0402CC B7ED62              A   950    	UEXT	HL
0402CF 6F                  A   951    	LD	L,A
0402D0 E5                  A   952    	PUSH	HL
0402D1 CD 62 0C 04         A   953    	CALL	_putch
0402D5 C1                  A   954    	POP	BC
                           A   955    ;   69	}
                           A   956    .LINE 69
                           A   957    
0402D6 DDF9                A   958    	LD	SP,IX
0402D8 DDE1                A   959    	POP	IX
0402DA C9                  A   960    	RET	
                           A   961    
                           A   962    
                           A   963    ;**************************** _vdp_cursorGoto *
                           A   964    ;Name                         Addr/Register   S
                           A   965    ;_putch                              IMPORT  --
                           A   966    ;y                                     IX+9    
                           A   967    ;x                                     IX+6    
                           A   968    
                           A   969    
                           A   970    ; Stack Frame Size: 12 (bytes)
                           A   971    ;       Spill Code: 0 (instruction)
                           A   972    
                           A   973    
                           A   974    .ENDFUNC "vdp_cursorGoto",69,"_vdp_cursorGoto"
                           A   975    ;   70	
                           A   976    ;   71	void vdp_fgcolour(unsigned char colorin
0402DB                     A   977    _vdp_fgcolour:
                           A   978    .DEFINE "_vdp_fgcolour"
                           A   979    
                           A   980    .VALUE _vdp_fgcolour
                           A   981    
                           A   982    .CLASS 2
                           A   983    
                           A   984    .TYPE 65
                           A   985    
                           A   986    .ENDEF
                           A   987    
                           A   988    .BEGFUNC "vdp_fgcolour",71,"_vdp_fgcolour"
                           A   989    
                           A   990    .LINE 71
                           A   991    
                           A   992    .DEFINE "colorindex"
                           A   993    
                           A   994    .CLASS 65
                           A   995    
                           A   996    .VALUE 6
                           A   997    
                           A   998    .TYPE 12
                           A   999    
                           A  1000    .ENDEF
                           A  1001    
0402DB DDE5                A  1002    	PUSH	IX
0402DD DD210000 00         A  1003    	LD	IX,0
0402E2 DD39                A  1004    	ADD	IX,SP
                           A  1005    ;   72		putch(17); // COLOUR
                           A  1006    .LINE 72
                           A  1007    
0402E4 01110000            A  1008    	LD	BC,17
0402E8 C5                  A  1009    	PUSH	BC
0402E9 CD 62 0C 04         A  1010    	CALL	_putch
0402ED C1                  A  1011    	POP	BC
                           A  1012    ;   73		putch(colorindex);	
                           A  1013    .LINE 73
                           A  1014    
0402EE DD7E06              A  1015    	LD	A,(IX+%6)
0402F1 B7ED62              A  1016    	UEXT	HL
0402F4 6F                  A  1017    	LD	L,A
0402F5 E5                  A  1018    	PUSH	HL
0402F6 CD 62 0C 04         A  1019    	CALL	_putch
0402FA C1                  A  1020    	POP	BC
                           A  1021    ;   74	}
                           A  1022    .LINE 74
                           A  1023    
0402FB DDF9                A  1024    	LD	SP,IX
0402FD DDE1                A  1025    	POP	IX
0402FF C9                  A  1026    	RET	
                           A  1027    
                           A  1028    
                           A  1029    ;**************************** _vdp_fgcolour ***
                           A  1030    ;Name                         Addr/Register   S
                           A  1031    ;_putch                              IMPORT  --
                           A  1032    ;colorindex                            IX+6    
                           A  1033    
                           A  1034    
                           A  1035    ; Stack Frame Size: 9 (bytes)
                           A  1036    ;       Spill Code: 0 (instruction)
                           A  1037    
                           A  1038    
                           A  1039    .ENDFUNC "vdp_fgcolour",74,"_vdp_fgcolour"
                           A  1040    ;   75	
                           A  1041    ;   76	void vdp_bgcolour(unsigned char colorin
040300                     A  1042    _vdp_bgcolour:
                           A  1043    .DEFINE "_vdp_bgcolour"
                           A  1044    
                           A  1045    .VALUE _vdp_bgcolour
                           A  1046    
                           A  1047    .CLASS 2
                           A  1048    
                           A  1049    .TYPE 65
                           A  1050    
                           A  1051    .ENDEF
                           A  1052    
                           A  1053    .BEGFUNC "vdp_bgcolour",76,"_vdp_bgcolour"
                           A  1054    
                           A  1055    .LINE 76
                           A  1056    
                           A  1057    .DEFINE "colorindex"
                           A  1058    
                           A  1059    .CLASS 65
                           A  1060    
                           A  1061    .VALUE 6
                           A  1062    
                           A  1063    .TYPE 12
                           A  1064    
                           A  1065    .ENDEF
                           A  1066    
040300 DDE5                A  1067    	PUSH	IX
040302 DD210000 00         A  1068    	LD	IX,0
040307 DD39                A  1069    	ADD	IX,SP
                           A  1070    ;   77		putch(17); // COLOUR
                           A  1071    .LINE 77
                           A  1072    
040309 01110000            A  1073    	LD	BC,17
04030D C5                  A  1074    	PUSH	BC
04030E CD 62 0C 04         A  1075    	CALL	_putch
040312 C1                  A  1076    	POP	BC
                           A  1077    ;   78		putch(colorindex | 0x80);	
                           A  1078    .LINE 78
                           A  1079    
040313 DD7E06              A  1080    	LD	A,(IX+%6)
040316 B7ED62              A  1081    	UEXT	HL
040319 6F                  A  1082    	LD	L,A
04031A 01800000            A  1083    	LD	BC,128
04031E CD EC 11 04         A  1084    	CALL	__ior
040322 E5                  A  1085    	PUSH	HL
040323 CD 62 0C 04         A  1086    	CALL	_putch
040327 C1                  A  1087    	POP	BC
                           A  1088    ;   79	}
                           A  1089    .LINE 79
                           A  1090    
040328 DDF9                A  1091    	LD	SP,IX
04032A DDE1                A  1092    	POP	IX
04032C C9                  A  1093    	RET	
                           A  1094    
                           A  1095    
                           A  1096    ;**************************** _vdp_bgcolour ***
                           A  1097    ;Name                         Addr/Register   S
                           A  1098    ;_putch                              IMPORT  --
                           A  1099    ;colorindex                            IX+6    
                           A  1100    
                           A  1101    
                           A  1102    ; Stack Frame Size: 9 (bytes)
                           A  1103    ;       Spill Code: 0 (instruction)
                           A  1104    
                           A  1105    
                           A  1106    .ENDFUNC "vdp_bgcolour",79,"_vdp_bgcolour"
                           A  1107    ;   80	
                           A  1108    ;   81	//
                           A  1109    ;   82	// Graphics functions
                           A  1110    ;   83	//
                           A  1111    ;   84	
                           A  1112    ;   85	void vdp_clearGraphics()
                           A  1113    ;   86	{
04032D                     A  1114    _vdp_clearGraphics:
                           A  1115    .DEFINE "_vdp_clearGraphics"
                           A  1116    
                           A  1117    .VALUE _vdp_clearGraphics
                           A  1118    
                           A  1119    .CLASS 2
                           A  1120    
                           A  1121    .TYPE 65
                           A  1122    
                           A  1123    .ENDEF
                           A  1124    
                           A  1125    .BEGFUNC "vdp_clearGraphics",86,"_vdp_clearGrap
                           A  1126    
04032D DDE5                A  1127    	PUSH	IX
04032F DD210000 00         A  1128    	LD	IX,0
040334 DD39                A  1129    	ADD	IX,SP
                           A  1130    ;   87	    putch(16);    
                           A  1131    .LINE 87
                           A  1132    
040336 01100000            A  1133    	LD	BC,16
04033A C5                  A  1134    	PUSH	BC
04033B CD 62 0C 04         A  1135    	CALL	_putch
04033F C1                  A  1136    	POP	BC
                           A  1137    ;   88	}
                           A  1138    .LINE 88
                           A  1139    
040340 DDF9                A  1140    	LD	SP,IX
040342 DDE1                A  1141    	POP	IX
040344 C9                  A  1142    	RET	
                           A  1143    
                           A  1144    
                           A  1145    ;**************************** _vdp_clearGraphic
                           A  1146    ;Name                         Addr/Register   S
                           A  1147    ;_putch                              IMPORT  --
                           A  1148    
                           A  1149    
                           A  1150    ; Stack Frame Size: 6 (bytes)
                           A  1151    ;       Spill Code: 0 (instruction)
                           A  1152    
                           A  1153    
                           A  1154    .ENDFUNC "vdp_clearGraphics",88,"_vdp_clearGrap
                           A  1155    ;   89	
                           A  1156    ;   90	void vdp_plotColour(unsigned char color
                           A  1157    ;   91	{
040345                     A  1158    _vdp_plotColour:
                           A  1159    .DEFINE "_vdp_plotColour"
                           A  1160    
                           A  1161    .VALUE _vdp_plotColour
                           A  1162    
                           A  1163    .CLASS 2
                           A  1164    
                           A  1165    .TYPE 65
                           A  1166    
                           A  1167    .ENDEF
                           A  1168    
                           A  1169    .BEGFUNC "vdp_plotColour",91,"_vdp_plotColour"
                           A  1170    
                           A  1171    .LINE 91
                           A  1172    
                           A  1173    .DEFINE "colorindex"
                           A  1174    
                           A  1175    .CLASS 65
                           A  1176    
                           A  1177    .VALUE 6
                           A  1178    
                           A  1179    .TYPE 12
                           A  1180    
                           A  1181    .ENDEF
                           A  1182    
040345 DDE5                A  1183    	PUSH	IX
040347 DD210000 00         A  1184    	LD	IX,0
04034C DD39                A  1185    	ADD	IX,SP
                           A  1186    ;   92	    putch(18); // GCOL
                           A  1187    .LINE 92
                           A  1188    
04034E 01120000            A  1189    	LD	BC,18
040352 C5                  A  1190    	PUSH	BC
040353 CD 62 0C 04         A  1191    	CALL	_putch
040357 C1                  A  1192    	POP	BC
                           A  1193    ;   93	    putch(1);
                           A  1194    .LINE 93
                           A  1195    
040358 01010000            A  1196    	LD	BC,1
04035C C5                  A  1197    	PUSH	BC
04035D CD 62 0C 04         A  1198    	CALL	_putch
040361 C1                  A  1199    	POP	BC
                           A  1200    ;   94		putch(colorindex);
                           A  1201    .LINE 94
                           A  1202    
040362 DD7E06              A  1203    	LD	A,(IX+%6)
040365 B7ED62              A  1204    	UEXT	HL
040368 6F                  A  1205    	LD	L,A
040369 E5                  A  1206    	PUSH	HL
04036A CD 62 0C 04         A  1207    	CALL	_putch
04036E C1                  A  1208    	POP	BC
                           A  1209    ;   95	}
                           A  1210    .LINE 95
                           A  1211    
04036F DDF9                A  1212    	LD	SP,IX
040371 DDE1                A  1213    	POP	IX
040373 C9                  A  1214    	RET	
                           A  1215    
                           A  1216    
                           A  1217    ;**************************** _vdp_plotColour *
                           A  1218    ;Name                         Addr/Register   S
                           A  1219    ;_putch                              IMPORT  --
                           A  1220    ;colorindex                            IX+6    
                           A  1221    
                           A  1222    
                           A  1223    ; Stack Frame Size: 9 (bytes)
                           A  1224    ;       Spill Code: 0 (instruction)
                           A  1225    
                           A  1226    
                           A  1227    .ENDFUNC "vdp_plotColour",95,"_vdp_plotColour"
                           A  1228    ;   96	
                           A  1229    ;   97	// internal function
                           A  1230    ;   98	void vdp_plot(unsigned char mode, unsig
                           A  1231    ;   99	{
040374                     A  1232    _vdp_plot:
                           A  1233    .DEFINE "_vdp_plot"
                           A  1234    
                           A  1235    .VALUE _vdp_plot
                           A  1236    
                           A  1237    .CLASS 2
                           A  1238    
                           A  1239    .TYPE 65
                           A  1240    
                           A  1241    .ENDEF
                           A  1242    
                           A  1243    .BEGFUNC "vdp_plot",99,"_vdp_plot"
                           A  1244    
                           A  1245    .LINE 99
                           A  1246    
                           A  1247    .DEFINE "mode"
                           A  1248    
                           A  1249    .CLASS 65
                           A  1250    
                           A  1251    .VALUE 6
                           A  1252    
                           A  1253    .TYPE 12
                           A  1254    
                           A  1255    .ENDEF
                           A  1256    
                           A  1257    .DEFINE "x"
                           A  1258    
                           A  1259    .CLASS 65
                           A  1260    
                           A  1261    .VALUE 9
                           A  1262    
                           A  1263    .TYPE 14
                           A  1264    
                           A  1265    .ENDEF
                           A  1266    
                           A  1267    .DEFINE "y"
                           A  1268    
                           A  1269    .CLASS 65
                           A  1270    
                           A  1271    .VALUE 12
                           A  1272    
                           A  1273    .TYPE 14
                           A  1274    
                           A  1275    .ENDEF
                           A  1276    
040374 DDE5                A  1277    	PUSH	IX
040376 DD210000 00         A  1278    	LD	IX,0
04037B DD39                A  1279    	ADD	IX,SP
                           A  1280    ;  100	    putch(25); // PLOT
                           A  1281    .LINE 100
                           A  1282    
04037D 01190000            A  1283    	LD	BC,25
040381 C5                  A  1284    	PUSH	BC
040382 CD 62 0C 04         A  1285    	CALL	_putch
040386 C1                  A  1286    	POP	BC
                           A  1287    ;  101	    putch(mode);
                           A  1288    .LINE 101
                           A  1289    
040387 DD7E06              A  1290    	LD	A,(IX+%6)
04038A B7ED62              A  1291    	UEXT	HL
04038D 6F                  A  1292    	LD	L,A
04038E E5                  A  1293    	PUSH	HL
04038F CD 62 0C 04         A  1294    	CALL	_putch
040393 C1                  A  1295    	POP	BC
                           A  1296    ;  102	    putch(x & 0xFF);
                           A  1297    .LINE 102
                           A  1298    
040394 DD7E09              A  1299    	LD	A,(IX+%9)
040397 B7ED62              A  1300    	UEXT	HL
04039A 6F                  A  1301    	LD	L,A
04039B E5                  A  1302    	PUSH	HL
04039C CD 62 0C 04         A  1303    	CALL	_putch
0403A0 C1                  A  1304    	POP	BC
                           A  1305    ;  103	    putch(x >> 8);
                           A  1306    .LINE 103
                           A  1307    
0403A1 DD2709              A  1308    	LD	HL,(IX+%9)
0403A4 3E08                A  1309    	LD	A,%8
0403A6 CD 7B 13 04         A  1310    	CALL	__ishru_b
0403AA E5                  A  1311    	PUSH	HL
0403AB CD 62 0C 04         A  1312    	CALL	_putch
0403AF C1                  A  1313    	POP	BC
                           A  1314    ;  104	    putch(y & 0xFF);
                           A  1315    .LINE 104
                           A  1316    
0403B0 DD7E0C              A  1317    	LD	A,(IX+%C)
0403B3 B7ED62              A  1318    	UEXT	HL
0403B6 6F                  A  1319    	LD	L,A
0403B7 E5                  A  1320    	PUSH	HL
0403B8 CD 62 0C 04         A  1321    	CALL	_putch
0403BC C1                  A  1322    	POP	BC
                           A  1323    ;  105	    putch(y >> 8);
                           A  1324    .LINE 105
                           A  1325    
0403BD DD270C              A  1326    	LD	HL,(IX+%C)
0403C0 3E08                A  1327    	LD	A,%8
0403C2 CD 7B 13 04         A  1328    	CALL	__ishru_b
0403C6 E5                  A  1329    	PUSH	HL
0403C7 CD 62 0C 04         A  1330    	CALL	_putch
0403CB C1                  A  1331    	POP	BC
                           A  1332    ;  106	}
                           A  1333    .LINE 106
                           A  1334    
0403CC DDF9                A  1335    	LD	SP,IX
0403CE DDE1                A  1336    	POP	IX
0403D0 C9                  A  1337    	RET	
                           A  1338    
                           A  1339    
                           A  1340    ;**************************** _vdp_plot *******
                           A  1341    ;Name                         Addr/Register   S
                           A  1342    ;_putch                              IMPORT  --
                           A  1343    ;y                                    IX+12    
                           A  1344    ;x                                     IX+9    
                           A  1345    ;mode                                  IX+6    
                           A  1346    
                           A  1347    
                           A  1348    ; Stack Frame Size: 15 (bytes)
                           A  1349    ;       Spill Code: 0 (instruction)
                           A  1350    
                           A  1351    
                           A  1352    .ENDFUNC "vdp_plot",106,"_vdp_plot"
                           A  1353    ;  107	
                           A  1354    ;  108	void vdp_plotMoveTo(unsigned int x, uns
                           A  1355    ;  109	{
0403D1                     A  1356    _vdp_plotMoveTo:
                           A  1357    .DEFINE "_vdp_plotMoveTo"
                           A  1358    
                           A  1359    .VALUE _vdp_plotMoveTo
                           A  1360    
                           A  1361    .CLASS 2
                           A  1362    
                           A  1363    .TYPE 65
                           A  1364    
                           A  1365    .ENDEF
                           A  1366    
                           A  1367    .BEGFUNC "vdp_plotMoveTo",109,"_vdp_plotMoveTo"
                           A  1368    
                           A  1369    .LINE 109
                           A  1370    
                           A  1371    .DEFINE "x"
                           A  1372    
                           A  1373    .CLASS 65
                           A  1374    
                           A  1375    .VALUE 6
                           A  1376    
                           A  1377    .TYPE 14
                           A  1378    
                           A  1379    .ENDEF
                           A  1380    
                           A  1381    .DEFINE "y"
                           A  1382    
                           A  1383    .CLASS 65
                           A  1384    
                           A  1385    .VALUE 9
                           A  1386    
                           A  1387    .TYPE 14
                           A  1388    
                           A  1389    .ENDEF
                           A  1390    
0403D1 DDE5                A  1391    	PUSH	IX
0403D3 DD210000 00         A  1392    	LD	IX,0
0403D8 DD39                A  1393    	ADD	IX,SP
                           A  1394    ;  110		vdp_plot(0x04,x,y);
                           A  1395    .LINE 110
                           A  1396    
0403DA DD0709              A  1397    	LD	BC,(IX+%9)
0403DD C5                  A  1398    	PUSH	BC
0403DE DD0706              A  1399    	LD	BC,(IX+%6)
0403E1 C5                  A  1400    	PUSH	BC
0403E2 01040000            A  1401    	LD	BC,4
0403E6 C5                  A  1402    	PUSH	BC
0403E7 CD 74 03 04         A  1403    	CALL	_vdp_plot
0403EB C1                  A  1404    	POP	BC
0403EC C1                  A  1405    	POP	BC
0403ED C1                  A  1406    	POP	BC
                           A  1407    ;  111	}
                           A  1408    .LINE 111
                           A  1409    
0403EE DDF9                A  1410    	LD	SP,IX
0403F0 DDE1                A  1411    	POP	IX
0403F2 C9                  A  1412    	RET	
                           A  1413    
                           A  1414    
                           A  1415    ;**************************** _vdp_plotMoveTo *
                           A  1416    ;Name                         Addr/Register   S
                           A  1417    ;y                                     IX+9    
                           A  1418    ;x                                     IX+6    
                           A  1419    
                           A  1420    
                           A  1421    ; Stack Frame Size: 12 (bytes)
                           A  1422    ;       Spill Code: 0 (instruction)
                           A  1423    
                           A  1424    
                           A  1425    .ENDFUNC "vdp_plotMoveTo",111,"_vdp_plotMoveTo"
                           A  1426    ;  112	
                           A  1427    ;  113	void vdp_plotLineTo(unsigned int x, uns
                           A  1428    ;  114	{
0403F3                     A  1429    _vdp_plotLineTo:
                           A  1430    .DEFINE "_vdp_plotLineTo"
                           A  1431    
                           A  1432    .VALUE _vdp_plotLineTo
                           A  1433    
                           A  1434    .CLASS 2
                           A  1435    
                           A  1436    .TYPE 65
                           A  1437    
                           A  1438    .ENDEF
                           A  1439    
                           A  1440    .BEGFUNC "vdp_plotLineTo",114,"_vdp_plotLineTo"
                           A  1441    
                           A  1442    .LINE 114
                           A  1443    
                           A  1444    .DEFINE "x"
                           A  1445    
                           A  1446    .CLASS 65
                           A  1447    
                           A  1448    .VALUE 6
                           A  1449    
                           A  1450    .TYPE 14
                           A  1451    
                           A  1452    .ENDEF
                           A  1453    
                           A  1454    .DEFINE "y"
                           A  1455    
                           A  1456    .CLASS 65
                           A  1457    
                           A  1458    .VALUE 9
                           A  1459    
                           A  1460    .TYPE 14
                           A  1461    
                           A  1462    .ENDEF
                           A  1463    
0403F3 DDE5                A  1464    	PUSH	IX
0403F5 DD210000 00         A  1465    	LD	IX,0
0403FA DD39                A  1466    	ADD	IX,SP
                           A  1467    ;  115		vdp_plot(0x05,x,y);
                           A  1468    .LINE 115
                           A  1469    
0403FC DD0709              A  1470    	LD	BC,(IX+%9)
0403FF C5                  A  1471    	PUSH	BC
040400 DD0706              A  1472    	LD	BC,(IX+%6)
040403 C5                  A  1473    	PUSH	BC
040404 01050000            A  1474    	LD	BC,5
040408 C5                  A  1475    	PUSH	BC
040409 CD 74 03 04         A  1476    	CALL	_vdp_plot
04040D C1                  A  1477    	POP	BC
04040E C1                  A  1478    	POP	BC
04040F C1                  A  1479    	POP	BC
                           A  1480    ;  116	}
                           A  1481    .LINE 116
                           A  1482    
040410 DDF9                A  1483    	LD	SP,IX
040412 DDE1                A  1484    	POP	IX
040414 C9                  A  1485    	RET	
                           A  1486    
                           A  1487    
                           A  1488    ;**************************** _vdp_plotLineTo *
                           A  1489    ;Name                         Addr/Register   S
                           A  1490    ;y                                     IX+9    
                           A  1491    ;x                                     IX+6    
                           A  1492    
                           A  1493    
                           A  1494    ; Stack Frame Size: 12 (bytes)
                           A  1495    ;       Spill Code: 0 (instruction)
                           A  1496    
                           A  1497    
                           A  1498    .ENDFUNC "vdp_plotLineTo",116,"_vdp_plotLineTo"
                           A  1499    ;  117	
                           A  1500    ;  118	void vdp_plotPoint(unsigned int x, unsi
                           A  1501    ;  119	{
040415                     A  1502    _vdp_plotPoint:
                           A  1503    .DEFINE "_vdp_plotPoint"
                           A  1504    
                           A  1505    .VALUE _vdp_plotPoint
                           A  1506    
                           A  1507    .CLASS 2
                           A  1508    
                           A  1509    .TYPE 65
                           A  1510    
                           A  1511    .ENDEF
                           A  1512    
                           A  1513    .BEGFUNC "vdp_plotPoint",119,"_vdp_plotPoint"
                           A  1514    
                           A  1515    .LINE 119
                           A  1516    
                           A  1517    .DEFINE "x"
                           A  1518    
                           A  1519    .CLASS 65
                           A  1520    
                           A  1521    .VALUE 6
                           A  1522    
                           A  1523    .TYPE 14
                           A  1524    
                           A  1525    .ENDEF
                           A  1526    
                           A  1527    .DEFINE "y"
                           A  1528    
                           A  1529    .CLASS 65
                           A  1530    
                           A  1531    .VALUE 9
                           A  1532    
                           A  1533    .TYPE 14
                           A  1534    
                           A  1535    .ENDEF
                           A  1536    
040415 DDE5                A  1537    	PUSH	IX
040417 DD210000 00         A  1538    	LD	IX,0
04041C DD39                A  1539    	ADD	IX,SP
                           A  1540    ;  120		vdp_plot(0x40,x,y);
                           A  1541    .LINE 120
                           A  1542    
04041E DD0709              A  1543    	LD	BC,(IX+%9)
040421 C5                  A  1544    	PUSH	BC
040422 DD0706              A  1545    	LD	BC,(IX+%6)
040425 C5                  A  1546    	PUSH	BC
040426 01400000            A  1547    	LD	BC,64
04042A C5                  A  1548    	PUSH	BC
04042B CD 74 03 04         A  1549    	CALL	_vdp_plot
04042F C1                  A  1550    	POP	BC
040430 C1                  A  1551    	POP	BC
040431 C1                  A  1552    	POP	BC
                           A  1553    ;  121	}
                           A  1554    .LINE 121
                           A  1555    
040432 DDF9                A  1556    	LD	SP,IX
040434 DDE1                A  1557    	POP	IX
040436 C9                  A  1558    	RET	
                           A  1559    
                           A  1560    
                           A  1561    ;**************************** _vdp_plotPoint **
                           A  1562    ;Name                         Addr/Register   S
                           A  1563    ;y                                     IX+9    
                           A  1564    ;x                                     IX+6    
                           A  1565    
                           A  1566    
                           A  1567    ; Stack Frame Size: 12 (bytes)
                           A  1568    ;       Spill Code: 0 (instruction)
                           A  1569    
                           A  1570    
                           A  1571    .ENDFUNC "vdp_plotPoint",121,"_vdp_plotPoint"
                           A  1572    ;  122	
                           A  1573    ;  123	void vdp_plotTriangle(unsigned int x, u
                           A  1574    ;  124	{
040437                     A  1575    _vdp_plotTriangle:
                           A  1576    .DEFINE "_vdp_plotTriangle"
                           A  1577    
                           A  1578    .VALUE _vdp_plotTriangle
                           A  1579    
                           A  1580    .CLASS 2
                           A  1581    
                           A  1582    .TYPE 65
                           A  1583    
                           A  1584    .ENDEF
                           A  1585    
                           A  1586    .BEGFUNC "vdp_plotTriangle",124,"_vdp_plotTrian
                           A  1587    
                           A  1588    .LINE 124
                           A  1589    
                           A  1590    .DEFINE "x"
                           A  1591    
                           A  1592    .CLASS 65
                           A  1593    
                           A  1594    .VALUE 6
                           A  1595    
                           A  1596    .TYPE 14
                           A  1597    
                           A  1598    .ENDEF
                           A  1599    
                           A  1600    .DEFINE "y"
                           A  1601    
                           A  1602    .CLASS 65
                           A  1603    
                           A  1604    .VALUE 9
                           A  1605    
                           A  1606    .TYPE 14
                           A  1607    
                           A  1608    .ENDEF
                           A  1609    
040437 DDE5                A  1610    	PUSH	IX
040439 DD210000 00         A  1611    	LD	IX,0
04043E DD39                A  1612    	ADD	IX,SP
                           A  1613    ;  125		vdp_plot(0x50,x,y);
                           A  1614    .LINE 125
                           A  1615    
040440 DD0709              A  1616    	LD	BC,(IX+%9)
040443 C5                  A  1617    	PUSH	BC
040444 DD0706              A  1618    	LD	BC,(IX+%6)
040447 C5                  A  1619    	PUSH	BC
040448 01500000            A  1620    	LD	BC,80
04044C C5                  A  1621    	PUSH	BC
04044D CD 74 03 04         A  1622    	CALL	_vdp_plot
040451 C1                  A  1623    	POP	BC
040452 C1                  A  1624    	POP	BC
040453 C1                  A  1625    	POP	BC
                           A  1626    ;  126	}
                           A  1627    .LINE 126
                           A  1628    
040454 DDF9                A  1629    	LD	SP,IX
040456 DDE1                A  1630    	POP	IX
040458 C9                  A  1631    	RET	
                           A  1632    
                           A  1633    
                           A  1634    ;**************************** _vdp_plotTriangle
                           A  1635    ;Name                         Addr/Register   S
                           A  1636    ;y                                     IX+9    
                           A  1637    ;x                                     IX+6    
                           A  1638    
                           A  1639    
                           A  1640    ; Stack Frame Size: 12 (bytes)
                           A  1641    ;       Spill Code: 0 (instruction)
                           A  1642    
                           A  1643    
                           A  1644    .ENDFUNC "vdp_plotTriangle",126,"_vdp_plotTrian
                           A  1645    ;  127	
                           A  1646    ;  128	void vdp_plotCircleRadius(unsigned int 
                           A  1647    ;  129	{
040459                     A  1648    _vdp_plotCircleRadius:
                           A  1649    .DEFINE "_vdp_plotCircleRadius"
                           A  1650    
                           A  1651    .VALUE _vdp_plotCircleRadius
                           A  1652    
                           A  1653    .CLASS 2
                           A  1654    
                           A  1655    .TYPE 65
                           A  1656    
                           A  1657    .ENDEF
                           A  1658    
                           A  1659    .BEGFUNC "vdp_plotCircleRadius",129,"_vdp_plotC
                           A  1660    
                           A  1661    .LINE 129
                           A  1662    
                           A  1663    .DEFINE "r"
                           A  1664    
                           A  1665    .CLASS 65
                           A  1666    
                           A  1667    .VALUE 6
                           A  1668    
                           A  1669    .TYPE 14
                           A  1670    
                           A  1671    .ENDEF
                           A  1672    
040459 DDE5                A  1673    	PUSH	IX
04045B DD210000 00         A  1674    	LD	IX,0
040460 DD39                A  1675    	ADD	IX,SP
                           A  1676    ;  130		vdp_plot(0x90,r,0);
                           A  1677    .LINE 130
                           A  1678    
040462 01000000            A  1679    	LD	BC,0
040466 C5                  A  1680    	PUSH	BC
040467 DD0706              A  1681    	LD	BC,(IX+%6)
04046A C5                  A  1682    	PUSH	BC
04046B 01900000            A  1683    	LD	BC,144
04046F C5                  A  1684    	PUSH	BC
040470 CD 74 03 04         A  1685    	CALL	_vdp_plot
040474 C1                  A  1686    	POP	BC
040475 C1                  A  1687    	POP	BC
040476 C1                  A  1688    	POP	BC
                           A  1689    ;  131	}
                           A  1690    .LINE 131
                           A  1691    
040477 DDF9                A  1692    	LD	SP,IX
040479 DDE1                A  1693    	POP	IX
04047B C9                  A  1694    	RET	
                           A  1695    
                           A  1696    
                           A  1697    ;**************************** _vdp_plotCircleRa
                           A  1698    ;Name                         Addr/Register   S
                           A  1699    ;r                                     IX+6    
                           A  1700    
                           A  1701    
                           A  1702    ; Stack Frame Size: 9 (bytes)
                           A  1703    ;       Spill Code: 0 (instruction)
                           A  1704    
                           A  1705    
                           A  1706    .ENDFUNC "vdp_plotCircleRadius",131,"_vdp_plotC
                           A  1707    ;  132	
                           A  1708    ;  133	void vdp_plotCircleCircumference(unsign
                           A  1709    ;  134	{
04047C                     A  1710    _vdp_plotCircleCircumference:
                           A  1711    .DEFINE "_vdp_plotCircleCircumference"
                           A  1712    
                           A  1713    .VALUE _vdp_plotCircleCircumference
                           A  1714    
                           A  1715    .CLASS 2
                           A  1716    
                           A  1717    .TYPE 65
                           A  1718    
                           A  1719    .ENDEF
                           A  1720    
                           A  1721    .BEGFUNC "vdp_plotCircleCircumference",134,"_vd
                           A  1722    
                           A  1723    .LINE 134
                           A  1724    
                           A  1725    .DEFINE "x"
                           A  1726    
                           A  1727    .CLASS 65
                           A  1728    
                           A  1729    .VALUE 6
                           A  1730    
                           A  1731    .TYPE 14
                           A  1732    
                           A  1733    .ENDEF
                           A  1734    
                           A  1735    .DEFINE "y"
                           A  1736    
                           A  1737    .CLASS 65
                           A  1738    
                           A  1739    .VALUE 9
                           A  1740    
                           A  1741    .TYPE 14
                           A  1742    
                           A  1743    .ENDEF
                           A  1744    
04047C DDE5                A  1745    	PUSH	IX
04047E DD210000 00         A  1746    	LD	IX,0
040483 DD39                A  1747    	ADD	IX,SP
                           A  1748    ;  135		vdp_plot(0x95,x,y);
                           A  1749    .LINE 135
                           A  1750    
040485 DD0709              A  1751    	LD	BC,(IX+%9)
040488 C5                  A  1752    	PUSH	BC
040489 DD0706              A  1753    	LD	BC,(IX+%6)
04048C C5                  A  1754    	PUSH	BC
04048D 01950000            A  1755    	LD	BC,149
040491 C5                  A  1756    	PUSH	BC
040492 CD 74 03 04         A  1757    	CALL	_vdp_plot
040496 C1                  A  1758    	POP	BC
040497 C1                  A  1759    	POP	BC
040498 C1                  A  1760    	POP	BC
                           A  1761    ;  136	}
                           A  1762    .LINE 136
                           A  1763    
040499 DDF9                A  1764    	LD	SP,IX
04049B DDE1                A  1765    	POP	IX
04049D C9                  A  1766    	RET	
                           A  1767    
                           A  1768    
                           A  1769    ;**************************** _vdp_plotCircleCi
                           A  1770    ;Name                         Addr/Register   S
                           A  1771    ;y                                     IX+9    
                           A  1772    ;x                                     IX+6    
                           A  1773    
                           A  1774    
                           A  1775    ; Stack Frame Size: 12 (bytes)
                           A  1776    ;       Spill Code: 0 (instruction)
                           A  1777    
                           A  1778    
                           A  1779    .ENDFUNC "vdp_plotCircleCircumference",136,"_vd
                           A  1780    ;  137	
                           A  1781    ;  138	void vdp_plotSetOrigin(unsigned int x, 
                           A  1782    ;  139	{
04049E                     A  1783    _vdp_plotSetOrigin:
                           A  1784    .DEFINE "_vdp_plotSetOrigin"
                           A  1785    
                           A  1786    .VALUE _vdp_plotSetOrigin
                           A  1787    
                           A  1788    .CLASS 2
                           A  1789    
                           A  1790    .TYPE 65
                           A  1791    
                           A  1792    .ENDEF
                           A  1793    
                           A  1794    .BEGFUNC "vdp_plotSetOrigin",139,"_vdp_plotSetO
                           A  1795    
                           A  1796    .LINE 139
                           A  1797    
                           A  1798    .DEFINE "x"
                           A  1799    
                           A  1800    .CLASS 65
                           A  1801    
                           A  1802    .VALUE 6
                           A  1803    
                           A  1804    .TYPE 14
                           A  1805    
                           A  1806    .ENDEF
                           A  1807    
                           A  1808    .DEFINE "y"
                           A  1809    
                           A  1810    .CLASS 65
                           A  1811    
                           A  1812    .VALUE 9
                           A  1813    
                           A  1814    .TYPE 14
                           A  1815    
                           A  1816    .ENDEF
                           A  1817    
04049E DDE5                A  1818    	PUSH	IX
0404A0 DD210000 00         A  1819    	LD	IX,0
0404A5 DD39                A  1820    	ADD	IX,SP
                           A  1821    ;  140	    putch(29); //Graphics ORIGIN
                           A  1822    .LINE 140
                           A  1823    
0404A7 011D0000            A  1824    	LD	BC,29
0404AB C5                  A  1825    	PUSH	BC
0404AC CD 62 0C 04         A  1826    	CALL	_putch
0404B0 C1                  A  1827    	POP	BC
                           A  1828    ;  141	    putch(x & 0xF);
                           A  1829    .LINE 141
                           A  1830    
0404B1 DD7E06              A  1831    	LD	A,(IX+%6)
0404B4 E60F                A  1832    	AND	A,%F
0404B6 B7ED62              A  1833    	UEXT	HL
0404B9 6F                  A  1834    	LD	L,A
0404BA E5                  A  1835    	PUSH	HL
0404BB CD 62 0C 04         A  1836    	CALL	_putch
0404BF C1                  A  1837    	POP	BC
                           A  1838    ;  142	    putch(x >> 8);
                           A  1839    .LINE 142
                           A  1840    
0404C0 DD2706              A  1841    	LD	HL,(IX+%6)
0404C3 3E08                A  1842    	LD	A,%8
0404C5 CD 7B 13 04         A  1843    	CALL	__ishru_b
0404C9 E5                  A  1844    	PUSH	HL
0404CA CD 62 0C 04         A  1845    	CALL	_putch
0404CE C1                  A  1846    	POP	BC
                           A  1847    ;  143	    putch(y & 0xF);
                           A  1848    .LINE 143
                           A  1849    
0404CF DD7E09              A  1850    	LD	A,(IX+%9)
0404D2 E60F                A  1851    	AND	A,%F
0404D4 B7ED62              A  1852    	UEXT	HL
0404D7 6F                  A  1853    	LD	L,A
0404D8 E5                  A  1854    	PUSH	HL
0404D9 CD 62 0C 04         A  1855    	CALL	_putch
0404DD C1                  A  1856    	POP	BC
                           A  1857    ;  144	    putch(y >> 8);
                           A  1858    .LINE 144
                           A  1859    
0404DE DD2709              A  1860    	LD	HL,(IX+%9)
0404E1 3E08                A  1861    	LD	A,%8
0404E3 CD 7B 13 04         A  1862    	CALL	__ishru_b
0404E7 E5                  A  1863    	PUSH	HL
0404E8 CD 62 0C 04         A  1864    	CALL	_putch
0404EC C1                  A  1865    	POP	BC
                           A  1866    ;  145	}
                           A  1867    .LINE 145
                           A  1868    
0404ED DDF9                A  1869    	LD	SP,IX
0404EF DDE1                A  1870    	POP	IX
0404F1 C9                  A  1871    	RET	
                           A  1872    
                           A  1873    
                           A  1874    ;**************************** _vdp_plotSetOrigi
                           A  1875    ;Name                         Addr/Register   S
                           A  1876    ;_putch                              IMPORT  --
                           A  1877    ;y                                     IX+9    
                           A  1878    ;x                                     IX+6    
                           A  1879    
                           A  1880    
                           A  1881    ; Stack Frame Size: 12 (bytes)
                           A  1882    ;       Spill Code: 0 (instruction)
                           A  1883    
                           A  1884    
                           A  1885    .ENDFUNC "vdp_plotSetOrigin",145,"_vdp_plotSetO
                           A  1886    ;  146	
                           A  1887    ;  147	// Bitmap VDP functions
                           A  1888    ;  148	void vdp_bitmapSelect(UINT8 id)
                           A  1889    ;  149	{
0404F2                     A  1890    _vdp_bitmapSelect:
                           A  1891    .DEFINE "_vdp_bitmapSelect"
                           A  1892    
                           A  1893    .VALUE _vdp_bitmapSelect
                           A  1894    
                           A  1895    .CLASS 2
                           A  1896    
                           A  1897    .TYPE 65
                           A  1898    
                           A  1899    .ENDEF
                           A  1900    
                           A  1901    .BEGFUNC "vdp_bitmapSelect",149,"_vdp_bitmapSel
                           A  1902    
                           A  1903    .LINE 149
                           A  1904    
                           A  1905    .DEFINE "id"
                           A  1906    
                           A  1907    .CLASS 65
                           A  1908    
                           A  1909    .VALUE 6
                           A  1910    
                           A  1911    .TYPE 12
                           A  1912    
                           A  1913    .ENDEF
                           A  1914    
0404F2 DDE5                A  1915    	PUSH	IX
0404F4 DD210000 00         A  1916    	LD	IX,0
0404F9 DD39                A  1917    	ADD	IX,SP
                           A  1918    ;  150		putch(23); // vdu_sys
                           A  1919    .LINE 150
                           A  1920    
0404FB 01170000            A  1921    	LD	BC,23
0404FF C5                  A  1922    	PUSH	BC
040500 CD 62 0C 04         A  1923    	CALL	_putch
040504 C1                  A  1924    	POP	BC
                           A  1925    ;  151		putch(27); // sprite command
                           A  1926    .LINE 151
                           A  1927    
040505 011B0000            A  1928    	LD	BC,27
040509 C5                  A  1929    	PUSH	BC
04050A CD 62 0C 04         A  1930    	CALL	_putch
04050E C1                  A  1931    	POP	BC
                           A  1932    ;  152		putch(0);  // select command
                           A  1933    .LINE 152
                           A  1934    
04050F 01000000            A  1935    	LD	BC,0
040513 C5                  A  1936    	PUSH	BC
040514 CD 62 0C 04         A  1937    	CALL	_putch
040518 C1                  A  1938    	POP	BC
                           A  1939    ;  153		putch(id); // bitmap_id
                           A  1940    .LINE 153
                           A  1941    
040519 DD7E06              A  1942    	LD	A,(IX+%6)
04051C B7ED62              A  1943    	UEXT	HL
04051F 6F                  A  1944    	LD	L,A
040520 E5                  A  1945    	PUSH	HL
040521 CD 62 0C 04         A  1946    	CALL	_putch
040525 C1                  A  1947    	POP	BC
                           A  1948    ;  154		return;	
                           A  1949    ;  155	}
                           A  1950    .LINE 155
                           A  1951    
040526 DDF9                A  1952    	LD	SP,IX
040528 DDE1                A  1953    	POP	IX
04052A C9                  A  1954    	RET	
                           A  1955    
                           A  1956    
                           A  1957    ;**************************** _vdp_bitmapSelect
                           A  1958    ;Name                         Addr/Register   S
                           A  1959    ;_putch                              IMPORT  --
                           A  1960    ;id                                    IX+6    
                           A  1961    
                           A  1962    
                           A  1963    ; Stack Frame Size: 9 (bytes)
                           A  1964    ;       Spill Code: 0 (instruction)
                           A  1965    
                           A  1966    
                           A  1967    .ENDFUNC "vdp_bitmapSelect",155,"_vdp_bitmapSel
                           A  1968    ;  156	
                           A  1969    ;  157	void vdp_bitmapSendDataSelected(UINT16 
                           A  1970    ;  158	{
04052B                     A  1971    _vdp_bitmapSendDataSelected:
                           A  1972    .DEFINE "_vdp_bitmapSendDataSelected"
                           A  1973    
                           A  1974    .VALUE _vdp_bitmapSendDataSelected
                           A  1975    
                           A  1976    .CLASS 2
                           A  1977    
                           A  1978    .TYPE 65
                           A  1979    
                           A  1980    .ENDEF
                           A  1981    
                           A  1982    .BEGFUNC "vdp_bitmapSendDataSelected",158,"_vdp
                           A  1983    
                           A  1984    .LINE 158
                           A  1985    
                           A  1986    .DEFINE "width"
                           A  1987    
                           A  1988    .CLASS 65
                           A  1989    
                           A  1990    .VALUE 6
                           A  1991    
                           A  1992    .TYPE 13
                           A  1993    
                           A  1994    .ENDEF
                           A  1995    
                           A  1996    .DEFINE "height"
                           A  1997    
                           A  1998    .CLASS 65
                           A  1999    
                           A  2000    .VALUE 9
                           A  2001    
                           A  2002    .TYPE 13
                           A  2003    
                           A  2004    .ENDEF
                           A  2005    
                           A  2006    .DEFINE "data"
                           A  2007    
                           A  2008    .CLASS 65
                           A  2009    
                           A  2010    .VALUE 12
                           A  2011    
                           A  2012    .TYPE 47
                           A  2013    
                           A  2014    .ENDEF
                           A  2015    
                           A  2016    .DEFINE "n"
                           A  2017    
                           A  2018    .CLASS 65
                           A  2019    
                           A  2020    .VALUE -2
                           A  2021    
                           A  2022    .TYPE 13
                           A  2023    
                           A  2024    .ENDEF
                           A  2025    
04052B DDE5                A  2026    	PUSH	IX
04052D DD210000 00         A  2027    	LD	IX,0
040532 DD39                A  2028    	ADD	IX,SP
040534 3B                  A  2029    	DEC	SP
040535 3B                  A  2030    	DEC	SP
                           A  2031    ;  159		UINT16 n;
                           A  2032    ;  160		
                           A  2033    ;  161		putch(23); // vdu_sys
                           A  2034    .LINE 161
                           A  2035    
040536 01170000            A  2036    	LD	BC,23
04053A C5                  A  2037    	PUSH	BC
04053B CD 62 0C 04         A  2038    	CALL	_putch
04053F C1                  A  2039    	POP	BC
                           A  2040    ;  162		putch(27); // sprite command
                           A  2041    .LINE 162
                           A  2042    
040540 011B0000            A  2043    	LD	BC,27
040544 C5                  A  2044    	PUSH	BC
040545 CD 62 0C 04         A  2045    	CALL	_putch
040549 C1                  A  2046    	POP	BC
                           A  2047    ;  163		putch(1);  // send data to selected
                           A  2048    .LINE 163
                           A  2049    
04054A 01010000            A  2050    	LD	BC,1
04054E C5                  A  2051    	PUSH	BC
04054F CD 62 0C 04         A  2052    	CALL	_putch
040553 C1                  A  2053    	POP	BC
                           A  2054    ;  164		
                           A  2055    ;  165		write16bit(width);
                           A  2056    .LINE 165
                           A  2057    
040554 DD0706              A  2058    	LD	BC,(IX+%6)
040557 C5                  A  2059    	PUSH	BC
040558 CD 09 01 04         A  2060    	CALL	_write16bit
04055C C1                  A  2061    	POP	BC
                           A  2062    ;  166		write16bit(height);
                           A  2063    .LINE 166
                           A  2064    
04055D DD0709              A  2065    	LD	BC,(IX+%9)
040560 C5                  A  2066    	PUSH	BC
040561 CD 09 01 04         A  2067    	CALL	_write16bit
040565 C1                  A  2068    	POP	BC
                           A  2069    ;  167		
                           A  2070    ;  168		for(n = 0; n < (width*height); n++)
                           A  2071    .LINE 168
                           A  2072    
040566 DD36FE00            A  2073    	LD	(IX+%FFFFFFFE),%0
04056A DD36FF00            A  2074    	LD	(IX+%FFFFFFFF),%0
04056E 18 2B               A  2075    	JR	L_25
040570                     A  2076    L_23:
                           A  2077    ;  169		{
                           A  2078    ;  170			write32bit(data[n]);
                           A  2079    .LINE 170
                           A  2080    
040570 DD07FE              A  2081    	LD	BC,(IX+%FFFFFFFE)
040573 CD 07 12 04         A  2082    	CALL	__stoiu
040577 29                  A  2083    	ADD	HL,HL
040578 29                  A  2084    	ADD	HL,HL
040579 DD070C              A  2085    	LD	BC,(IX+%C)
04057C 09                  A  2086    	ADD	HL,BC
04057D E5FDE1              A  2087    	LD	IY,HL
040580 FD0700              A  2088    	LD	BC,(IY)
040583 FD7E03              A  2089    	LD	A,(IY+%3)
040586 2600                A  2090    	LD	H,%0
040588 6F                  A  2091    	LD	L,A
040589 E5                  A  2092    	PUSH	HL
04058A C5                  A  2093    	PUSH	BC
04058B CD 3C 01 04         A  2094    	CALL	_write32bit
04058F C1                  A  2095    	POP	BC
040590 C1                  A  2096    	POP	BC
040591 DD27FE              A  2097    	LD	HL,(IX+%FFFFFFFE)
040594 23                  A  2098    	INC	HL
040595 DD75FE              A  2099    	LD	(IX+%FFFFFFFE),L
040598 DD74FF              A  2100    	LD	(IX+%FFFFFFFF),H
                           A  2101    ;  171			//delayms(1);
                           A  2102    ;  172		}
04059B                     A  2103    L_25:
                           A  2104    .LINE 172
                           A  2105    
04059B DD0706              A  2106    	LD	BC,(IX+%6)
04059E CD 07 12 04         A  2107    	CALL	__stoiu
0405A2 E5D1                A  2108    	LD	DE,HL
0405A4 DD0709              A  2109    	LD	BC,(IX+%9)
0405A7 CD 07 12 04         A  2110    	CALL	__stoiu
0405AB E5C1                A  2111    	LD	BC,HL
0405AD D5E1                A  2112    	LD	HL,DE
0405AF CD 3F 13 04         A  2113    	CALL	__imuls
0405B3 E5D1                A  2114    	LD	DE,HL
0405B5 DD07FE              A  2115    	LD	BC,(IX+%FFFFFFFE)
0405B8 CD 07 12 04         A  2116    	CALL	__stoiu
0405BC B7                  A  2117    	OR	A,A
0405BD ED52                A  2118    	SBC	HL,DE
0405BF CD 4D 10 04         A  2119    	CALL	__setflag
0405C3 FA 70 05 04         A  2120    	JP	M,L_23
                           A  2121    ;  173		return;		
                           A  2122    ;  174	}
                           A  2123    .LINE 174
                           A  2124    
0405C7 DDF9                A  2125    	LD	SP,IX
0405C9 DDE1                A  2126    	POP	IX
0405CB C9                  A  2127    	RET	
                           A  2128    
                           A  2129    
                           A  2130    ;**************************** _vdp_bitmapSendDa
                           A  2131    ;Name                         Addr/Register   S
                           A  2132    ;_putch                              IMPORT  --
                           A  2133    ;n                                     IX-2    
                           A  2134    ;data                                 IX+12    
                           A  2135    ;height                                IX+9    
                           A  2136    ;width                                 IX+6    
                           A  2137    
                           A  2138    
                           A  2139    ; Stack Frame Size: 17 (bytes)
                           A  2140    ;       Spill Code: 0 (instruction)
                           A  2141    
                           A  2142    
                           A  2143    .ENDFUNC "vdp_bitmapSendDataSelected",174,"_vdp
                           A  2144    ;  175	
                           A  2145    ;  176	void vdp_bitmapSendData(UINT8 id, UINT1
                           A  2146    ;  177	{
0405CC                     A  2147    _vdp_bitmapSendData:
                           A  2148    .DEFINE "_vdp_bitmapSendData"
                           A  2149    
                           A  2150    .VALUE _vdp_bitmapSendData
                           A  2151    
                           A  2152    .CLASS 2
                           A  2153    
                           A  2154    .TYPE 65
                           A  2155    
                           A  2156    .ENDEF
                           A  2157    
                           A  2158    .BEGFUNC "vdp_bitmapSendData",177,"_vdp_bitmapS
                           A  2159    
                           A  2160    .LINE 177
                           A  2161    
                           A  2162    .DEFINE "id"
                           A  2163    
                           A  2164    .CLASS 65
                           A  2165    
                           A  2166    .VALUE 6
                           A  2167    
                           A  2168    .TYPE 12
                           A  2169    
                           A  2170    .ENDEF
                           A  2171    
                           A  2172    .DEFINE "width"
                           A  2173    
                           A  2174    .CLASS 65
                           A  2175    
                           A  2176    .VALUE 9
                           A  2177    
                           A  2178    .TYPE 13
                           A  2179    
                           A  2180    .ENDEF
                           A  2181    
                           A  2182    .DEFINE "height"
                           A  2183    
                           A  2184    .CLASS 65
                           A  2185    
                           A  2186    .VALUE 12
                           A  2187    
                           A  2188    .TYPE 13
                           A  2189    
                           A  2190    .ENDEF
                           A  2191    
                           A  2192    .DEFINE "data"
                           A  2193    
                           A  2194    .CLASS 65
                           A  2195    
                           A  2196    .VALUE 15
                           A  2197    
                           A  2198    .TYPE 47
                           A  2199    
                           A  2200    .ENDEF
                           A  2201    
0405CC DDE5                A  2202    	PUSH	IX
0405CE DD210000 00         A  2203    	LD	IX,0
0405D3 DD39                A  2204    	ADD	IX,SP
                           A  2205    ;  178		vdp_bitmapSelect(id);
                           A  2206    .LINE 178
                           A  2207    
0405D5 DD4E06              A  2208    	LD	C,(IX+%6)
0405D8 0600                A  2209    	LD	B,%0
0405DA C5                  A  2210    	PUSH	BC
0405DB CD F2 04 04         A  2211    	CALL	_vdp_bitmapSelect
0405DF C1                  A  2212    	POP	BC
                           A  2213    ;  179		vdp_bitmapSendDataSelected(width, h
                           A  2214    .LINE 179
                           A  2215    
0405E0 DD070F              A  2216    	LD	BC,(IX+%F)
0405E3 C5                  A  2217    	PUSH	BC
0405E4 DD070C              A  2218    	LD	BC,(IX+%C)
0405E7 C5                  A  2219    	PUSH	BC
0405E8 DD0709              A  2220    	LD	BC,(IX+%9)
0405EB C5                  A  2221    	PUSH	BC
0405EC CD 2B 05 04         A  2222    	CALL	_vdp_bitmapSendDataSelected
0405F0 C1                  A  2223    	POP	BC
0405F1 C1                  A  2224    	POP	BC
0405F2 C1                  A  2225    	POP	BC
                           A  2226    ;  180		return;	
                           A  2227    ;  181	}
                           A  2228    .LINE 181
                           A  2229    
0405F3 DDF9                A  2230    	LD	SP,IX
0405F5 DDE1                A  2231    	POP	IX
0405F7 C9                  A  2232    	RET	
                           A  2233    
                           A  2234    
                           A  2235    ;**************************** _vdp_bitmapSendDa
                           A  2236    ;Name                         Addr/Register   S
                           A  2237    ;_vdp_bitmapSendDataSelected         IMPORT  --
                           A  2238    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2239    ;data                                 IX+15    
                           A  2240    ;height                               IX+12    
                           A  2241    ;width                                 IX+9    
                           A  2242    ;id                                    IX+6    
                           A  2243    
                           A  2244    
                           A  2245    ; Stack Frame Size: 18 (bytes)
                           A  2246    ;       Spill Code: 0 (instruction)
                           A  2247    
                           A  2248    
                           A  2249    .ENDFUNC "vdp_bitmapSendData",181,"_vdp_bitmapS
                           A  2250    ;  182	
                           A  2251    ;  183	void vdp_bitmapDrawSelected(UINT16 x, U
                           A  2252    ;  184	{
0405F8                     A  2253    _vdp_bitmapDrawSelected:
                           A  2254    .DEFINE "_vdp_bitmapDrawSelected"
                           A  2255    
                           A  2256    .VALUE _vdp_bitmapDrawSelected
                           A  2257    
                           A  2258    .CLASS 2
                           A  2259    
                           A  2260    .TYPE 65
                           A  2261    
                           A  2262    .ENDEF
                           A  2263    
                           A  2264    .BEGFUNC "vdp_bitmapDrawSelected",184,"_vdp_bit
                           A  2265    
                           A  2266    .LINE 184
                           A  2267    
                           A  2268    .DEFINE "x"
                           A  2269    
                           A  2270    .CLASS 65
                           A  2271    
                           A  2272    .VALUE 6
                           A  2273    
                           A  2274    .TYPE 13
                           A  2275    
                           A  2276    .ENDEF
                           A  2277    
                           A  2278    .DEFINE "y"
                           A  2279    
                           A  2280    .CLASS 65
                           A  2281    
                           A  2282    .VALUE 9
                           A  2283    
                           A  2284    .TYPE 13
                           A  2285    
                           A  2286    .ENDEF
                           A  2287    
0405F8 DDE5                A  2288    	PUSH	IX
0405FA DD210000 00         A  2289    	LD	IX,0
0405FF DD39                A  2290    	ADD	IX,SP
                           A  2291    ;  185		putch(23); // vdu_sys
                           A  2292    .LINE 185
                           A  2293    
040601 01170000            A  2294    	LD	BC,23
040605 C5                  A  2295    	PUSH	BC
040606 CD 62 0C 04         A  2296    	CALL	_putch
04060A C1                  A  2297    	POP	BC
                           A  2298    ;  186		putch(27); // sprite command
                           A  2299    .LINE 186
                           A  2300    
04060B 011B0000            A  2301    	LD	BC,27
04060F C5                  A  2302    	PUSH	BC
040610 CD 62 0C 04         A  2303    	CALL	_putch
040614 C1                  A  2304    	POP	BC
                           A  2305    ;  187		putch(3);  // draw selected bitmap
                           A  2306    .LINE 187
                           A  2307    
040615 01030000            A  2308    	LD	BC,3
040619 C5                  A  2309    	PUSH	BC
04061A CD 62 0C 04         A  2310    	CALL	_putch
04061E C1                  A  2311    	POP	BC
                           A  2312    ;  188		
                           A  2313    ;  189		write16bit(x);
                           A  2314    .LINE 189
                           A  2315    
04061F DD0706              A  2316    	LD	BC,(IX+%6)
040622 C5                  A  2317    	PUSH	BC
040623 CD 09 01 04         A  2318    	CALL	_write16bit
040627 C1                  A  2319    	POP	BC
                           A  2320    ;  190		write16bit(y);
                           A  2321    .LINE 190
                           A  2322    
040628 DD0709              A  2323    	LD	BC,(IX+%9)
04062B C5                  A  2324    	PUSH	BC
04062C CD 09 01 04         A  2325    	CALL	_write16bit
040630 C1                  A  2326    	POP	BC
                           A  2327    ;  191		
                           A  2328    ;  192		return;
                           A  2329    ;  193	}
                           A  2330    .LINE 193
                           A  2331    
040631 DDF9                A  2332    	LD	SP,IX
040633 DDE1                A  2333    	POP	IX
040635 C9                  A  2334    	RET	
                           A  2335    
                           A  2336    
                           A  2337    ;**************************** _vdp_bitmapDrawSe
                           A  2338    ;Name                         Addr/Register   S
                           A  2339    ;_putch                              IMPORT  --
                           A  2340    ;y                                     IX+9    
                           A  2341    ;x                                     IX+6    
                           A  2342    
                           A  2343    
                           A  2344    ; Stack Frame Size: 12 (bytes)
                           A  2345    ;       Spill Code: 0 (instruction)
                           A  2346    
                           A  2347    
                           A  2348    .ENDFUNC "vdp_bitmapDrawSelected",193,"_vdp_bit
                           A  2349    ;  194	
                           A  2350    ;  195	void vdp_bitmapDraw(UINT8 id, UINT16 x,
                           A  2351    ;  196	{
040636                     A  2352    _vdp_bitmapDraw:
                           A  2353    .DEFINE "_vdp_bitmapDraw"
                           A  2354    
                           A  2355    .VALUE _vdp_bitmapDraw
                           A  2356    
                           A  2357    .CLASS 2
                           A  2358    
                           A  2359    .TYPE 65
                           A  2360    
                           A  2361    .ENDEF
                           A  2362    
                           A  2363    .BEGFUNC "vdp_bitmapDraw",196,"_vdp_bitmapDraw"
                           A  2364    
                           A  2365    .LINE 196
                           A  2366    
                           A  2367    .DEFINE "id"
                           A  2368    
                           A  2369    .CLASS 65
                           A  2370    
                           A  2371    .VALUE 6
                           A  2372    
                           A  2373    .TYPE 12
                           A  2374    
                           A  2375    .ENDEF
                           A  2376    
                           A  2377    .DEFINE "x"
                           A  2378    
                           A  2379    .CLASS 65
                           A  2380    
                           A  2381    .VALUE 9
                           A  2382    
                           A  2383    .TYPE 13
                           A  2384    
                           A  2385    .ENDEF
                           A  2386    
                           A  2387    .DEFINE "y"
                           A  2388    
                           A  2389    .CLASS 65
                           A  2390    
                           A  2391    .VALUE 12
                           A  2392    
                           A  2393    .TYPE 13
                           A  2394    
                           A  2395    .ENDEF
                           A  2396    
040636 DDE5                A  2397    	PUSH	IX
040638 DD210000 00         A  2398    	LD	IX,0
04063D DD39                A  2399    	ADD	IX,SP
                           A  2400    ;  197		vdp_bitmapSelect(id);
                           A  2401    .LINE 197
                           A  2402    
04063F DD4E06              A  2403    	LD	C,(IX+%6)
040642 0600                A  2404    	LD	B,%0
040644 C5                  A  2405    	PUSH	BC
040645 CD F2 04 04         A  2406    	CALL	_vdp_bitmapSelect
040649 C1                  A  2407    	POP	BC
                           A  2408    ;  198		vdp_bitmapDrawSelected(x,y);
                           A  2409    .LINE 198
                           A  2410    
04064A DD070C              A  2411    	LD	BC,(IX+%C)
04064D C5                  A  2412    	PUSH	BC
04064E DD0709              A  2413    	LD	BC,(IX+%9)
040651 C5                  A  2414    	PUSH	BC
040652 CD F8 05 04         A  2415    	CALL	_vdp_bitmapDrawSelected
040656 C1                  A  2416    	POP	BC
040657 C1                  A  2417    	POP	BC
                           A  2418    ;  199		return;	
                           A  2419    ;  200	}
                           A  2420    .LINE 200
                           A  2421    
040658 DDF9                A  2422    	LD	SP,IX
04065A DDE1                A  2423    	POP	IX
04065C C9                  A  2424    	RET	
                           A  2425    
                           A  2426    
                           A  2427    ;**************************** _vdp_bitmapDraw *
                           A  2428    ;Name                         Addr/Register   S
                           A  2429    ;_vdp_bitmapDrawSelected             IMPORT  --
                           A  2430    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2431    ;y                                    IX+12    
                           A  2432    ;x                                     IX+9    
                           A  2433    ;id                                    IX+6    
                           A  2434    
                           A  2435    
                           A  2436    ; Stack Frame Size: 15 (bytes)
                           A  2437    ;       Spill Code: 0 (instruction)
                           A  2438    
                           A  2439    
                           A  2440    .ENDFUNC "vdp_bitmapDraw",200,"_vdp_bitmapDraw"
                           A  2441    ;  201	
                           A  2442    ;  202	void vdp_bitmapCreateSolidColorSelected
                           A  2443    ;  203	{
04065D                     A  2444    _vdp_bitmapCreateSolidColorSelected:
                           A  2445    .DEFINE "_vdp_bitmapCreateSolidColorSelected"
                           A  2446    
                           A  2447    .VALUE _vdp_bitmapCreateSolidColorSelected
                           A  2448    
                           A  2449    .CLASS 2
                           A  2450    
                           A  2451    .TYPE 65
                           A  2452    
                           A  2453    .ENDEF
                           A  2454    
                           A  2455    .BEGFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2456    
                           A  2457    .LINE 203
                           A  2458    
                           A  2459    .DEFINE "width"
                           A  2460    
                           A  2461    .CLASS 65
                           A  2462    
                           A  2463    .VALUE 6
                           A  2464    
                           A  2465    .TYPE 13
                           A  2466    
                           A  2467    .ENDEF
                           A  2468    
                           A  2469    .DEFINE "height"
                           A  2470    
                           A  2471    .CLASS 65
                           A  2472    
                           A  2473    .VALUE 9
                           A  2474    
                           A  2475    .TYPE 13
                           A  2476    
                           A  2477    .ENDEF
                           A  2478    
                           A  2479    .DEFINE "abgr"
                           A  2480    
                           A  2481    .CLASS 65
                           A  2482    
                           A  2483    .VALUE 12
                           A  2484    
                           A  2485    .TYPE 15
                           A  2486    
                           A  2487    .ENDEF
                           A  2488    
04065D DDE5                A  2489    	PUSH	IX
04065F DD210000 00         A  2490    	LD	IX,0
040664 DD39                A  2491    	ADD	IX,SP
                           A  2492    ;  204		putch(23); // vdu_sys
                           A  2493    .LINE 204
                           A  2494    
040666 01170000            A  2495    	LD	BC,23
04066A C5                  A  2496    	PUSH	BC
04066B CD 62 0C 04         A  2497    	CALL	_putch
04066F C1                  A  2498    	POP	BC
                           A  2499    ;  205		putch(27); // sprite command
                           A  2500    .LINE 205
                           A  2501    
040670 011B0000            A  2502    	LD	BC,27
040674 C5                  A  2503    	PUSH	BC
040675 CD 62 0C 04         A  2504    	CALL	_putch
040679 C1                  A  2505    	POP	BC
                           A  2506    ;  206		putch(2);  // define in single colo
                           A  2507    .LINE 206
                           A  2508    
04067A 01020000            A  2509    	LD	BC,2
04067E C5                  A  2510    	PUSH	BC
04067F CD 62 0C 04         A  2511    	CALL	_putch
040683 C1                  A  2512    	POP	BC
                           A  2513    ;  207		
                           A  2514    ;  208		write16bit(width);
                           A  2515    .LINE 208
                           A  2516    
040684 DD0706              A  2517    	LD	BC,(IX+%6)
040687 C5                  A  2518    	PUSH	BC
040688 CD 09 01 04         A  2519    	CALL	_write16bit
04068C C1                  A  2520    	POP	BC
                           A  2521    ;  209		write16bit(height);
                           A  2522    .LINE 209
                           A  2523    
04068D DD0709              A  2524    	LD	BC,(IX+%9)
040690 C5                  A  2525    	PUSH	BC
040691 CD 09 01 04         A  2526    	CALL	_write16bit
040695 C1                  A  2527    	POP	BC
                           A  2528    ;  210		write32bit(abgr);
                           A  2529    .LINE 210
                           A  2530    
040696 DD4E0F              A  2531    	LD	C,(IX+%F)
040699 0600                A  2532    	LD	B,%0
04069B C5                  A  2533    	PUSH	BC
04069C DD070C              A  2534    	LD	BC,(IX+%C)
04069F C5                  A  2535    	PUSH	BC
0406A0 CD 3C 01 04         A  2536    	CALL	_write32bit
0406A4 C1                  A  2537    	POP	BC
0406A5 C1                  A  2538    	POP	BC
                           A  2539    ;  211		return;		
                           A  2540    ;  212	}
                           A  2541    .LINE 212
                           A  2542    
0406A6 DDF9                A  2543    	LD	SP,IX
0406A8 DDE1                A  2544    	POP	IX
0406AA C9                  A  2545    	RET	
                           A  2546    
                           A  2547    
                           A  2548    ;**************************** _vdp_bitmapCreate
                           A  2549    ;Name                         Addr/Register   S
                           A  2550    ;_putch                              IMPORT  --
                           A  2551    ;abgr                                 IX+12    
                           A  2552    ;height                                IX+9    
                           A  2553    ;width                                 IX+6    
                           A  2554    
                           A  2555    
                           A  2556    ; Stack Frame Size: 18 (bytes)
                           A  2557    ;       Spill Code: 0 (instruction)
                           A  2558    
                           A  2559    
                           A  2560    .ENDFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2561    ;  213	
                           A  2562    ;  214	void vdp_bitmapCreateSolidColor(UINT8 i
                           A  2563    ;  215	{
0406AB                     A  2564    _vdp_bitmapCreateSolidColor:
                           A  2565    .DEFINE "_vdp_bitmapCreateSolidColor"
                           A  2566    
                           A  2567    .VALUE _vdp_bitmapCreateSolidColor
                           A  2568    
                           A  2569    .CLASS 2
                           A  2570    
                           A  2571    .TYPE 65
                           A  2572    
                           A  2573    .ENDEF
                           A  2574    
                           A  2575    .BEGFUNC "vdp_bitmapCreateSolidColor",215,"_vdp
                           A  2576    
                           A  2577    .LINE 215
                           A  2578    
                           A  2579    .DEFINE "id"
                           A  2580    
                           A  2581    .CLASS 65
                           A  2582    
                           A  2583    .VALUE 6
                           A  2584    
                           A  2585    .TYPE 12
                           A  2586    
                           A  2587    .ENDEF
                           A  2588    
                           A  2589    .DEFINE "width"
                           A  2590    
                           A  2591    .CLASS 65
                           A  2592    
                           A  2593    .VALUE 9
                           A  2594    
                           A  2595    .TYPE 13
                           A  2596    
                           A  2597    .ENDEF
                           A  2598    
                           A  2599    .DEFINE "height"
                           A  2600    
                           A  2601    .CLASS 65
                           A  2602    
                           A  2603    .VALUE 12
                           A  2604    
                           A  2605    .TYPE 13
                           A  2606    
                           A  2607    .ENDEF
                           A  2608    
                           A  2609    .DEFINE "abgr"
                           A  2610    
                           A  2611    .CLASS 65
                           A  2612    
                           A  2613    .VALUE 15
                           A  2614    
                           A  2615    .TYPE 15
                           A  2616    
                           A  2617    .ENDEF
                           A  2618    
0406AB DDE5                A  2619    	PUSH	IX
0406AD DD210000 00         A  2620    	LD	IX,0
0406B2 DD39                A  2621    	ADD	IX,SP
                           A  2622    ;  216		vdp_bitmapSelect(id);
                           A  2623    .LINE 216
                           A  2624    
0406B4 DD4E06              A  2625    	LD	C,(IX+%6)
0406B7 0600                A  2626    	LD	B,%0
0406B9 C5                  A  2627    	PUSH	BC
0406BA CD F2 04 04         A  2628    	CALL	_vdp_bitmapSelect
0406BE C1                  A  2629    	POP	BC
                           A  2630    ;  217		vdp_bitmapCreateSolidColorSelected(
                           A  2631    .LINE 217
                           A  2632    
0406BF DD4E12              A  2633    	LD	C,(IX+%12)
0406C2 0600                A  2634    	LD	B,%0
0406C4 C5                  A  2635    	PUSH	BC
0406C5 DD070F              A  2636    	LD	BC,(IX+%F)
0406C8 C5                  A  2637    	PUSH	BC
0406C9 DD070C              A  2638    	LD	BC,(IX+%C)
0406CC C5                  A  2639    	PUSH	BC
0406CD DD0709              A  2640    	LD	BC,(IX+%9)
0406D0 C5                  A  2641    	PUSH	BC
0406D1 CD 5D 06 04         A  2642    	CALL	_vdp_bitmapCreateSolidColorSelected
0406D5 C1                  A  2643    	POP	BC
0406D6 C1                  A  2644    	POP	BC
0406D7 C1                  A  2645    	POP	BC
0406D8 C1                  A  2646    	POP	BC
                           A  2647    ;  218		return;	
                           A  2648    ;  219	}
                           A  2649    .LINE 219
                           A  2650    
0406D9 DDF9                A  2651    	LD	SP,IX
0406DB DDE1                A  2652    	POP	IX
0406DD C9                  A  2653    	RET	
                           A  2654    
                           A  2655    
                           A  2656    ;**************************** _vdp_bitmapCreate
                           A  2657    ;Name                         Addr/Register   S
                           A  2658    ;_vdp_bitmapCreateSolidColorSelected      IMPOR
                           A  2659    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2660    ;abgr                                 IX+15    
                           A  2661    ;height                               IX+12    
                           A  2662    ;width                                 IX+9    
                           A  2663    ;id                                    IX+6    
                           A  2664    
                           A  2665    
                           A  2666    ; Stack Frame Size: 21 (bytes)
                           A  2667    ;       Spill Code: 0 (instruction)
                           A  2668    
                           A  2669    
                           A  2670    .ENDFUNC "vdp_bitmapCreateSolidColor",219,"_vdp
                           A  2671    ;  220	
                           A  2672    ;  221	// Sprite VDP functions
                           A  2673    ;  222	void vdp_spriteSelect(UINT8 id)
                           A  2674    ;  223	{
0406DE                     A  2675    _vdp_spriteSelect:
                           A  2676    .DEFINE "_vdp_spriteSelect"
                           A  2677    
                           A  2678    .VALUE _vdp_spriteSelect
                           A  2679    
                           A  2680    .CLASS 2
                           A  2681    
                           A  2682    .TYPE 65
                           A  2683    
                           A  2684    .ENDEF
                           A  2685    
                           A  2686    .BEGFUNC "vdp_spriteSelect",223,"_vdp_spriteSel
                           A  2687    
                           A  2688    .LINE 223
                           A  2689    
                           A  2690    .DEFINE "id"
                           A  2691    
                           A  2692    .CLASS 65
                           A  2693    
                           A  2694    .VALUE 6
                           A  2695    
                           A  2696    .TYPE 12
                           A  2697    
                           A  2698    .ENDEF
                           A  2699    
0406DE DDE5                A  2700    	PUSH	IX
0406E0 DD210000 00         A  2701    	LD	IX,0
0406E5 DD39                A  2702    	ADD	IX,SP
                           A  2703    ;  224		putch(23); // vdu_sys
                           A  2704    .LINE 224
                           A  2705    
0406E7 01170000            A  2706    	LD	BC,23
0406EB C5                  A  2707    	PUSH	BC
0406EC CD 62 0C 04         A  2708    	CALL	_putch
0406F0 C1                  A  2709    	POP	BC
                           A  2710    ;  225		putch(27); // sprite command
                           A  2711    .LINE 225
                           A  2712    
0406F1 011B0000            A  2713    	LD	BC,27
0406F5 C5                  A  2714    	PUSH	BC
0406F6 CD 62 0C 04         A  2715    	CALL	_putch
0406FA C1                  A  2716    	POP	BC
                           A  2717    ;  226		putch(4);  // select sprite
                           A  2718    .LINE 226
                           A  2719    
0406FB 01040000            A  2720    	LD	BC,4
0406FF C5                  A  2721    	PUSH	BC
040700 CD 62 0C 04         A  2722    	CALL	_putch
040704 C1                  A  2723    	POP	BC
                           A  2724    ;  227		putch(id);
                           A  2725    .LINE 227
                           A  2726    
040705 DD7E06              A  2727    	LD	A,(IX+%6)
040708 B7ED62              A  2728    	UEXT	HL
04070B 6F                  A  2729    	LD	L,A
04070C E5                  A  2730    	PUSH	HL
04070D CD 62 0C 04         A  2731    	CALL	_putch
040711 C1                  A  2732    	POP	BC
                           A  2733    ;  228		return;			
                           A  2734    ;  229	}
                           A  2735    .LINE 229
                           A  2736    
040712 DDF9                A  2737    	LD	SP,IX
040714 DDE1                A  2738    	POP	IX
040716 C9                  A  2739    	RET	
                           A  2740    
                           A  2741    
                           A  2742    ;**************************** _vdp_spriteSelect
                           A  2743    ;Name                         Addr/Register   S
                           A  2744    ;_putch                              IMPORT  --
                           A  2745    ;id                                    IX+6    
                           A  2746    
                           A  2747    
                           A  2748    ; Stack Frame Size: 9 (bytes)
                           A  2749    ;       Spill Code: 0 (instruction)
                           A  2750    
                           A  2751    
                           A  2752    .ENDFUNC "vdp_spriteSelect",229,"_vdp_spriteSel
                           A  2753    ;  230	
                           A  2754    ;  231	void vdp_spriteClearFramesSelected(void
                           A  2755    ;  232	{
040717                     A  2756    _vdp_spriteClearFramesSelected:
                           A  2757    .DEFINE "_vdp_spriteClearFramesSelected"
                           A  2758    
                           A  2759    .VALUE _vdp_spriteClearFramesSelected
                           A  2760    
                           A  2761    .CLASS 2
                           A  2762    
                           A  2763    .TYPE 65
                           A  2764    
                           A  2765    .ENDEF
                           A  2766    
                           A  2767    .BEGFUNC "vdp_spriteClearFramesSelected",232,"_
                           A  2768    
040717 DDE5                A  2769    	PUSH	IX
040719 DD210000 00         A  2770    	LD	IX,0
04071E DD39                A  2771    	ADD	IX,SP
                           A  2772    ;  233		putch(23); // vdu_sys
                           A  2773    .LINE 233
                           A  2774    
040720 01170000            A  2775    	LD	BC,23
040724 C5                  A  2776    	PUSH	BC
040725 CD 62 0C 04         A  2777    	CALL	_putch
040729 C1                  A  2778    	POP	BC
                           A  2779    ;  234		putch(27); // sprite command
                           A  2780    .LINE 234
                           A  2781    
04072A 011B0000            A  2782    	LD	BC,27
04072E C5                  A  2783    	PUSH	BC
04072F CD 62 0C 04         A  2784    	CALL	_putch
040733 C1                  A  2785    	POP	BC
                           A  2786    ;  235		putch(5);  // clear frames
                           A  2787    .LINE 235
                           A  2788    
040734 01050000            A  2789    	LD	BC,5
040738 C5                  A  2790    	PUSH	BC
040739 CD 62 0C 04         A  2791    	CALL	_putch
04073D C1                  A  2792    	POP	BC
                           A  2793    ;  236		return;				
                           A  2794    ;  237	}
                           A  2795    .LINE 237
                           A  2796    
04073E DDF9                A  2797    	LD	SP,IX
040740 DDE1                A  2798    	POP	IX
040742 C9                  A  2799    	RET	
                           A  2800    
                           A  2801    
                           A  2802    ;**************************** _vdp_spriteClearF
                           A  2803    ;Name                         Addr/Register   S
                           A  2804    ;_putch                              IMPORT  --
                           A  2805    
                           A  2806    
                           A  2807    ; Stack Frame Size: 6 (bytes)
                           A  2808    ;       Spill Code: 0 (instruction)
                           A  2809    
                           A  2810    
                           A  2811    .ENDFUNC "vdp_spriteClearFramesSelected",237,"_
                           A  2812    ;  238	
                           A  2813    ;  239	void vdp_spriteClearFrames(UINT8 bitmap
                           A  2814    ;  240	{
040743                     A  2815    _vdp_spriteClearFrames:
                           A  2816    .DEFINE "_vdp_spriteClearFrames"
                           A  2817    
                           A  2818    .VALUE _vdp_spriteClearFrames
                           A  2819    
                           A  2820    .CLASS 2
                           A  2821    
                           A  2822    .TYPE 65
                           A  2823    
                           A  2824    .ENDEF
                           A  2825    
                           A  2826    .BEGFUNC "vdp_spriteClearFrames",240,"_vdp_spri
                           A  2827    
                           A  2828    .LINE 240
                           A  2829    
                           A  2830    .DEFINE "bitmapid"
                           A  2831    
                           A  2832    .CLASS 65
                           A  2833    
                           A  2834    .VALUE 6
                           A  2835    
                           A  2836    .TYPE 12
                           A  2837    
                           A  2838    .ENDEF
                           A  2839    
040743 DDE5                A  2840    	PUSH	IX
040745 DD210000 00         A  2841    	LD	IX,0
04074A DD39                A  2842    	ADD	IX,SP
                           A  2843    ;  241		vdp_spriteSelect(bitmapid);
                           A  2844    .LINE 241
                           A  2845    
04074C DD4E06              A  2846    	LD	C,(IX+%6)
04074F 0600                A  2847    	LD	B,%0
040751 C5                  A  2848    	PUSH	BC
040752 CD DE 06 04         A  2849    	CALL	_vdp_spriteSelect
040756 C1                  A  2850    	POP	BC
                           A  2851    ;  242		vdp_spriteClearFramesSelected();
                           A  2852    .LINE 242
                           A  2853    
040757 CD 17 07 04         A  2854    	CALL	_vdp_spriteClearFramesSelected
                           A  2855    ;  243		return;				
                           A  2856    ;  244	}
                           A  2857    .LINE 244
                           A  2858    
04075B DDF9                A  2859    	LD	SP,IX
04075D DDE1                A  2860    	POP	IX
04075F C9                  A  2861    	RET	
                           A  2862    
                           A  2863    
                           A  2864    ;**************************** _vdp_spriteClearF
                           A  2865    ;Name                         Addr/Register   S
                           A  2866    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2867    ;_vdp_spriteSelect                   IMPORT  --
                           A  2868    ;bitmapid                              IX+6    
                           A  2869    
                           A  2870    
                           A  2871    ; Stack Frame Size: 9 (bytes)
                           A  2872    ;       Spill Code: 0 (instruction)
                           A  2873    
                           A  2874    
                           A  2875    .ENDFUNC "vdp_spriteClearFrames",244,"_vdp_spri
                           A  2876    ;  245	
                           A  2877    ;  246	void vdp_spriteAddFrameSelected(UINT8 b
                           A  2878    ;  247	{
040760                     A  2879    _vdp_spriteAddFrameSelected:
                           A  2880    .DEFINE "_vdp_spriteAddFrameSelected"
                           A  2881    
                           A  2882    .VALUE _vdp_spriteAddFrameSelected
                           A  2883    
                           A  2884    .CLASS 2
                           A  2885    
                           A  2886    .TYPE 65
                           A  2887    
                           A  2888    .ENDEF
                           A  2889    
                           A  2890    .BEGFUNC "vdp_spriteAddFrameSelected",247,"_vdp
                           A  2891    
                           A  2892    .LINE 247
                           A  2893    
                           A  2894    .DEFINE "bitmapid"
                           A  2895    
                           A  2896    .CLASS 65
                           A  2897    
                           A  2898    .VALUE 6
                           A  2899    
                           A  2900    .TYPE 12
                           A  2901    
                           A  2902    .ENDEF
                           A  2903    
040760 DDE5                A  2904    	PUSH	IX
040762 DD210000 00         A  2905    	LD	IX,0
040767 DD39                A  2906    	ADD	IX,SP
                           A  2907    ;  248		putch(23); // vdu_sys
                           A  2908    .LINE 248
                           A  2909    
040769 01170000            A  2910    	LD	BC,23
04076D C5                  A  2911    	PUSH	BC
04076E CD 62 0C 04         A  2912    	CALL	_putch
040772 C1                  A  2913    	POP	BC
                           A  2914    ;  249		putch(27); // sprite command
                           A  2915    .LINE 249
                           A  2916    
040773 011B0000            A  2917    	LD	BC,27
040777 C5                  A  2918    	PUSH	BC
040778 CD 62 0C 04         A  2919    	CALL	_putch
04077C C1                  A  2920    	POP	BC
                           A  2921    ;  250		putch(6);  // add frame
                           A  2922    .LINE 250
                           A  2923    
04077D 01060000            A  2924    	LD	BC,6
040781 C5                  A  2925    	PUSH	BC
040782 CD 62 0C 04         A  2926    	CALL	_putch
040786 C1                  A  2927    	POP	BC
                           A  2928    ;  251		putch(bitmapid);
                           A  2929    .LINE 251
                           A  2930    
040787 DD7E06              A  2931    	LD	A,(IX+%6)
04078A B7ED62              A  2932    	UEXT	HL
04078D 6F                  A  2933    	LD	L,A
04078E E5                  A  2934    	PUSH	HL
04078F CD 62 0C 04         A  2935    	CALL	_putch
040793 C1                  A  2936    	POP	BC
                           A  2937    ;  252		return;	
                           A  2938    ;  253	}
                           A  2939    .LINE 253
                           A  2940    
040794 DDF9                A  2941    	LD	SP,IX
040796 DDE1                A  2942    	POP	IX
040798 C9                  A  2943    	RET	
                           A  2944    
                           A  2945    
                           A  2946    ;**************************** _vdp_spriteAddFra
                           A  2947    ;Name                         Addr/Register   S
                           A  2948    ;_putch                              IMPORT  --
                           A  2949    ;bitmapid                              IX+6    
                           A  2950    
                           A  2951    
                           A  2952    ; Stack Frame Size: 9 (bytes)
                           A  2953    ;       Spill Code: 0 (instruction)
                           A  2954    
                           A  2955    
                           A  2956    .ENDFUNC "vdp_spriteAddFrameSelected",253,"_vdp
                           A  2957    ;  254	
                           A  2958    ;  255	void vdp_spriteAddFrame(UINT8 id, UINT8
                           A  2959    ;  256	{
040799                     A  2960    _vdp_spriteAddFrame:
                           A  2961    .DEFINE "_vdp_spriteAddFrame"
                           A  2962    
                           A  2963    .VALUE _vdp_spriteAddFrame
                           A  2964    
                           A  2965    .CLASS 2
                           A  2966    
                           A  2967    .TYPE 65
                           A  2968    
                           A  2969    .ENDEF
                           A  2970    
                           A  2971    .BEGFUNC "vdp_spriteAddFrame",256,"_vdp_spriteA
                           A  2972    
                           A  2973    .LINE 256
                           A  2974    
                           A  2975    .DEFINE "id"
                           A  2976    
                           A  2977    .CLASS 65
                           A  2978    
                           A  2979    .VALUE 6
                           A  2980    
                           A  2981    .TYPE 12
                           A  2982    
                           A  2983    .ENDEF
                           A  2984    
                           A  2985    .DEFINE "bitmapid"
                           A  2986    
                           A  2987    .CLASS 65
                           A  2988    
                           A  2989    .VALUE 9
                           A  2990    
                           A  2991    .TYPE 12
                           A  2992    
                           A  2993    .ENDEF
                           A  2994    
040799 DDE5                A  2995    	PUSH	IX
04079B DD210000 00         A  2996    	LD	IX,0
0407A0 DD39                A  2997    	ADD	IX,SP
                           A  2998    ;  257		vdp_spriteSelect(id);
                           A  2999    .LINE 257
                           A  3000    
0407A2 DD4E06              A  3001    	LD	C,(IX+%6)
0407A5 0600                A  3002    	LD	B,%0
0407A7 C5                  A  3003    	PUSH	BC
0407A8 CD DE 06 04         A  3004    	CALL	_vdp_spriteSelect
0407AC C1                  A  3005    	POP	BC
                           A  3006    ;  258		vdp_spriteAddFrameSelected(bitmapid
                           A  3007    .LINE 258
                           A  3008    
0407AD DD4E09              A  3009    	LD	C,(IX+%9)
0407B0 0600                A  3010    	LD	B,%0
0407B2 C5                  A  3011    	PUSH	BC
0407B3 CD 60 07 04         A  3012    	CALL	_vdp_spriteAddFrameSelected
0407B7 C1                  A  3013    	POP	BC
                           A  3014    ;  259		return;	
                           A  3015    ;  260	}
                           A  3016    .LINE 260
                           A  3017    
0407B8 DDF9                A  3018    	LD	SP,IX
0407BA DDE1                A  3019    	POP	IX
0407BC C9                  A  3020    	RET	
                           A  3021    
                           A  3022    
                           A  3023    ;**************************** _vdp_spriteAddFra
                           A  3024    ;Name                         Addr/Register   S
                           A  3025    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  3026    ;_vdp_spriteSelect                   IMPORT  --
                           A  3027    ;bitmapid                              IX+9    
                           A  3028    ;id                                    IX+6    
                           A  3029    
                           A  3030    
                           A  3031    ; Stack Frame Size: 12 (bytes)
                           A  3032    ;       Spill Code: 0 (instruction)
                           A  3033    
                           A  3034    
                           A  3035    .ENDFUNC "vdp_spriteAddFrame",260,"_vdp_spriteA
                           A  3036    ;  261	
                           A  3037    ;  262	void vdp_spriteNextFrameSelected(void)
                           A  3038    ;  263	{
0407BD                     A  3039    _vdp_spriteNextFrameSelected:
                           A  3040    .DEFINE "_vdp_spriteNextFrameSelected"
                           A  3041    
                           A  3042    .VALUE _vdp_spriteNextFrameSelected
                           A  3043    
                           A  3044    .CLASS 2
                           A  3045    
                           A  3046    .TYPE 65
                           A  3047    
                           A  3048    .ENDEF
                           A  3049    
                           A  3050    .BEGFUNC "vdp_spriteNextFrameSelected",263,"_vd
                           A  3051    
0407BD DDE5                A  3052    	PUSH	IX
0407BF DD210000 00         A  3053    	LD	IX,0
0407C4 DD39                A  3054    	ADD	IX,SP
                           A  3055    ;  264		putch(23); // vdu_sys
                           A  3056    .LINE 264
                           A  3057    
0407C6 01170000            A  3058    	LD	BC,23
0407CA C5                  A  3059    	PUSH	BC
0407CB CD 62 0C 04         A  3060    	CALL	_putch
0407CF C1                  A  3061    	POP	BC
                           A  3062    ;  265		putch(27); // sprite command
                           A  3063    .LINE 265
                           A  3064    
0407D0 011B0000            A  3065    	LD	BC,27
0407D4 C5                  A  3066    	PUSH	BC
0407D5 CD 62 0C 04         A  3067    	CALL	_putch
0407D9 C1                  A  3068    	POP	BC
                           A  3069    ;  266		putch(8);  // next frame
                           A  3070    .LINE 266
                           A  3071    
0407DA 01080000            A  3072    	LD	BC,8
0407DE C5                  A  3073    	PUSH	BC
0407DF CD 62 0C 04         A  3074    	CALL	_putch
0407E3 C1                  A  3075    	POP	BC
                           A  3076    ;  267		return;			
                           A  3077    ;  268	}
                           A  3078    .LINE 268
                           A  3079    
0407E4 DDF9                A  3080    	LD	SP,IX
0407E6 DDE1                A  3081    	POP	IX
0407E8 C9                  A  3082    	RET	
                           A  3083    
                           A  3084    
                           A  3085    ;**************************** _vdp_spriteNextFr
                           A  3086    ;Name                         Addr/Register   S
                           A  3087    ;_putch                              IMPORT  --
                           A  3088    
                           A  3089    
                           A  3090    ; Stack Frame Size: 6 (bytes)
                           A  3091    ;       Spill Code: 0 (instruction)
                           A  3092    
                           A  3093    
                           A  3094    .ENDFUNC "vdp_spriteNextFrameSelected",268,"_vd
                           A  3095    ;  269	
                           A  3096    ;  270	void vdp_spriteNextFrame(UINT8 id)
                           A  3097    ;  271	{
0407E9                     A  3098    _vdp_spriteNextFrame:
                           A  3099    .DEFINE "_vdp_spriteNextFrame"
                           A  3100    
                           A  3101    .VALUE _vdp_spriteNextFrame
                           A  3102    
                           A  3103    .CLASS 2
                           A  3104    
                           A  3105    .TYPE 65
                           A  3106    
                           A  3107    .ENDEF
                           A  3108    
                           A  3109    .BEGFUNC "vdp_spriteNextFrame",271,"_vdp_sprite
                           A  3110    
                           A  3111    .LINE 271
                           A  3112    
                           A  3113    .DEFINE "id"
                           A  3114    
                           A  3115    .CLASS 65
                           A  3116    
                           A  3117    .VALUE 6
                           A  3118    
                           A  3119    .TYPE 12
                           A  3120    
                           A  3121    .ENDEF
                           A  3122    
0407E9 DDE5                A  3123    	PUSH	IX
0407EB DD210000 00         A  3124    	LD	IX,0
0407F0 DD39                A  3125    	ADD	IX,SP
                           A  3126    ;  272		vdp_spriteSelect(id);
                           A  3127    .LINE 272
                           A  3128    
0407F2 DD4E06              A  3129    	LD	C,(IX+%6)
0407F5 0600                A  3130    	LD	B,%0
0407F7 C5                  A  3131    	PUSH	BC
0407F8 CD DE 06 04         A  3132    	CALL	_vdp_spriteSelect
0407FC C1                  A  3133    	POP	BC
                           A  3134    ;  273		vdp_spriteNextFrameSelected();
                           A  3135    .LINE 273
                           A  3136    
0407FD CD BD 07 04         A  3137    	CALL	_vdp_spriteNextFrameSelected
                           A  3138    ;  274		return;
                           A  3139    ;  275	}
                           A  3140    .LINE 275
                           A  3141    
040801 DDF9                A  3142    	LD	SP,IX
040803 DDE1                A  3143    	POP	IX
040805 C9                  A  3144    	RET	
                           A  3145    
                           A  3146    
                           A  3147    ;**************************** _vdp_spriteNextFr
                           A  3148    ;Name                         Addr/Register   S
                           A  3149    ;_vdp_spriteNextFrameSelected        IMPORT  --
                           A  3150    ;_vdp_spriteSelect                   IMPORT  --
                           A  3151    ;id                                    IX+6    
                           A  3152    
                           A  3153    
                           A  3154    ; Stack Frame Size: 9 (bytes)
                           A  3155    ;       Spill Code: 0 (instruction)
                           A  3156    
                           A  3157    
                           A  3158    .ENDFUNC "vdp_spriteNextFrame",275,"_vdp_sprite
                           A  3159    ;  276	
                           A  3160    ;  277	void vdp_spritePreviousFrameSelected(vo
                           A  3161    ;  278	{
040806                     A  3162    _vdp_spritePreviousFrameSelected:
                           A  3163    .DEFINE "_vdp_spritePreviousFrameSelected"
                           A  3164    
                           A  3165    .VALUE _vdp_spritePreviousFrameSelected
                           A  3166    
                           A  3167    .CLASS 2
                           A  3168    
                           A  3169    .TYPE 65
                           A  3170    
                           A  3171    .ENDEF
                           A  3172    
                           A  3173    .BEGFUNC "vdp_spritePreviousFrameSelected",278,
                           A  3174    
040806 DDE5                A  3175    	PUSH	IX
040808 DD210000 00         A  3176    	LD	IX,0
04080D DD39                A  3177    	ADD	IX,SP
                           A  3178    ;  279		putch(23); // vdu_sys
                           A  3179    .LINE 279
                           A  3180    
04080F 01170000            A  3181    	LD	BC,23
040813 C5                  A  3182    	PUSH	BC
040814 CD 62 0C 04         A  3183    	CALL	_putch
040818 C1                  A  3184    	POP	BC
                           A  3185    ;  280		putch(27); // sprite command
                           A  3186    .LINE 280
                           A  3187    
040819 011B0000            A  3188    	LD	BC,27
04081D C5                  A  3189    	PUSH	BC
04081E CD 62 0C 04         A  3190    	CALL	_putch
040822 C1                  A  3191    	POP	BC
                           A  3192    ;  281		putch(9); // previous frame
                           A  3193    .LINE 281
                           A  3194    
040823 01090000            A  3195    	LD	BC,9
040827 C5                  A  3196    	PUSH	BC
040828 CD 62 0C 04         A  3197    	CALL	_putch
04082C C1                  A  3198    	POP	BC
                           A  3199    ;  282		return;	
                           A  3200    ;  283	}
                           A  3201    .LINE 283
                           A  3202    
04082D DDF9                A  3203    	LD	SP,IX
04082F DDE1                A  3204    	POP	IX
040831 C9                  A  3205    	RET	
                           A  3206    
                           A  3207    
                           A  3208    ;**************************** _vdp_spritePrevio
                           A  3209    ;Name                         Addr/Register   S
                           A  3210    ;_putch                              IMPORT  --
                           A  3211    
                           A  3212    
                           A  3213    ; Stack Frame Size: 6 (bytes)
                           A  3214    ;       Spill Code: 0 (instruction)
                           A  3215    
                           A  3216    
                           A  3217    .ENDFUNC "vdp_spritePreviousFrameSelected",283,
                           A  3218    ;  284	
                           A  3219    ;  285	void vdp_spritePreviousFrame(UINT8 id)
                           A  3220    ;  286	{
040832                     A  3221    _vdp_spritePreviousFrame:
                           A  3222    .DEFINE "_vdp_spritePreviousFrame"
                           A  3223    
                           A  3224    .VALUE _vdp_spritePreviousFrame
                           A  3225    
                           A  3226    .CLASS 2
                           A  3227    
                           A  3228    .TYPE 65
                           A  3229    
                           A  3230    .ENDEF
                           A  3231    
                           A  3232    .BEGFUNC "vdp_spritePreviousFrame",286,"_vdp_sp
                           A  3233    
                           A  3234    .LINE 286
                           A  3235    
                           A  3236    .DEFINE "id"
                           A  3237    
                           A  3238    .CLASS 65
                           A  3239    
                           A  3240    .VALUE 6
                           A  3241    
                           A  3242    .TYPE 12
                           A  3243    
                           A  3244    .ENDEF
                           A  3245    
040832 DDE5                A  3246    	PUSH	IX
040834 DD210000 00         A  3247    	LD	IX,0
040839 DD39                A  3248    	ADD	IX,SP
                           A  3249    ;  287		vdp_spriteSelect(id);
                           A  3250    .LINE 287
                           A  3251    
04083B DD4E06              A  3252    	LD	C,(IX+%6)
04083E 0600                A  3253    	LD	B,%0
040840 C5                  A  3254    	PUSH	BC
040841 CD DE 06 04         A  3255    	CALL	_vdp_spriteSelect
040845 C1                  A  3256    	POP	BC
                           A  3257    ;  288		vdp_spritePreviousFrameSelected();
                           A  3258    .LINE 288
                           A  3259    
040846 CD 06 08 04         A  3260    	CALL	_vdp_spritePreviousFrameSelected
                           A  3261    ;  289		return;
                           A  3262    ;  290	}
                           A  3263    .LINE 290
                           A  3264    
04084A DDF9                A  3265    	LD	SP,IX
04084C DDE1                A  3266    	POP	IX
04084E C9                  A  3267    	RET	
                           A  3268    
                           A  3269    
                           A  3270    ;**************************** _vdp_spritePrevio
                           A  3271    ;Name                         Addr/Register   S
                           A  3272    ;_vdp_spritePreviousFrameSelected      IMPORT  
                           A  3273    ;_vdp_spriteSelect                   IMPORT  --
                           A  3274    ;id                                    IX+6    
                           A  3275    
                           A  3276    
                           A  3277    ; Stack Frame Size: 9 (bytes)
                           A  3278    ;       Spill Code: 0 (instruction)
                           A  3279    
                           A  3280    
                           A  3281    .ENDFUNC "vdp_spritePreviousFrame",290,"_vdp_sp
                           A  3282    ;  291	
                           A  3283    ;  292	void vdp_spriteSetFrameSelected(UINT8 f
                           A  3284    ;  293	{
04084F                     A  3285    _vdp_spriteSetFrameSelected:
                           A  3286    .DEFINE "_vdp_spriteSetFrameSelected"
                           A  3287    
                           A  3288    .VALUE _vdp_spriteSetFrameSelected
                           A  3289    
                           A  3290    .CLASS 2
                           A  3291    
                           A  3292    .TYPE 65
                           A  3293    
                           A  3294    .ENDEF
                           A  3295    
                           A  3296    .BEGFUNC "vdp_spriteSetFrameSelected",293,"_vdp
                           A  3297    
                           A  3298    .LINE 293
                           A  3299    
                           A  3300    .DEFINE "framenumber"
                           A  3301    
                           A  3302    .CLASS 65
                           A  3303    
                           A  3304    .VALUE 6
                           A  3305    
                           A  3306    .TYPE 12
                           A  3307    
                           A  3308    .ENDEF
                           A  3309    
04084F DDE5                A  3310    	PUSH	IX
040851 DD210000 00         A  3311    	LD	IX,0
040856 DD39                A  3312    	ADD	IX,SP
                           A  3313    ;  294		putch(23); // vdu_sys
                           A  3314    .LINE 294
                           A  3315    
040858 01170000            A  3316    	LD	BC,23
04085C C5                  A  3317    	PUSH	BC
04085D CD 62 0C 04         A  3318    	CALL	_putch
040861 C1                  A  3319    	POP	BC
                           A  3320    ;  295		putch(27); // sprite command
                           A  3321    .LINE 295
                           A  3322    
040862 011B0000            A  3323    	LD	BC,27
040866 C5                  A  3324    	PUSH	BC
040867 CD 62 0C 04         A  3325    	CALL	_putch
04086B C1                  A  3326    	POP	BC
                           A  3327    ;  296		putch(10); // set current frame
                           A  3328    .LINE 296
                           A  3329    
04086C 010A0000            A  3330    	LD	BC,10
040870 C5                  A  3331    	PUSH	BC
040871 CD 62 0C 04         A  3332    	CALL	_putch
040875 C1                  A  3333    	POP	BC
                           A  3334    ;  297		putch(framenumber);
                           A  3335    .LINE 297
                           A  3336    
040876 DD7E06              A  3337    	LD	A,(IX+%6)
040879 B7ED62              A  3338    	UEXT	HL
04087C 6F                  A  3339    	LD	L,A
04087D E5                  A  3340    	PUSH	HL
04087E CD 62 0C 04         A  3341    	CALL	_putch
040882 C1                  A  3342    	POP	BC
                           A  3343    ;  298		return;	
                           A  3344    ;  299	}
                           A  3345    .LINE 299
                           A  3346    
040883 DDF9                A  3347    	LD	SP,IX
040885 DDE1                A  3348    	POP	IX
040887 C9                  A  3349    	RET	
                           A  3350    
                           A  3351    
                           A  3352    ;**************************** _vdp_spriteSetFra
                           A  3353    ;Name                         Addr/Register   S
                           A  3354    ;_putch                              IMPORT  --
                           A  3355    ;framenumber                           IX+6    
                           A  3356    
                           A  3357    
                           A  3358    ; Stack Frame Size: 9 (bytes)
                           A  3359    ;       Spill Code: 0 (instruction)
                           A  3360    
                           A  3361    
                           A  3362    .ENDFUNC "vdp_spriteSetFrameSelected",299,"_vdp
                           A  3363    ;  300	
                           A  3364    ;  301	void vdp_spriteSetFrame(UINT8 id, UINT8
                           A  3365    ;  302	{
040888                     A  3366    _vdp_spriteSetFrame:
                           A  3367    .DEFINE "_vdp_spriteSetFrame"
                           A  3368    
                           A  3369    .VALUE _vdp_spriteSetFrame
                           A  3370    
                           A  3371    .CLASS 2
                           A  3372    
                           A  3373    .TYPE 65
                           A  3374    
                           A  3375    .ENDEF
                           A  3376    
                           A  3377    .BEGFUNC "vdp_spriteSetFrame",302,"_vdp_spriteS
                           A  3378    
                           A  3379    .LINE 302
                           A  3380    
                           A  3381    .DEFINE "id"
                           A  3382    
                           A  3383    .CLASS 65
                           A  3384    
                           A  3385    .VALUE 6
                           A  3386    
                           A  3387    .TYPE 12
                           A  3388    
                           A  3389    .ENDEF
                           A  3390    
                           A  3391    .DEFINE "framenumber"
                           A  3392    
                           A  3393    .CLASS 65
                           A  3394    
                           A  3395    .VALUE 9
                           A  3396    
                           A  3397    .TYPE 12
                           A  3398    
                           A  3399    .ENDEF
                           A  3400    
040888 DDE5                A  3401    	PUSH	IX
04088A DD210000 00         A  3402    	LD	IX,0
04088F DD39                A  3403    	ADD	IX,SP
                           A  3404    ;  303		vdp_spriteSelect(id);
                           A  3405    .LINE 303
                           A  3406    
040891 DD4E06              A  3407    	LD	C,(IX+%6)
040894 0600                A  3408    	LD	B,%0
040896 C5                  A  3409    	PUSH	BC
040897 CD DE 06 04         A  3410    	CALL	_vdp_spriteSelect
04089B C1                  A  3411    	POP	BC
                           A  3412    ;  304		vdp_spriteSetFrameSelected(framenum
                           A  3413    .LINE 304
                           A  3414    
04089C DD4E09              A  3415    	LD	C,(IX+%9)
04089F 0600                A  3416    	LD	B,%0
0408A1 C5                  A  3417    	PUSH	BC
0408A2 CD 4F 08 04         A  3418    	CALL	_vdp_spriteSetFrameSelected
0408A6 C1                  A  3419    	POP	BC
                           A  3420    ;  305		return;
                           A  3421    ;  306	}
                           A  3422    .LINE 306
                           A  3423    
0408A7 DDF9                A  3424    	LD	SP,IX
0408A9 DDE1                A  3425    	POP	IX
0408AB C9                  A  3426    	RET	
                           A  3427    
                           A  3428    
                           A  3429    ;**************************** _vdp_spriteSetFra
                           A  3430    ;Name                         Addr/Register   S
                           A  3431    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3432    ;_vdp_spriteSelect                   IMPORT  --
                           A  3433    ;framenumber                           IX+9    
                           A  3434    ;id                                    IX+6    
                           A  3435    
                           A  3436    
                           A  3437    ; Stack Frame Size: 12 (bytes)
                           A  3438    ;       Spill Code: 0 (instruction)
                           A  3439    
                           A  3440    
                           A  3441    .ENDFUNC "vdp_spriteSetFrame",306,"_vdp_spriteS
                           A  3442    ;  307	
                           A  3443    ;  308	void vdp_spriteShowSelected(void)
                           A  3444    ;  309	{
0408AC                     A  3445    _vdp_spriteShowSelected:
                           A  3446    .DEFINE "_vdp_spriteShowSelected"
                           A  3447    
                           A  3448    .VALUE _vdp_spriteShowSelected
                           A  3449    
                           A  3450    .CLASS 2
                           A  3451    
                           A  3452    .TYPE 65
                           A  3453    
                           A  3454    .ENDEF
                           A  3455    
                           A  3456    .BEGFUNC "vdp_spriteShowSelected",309,"_vdp_spr
                           A  3457    
0408AC DDE5                A  3458    	PUSH	IX
0408AE DD210000 00         A  3459    	LD	IX,0
0408B3 DD39                A  3460    	ADD	IX,SP
                           A  3461    ;  310		putch(23); // vdu_sys
                           A  3462    .LINE 310
                           A  3463    
0408B5 01170000            A  3464    	LD	BC,23
0408B9 C5                  A  3465    	PUSH	BC
0408BA CD 62 0C 04         A  3466    	CALL	_putch
0408BE C1                  A  3467    	POP	BC
                           A  3468    ;  311		putch(27); // sprite command
                           A  3469    .LINE 311
                           A  3470    
0408BF 011B0000            A  3471    	LD	BC,27
0408C3 C5                  A  3472    	PUSH	BC
0408C4 CD 62 0C 04         A  3473    	CALL	_putch
0408C8 C1                  A  3474    	POP	BC
                           A  3475    ;  312		putch(11); // show sprite
                           A  3476    .LINE 312
                           A  3477    
0408C9 010B0000            A  3478    	LD	BC,11
0408CD C5                  A  3479    	PUSH	BC
0408CE CD 62 0C 04         A  3480    	CALL	_putch
0408D2 C1                  A  3481    	POP	BC
                           A  3482    ;  313		return;			
                           A  3483    ;  314	}
                           A  3484    .LINE 314
                           A  3485    
0408D3 DDF9                A  3486    	LD	SP,IX
0408D5 DDE1                A  3487    	POP	IX
0408D7 C9                  A  3488    	RET	
                           A  3489    
                           A  3490    
                           A  3491    ;**************************** _vdp_spriteShowSe
                           A  3492    ;Name                         Addr/Register   S
                           A  3493    ;_putch                              IMPORT  --
                           A  3494    
                           A  3495    
                           A  3496    ; Stack Frame Size: 6 (bytes)
                           A  3497    ;       Spill Code: 0 (instruction)
                           A  3498    
                           A  3499    
                           A  3500    .ENDFUNC "vdp_spriteShowSelected",314,"_vdp_spr
                           A  3501    ;  315	
                           A  3502    ;  316	void vdp_spriteShow(UINT8 id)
                           A  3503    ;  317	{
0408D8                     A  3504    _vdp_spriteShow:
                           A  3505    .DEFINE "_vdp_spriteShow"
                           A  3506    
                           A  3507    .VALUE _vdp_spriteShow
                           A  3508    
                           A  3509    .CLASS 2
                           A  3510    
                           A  3511    .TYPE 65
                           A  3512    
                           A  3513    .ENDEF
                           A  3514    
                           A  3515    .BEGFUNC "vdp_spriteShow",317,"_vdp_spriteShow"
                           A  3516    
                           A  3517    .LINE 317
                           A  3518    
                           A  3519    .DEFINE "id"
                           A  3520    
                           A  3521    .CLASS 65
                           A  3522    
                           A  3523    .VALUE 6
                           A  3524    
                           A  3525    .TYPE 12
                           A  3526    
                           A  3527    .ENDEF
                           A  3528    
0408D8 DDE5                A  3529    	PUSH	IX
0408DA DD210000 00         A  3530    	LD	IX,0
0408DF DD39                A  3531    	ADD	IX,SP
                           A  3532    ;  318		vdp_spriteSelect(id);
                           A  3533    .LINE 318
                           A  3534    
0408E1 DD4E06              A  3535    	LD	C,(IX+%6)
0408E4 0600                A  3536    	LD	B,%0
0408E6 C5                  A  3537    	PUSH	BC
0408E7 CD DE 06 04         A  3538    	CALL	_vdp_spriteSelect
0408EB C1                  A  3539    	POP	BC
                           A  3540    ;  319		vdp_spriteShowSelected();
                           A  3541    .LINE 319
                           A  3542    
0408EC CD AC 08 04         A  3543    	CALL	_vdp_spriteShowSelected
                           A  3544    ;  320		return;
                           A  3545    ;  321	}
                           A  3546    .LINE 321
                           A  3547    
0408F0 DDF9                A  3548    	LD	SP,IX
0408F2 DDE1                A  3549    	POP	IX
0408F4 C9                  A  3550    	RET	
                           A  3551    
                           A  3552    
                           A  3553    ;**************************** _vdp_spriteShow *
                           A  3554    ;Name                         Addr/Register   S
                           A  3555    ;_vdp_spriteShowSelected             IMPORT  --
                           A  3556    ;_vdp_spriteSelect                   IMPORT  --
                           A  3557    ;id                                    IX+6    
                           A  3558    
                           A  3559    
                           A  3560    ; Stack Frame Size: 9 (bytes)
                           A  3561    ;       Spill Code: 0 (instruction)
                           A  3562    
                           A  3563    
                           A  3564    .ENDFUNC "vdp_spriteShow",321,"_vdp_spriteShow"
                           A  3565    ;  322	
                           A  3566    ;  323	void vdp_spriteHideSelected(void)
                           A  3567    ;  324	{
0408F5                     A  3568    _vdp_spriteHideSelected:
                           A  3569    .DEFINE "_vdp_spriteHideSelected"
                           A  3570    
                           A  3571    .VALUE _vdp_spriteHideSelected
                           A  3572    
                           A  3573    .CLASS 2
                           A  3574    
                           A  3575    .TYPE 65
                           A  3576    
                           A  3577    .ENDEF
                           A  3578    
                           A  3579    .BEGFUNC "vdp_spriteHideSelected",324,"_vdp_spr
                           A  3580    
0408F5 DDE5                A  3581    	PUSH	IX
0408F7 DD210000 00         A  3582    	LD	IX,0
0408FC DD39                A  3583    	ADD	IX,SP
                           A  3584    ;  325		putch(23); // vdu_sys
                           A  3585    .LINE 325
                           A  3586    
0408FE 01170000            A  3587    	LD	BC,23
040902 C5                  A  3588    	PUSH	BC
040903 CD 62 0C 04         A  3589    	CALL	_putch
040907 C1                  A  3590    	POP	BC
                           A  3591    ;  326		putch(27); // sprite command
                           A  3592    .LINE 326
                           A  3593    
040908 011B0000            A  3594    	LD	BC,27
04090C C5                  A  3595    	PUSH	BC
04090D CD 62 0C 04         A  3596    	CALL	_putch
040911 C1                  A  3597    	POP	BC
                           A  3598    ;  327		putch(12); // hide sprite
                           A  3599    .LINE 327
                           A  3600    
040912 010C0000            A  3601    	LD	BC,12
040916 C5                  A  3602    	PUSH	BC
040917 CD 62 0C 04         A  3603    	CALL	_putch
04091B C1                  A  3604    	POP	BC
                           A  3605    ;  328		return;		
                           A  3606    ;  329	}
                           A  3607    .LINE 329
                           A  3608    
04091C DDF9                A  3609    	LD	SP,IX
04091E DDE1                A  3610    	POP	IX
040920 C9                  A  3611    	RET	
                           A  3612    
                           A  3613    
                           A  3614    ;**************************** _vdp_spriteHideSe
                           A  3615    ;Name                         Addr/Register   S
                           A  3616    ;_putch                              IMPORT  --
                           A  3617    
                           A  3618    
                           A  3619    ; Stack Frame Size: 6 (bytes)
                           A  3620    ;       Spill Code: 0 (instruction)
                           A  3621    
                           A  3622    
                           A  3623    .ENDFUNC "vdp_spriteHideSelected",329,"_vdp_spr
                           A  3624    ;  330	
                           A  3625    ;  331	void vdp_spriteHide(UINT8 id)
                           A  3626    ;  332	{
040921                     A  3627    _vdp_spriteHide:
                           A  3628    .DEFINE "_vdp_spriteHide"
                           A  3629    
                           A  3630    .VALUE _vdp_spriteHide
                           A  3631    
                           A  3632    .CLASS 2
                           A  3633    
                           A  3634    .TYPE 65
                           A  3635    
                           A  3636    .ENDEF
                           A  3637    
                           A  3638    .BEGFUNC "vdp_spriteHide",332,"_vdp_spriteHide"
                           A  3639    
                           A  3640    .LINE 332
                           A  3641    
                           A  3642    .DEFINE "id"
                           A  3643    
                           A  3644    .CLASS 65
                           A  3645    
                           A  3646    .VALUE 6
                           A  3647    
                           A  3648    .TYPE 12
                           A  3649    
                           A  3650    .ENDEF
                           A  3651    
040921 DDE5                A  3652    	PUSH	IX
040923 DD210000 00         A  3653    	LD	IX,0
040928 DD39                A  3654    	ADD	IX,SP
                           A  3655    ;  333		vdp_spriteSelect(id);
                           A  3656    .LINE 333
                           A  3657    
04092A DD4E06              A  3658    	LD	C,(IX+%6)
04092D 0600                A  3659    	LD	B,%0
04092F C5                  A  3660    	PUSH	BC
040930 CD DE 06 04         A  3661    	CALL	_vdp_spriteSelect
040934 C1                  A  3662    	POP	BC
                           A  3663    ;  334		vdp_spriteHideSelected();
                           A  3664    .LINE 334
                           A  3665    
040935 CD F5 08 04         A  3666    	CALL	_vdp_spriteHideSelected
                           A  3667    ;  335		return;
                           A  3668    ;  336	}
                           A  3669    .LINE 336
                           A  3670    
040939 DDF9                A  3671    	LD	SP,IX
04093B DDE1                A  3672    	POP	IX
04093D C9                  A  3673    	RET	
                           A  3674    
                           A  3675    
                           A  3676    ;**************************** _vdp_spriteHide *
                           A  3677    ;Name                         Addr/Register   S
                           A  3678    ;_vdp_spriteHideSelected             IMPORT  --
                           A  3679    ;_vdp_spriteSelect                   IMPORT  --
                           A  3680    ;id                                    IX+6    
                           A  3681    
                           A  3682    
                           A  3683    ; Stack Frame Size: 9 (bytes)
                           A  3684    ;       Spill Code: 0 (instruction)
                           A  3685    
                           A  3686    
                           A  3687    .ENDFUNC "vdp_spriteHide",336,"_vdp_spriteHide"
                           A  3688    ;  337	
                           A  3689    ;  338	void vdp_spriteMoveToSelected(UINT16 x,
                           A  3690    ;  339	{
04093E                     A  3691    _vdp_spriteMoveToSelected:
                           A  3692    .DEFINE "_vdp_spriteMoveToSelected"
                           A  3693    
                           A  3694    .VALUE _vdp_spriteMoveToSelected
                           A  3695    
                           A  3696    .CLASS 2
                           A  3697    
                           A  3698    .TYPE 65
                           A  3699    
                           A  3700    .ENDEF
                           A  3701    
                           A  3702    .BEGFUNC "vdp_spriteMoveToSelected",339,"_vdp_s
                           A  3703    
                           A  3704    .LINE 339
                           A  3705    
                           A  3706    .DEFINE "x"
                           A  3707    
                           A  3708    .CLASS 65
                           A  3709    
                           A  3710    .VALUE 6
                           A  3711    
                           A  3712    .TYPE 13
                           A  3713    
                           A  3714    .ENDEF
                           A  3715    
                           A  3716    .DEFINE "y"
                           A  3717    
                           A  3718    .CLASS 65
                           A  3719    
                           A  3720    .VALUE 9
                           A  3721    
                           A  3722    .TYPE 13
                           A  3723    
                           A  3724    .ENDEF
                           A  3725    
04093E DDE5                A  3726    	PUSH	IX
040940 DD210000 00         A  3727    	LD	IX,0
040945 DD39                A  3728    	ADD	IX,SP
                           A  3729    ;  340		putch(23); // vdu_sys
                           A  3730    .LINE 340
                           A  3731    
040947 01170000            A  3732    	LD	BC,23
04094B C5                  A  3733    	PUSH	BC
04094C CD 62 0C 04         A  3734    	CALL	_putch
040950 C1                  A  3735    	POP	BC
                           A  3736    ;  341		putch(27); // sprite command
                           A  3737    .LINE 341
                           A  3738    
040951 011B0000            A  3739    	LD	BC,27
040955 C5                  A  3740    	PUSH	BC
040956 CD 62 0C 04         A  3741    	CALL	_putch
04095A C1                  A  3742    	POP	BC
                           A  3743    ;  342		putch(13); // move to
                           A  3744    .LINE 342
                           A  3745    
04095B 010D0000            A  3746    	LD	BC,13
04095F C5                  A  3747    	PUSH	BC
040960 CD 62 0C 04         A  3748    	CALL	_putch
040964 C1                  A  3749    	POP	BC
                           A  3750    ;  343		write16bit(x);
                           A  3751    .LINE 343
                           A  3752    
040965 DD0706              A  3753    	LD	BC,(IX+%6)
040968 C5                  A  3754    	PUSH	BC
040969 CD 09 01 04         A  3755    	CALL	_write16bit
04096D C1                  A  3756    	POP	BC
                           A  3757    ;  344		write16bit(y);
                           A  3758    .LINE 344
                           A  3759    
04096E DD0709              A  3760    	LD	BC,(IX+%9)
040971 C5                  A  3761    	PUSH	BC
040972 CD 09 01 04         A  3762    	CALL	_write16bit
040976 C1                  A  3763    	POP	BC
                           A  3764    ;  345		return;	
                           A  3765    ;  346	}
                           A  3766    .LINE 346
                           A  3767    
040977 DDF9                A  3768    	LD	SP,IX
040979 DDE1                A  3769    	POP	IX
04097B C9                  A  3770    	RET	
                           A  3771    
                           A  3772    
                           A  3773    ;**************************** _vdp_spriteMoveTo
                           A  3774    ;Name                         Addr/Register   S
                           A  3775    ;_putch                              IMPORT  --
                           A  3776    ;y                                     IX+9    
                           A  3777    ;x                                     IX+6    
                           A  3778    
                           A  3779    
                           A  3780    ; Stack Frame Size: 12 (bytes)
                           A  3781    ;       Spill Code: 0 (instruction)
                           A  3782    
                           A  3783    
                           A  3784    .ENDFUNC "vdp_spriteMoveToSelected",346,"_vdp_s
                           A  3785    ;  347	
                           A  3786    ;  348	void vdp_spriteMoveTo(UINT8 id, UINT16 
                           A  3787    ;  349	{
04097C                     A  3788    _vdp_spriteMoveTo:
                           A  3789    .DEFINE "_vdp_spriteMoveTo"
                           A  3790    
                           A  3791    .VALUE _vdp_spriteMoveTo
                           A  3792    
                           A  3793    .CLASS 2
                           A  3794    
                           A  3795    .TYPE 65
                           A  3796    
                           A  3797    .ENDEF
                           A  3798    
                           A  3799    .BEGFUNC "vdp_spriteMoveTo",349,"_vdp_spriteMov
                           A  3800    
                           A  3801    .LINE 349
                           A  3802    
                           A  3803    .DEFINE "id"
                           A  3804    
                           A  3805    .CLASS 65
                           A  3806    
                           A  3807    .VALUE 6
                           A  3808    
                           A  3809    .TYPE 12
                           A  3810    
                           A  3811    .ENDEF
                           A  3812    
                           A  3813    .DEFINE "x"
                           A  3814    
                           A  3815    .CLASS 65
                           A  3816    
                           A  3817    .VALUE 9
                           A  3818    
                           A  3819    .TYPE 13
                           A  3820    
                           A  3821    .ENDEF
                           A  3822    
                           A  3823    .DEFINE "y"
                           A  3824    
                           A  3825    .CLASS 65
                           A  3826    
                           A  3827    .VALUE 12
                           A  3828    
                           A  3829    .TYPE 13
                           A  3830    
                           A  3831    .ENDEF
                           A  3832    
04097C DDE5                A  3833    	PUSH	IX
04097E DD210000 00         A  3834    	LD	IX,0
040983 DD39                A  3835    	ADD	IX,SP
                           A  3836    ;  350		vdp_spriteSelect(id);
                           A  3837    .LINE 350
                           A  3838    
040985 DD4E06              A  3839    	LD	C,(IX+%6)
040988 0600                A  3840    	LD	B,%0
04098A C5                  A  3841    	PUSH	BC
04098B CD DE 06 04         A  3842    	CALL	_vdp_spriteSelect
04098F C1                  A  3843    	POP	BC
                           A  3844    ;  351		vdp_spriteMoveToSelected(x,y);
                           A  3845    .LINE 351
                           A  3846    
040990 DD070C              A  3847    	LD	BC,(IX+%C)
040993 C5                  A  3848    	PUSH	BC
040994 DD0709              A  3849    	LD	BC,(IX+%9)
040997 C5                  A  3850    	PUSH	BC
040998 CD 3E 09 04         A  3851    	CALL	_vdp_spriteMoveToSelected
04099C C1                  A  3852    	POP	BC
04099D C1                  A  3853    	POP	BC
                           A  3854    ;  352		return;
                           A  3855    ;  353	}
                           A  3856    .LINE 353
                           A  3857    
04099E DDF9                A  3858    	LD	SP,IX
0409A0 DDE1                A  3859    	POP	IX
0409A2 C9                  A  3860    	RET	
                           A  3861    
                           A  3862    
                           A  3863    ;**************************** _vdp_spriteMoveTo
                           A  3864    ;Name                         Addr/Register   S
                           A  3865    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  3866    ;_vdp_spriteSelect                   IMPORT  --
                           A  3867    ;y                                    IX+12    
                           A  3868    ;x                                     IX+9    
                           A  3869    ;id                                    IX+6    
                           A  3870    
                           A  3871    
                           A  3872    ; Stack Frame Size: 15 (bytes)
                           A  3873    ;       Spill Code: 0 (instruction)
                           A  3874    
                           A  3875    
                           A  3876    .ENDFUNC "vdp_spriteMoveTo",353,"_vdp_spriteMov
                           A  3877    ;  354	
                           A  3878    ;  355	void vdp_spriteMoveBySelected(UINT16 x,
                           A  3879    ;  356	{
0409A3                     A  3880    _vdp_spriteMoveBySelected:
                           A  3881    .DEFINE "_vdp_spriteMoveBySelected"
                           A  3882    
                           A  3883    .VALUE _vdp_spriteMoveBySelected
                           A  3884    
                           A  3885    .CLASS 2
                           A  3886    
                           A  3887    .TYPE 65
                           A  3888    
                           A  3889    .ENDEF
                           A  3890    
                           A  3891    .BEGFUNC "vdp_spriteMoveBySelected",356,"_vdp_s
                           A  3892    
                           A  3893    .LINE 356
                           A  3894    
                           A  3895    .DEFINE "x"
                           A  3896    
                           A  3897    .CLASS 65
                           A  3898    
                           A  3899    .VALUE 6
                           A  3900    
                           A  3901    .TYPE 13
                           A  3902    
                           A  3903    .ENDEF
                           A  3904    
                           A  3905    .DEFINE "y"
                           A  3906    
                           A  3907    .CLASS 65
                           A  3908    
                           A  3909    .VALUE 9
                           A  3910    
                           A  3911    .TYPE 13
                           A  3912    
                           A  3913    .ENDEF
                           A  3914    
0409A3 DDE5                A  3915    	PUSH	IX
0409A5 DD210000 00         A  3916    	LD	IX,0
0409AA DD39                A  3917    	ADD	IX,SP
                           A  3918    ;  357		putch(23); // vdu_sys
                           A  3919    .LINE 357
                           A  3920    
0409AC 01170000            A  3921    	LD	BC,23
0409B0 C5                  A  3922    	PUSH	BC
0409B1 CD 62 0C 04         A  3923    	CALL	_putch
0409B5 C1                  A  3924    	POP	BC
                           A  3925    ;  358		putch(27); // sprite command
                           A  3926    .LINE 358
                           A  3927    
0409B6 011B0000            A  3928    	LD	BC,27
0409BA C5                  A  3929    	PUSH	BC
0409BB CD 62 0C 04         A  3930    	CALL	_putch
0409BF C1                  A  3931    	POP	BC
                           A  3932    ;  359		putch(14); // move by
                           A  3933    .LINE 359
                           A  3934    
0409C0 010E0000            A  3935    	LD	BC,14
0409C4 C5                  A  3936    	PUSH	BC
0409C5 CD 62 0C 04         A  3937    	CALL	_putch
0409C9 C1                  A  3938    	POP	BC
                           A  3939    ;  360		write16bit(x);
                           A  3940    .LINE 360
                           A  3941    
0409CA DD0706              A  3942    	LD	BC,(IX+%6)
0409CD C5                  A  3943    	PUSH	BC
0409CE CD 09 01 04         A  3944    	CALL	_write16bit
0409D2 C1                  A  3945    	POP	BC
                           A  3946    ;  361		write16bit(y);
                           A  3947    .LINE 361
                           A  3948    
0409D3 DD0709              A  3949    	LD	BC,(IX+%9)
0409D6 C5                  A  3950    	PUSH	BC
0409D7 CD 09 01 04         A  3951    	CALL	_write16bit
0409DB C1                  A  3952    	POP	BC
                           A  3953    ;  362		return;	
                           A  3954    ;  363	}
                           A  3955    .LINE 363
                           A  3956    
0409DC DDF9                A  3957    	LD	SP,IX
0409DE DDE1                A  3958    	POP	IX
0409E0 C9                  A  3959    	RET	
                           A  3960    
                           A  3961    
                           A  3962    ;**************************** _vdp_spriteMoveBy
                           A  3963    ;Name                         Addr/Register   S
                           A  3964    ;_putch                              IMPORT  --
                           A  3965    ;y                                     IX+9    
                           A  3966    ;x                                     IX+6    
                           A  3967    
                           A  3968    
                           A  3969    ; Stack Frame Size: 12 (bytes)
                           A  3970    ;       Spill Code: 0 (instruction)
                           A  3971    
                           A  3972    
                           A  3973    .ENDFUNC "vdp_spriteMoveBySelected",363,"_vdp_s
                           A  3974    ;  364	
                           A  3975    ;  365	void vdp_spriteMoveBy(UINT8 id, UINT16 
                           A  3976    ;  366	{
0409E1                     A  3977    _vdp_spriteMoveBy:
                           A  3978    .DEFINE "_vdp_spriteMoveBy"
                           A  3979    
                           A  3980    .VALUE _vdp_spriteMoveBy
                           A  3981    
                           A  3982    .CLASS 2
                           A  3983    
                           A  3984    .TYPE 65
                           A  3985    
                           A  3986    .ENDEF
                           A  3987    
                           A  3988    .BEGFUNC "vdp_spriteMoveBy",366,"_vdp_spriteMov
                           A  3989    
                           A  3990    .LINE 366
                           A  3991    
                           A  3992    .DEFINE "id"
                           A  3993    
                           A  3994    .CLASS 65
                           A  3995    
                           A  3996    .VALUE 6
                           A  3997    
                           A  3998    .TYPE 12
                           A  3999    
                           A  4000    .ENDEF
                           A  4001    
                           A  4002    .DEFINE "x"
                           A  4003    
                           A  4004    .CLASS 65
                           A  4005    
                           A  4006    .VALUE 9
                           A  4007    
                           A  4008    .TYPE 13
                           A  4009    
                           A  4010    .ENDEF
                           A  4011    
                           A  4012    .DEFINE "y"
                           A  4013    
                           A  4014    .CLASS 65
                           A  4015    
                           A  4016    .VALUE 12
                           A  4017    
                           A  4018    .TYPE 13
                           A  4019    
                           A  4020    .ENDEF
                           A  4021    
0409E1 DDE5                A  4022    	PUSH	IX
0409E3 DD210000 00         A  4023    	LD	IX,0
0409E8 DD39                A  4024    	ADD	IX,SP
                           A  4025    ;  367		vdp_spriteSelect(id);
                           A  4026    .LINE 367
                           A  4027    
0409EA DD4E06              A  4028    	LD	C,(IX+%6)
0409ED 0600                A  4029    	LD	B,%0
0409EF C5                  A  4030    	PUSH	BC
0409F0 CD DE 06 04         A  4031    	CALL	_vdp_spriteSelect
0409F4 C1                  A  4032    	POP	BC
                           A  4033    ;  368		vdp_spriteMoveBySelected(x,y);
                           A  4034    .LINE 368
                           A  4035    
0409F5 DD070C              A  4036    	LD	BC,(IX+%C)
0409F8 C5                  A  4037    	PUSH	BC
0409F9 DD0709              A  4038    	LD	BC,(IX+%9)
0409FC C5                  A  4039    	PUSH	BC
0409FD CD A3 09 04         A  4040    	CALL	_vdp_spriteMoveBySelected
040A01 C1                  A  4041    	POP	BC
040A02 C1                  A  4042    	POP	BC
                           A  4043    ;  369		return;
                           A  4044    ;  370	}
                           A  4045    .LINE 370
                           A  4046    
040A03 DDF9                A  4047    	LD	SP,IX
040A05 DDE1                A  4048    	POP	IX
040A07 C9                  A  4049    	RET	
                           A  4050    
                           A  4051    
                           A  4052    ;**************************** _vdp_spriteMoveBy
                           A  4053    ;Name                         Addr/Register   S
                           A  4054    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  4055    ;_vdp_spriteSelect                   IMPORT  --
                           A  4056    ;y                                    IX+12    
                           A  4057    ;x                                     IX+9    
                           A  4058    ;id                                    IX+6    
                           A  4059    
                           A  4060    
                           A  4061    ; Stack Frame Size: 15 (bytes)
                           A  4062    ;       Spill Code: 0 (instruction)
                           A  4063    
                           A  4064    
                           A  4065    .ENDFUNC "vdp_spriteMoveBy",370,"_vdp_spriteMov
                           A  4066    ;  371	
                           A  4067    ;  372	void vdp_spriteActivateTotal(UINT8 numb
                           A  4068    ;  373	{
040A08                     A  4069    _vdp_spriteActivateTotal:
                           A  4070    .DEFINE "_vdp_spriteActivateTotal"
                           A  4071    
                           A  4072    .VALUE _vdp_spriteActivateTotal
                           A  4073    
                           A  4074    .CLASS 2
                           A  4075    
                           A  4076    .TYPE 65
                           A  4077    
                           A  4078    .ENDEF
                           A  4079    
                           A  4080    .BEGFUNC "vdp_spriteActivateTotal",373,"_vdp_sp
                           A  4081    
                           A  4082    .LINE 373
                           A  4083    
                           A  4084    .DEFINE "number"
                           A  4085    
                           A  4086    .CLASS 65
                           A  4087    
                           A  4088    .VALUE 6
                           A  4089    
                           A  4090    .TYPE 12
                           A  4091    
                           A  4092    .ENDEF
                           A  4093    
040A08 DDE5                A  4094    	PUSH	IX
040A0A DD210000 00         A  4095    	LD	IX,0
040A0F DD39                A  4096    	ADD	IX,SP
                           A  4097    ;  374		putch(23); // vdu_sys
                           A  4098    .LINE 374
                           A  4099    
040A11 01170000            A  4100    	LD	BC,23
040A15 C5                  A  4101    	PUSH	BC
040A16 CD 62 0C 04         A  4102    	CALL	_putch
040A1A C1                  A  4103    	POP	BC
                           A  4104    ;  375		putch(27); // sprite command
                           A  4105    .LINE 375
                           A  4106    
040A1B 011B0000            A  4107    	LD	BC,27
040A1F C5                  A  4108    	PUSH	BC
040A20 CD 62 0C 04         A  4109    	CALL	_putch
040A24 C1                  A  4110    	POP	BC
                           A  4111    ;  376		putch(7);  // set number of sprites
                           A  4112    .LINE 376
                           A  4113    
040A25 01070000            A  4114    	LD	BC,7
040A29 C5                  A  4115    	PUSH	BC
040A2A CD 62 0C 04         A  4116    	CALL	_putch
040A2E C1                  A  4117    	POP	BC
                           A  4118    ;  377		putch(number);
                           A  4119    .LINE 377
                           A  4120    
040A2F DD7E06              A  4121    	LD	A,(IX+%6)
040A32 B7ED62              A  4122    	UEXT	HL
040A35 6F                  A  4123    	LD	L,A
040A36 E5                  A  4124    	PUSH	HL
040A37 CD 62 0C 04         A  4125    	CALL	_putch
040A3B C1                  A  4126    	POP	BC
                           A  4127    ;  378		return;	
                           A  4128    ;  379	}
                           A  4129    .LINE 379
                           A  4130    
040A3C DDF9                A  4131    	LD	SP,IX
040A3E DDE1                A  4132    	POP	IX
040A40 C9                  A  4133    	RET	
                           A  4134    
                           A  4135    
                           A  4136    ;**************************** _vdp_spriteActiva
                           A  4137    ;Name                         Addr/Register   S
                           A  4138    ;_putch                              IMPORT  --
                           A  4139    ;number                                IX+6    
                           A  4140    
                           A  4141    
                           A  4142    ; Stack Frame Size: 9 (bytes)
                           A  4143    ;       Spill Code: 0 (instruction)
                           A  4144    
                           A  4145    
                           A  4146    .ENDFUNC "vdp_spriteActivateTotal",379,"_vdp_sp
                           A  4147    ;  380	
                           A  4148    ;  381	void vdp_spriteRefresh(void)
                           A  4149    ;  382	{
040A41                     A  4150    _vdp_spriteRefresh:
                           A  4151    .DEFINE "_vdp_spriteRefresh"
                           A  4152    
                           A  4153    .VALUE _vdp_spriteRefresh
                           A  4154    
                           A  4155    .CLASS 2
                           A  4156    
                           A  4157    .TYPE 65
                           A  4158    
                           A  4159    .ENDEF
                           A  4160    
                           A  4161    .BEGFUNC "vdp_spriteRefresh",382,"_vdp_spriteRe
                           A  4162    
040A41 DDE5                A  4163    	PUSH	IX
040A43 DD210000 00         A  4164    	LD	IX,0
040A48 DD39                A  4165    	ADD	IX,SP
                           A  4166    ;  383		putch(23);	// vdu_sys
                           A  4167    .LINE 383
                           A  4168    
040A4A 01170000            A  4169    	LD	BC,23
040A4E C5                  A  4170    	PUSH	BC
040A4F CD 62 0C 04         A  4171    	CALL	_putch
040A53 C1                  A  4172    	POP	BC
                           A  4173    ;  384		putch(27);	// sprite command
                           A  4174    .LINE 384
                           A  4175    
040A54 011B0000            A  4176    	LD	BC,27
040A58 C5                  A  4177    	PUSH	BC
040A59 CD 62 0C 04         A  4178    	CALL	_putch
040A5D C1                  A  4179    	POP	BC
                           A  4180    ;  385		putch(15);	// refresh all sprites
                           A  4181    .LINE 385
                           A  4182    
040A5E 010F0000            A  4183    	LD	BC,15
040A62 C5                  A  4184    	PUSH	BC
040A63 CD 62 0C 04         A  4185    	CALL	_putch
040A67 C1                  A  4186    	POP	BC
                           A  4187    ;  386		return;
                           A  4188    ;  387	}
                           A  4189    .LINE 387
                           A  4190    
040A68 DDF9                A  4191    	LD	SP,IX
040A6A DDE1                A  4192    	POP	IX
040A6C C9                  A  4193    	RET	
                           A  4194    
                           A  4195    
                           A  4196    ;**************************** _vdp_spriteRefres
                           A  4197    ;Name                         Addr/Register   S
                           A  4198    ;_putch                              IMPORT  --
                           A  4199    
                           A  4200    
                           A  4201    ; Stack Frame Size: 6 (bytes)
                           A  4202    ;       Spill Code: 0 (instruction)
                           A  4203    
                           A  4204    
                           A  4205    .ENDFUNC "vdp_spriteRefresh",387,"_vdp_spriteRe
                           A  4206    ;  388	
                           A  4207    ;  389	UINT8 vdp_cursorGetXpos(void)
                           A  4208    ;  390	{
040A6D                     A  4209    _vdp_cursorGetXpos:
                           A  4210    .DEFINE "_vdp_cursorGetXpos"
                           A  4211    
                           A  4212    .VALUE _vdp_cursorGetXpos
                           A  4213    
                           A  4214    .CLASS 2
                           A  4215    
                           A  4216    .TYPE 76
                           A  4217    
                           A  4218    .ENDEF
                           A  4219    
                           A  4220    .BEGFUNC "vdp_cursorGetXpos",390,"_vdp_cursorGe
                           A  4221    
                           A  4222    .LINE 390
                           A  4223    
                           A  4224    .DEFINE "delay"
                           A  4225    
                           A  4226    .CLASS 65
                           A  4227    
                           A  4228    .VALUE -3
                           A  4229    
                           A  4230    .TYPE 14
                           A  4231    
                           A  4232    .ENDEF
                           A  4233    
                           A  4234    .DEFINE "sysvars"
                           A  4235    
                           A  4236    .CLASS 65
                           A  4237    
                           A  4238    .VALUE -6
                           A  4239    
                           A  4240    .TAG "NONAME0"
                           A  4241    
                           A  4242    .TYPE 40
                           A  4243    
                           A  4244    .ENDEF
                           A  4245    
040A6D DDE5                A  4246    	PUSH	IX
040A6F DD210000 00         A  4247    	LD	IX,0
040A74 DD39                A  4248    	ADD	IX,SP
040A76 C5                  A  4249    	PUSH	BC
040A77 C5                  A  4250    	PUSH	BC
                           A  4251    ;  391		unsigned int delay;
                           A  4252    ;  392		sysvar_t *sysvars = getsysvars();
                           A  4253    .LINE 392
                           A  4254    
040A78 CD AF 0C 04         A  4255    	CALL	_getsysvars
040A7C DD2FFA              A  4256    	LD	(IX+%FFFFFFFA),HL
                           A  4257    ;  393		
                           A  4258    ;  394		putch(23);	// VDP command
                           A  4259    .LINE 394
                           A  4260    
040A7F 01170000            A  4261    	LD	BC,23
040A83 C5                  A  4262    	PUSH	BC
040A84 CD 62 0C 04         A  4263    	CALL	_putch
040A88 C1                  A  4264    	POP	BC
                           A  4265    ;  395		putch(0);	// VDP command
                           A  4266    .LINE 395
                           A  4267    
040A89 01000000            A  4268    	LD	BC,0
040A8D C5                  A  4269    	PUSH	BC
040A8E CD 62 0C 04         A  4270    	CALL	_putch
040A92 C1                  A  4271    	POP	BC
                           A  4272    ;  396		putch(0x82);	// Request cursor p
                           A  4273    .LINE 396
                           A  4274    
040A93 01820000            A  4275    	LD	BC,130
040A97 C5                  A  4276    	PUSH	BC
040A98 CD 62 0C 04         A  4277    	CALL	_putch
040A9C C1                  A  4278    	POP	BC
                           A  4279    ;  397		
                           A  4280    ;  398		delay = 255;
                           A  4281    .LINE 398
                           A  4282    
040A9D 01FF0000            A  4283    	LD	BC,255
040AA1 DD0FFD              A  4284    	LD	(IX+%FFFFFFFD),BC
                           A  4285    ;  399		while(delay--);
040AA4                     A  4286    L_56:
                           A  4287    .LINE 399
                           A  4288    
040AA4 DD27FD              A  4289    	LD	HL,(IX+%FFFFFFFD)
040AA7 DD31FD              A  4290    	LD	IY,(IX+%FFFFFFFD)
040AAA ED33FF              A  4291    	LEA	IY,IY+%FFFFFFFF
040AAD DD3EFD              A  4292    	LD	(IX+%FFFFFFFD),IY
040AB0 CD 27 13 04         A  4293    	CALL	__icmpzero
040AB4 20 EE               A  4294    	JR	NZ,L_56
                           A  4295    ;  400		return(sysvars->cursorX);
                           A  4296    .LINE 400
                           A  4297    
040AB6 DD31FA              A  4298    	LD	IY,(IX+%FFFFFFFA)
040AB9 FD7E07              A  4299    	LD	A,(IY+%7)
                           A  4300    ;  401	}
                           A  4301    .LINE 401
                           A  4302    
040ABC DDF9                A  4303    	LD	SP,IX
040ABE DDE1                A  4304    	POP	IX
040AC0 C9                  A  4305    	RET	
                           A  4306    
                           A  4307    
                           A  4308    ;**************************** _vdp_cursorGetXpo
                           A  4309    ;Name                         Addr/Register   S
                           A  4310    ;_putch                              IMPORT  --
                           A  4311    ;_getsysvars                         IMPORT  --
                           A  4312    ;sysvars                               IX-6    
                           A  4313    ;delay                                 IX-3    
                           A  4314    
                           A  4315    
                           A  4316    ; Stack Frame Size: 12 (bytes)
                           A  4317    ;       Spill Code: 0 (instruction)
                           A  4318    
                           A  4319    
                           A  4320    .ENDFUNC "vdp_cursorGetXpos",401,"_vdp_cursorGe
                           A  4321    ;  402	
                           A  4322    ;  403	UINT8 vdp_cursorGetYpos(void)
                           A  4323    ;  404	{
040AC1                     A  4324    _vdp_cursorGetYpos:
                           A  4325    .DEFINE "_vdp_cursorGetYpos"
                           A  4326    
                           A  4327    .VALUE _vdp_cursorGetYpos
                           A  4328    
                           A  4329    .CLASS 2
                           A  4330    
                           A  4331    .TYPE 76
                           A  4332    
                           A  4333    .ENDEF
                           A  4334    
                           A  4335    .BEGFUNC "vdp_cursorGetYpos",404,"_vdp_cursorGe
                           A  4336    
                           A  4337    .LINE 404
                           A  4338    
                           A  4339    .DEFINE "delay"
                           A  4340    
                           A  4341    .CLASS 65
                           A  4342    
                           A  4343    .VALUE -3
                           A  4344    
                           A  4345    .TYPE 14
                           A  4346    
                           A  4347    .ENDEF
                           A  4348    
                           A  4349    .DEFINE "sysvars"
                           A  4350    
                           A  4351    .CLASS 65
                           A  4352    
                           A  4353    .VALUE -6
                           A  4354    
                           A  4355    .TAG "NONAME0"
                           A  4356    
                           A  4357    .TYPE 40
                           A  4358    
                           A  4359    .ENDEF
                           A  4360    
040AC1 DDE5                A  4361    	PUSH	IX
040AC3 DD210000 00         A  4362    	LD	IX,0
040AC8 DD39                A  4363    	ADD	IX,SP
040ACA C5                  A  4364    	PUSH	BC
040ACB C5                  A  4365    	PUSH	BC
                           A  4366    ;  405		unsigned int delay;
                           A  4367    ;  406		sysvar_t *sysvars = getsysvars();
                           A  4368    .LINE 406
                           A  4369    
040ACC CD AF 0C 04         A  4370    	CALL	_getsysvars
040AD0 DD2FFA              A  4371    	LD	(IX+%FFFFFFFA),HL
                           A  4372    ;  407		
                           A  4373    ;  408		putch(23);	// VDP command
                           A  4374    .LINE 408
                           A  4375    
040AD3 01170000            A  4376    	LD	BC,23
040AD7 C5                  A  4377    	PUSH	BC
040AD8 CD 62 0C 04         A  4378    	CALL	_putch
040ADC C1                  A  4379    	POP	BC
                           A  4380    ;  409		putch(0);	// VDP command
                           A  4381    .LINE 409
                           A  4382    
040ADD 01000000            A  4383    	LD	BC,0
040AE1 C5                  A  4384    	PUSH	BC
040AE2 CD 62 0C 04         A  4385    	CALL	_putch
040AE6 C1                  A  4386    	POP	BC
                           A  4387    ;  410		putch(0x82);	// Request cursor p
                           A  4388    .LINE 410
                           A  4389    
040AE7 01820000            A  4390    	LD	BC,130
040AEB C5                  A  4391    	PUSH	BC
040AEC CD 62 0C 04         A  4392    	CALL	_putch
040AF0 C1                  A  4393    	POP	BC
                           A  4394    ;  411		
                           A  4395    ;  412		delay = 255;
                           A  4396    .LINE 412
                           A  4397    
040AF1 01FF0000            A  4398    	LD	BC,255
040AF5 DD0FFD              A  4399    	LD	(IX+%FFFFFFFD),BC
                           A  4400    ;  413		while(delay--);
040AF8                     A  4401    L_61:
                           A  4402    .LINE 413
                           A  4403    
040AF8 DD27FD              A  4404    	LD	HL,(IX+%FFFFFFFD)
040AFB DD31FD              A  4405    	LD	IY,(IX+%FFFFFFFD)
040AFE ED33FF              A  4406    	LEA	IY,IY+%FFFFFFFF
040B01 DD3EFD              A  4407    	LD	(IX+%FFFFFFFD),IY
040B04 CD 27 13 04         A  4408    	CALL	__icmpzero
040B08 20 EE               A  4409    	JR	NZ,L_61
                           A  4410    ;  414		return(sysvars->cursorY);
                           A  4411    .LINE 414
                           A  4412    
040B0A DD31FA              A  4413    	LD	IY,(IX+%FFFFFFFA)
040B0D FD7E08              A  4414    	LD	A,(IY+%8)
                           A  4415    ;  415	}
                           A  4416    .LINE 415
                           A  4417    
040B10 DDF9                A  4418    	LD	SP,IX
040B12 DDE1                A  4419    	POP	IX
040B14 C9                  A  4420    	RET	
                           A  4421    
                           A  4422    
                           A  4423    ;**************************** _vdp_cursorGetYpo
                           A  4424    ;Name                         Addr/Register   S
                           A  4425    ;_putch                              IMPORT  --
                           A  4426    ;_getsysvars                         IMPORT  --
                           A  4427    ;sysvars                               IX-6    
                           A  4428    ;delay                                 IX-3    
                           A  4429    
                           A  4430    
                           A  4431    ; Stack Frame Size: 12 (bytes)
                           A  4432    ;       Spill Code: 0 (instruction)
                           A  4433    
                           A  4434    
                           A  4435    .ENDFUNC "vdp_cursorGetYpos",415,"_vdp_cursorGe
                           A  4436    ;  416	
                           A  4437    ;  417	char vdp_asciiCodeAt(unsigned char x, u
                           A  4438    ;  418	{
040B15                     A  4439    _vdp_asciiCodeAt:
                           A  4440    .DEFINE "_vdp_asciiCodeAt"
                           A  4441    
                           A  4442    .VALUE _vdp_asciiCodeAt
                           A  4443    
                           A  4444    .CLASS 2
                           A  4445    
                           A  4446    .TYPE 66
                           A  4447    
                           A  4448    .ENDEF
                           A  4449    
                           A  4450    .BEGFUNC "vdp_asciiCodeAt",418,"_vdp_asciiCodeA
                           A  4451    
                           A  4452    .LINE 418
                           A  4453    
                           A  4454    .DEFINE "x"
                           A  4455    
                           A  4456    .CLASS 65
                           A  4457    
                           A  4458    .VALUE 6
                           A  4459    
                           A  4460    .TYPE 12
                           A  4461    
                           A  4462    .ENDEF
                           A  4463    
                           A  4464    .DEFINE "y"
                           A  4465    
                           A  4466    .CLASS 65
                           A  4467    
                           A  4468    .VALUE 9
                           A  4469    
                           A  4470    .TYPE 12
                           A  4471    
                           A  4472    .ENDEF
                           A  4473    
                           A  4474    .DEFINE "delay"
                           A  4475    
                           A  4476    .CLASS 65
                           A  4477    
                           A  4478    .VALUE -3
                           A  4479    
                           A  4480    .TYPE 14
                           A  4481    
                           A  4482    .ENDEF
                           A  4483    
                           A  4484    .DEFINE "sysvars"
                           A  4485    
                           A  4486    .CLASS 65
                           A  4487    
                           A  4488    .VALUE -6
                           A  4489    
                           A  4490    .TAG "NONAME0"
                           A  4491    
                           A  4492    .TYPE 40
                           A  4493    
                           A  4494    .ENDEF
                           A  4495    
040B15 DDE5                A  4496    	PUSH	IX
040B17 DD210000 00         A  4497    	LD	IX,0
040B1C DD39                A  4498    	ADD	IX,SP
040B1E C5                  A  4499    	PUSH	BC
040B1F C5                  A  4500    	PUSH	BC
                           A  4501    ;  419		unsigned int delay;
                           A  4502    ;  420		sysvar_t *sysvars = getsysvars();
                           A  4503    .LINE 420
                           A  4504    
040B20 CD AF 0C 04         A  4505    	CALL	_getsysvars
040B24 DD2FFA              A  4506    	LD	(IX+%FFFFFFFA),HL
                           A  4507    ;  421	
                           A  4508    ;  422		putch(23);	// VDP command
                           A  4509    .LINE 422
                           A  4510    
040B27 01170000            A  4511    	LD	BC,23
040B2B C5                  A  4512    	PUSH	BC
040B2C CD 62 0C 04         A  4513    	CALL	_putch
040B30 C1                  A  4514    	POP	BC
                           A  4515    ;  423		putch(0);	// VDP command
                           A  4516    .LINE 423
                           A  4517    
040B31 01000000            A  4518    	LD	BC,0
040B35 C5                  A  4519    	PUSH	BC
040B36 CD 62 0C 04         A  4520    	CALL	_putch
040B3A C1                  A  4521    	POP	BC
                           A  4522    ;  424		putch(0x83);	// Request ascii co
                           A  4523    .LINE 424
                           A  4524    
040B3B 01830000            A  4525    	LD	BC,131
040B3F C5                  A  4526    	PUSH	BC
040B40 CD 62 0C 04         A  4527    	CALL	_putch
040B44 C1                  A  4528    	POP	BC
                           A  4529    ;  425		putch(x);
                           A  4530    .LINE 425
                           A  4531    
040B45 DD7E06              A  4532    	LD	A,(IX+%6)
040B48 B7ED62              A  4533    	UEXT	HL
040B4B 6F                  A  4534    	LD	L,A
040B4C E5                  A  4535    	PUSH	HL
040B4D CD 62 0C 04         A  4536    	CALL	_putch
040B51 C1                  A  4537    	POP	BC
                           A  4538    ;  426		putch(0);
                           A  4539    .LINE 426
                           A  4540    
040B52 01000000            A  4541    	LD	BC,0
040B56 C5                  A  4542    	PUSH	BC
040B57 CD 62 0C 04         A  4543    	CALL	_putch
040B5B C1                  A  4544    	POP	BC
                           A  4545    ;  427		putch(y);
                           A  4546    .LINE 427
                           A  4547    
040B5C DD7E09              A  4548    	LD	A,(IX+%9)
040B5F B7ED62              A  4549    	UEXT	HL
040B62 6F                  A  4550    	LD	L,A
040B63 E5                  A  4551    	PUSH	HL
040B64 CD 62 0C 04         A  4552    	CALL	_putch
040B68 C1                  A  4553    	POP	BC
                           A  4554    ;  428		putch(0);
                           A  4555    .LINE 428
                           A  4556    
040B69 01000000            A  4557    	LD	BC,0
040B6D C5                  A  4558    	PUSH	BC
040B6E CD 62 0C 04         A  4559    	CALL	_putch
040B72 C1                  A  4560    	POP	BC
                           A  4561    ;  429		
                           A  4562    ;  430		delay = 64000;
                           A  4563    .LINE 430
                           A  4564    
040B73 0100FA00            A  4565    	LD	BC,64000
040B77 DD0FFD              A  4566    	LD	(IX+%FFFFFFFD),BC
                           A  4567    ;  431		while(delay--);
040B7A                     A  4568    L_66:
                           A  4569    .LINE 431
                           A  4570    
040B7A DD27FD              A  4571    	LD	HL,(IX+%FFFFFFFD)
040B7D DD31FD              A  4572    	LD	IY,(IX+%FFFFFFFD)
040B80 ED33FF              A  4573    	LEA	IY,IY+%FFFFFFFF
040B83 DD3EFD              A  4574    	LD	(IX+%FFFFFFFD),IY
040B86 CD 27 13 04         A  4575    	CALL	__icmpzero
040B8A 20 EE               A  4576    	JR	NZ,L_66
                           A  4577    ;  432		return(sysvars->scrchar);
                           A  4578    .LINE 432
                           A  4579    
040B8C DD31FA              A  4580    	LD	IY,(IX+%FFFFFFFA)
040B8F FD7E09              A  4581    	LD	A,(IY+%9)
                           A  4582    ;  433	}
                           A  4583    .LINE 433
                           A  4584    
040B92 DDF9                A  4585    	LD	SP,IX
040B94 DDE1                A  4586    	POP	IX
040B96 C9                  A  4587    	RET	
                           A  4588    
                           A  4589    
                           A  4590    ;**************************** _vdp_asciiCodeAt 
                           A  4591    ;Name                         Addr/Register   S
                           A  4592    ;_putch                              IMPORT  --
                           A  4593    ;_getsysvars                         IMPORT  --
                           A  4594    ;sysvars                               IX-6    
                           A  4595    ;delay                                 IX-3    
                           A  4596    ;y                                     IX+9    
                           A  4597    ;x                                     IX+6    
                           A  4598    
                           A  4599    
                           A  4600    ; Stack Frame Size: 18 (bytes)
                           A  4601    ;       Spill Code: 0 (instruction)
                           A  4602    
                           A  4603    
                           A  4604    .ENDFUNC "vdp_asciiCodeAt",433,"_vdp_asciiCodeA
                           A  4605    ;  434	
                           A  4606    ;  435	void  vdp_setpagedMode(bool mode) {
040B97                     A  4607    _vdp_setpagedMode:
                           A  4608    .DEFINE "_vdp_setpagedMode"
                           A  4609    
                           A  4610    .VALUE _vdp_setpagedMode
                           A  4611    
                           A  4612    .CLASS 2
                           A  4613    
                           A  4614    .TYPE 65
                           A  4615    
                           A  4616    .ENDEF
                           A  4617    
                           A  4618    .BEGFUNC "vdp_setpagedMode",435,"_vdp_setpagedM
                           A  4619    
                           A  4620    .LINE 435
                           A  4621    
                           A  4622    .DEFINE "mode"
                           A  4623    
                           A  4624    .CLASS 65
                           A  4625    
                           A  4626    .VALUE 6
                           A  4627    
                           A  4628    .TYPE 12
                           A  4629    
                           A  4630    .ENDEF
                           A  4631    
040B97 DDE5                A  4632    	PUSH	IX
040B99 DD210000 00         A  4633    	LD	IX,0
040B9E DD39                A  4634    	ADD	IX,SP
                           A  4635    ;  436		if(mode) putch(0x0E);
                           A  4636    .LINE 436
                           A  4637    
040BA0 DD7E06              A  4638    	LD	A,(IX+%6)
040BA3 B7                  A  4639    	OR	A,A
040BA4 28 0C               A  4640    	JR	Z,L_70
040BA6 010E0000            A  4641    	LD	BC,14
040BAA C5                  A  4642    	PUSH	BC
040BAB CD 62 0C 04         A  4643    	CALL	_putch
040BAF C1                  A  4644    	POP	BC
                           A  4645    ;  437		else putch(0x0F);
                           A  4646    .LINE 437
                           A  4647    
040BB0 18 0A               A  4648    	JR	L_71
040BB2                     A  4649    L_70:
040BB2 010F0000            A  4650    	LD	BC,15
040BB6 C5                  A  4651    	PUSH	BC
040BB7 CD 62 0C 04         A  4652    	CALL	_putch
040BBB C1                  A  4653    	POP	BC
                           A  4654    ;  438	}
040BBC                     A  4655    L_71:
                           A  4656    .LINE 438
                           A  4657    
040BBC DDF9                A  4658    	LD	SP,IX
040BBE DDE1                A  4659    	POP	IX
040BC0 C9                  A  4660    	RET	
                           A  4661    
                           A  4662    
                           A  4663    ;**************************** _vdp_setpagedMode
                           A  4664    ;Name                         Addr/Register   S
                           A  4665    ;_putch                              IMPORT  --
                           A  4666    ;mode                                  IX+6    
                           A  4667    
                           A  4668    
                           A  4669    ; Stack Frame Size: 9 (bytes)
                           A  4670    ;       Spill Code: 0 (instruction)
                           A  4671    
                           A  4672    
                           A  4673    .ENDFUNC "vdp_setpagedMode",438,"_vdp_setpagedM
                           A  4674    ;  439	
                           A  4675    ;  440	void vdp_cursorDisable(void)
                           A  4676    ;  441	{
040BC1                     A  4677    _vdp_cursorDisable:
                           A  4678    .DEFINE "_vdp_cursorDisable"
                           A  4679    
                           A  4680    .VALUE _vdp_cursorDisable
                           A  4681    
                           A  4682    .CLASS 2
                           A  4683    
                           A  4684    .TYPE 65
                           A  4685    
                           A  4686    .ENDEF
                           A  4687    
                           A  4688    .BEGFUNC "vdp_cursorDisable",441,"_vdp_cursorDi
                           A  4689    
040BC1 DDE5                A  4690    	PUSH	IX
040BC3 DD210000 00         A  4691    	LD	IX,0
040BC8 DD39                A  4692    	ADD	IX,SP
                           A  4693    ;  442		putch(23);
                           A  4694    .LINE 442
                           A  4695    
040BCA 01170000            A  4696    	LD	BC,23
040BCE C5                  A  4697    	PUSH	BC
040BCF CD 62 0C 04         A  4698    	CALL	_putch
040BD3 C1                  A  4699    	POP	BC
                           A  4700    ;  443		putch(1);
                           A  4701    .LINE 443
                           A  4702    
040BD4 01010000            A  4703    	LD	BC,1
040BD8 C5                  A  4704    	PUSH	BC
040BD9 CD 62 0C 04         A  4705    	CALL	_putch
040BDD C1                  A  4706    	POP	BC
                           A  4707    ;  444		putch(0);
                           A  4708    .LINE 444
                           A  4709    
040BDE 01000000            A  4710    	LD	BC,0
040BE2 C5                  A  4711    	PUSH	BC
040BE3 CD 62 0C 04         A  4712    	CALL	_putch
040BE7 C1                  A  4713    	POP	BC
                           A  4714    ;  445	}
                           A  4715    .LINE 445
                           A  4716    
040BE8 DDF9                A  4717    	LD	SP,IX
040BEA DDE1                A  4718    	POP	IX
040BEC C9                  A  4719    	RET	
                           A  4720    
                           A  4721    
                           A  4722    ;**************************** _vdp_cursorDisabl
                           A  4723    ;Name                         Addr/Register   S
                           A  4724    ;_putch                              IMPORT  --
                           A  4725    
                           A  4726    
                           A  4727    ; Stack Frame Size: 6 (bytes)
                           A  4728    ;       Spill Code: 0 (instruction)
                           A  4729    
                           A  4730    
                           A  4731    .ENDFUNC "vdp_cursorDisable",445,"_vdp_cursorDi
                           A  4732    ;  446	
                           A  4733    ;  447	void vdp_cursorEnable(void)
                           A  4734    ;  448	{
040BED                     A  4735    _vdp_cursorEnable:
                           A  4736    .DEFINE "_vdp_cursorEnable"
                           A  4737    
                           A  4738    .VALUE _vdp_cursorEnable
                           A  4739    
                           A  4740    .CLASS 2
                           A  4741    
                           A  4742    .TYPE 65
                           A  4743    
                           A  4744    .ENDEF
                           A  4745    
                           A  4746    .BEGFUNC "vdp_cursorEnable",448,"_vdp_cursorEna
                           A  4747    
040BED DDE5                A  4748    	PUSH	IX
040BEF DD210000 00         A  4749    	LD	IX,0
040BF4 DD39                A  4750    	ADD	IX,SP
                           A  4751    ;  449		putch(23);
                           A  4752    .LINE 449
                           A  4753    
040BF6 01170000            A  4754    	LD	BC,23
040BFA C5                  A  4755    	PUSH	BC
040BFB CD 62 0C 04         A  4756    	CALL	_putch
040BFF C1                  A  4757    	POP	BC
                           A  4758    ;  450		putch(1);
                           A  4759    .LINE 450
                           A  4760    
040C00 01010000            A  4761    	LD	BC,1
040C04 C5                  A  4762    	PUSH	BC
040C05 CD 62 0C 04         A  4763    	CALL	_putch
040C09 C1                  A  4764    	POP	BC
                           A  4765    ;  451		putch(1);
                           A  4766    .LINE 451
                           A  4767    
040C0A 01010000            A  4768    	LD	BC,1
040C0E C5                  A  4769    	PUSH	BC
040C0F CD 62 0C 04         A  4770    	CALL	_putch
040C13 C1                  A  4771    	POP	BC
                           A  4772    ;  452	}
                           A  4773    .LINE 452
                           A  4774    
040C14 DDF9                A  4775    	LD	SP,IX
040C16 DDE1                A  4776    	POP	IX
040C18 C9                  A  4777    	RET	
                           A  4778    
                           A  4779    
                           A  4780    ;**************************** _vdp_cursorEnable
                           A  4781    ;Name                         Addr/Register   S
                           A  4782    ;_putch                              IMPORT  --
                           A  4783    
                           A  4784    
                           A  4785    ; Stack Frame Size: 6 (bytes)
                           A  4786    ;       Spill Code: 0 (instruction)
                           A  4787    
                           A  4788    
                           A  4789    .ENDFUNC "vdp_cursorEnable",452,"_vdp_cursorEna
                           A  4790    ;  453	
                           A  4791    ;  454	void vdp_scroll(unsigned char extent, u
                           A  4792    ;  455	{
040C19                     A  4793    _vdp_scroll:
                           A  4794    .DEFINE "_vdp_scroll"
                           A  4795    
                           A  4796    .VALUE _vdp_scroll
                           A  4797    
                           A  4798    .CLASS 2
                           A  4799    
                           A  4800    .TYPE 65
                           A  4801    
                           A  4802    .ENDEF
                           A  4803    
                           A  4804    .BEGFUNC "vdp_scroll",455,"_vdp_scroll"
                           A  4805    
                           A  4806    .LINE 455
                           A  4807    
                           A  4808    .DEFINE "extent"
                           A  4809    
                           A  4810    .CLASS 65
                           A  4811    
                           A  4812    .VALUE 6
                           A  4813    
                           A  4814    .TYPE 12
                           A  4815    
                           A  4816    .ENDEF
                           A  4817    
                           A  4818    .DEFINE "direction"
                           A  4819    
                           A  4820    .CLASS 65
                           A  4821    
                           A  4822    .VALUE 9
                           A  4823    
                           A  4824    .TYPE 12
                           A  4825    
                           A  4826    .ENDEF
                           A  4827    
                           A  4828    .DEFINE "speed"
                           A  4829    
                           A  4830    .CLASS 65
                           A  4831    
                           A  4832    .VALUE 12
                           A  4833    
                           A  4834    .TYPE 12
                           A  4835    
                           A  4836    .ENDEF
                           A  4837    
040C19 DDE5                A  4838    	PUSH	IX
040C1B DD210000 00         A  4839    	LD	IX,0
040C20 DD39                A  4840    	ADD	IX,SP
                           A  4841    ;  456		putch(23);
                           A  4842    .LINE 456
                           A  4843    
040C22 01170000            A  4844    	LD	BC,23
040C26 C5                  A  4845    	PUSH	BC
040C27 CD 62 0C 04         A  4846    	CALL	_putch
040C2B C1                  A  4847    	POP	BC
                           A  4848    ;  457		putch(7);	// scroll
                           A  4849    .LINE 457
                           A  4850    
040C2C 01070000            A  4851    	LD	BC,7
040C30 C5                  A  4852    	PUSH	BC
040C31 CD 62 0C 04         A  4853    	CALL	_putch
040C35 C1                  A  4854    	POP	BC
                           A  4855    ;  458		putch(extent);
                           A  4856    .LINE 458
                           A  4857    
040C36 DD7E06              A  4858    	LD	A,(IX+%6)
040C39 B7ED62              A  4859    	UEXT	HL
040C3C 6F                  A  4860    	LD	L,A
040C3D E5                  A  4861    	PUSH	HL
040C3E CD 62 0C 04         A  4862    	CALL	_putch
040C42 C1                  A  4863    	POP	BC
                           A  4864    ;  459		putch(direction);
                           A  4865    .LINE 459
                           A  4866    
040C43 DD7E09              A  4867    	LD	A,(IX+%9)
040C46 B7ED62              A  4868    	UEXT	HL
040C49 6F                  A  4869    	LD	L,A
040C4A E5                  A  4870    	PUSH	HL
040C4B CD 62 0C 04         A  4871    	CALL	_putch
040C4F C1                  A  4872    	POP	BC
                           A  4873    ;  460		putch(speed);
                           A  4874    .LINE 460
                           A  4875    
040C50 DD7E0C              A  4876    	LD	A,(IX+%C)
040C53 B7ED62              A  4877    	UEXT	HL
040C56 6F                  A  4878    	LD	L,A
040C57 E5                  A  4879    	PUSH	HL
040C58 CD 62 0C 04         A  4880    	CALL	_putch
040C5C C1                  A  4881    	POP	BC
                           A  4882    .LINE 461
                           A  4883    
040C5D DDF9                A  4884    	LD	SP,IX
040C5F DDE1                A  4885    	POP	IX
040C61 C9                  A  4886    	RET	
                           A  4887    
                           A  4888    
                           A  4889    ;**************************** _vdp_scroll *****
                           A  4890    ;Name                         Addr/Register   S
                           A  4891    ;_putch                              IMPORT  --
                           A  4892    ;speed                                IX+12    
                           A  4893    ;direction                             IX+9    
                           A  4894    ;extent                                IX+6    
                           A  4895    
                           A  4896    
                           A  4897    ; Stack Frame Size: 15 (bytes)
                           A  4898    ;       Spill Code: 0 (instruction)
                           A  4899    
                           A  4900    
                           A  4901    .ENDFUNC "vdp_scroll",461,"_vdp_scroll"
                           A  4902    	XREF _getsysvars:ROM
                           A  4903    	XREF _putch:ROM
                           A  4904    	XREF __imuls:ROM
                           A  4905    	XREF __ior:ROM
                           A  4906    	XREF __lshru:ROM
                           A  4907    	XREF __stoiu:ROM
                           A  4908    	XREF __setflag:ROM
                           A  4909    	XREF __icmpzero:ROM
                           A  4910    	XREF __ishru_b:ROM
                           A  4911    	XREF __ishrs_b:ROM
                           A  4912    	XDEF _vdp_scroll
                           A  4913    	XDEF _vdp_cursorEnable
                           A  4914    	XDEF _vdp_cursorDisable
                           A  4915    	XDEF _vdp_setpagedMode
                           A  4916    	XDEF _vdp_asciiCodeAt
                           A  4917    	XDEF _vdp_cursorGetYpos
                           A  4918    	XDEF _vdp_cursorGetXpos
                           A  4919    	XDEF _vdp_spriteRefresh
                           A  4920    	XDEF _vdp_spriteActivateTotal
                           A  4921    	XDEF _vdp_spriteMoveBy
                           A  4922    	XDEF _vdp_spriteMoveBySelected
                           A  4923    	XDEF _vdp_spriteMoveTo
                           A  4924    	XDEF _vdp_spriteMoveToSelected
                           A  4925    	XDEF _vdp_spriteHide
                           A  4926    	XDEF _vdp_spriteHideSelected
                           A  4927    	XDEF _vdp_spriteShow
                           A  4928    	XDEF _vdp_spriteShowSelected
                           A  4929    	XDEF _vdp_spriteSetFrame
                           A  4930    	XDEF _vdp_spriteSetFrameSelected
                           A  4931    	XDEF _vdp_spritePreviousFrame
                           A  4932    	XDEF _vdp_spritePreviousFrameSelected
                           A  4933    	XDEF _vdp_spriteNextFrame
                           A  4934    	XDEF _vdp_spriteNextFrameSelected
                           A  4935    	XDEF _vdp_spriteAddFrame
                           A  4936    	XDEF _vdp_spriteAddFrameSelected
                           A  4937    	XDEF _vdp_spriteClearFrames
                           A  4938    	XDEF _vdp_spriteClearFramesSelected
                           A  4939    	XDEF _vdp_spriteSelect
                           A  4940    	XDEF _vdp_bitmapCreateSolidColor
                           A  4941    	XDEF _vdp_bitmapCreateSolidColorSelected
                           A  4942    	XDEF _vdp_bitmapDraw
                           A  4943    	XDEF _vdp_bitmapDrawSelected
                           A  4944    	XDEF _vdp_bitmapSendData
                           A  4945    	XDEF _vdp_bitmapSendDataSelected
                           A  4946    	XDEF _vdp_bitmapSelect
                           A  4947    	XDEF _vdp_plotSetOrigin
                           A  4948    	XDEF _vdp_plotCircleCircumference
                           A  4949    	XDEF _vdp_plotCircleRadius
                           A  4950    	XDEF _vdp_plotTriangle
                           A  4951    	XDEF _vdp_plotPoint
                           A  4952    	XDEF _vdp_plotLineTo
                           A  4953    	XDEF _vdp_plotMoveTo
                           A  4954    	XDEF _vdp_plot
                           A  4955    	XDEF _vdp_plotColour
                           A  4956    	XDEF _vdp_clearGraphics
                           A  4957    	XDEF _vdp_bgcolour
                           A  4958    	XDEF _vdp_fgcolour
                           A  4959    	XDEF _vdp_cursorGoto
                           A  4960    	XDEF _vdp_cursorUp
                           A  4961    	XDEF _vdp_cursorHome
                           A  4962    	XDEF _vdp_cls
                           A  4963    	XDEF _vdp_setPaletteColor
                           A  4964    	XDEF _vdp_getMode
                           A  4965    	XDEF _vdp_mode
                           A  4966    	XDEF _write32bit
                           A  4967    	XDEF _write16bit
                           A  4968    	END


Errors: 0
Warnings: 0
Lines Assembled: 4969
